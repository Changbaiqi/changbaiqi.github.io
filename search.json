[{"title":"C++å¤ä¹ ç‰¹æ€§å…³é”®ç‚¹å¿«é€Ÿæ€»ç»“","url":"/2023/02/24/learnnote/c-xue-xi/c-cao-fu-xi-te-xing-guan-jian-dian-kuai-su-zong-jie/","content":"C++å¤ä¹ ç‰¹æ€§å…³é”®ç‚¹å¿«é€Ÿæ€»ç»“\nC++ç±»çš„å®šä¹‰\n\n\n\nè®¿é—®æ•°æ®æˆå‘˜\nç±»çš„å¯¹è±¡çš„å…¬å…±æ•°æ®æˆå‘˜å¯ä»¥ä½¿ç”¨ç›´æ¥æˆå‘˜è®¿é—®è¿ç®—ç¬¦==.==æ¥è®¿é—®ã€‚\nä¸ºäº†æ›´å¥½åœ°ç†è§£è¿™äº›æ¦‚å¿µï¼Œå¯ä»¥å°è¯•ä¸‹é¢çš„å®ä¾‹ï¼š\n#include &lt;iostream&gt; using namespace std; class Box{   public:      double length;   // é•¿åº¦      double breadth;  // å®½åº¦      double height;   // é«˜åº¦      // æˆå‘˜å‡½æ•°å£°æ˜      double get(void);      void set( double len, double bre, double hei );};// æˆå‘˜å‡½æ•°å®šä¹‰double Box::get(void){    return length * breadth * height;} void Box::set( double len, double bre, double hei){    length = len;    breadth = bre;    height = hei;}int main( ){   Box Box1;        // å£°æ˜ Box1ï¼Œç±»å‹ä¸º Box   Box Box2;        // å£°æ˜ Box2ï¼Œç±»å‹ä¸º Box   Box Box3;        // å£°æ˜ Box3ï¼Œç±»å‹ä¸º Box   double volume = 0.0;     // ç”¨äºå­˜å‚¨ä½“ç§¯    // box 1 è¯¦è¿°   Box1.height = 5.0;    Box1.length = 6.0;    Box1.breadth = 7.0;    // box 2 è¯¦è¿°   Box2.height = 10.0;   Box2.length = 12.0;   Box2.breadth = 13.0;    // box 1 çš„ä½“ç§¯   volume = Box1.height * Box1.length * Box1.breadth;   cout &lt;&lt; \"Box1 çš„ä½“ç§¯ï¼š\" &lt;&lt; volume &lt;&lt;endl;    // box 2 çš„ä½“ç§¯   volume = Box2.height * Box2.length * Box2.breadth;   cout &lt;&lt; \"Box2 çš„ä½“ç§¯ï¼š\" &lt;&lt; volume &lt;&lt;endl;     // box 3 è¯¦è¿°   Box3.set(16.0, 8.0, 12.0);    volume = Box3.get();    cout &lt;&lt; \"Box3 çš„ä½“ç§¯ï¼š\" &lt;&lt; volume &lt;&lt;endl;   return 0;}\n\nå½“ä¸Šé¢çš„ä»£ç è¢«ç¼–è¯‘å’Œæ‰§è¡Œæ—¶ï¼Œå®ƒä¼šäº§ç”Ÿä¸‹åˆ—ç»“æœï¼š\nBox1 çš„ä½“ç§¯ï¼š210Box2 çš„ä½“ç§¯ï¼š1560Box3 çš„ä½“ç§¯ï¼š1536\n\nC++ç»§æ‰¿\né¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­æœ€é‡è¦çš„ä¸€ä¸ªæ¦‚å¿µæ˜¯ç»§æ‰¿ã€‚ç»§æ‰¿å…è®¸æˆ‘ä»¬ä¾æ®å¦ä¸€ä¸ªç±»æ¥å®šä¹‰ä¸€ä¸ªç±»ï¼Œè¿™ä½¿å¾—åˆ›å»ºå’Œç»´æŠ¤ä¸€ä¸ªåº”ç”¨ç¨‹åºå˜å¾—æ›´å®¹æ˜“ã€‚è¿™æ ·åšï¼Œä¹Ÿè¾¾åˆ°äº†é‡ç”¨ä»£ç åŠŸèƒ½å’Œæé«˜æ‰§è¡Œæ•ˆç‡çš„æ•ˆæœã€‚\nå½“åˆ›å»ºä¸€ä¸ªç±»æ—¶ï¼Œæ‚¨ä¸éœ€è¦é‡æ–°ç¼–å†™æ–°çš„æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°ï¼Œåªéœ€æŒ‡å®šæ–°å»ºçš„ç±»ç»§æ‰¿äº†ä¸€ä¸ªå·²æœ‰çš„ç±»çš„æˆå‘˜å³å¯ã€‚è¿™ä¸ªå·²æœ‰çš„ç±»ç§°ä¸º==åŸºç±»==ï¼Œæ–°å»ºçš„ç±»ç§°ä¸º==æ´¾ç”Ÿç±»==ã€‚\nç»§æ‰¿ä»£è¡¨äº† is a å…³ç³»ã€‚ä¾‹å¦‚ï¼Œå“ºä¹³åŠ¨ç‰©æ˜¯åŠ¨ç‰©ï¼Œç‹—æ˜¯å“ºä¹³åŠ¨ç‰©ï¼Œå› æ­¤ï¼Œç‹—æ˜¯åŠ¨ç‰©ï¼Œç­‰ç­‰ã€‚\n\nä»£ç å¦‚ä¸‹ï¼š\n// åŸºç±»class Animal {    // eat() å‡½æ•°    // sleep() å‡½æ•°};//æ´¾ç”Ÿç±»class Dog : public Animal {    // bark() å‡½æ•°};\n\nåŸºç±»&amp;æ´¾ç”Ÿç±»\nä¸€ä¸ªç±»å¯ä»¥æ´¾ç”Ÿè‡ªå¤šä¸ªç±»ï¼Œè¿™æ„å‘³ç€ï¼Œå®ƒå¯ä»¥ä»å¤šä¸ªåŸºç±»ç»§æ‰¿æ•°æ®å’Œå‡½æ•°ã€‚å®šä¹‰ä¸€ä¸ªæ´¾ç”Ÿç±»ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç±»æ´¾ç”Ÿåˆ—è¡¨æ¥æŒ‡å®šåŸºç±»ã€‚ç±»æ´¾ç”Ÿåˆ—è¡¨ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªåŸºç±»å‘½åï¼Œå½¢å¼å¦‚ä¸‹ï¼š\n&gt;class derived-class: access-specifier base-class\n\nå…¶ä¸­ï¼Œè®¿é—®ä¿®é¥°ç¬¦ access-specifier æ˜¯ publicã€protected æˆ– private å…¶ä¸­çš„ä¸€ä¸ªï¼Œbase-class æ˜¯ä¹‹å‰å®šä¹‰è¿‡çš„æŸä¸ªç±»çš„åç§°ã€‚å¦‚æœæœªä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦ access-specifierï¼Œåˆ™é»˜è®¤ä¸º privateã€‚\nå‡è®¾æœ‰ä¸€ä¸ªåŸºç±» Shapeï¼ŒRectangle æ˜¯å®ƒçš„æ´¾ç”Ÿç±»ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n&gt;#include &lt;iostream&gt;&gt;using namespace std;&gt;// åŸºç±»&gt;class Shape &gt;{  public:     void setWidth(int w)     {        width = w;     }     void setHeight(int h)     {        height = h;     }  protected:     int width;     int height;&gt;};&gt;// æ´¾ç”Ÿç±»&gt;class Rectangle: public Shape&gt;{  public:     int getArea()     {         return (width * height);      }&gt;};&gt;int main(void)&gt;{  Rectangle Rect;  Rect.setWidth(5);  Rect.setHeight(7);  // è¾“å‡ºå¯¹è±¡çš„é¢ç§¯  cout &lt;&lt; \"Total area: \" &lt;&lt; Rect.getArea() &lt;&lt; endl;  return 0;&gt;}\n\nå½“ä¸Šé¢çš„ä»£ç è¢«ç¼–è¯‘å’Œæ‰§è¡Œæ—¶ï¼Œå®ƒä¼šäº§ç”Ÿä¸‹åˆ—ç»“æœï¼š\n&gt;Total area: 35\n\nè®¿é—®æ§åˆ¶å’Œç»§æ‰¿\næ´¾ç”Ÿç±»å¯ä»¥è®¿é—®åŸºç±»ä¸­æ‰€æœ‰çš„éç§æœ‰æˆå‘˜ã€‚å› æ­¤åŸºç±»æˆå‘˜å¦‚æœä¸æƒ³è¢«æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°è®¿é—®ï¼Œåˆ™åº”åœ¨åŸºç±»ä¸­å£°æ˜ä¸º privateã€‚\næˆ‘ä»¬å¯ä»¥æ ¹æ®è®¿é—®æƒé™æ€»ç»“å‡ºä¸åŒçš„è®¿é—®ç±»å‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n\n\n\nè®¿é—®\npublic\nprotected\nprivate\n\n\n\nåŒä¸€ä¸ªç±»\nyes\nyes\nyes\n\n\næ´¾ç”Ÿç±»\nyes\nyes\nno\n\n\nå¤–éƒ¨çš„ç±»\nyes\nno\nno\n\n\n\n\nç»§æ‰¿ç±»å‹\nå½“ä¸€ä¸ªç±»æ´¾ç”Ÿè‡ªåŸºç±»ï¼Œè¯¥åŸºç±»å¯ä»¥è¢«ç»§æ‰¿ä¸º publicã€protected æˆ– private å‡ ç§ç±»å‹ã€‚ç»§æ‰¿ç±»å‹æ˜¯é€šè¿‡ä¸Šé¢è®²è§£çš„è®¿é—®ä¿®é¥°ç¬¦ access-specifier æ¥æŒ‡å®šçš„ã€‚\næˆ‘ä»¬å‡ ä¹ä¸ä½¿ç”¨ protected æˆ– private ç»§æ‰¿ï¼Œé€šå¸¸ä½¿ç”¨ public ç»§æ‰¿ã€‚å½“ä½¿ç”¨ä¸åŒç±»å‹çš„ç»§æ‰¿æ—¶ï¼Œéµå¾ªä»¥ä¸‹å‡ ä¸ªè§„åˆ™ï¼š\n\nå…¬æœ‰ç»§æ‰¿ï¼ˆpublicï¼‰ï¼šå½“ä¸€ä¸ªç±»æ´¾ç”Ÿè‡ªå…¬æœ‰åŸºç±»æ—¶ï¼ŒåŸºç±»çš„å…¬æœ‰æˆå‘˜ä¹Ÿæ˜¯æ´¾ç”Ÿç±»çš„å…¬æœ‰æˆå‘˜ï¼ŒåŸºç±»çš„ä¿æŠ¤æˆå‘˜ä¹Ÿæ˜¯æ´¾ç”Ÿç±»çš„ä¿æŠ¤æˆå‘˜ï¼ŒåŸºç±»çš„ç§æœ‰æˆå‘˜ä¸èƒ½ç›´æ¥è¢«æ´¾ç”Ÿç±»è®¿é—®ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è°ƒç”¨åŸºç±»çš„å…¬æœ‰å’Œä¿æŠ¤æˆå‘˜æ¥è®¿é—®ã€‚\nä¿æŠ¤ç»§æ‰¿ï¼ˆprotectedï¼‰ï¼š å½“ä¸€ä¸ªç±»æ´¾ç”Ÿè‡ªä¿æŠ¤åŸºç±»æ—¶ï¼ŒåŸºç±»çš„å…¬æœ‰å’Œä¿æŠ¤æˆå‘˜å°†æˆä¸ºæ´¾ç”Ÿç±»çš„ä¿æŠ¤æˆå‘˜ã€‚\nç§æœ‰ç»§æ‰¿ï¼ˆprivateï¼‰ï¼šå½“ä¸€ä¸ªç±»æ´¾ç”Ÿè‡ªç§æœ‰åŸºç±»æ—¶ï¼ŒåŸºç±»çš„å…¬æœ‰å’Œä¿æŠ¤æˆå‘˜å°†æˆä¸ºæ´¾ç”Ÿç±»çš„ç§æœ‰æˆå‘˜ã€‚\n\n\nå¤šç»§æ‰¿\nå¤šç»§æ‰¿å³ä¸€ä¸ªå­ç±»å¯ä»¥æœ‰å¤šä¸ªçˆ¶ç±»ï¼Œå®ƒç»§æ‰¿äº†å¤šä¸ªçˆ¶ç±»çš„ç‰¹æ€§ã€‚\nC++ ç±»å¯ä»¥ä»å¤šä¸ªç±»ç»§æ‰¿æˆå‘˜ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š\n&gt;class &lt;æ´¾ç”Ÿç±»å&gt;:&lt;ç»§æ‰¿æ–¹å¼1&gt;&lt;åŸºç±»å1&gt;,&lt;ç»§æ‰¿æ–¹å¼2&gt;&lt;åŸºç±»å2&gt;,â€¦&gt;{&gt;&lt;æ´¾ç”Ÿç±»ç±»ä½“&gt;&gt;};\n\nå…¶ä¸­ï¼Œè®¿é—®ä¿®é¥°ç¬¦ç»§æ‰¿æ–¹å¼æ˜¯ publicã€protected æˆ– private å…¶ä¸­çš„ä¸€ä¸ªï¼Œç”¨æ¥ä¿®é¥°æ¯ä¸ªåŸºç±»ï¼Œå„ä¸ªåŸºç±»ä¹‹é—´ç”¨é€—å·åˆ†éš”ï¼Œå¦‚ä¸Šæ‰€ç¤ºã€‚ç°åœ¨è®©æˆ‘ä»¬ä¸€èµ·çœ‹çœ‹ä¸‹é¢çš„å®ä¾‹ï¼š\n&gt;#include &lt;iostream&gt;&gt;using namespace std;&gt;// åŸºç±» Shape&gt;class Shape &gt;{  public:     void setWidth(int w)     {        width = w;     }     void setHeight(int h)     {        height = h;     }  protected:     int width;     int height;&gt;};&gt;// åŸºç±» PaintCost&gt;class PaintCost &gt;{  public:     int getCost(int area)     {        return area * 70;     }&gt;};&gt;// æ´¾ç”Ÿç±»&gt;class Rectangle: public Shape, public PaintCost&gt;{  public:     int getArea()     {         return (width * height);      }&gt;};&gt;int main(void)&gt;{  Rectangle Rect;  int area;  Rect.setWidth(5);  Rect.setHeight(7);  area = Rect.getArea();    // è¾“å‡ºå¯¹è±¡çš„é¢ç§¯  cout &lt;&lt; \"Total area: \" &lt;&lt; Rect.getArea() &lt;&lt; endl;  // è¾“å‡ºæ€»èŠ±è´¹  cout &lt;&lt; \"Total paint cost: $\" &lt;&lt; Rect.getCost(area) &lt;&lt; endl;  return 0;&gt;}\n\nå½“ä¸Šé¢çš„ä»£ç è¢«ç¼–è¯‘å’Œæ‰§è¡Œæ—¶ï¼Œå®ƒä¼šäº§ç”Ÿä¸‹åˆ—ç»“æœï¼š\n&gt;Total area: 35&gt;Total paint cost: $2450\n\nC++é‡è½½è¿ç®—ç¬¦å’Œé‡è½½å‡½æ•°\nC++ å…è®¸åœ¨åŒä¸€ä½œç”¨åŸŸä¸­çš„æŸä¸ªå‡½æ•°å’Œè¿ç®—ç¬¦æŒ‡å®šå¤šä¸ªå®šä¹‰ï¼Œåˆ†åˆ«ç§°ä¸ºå‡½æ•°é‡è½½å’Œè¿ç®—ç¬¦é‡è½½ã€‚\né‡è½½å£°æ˜æ˜¯æŒ‡ä¸€ä¸ªä¸ä¹‹å‰å·²ç»åœ¨è¯¥ä½œç”¨åŸŸå†…å£°æ˜è¿‡çš„å‡½æ•°æˆ–æ–¹æ³•å…·æœ‰ç›¸åŒåç§°çš„å£°æ˜ï¼Œä½†æ˜¯å®ƒä»¬çš„å‚æ•°åˆ—è¡¨å’Œå®šä¹‰ï¼ˆå®ç°ï¼‰ä¸ç›¸åŒã€‚\nå½“æ‚¨è°ƒç”¨ä¸€ä¸ªé‡è½½å‡½æ•°æˆ–é‡è½½è¿ç®—ç¬¦æ—¶ï¼Œç¼–è¯‘å™¨é€šè¿‡æŠŠæ‚¨æ‰€ä½¿ç”¨çš„å‚æ•°ç±»å‹ä¸å®šä¹‰ä¸­çš„å‚æ•°ç±»å‹è¿›è¡Œæ¯”è¾ƒï¼Œå†³å®šé€‰ç”¨æœ€åˆé€‚çš„å®šä¹‰ã€‚é€‰æ‹©æœ€åˆé€‚çš„é‡è½½å‡½æ•°æˆ–é‡è½½è¿ç®—ç¬¦çš„è¿‡ç¨‹ï¼Œç§°ä¸ºé‡è½½å†³ç­–ã€‚\n\n\nC++ ä¸­çš„å‡½æ•°é‡è½½\nåœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…ï¼Œå¯ä»¥å£°æ˜å‡ ä¸ªåŠŸèƒ½ç±»ä¼¼çš„åŒåå‡½æ•°ï¼Œä½†æ˜¯è¿™äº›åŒåå‡½æ•°çš„å½¢å¼å‚æ•°ï¼ˆæŒ‡å‚æ•°çš„ä¸ªæ•°ã€ç±»å‹æˆ–è€…é¡ºåºï¼‰å¿…é¡»ä¸åŒã€‚æ‚¨ä¸èƒ½ä»…é€šè¿‡è¿”å›ç±»å‹çš„ä¸åŒæ¥é‡è½½å‡½æ•°ã€‚\nä¸‹é¢çš„å®ä¾‹ä¸­ï¼ŒåŒåå‡½æ•° print() è¢«ç”¨äºè¾“å‡ºä¸åŒçš„æ•°æ®ç±»å‹ï¼š\n#include &lt;iostream&gt;using namespace std; class printData{   public:      void print(int i) {        cout &lt;&lt; \"æ•´æ•°ä¸º: \" &lt;&lt; i &lt;&lt; endl;      }       void print(double  f) {        cout &lt;&lt; \"æµ®ç‚¹æ•°ä¸º: \" &lt;&lt; f &lt;&lt; endl;      }       void print(char c[]) {        cout &lt;&lt; \"å­—ç¬¦ä¸²ä¸º: \" &lt;&lt; c &lt;&lt; endl;      }}; int main(void){   printData pd;    // è¾“å‡ºæ•´æ•°   pd.print(5);   // è¾“å‡ºæµ®ç‚¹æ•°   pd.print(500.263);   // è¾“å‡ºå­—ç¬¦ä¸²   char c[] = \"Hello C++\";   pd.print(c);    return 0;}\n\nå½“ä¸Šé¢çš„ä»£ç è¢«ç¼–è¯‘å’Œæ‰§è¡Œæ—¶ï¼Œå®ƒä¼šäº§ç”Ÿä¸‹åˆ—ç»“æœï¼š\næ•´æ•°ä¸º: 5æµ®ç‚¹æ•°ä¸º: 500.263å­—ç¬¦ä¸²ä¸º: Hello C++\nC++ä¸­çš„è¿ç®—ç¬¦é‡è½½\næ‚¨å¯ä»¥é‡å®šä¹‰æˆ–é‡è½½å¤§éƒ¨åˆ† C++ å†…ç½®çš„è¿ç®—ç¬¦ã€‚è¿™æ ·ï¼Œæ‚¨å°±èƒ½ä½¿ç”¨è‡ªå®šä¹‰ç±»å‹çš„è¿ç®—ç¬¦ã€‚\né‡è½½çš„è¿ç®—ç¬¦æ˜¯å¸¦æœ‰ç‰¹æ®Šåç§°çš„å‡½æ•°ï¼Œå‡½æ•°åæ˜¯ç”±å…³é”®å­— operator å’Œå…¶åè¦é‡è½½çš„è¿ç®—ç¬¦ç¬¦å·æ„æˆçš„ã€‚ä¸å…¶ä»–å‡½æ•°ä¸€æ ·ï¼Œé‡è½½è¿ç®—ç¬¦æœ‰ä¸€ä¸ªè¿”å›ç±»å‹å’Œä¸€ä¸ªå‚æ•°åˆ—è¡¨ã€‚\nBox operator+(const Box&amp;);\n\nä¸‹é¢çš„å®ä¾‹ä½¿ç”¨æˆå‘˜å‡½æ•°æ¼”ç¤ºäº†è¿ç®—ç¬¦é‡è½½çš„æ¦‚å¿µã€‚åœ¨è¿™é‡Œï¼Œå¯¹è±¡ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ï¼Œå¯¹è±¡çš„å±æ€§ä½¿ç”¨ this è¿ç®—ç¬¦è¿›è¡Œè®¿é—®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n#include &lt;iostream&gt;using namespace std; class Box{   public:       double getVolume(void)      {         return length * breadth * height;      }      void setLength( double len )      {          length = len;      }       void setBreadth( double bre )      {          breadth = bre;      }       void setHeight( double hei )      {          height = hei;      }      // é‡è½½ + è¿ç®—ç¬¦ï¼Œç”¨äºæŠŠä¸¤ä¸ª Box å¯¹è±¡ç›¸åŠ       Box operator+(const Box&amp; b)      {         Box box;         box.length = this-&gt;length + b.length;         box.breadth = this-&gt;breadth + b.breadth;         box.height = this-&gt;height + b.height;         return box;      }   private:      double length;      // é•¿åº¦      double breadth;     // å®½åº¦      double height;      // é«˜åº¦};// ç¨‹åºçš„ä¸»å‡½æ•°int main( ){   Box Box1;                // å£°æ˜ Box1ï¼Œç±»å‹ä¸º Box   Box Box2;                // å£°æ˜ Box2ï¼Œç±»å‹ä¸º Box   Box Box3;                // å£°æ˜ Box3ï¼Œç±»å‹ä¸º Box   double volume = 0.0;     // æŠŠä½“ç§¯å­˜å‚¨åœ¨è¯¥å˜é‡ä¸­    // Box1 è¯¦è¿°   Box1.setLength(6.0);    Box1.setBreadth(7.0);    Box1.setHeight(5.0);    // Box2 è¯¦è¿°   Box2.setLength(12.0);    Box2.setBreadth(13.0);    Box2.setHeight(10.0);    // Box1 çš„ä½“ç§¯   volume = Box1.getVolume();   cout &lt;&lt; \"Volume of Box1 : \" &lt;&lt; volume &lt;&lt;endl;    // Box2 çš„ä½“ç§¯   volume = Box2.getVolume();   cout &lt;&lt; \"Volume of Box2 : \" &lt;&lt; volume &lt;&lt;endl;    // æŠŠä¸¤ä¸ªå¯¹è±¡ç›¸åŠ ï¼Œå¾—åˆ° Box3   Box3 = Box1 + Box2;    // Box3 çš„ä½“ç§¯   volume = Box3.getVolume();   cout &lt;&lt; \"Volume of Box3 : \" &lt;&lt; volume &lt;&lt;endl;    return 0;}\n\nå½“ä¸Šé¢çš„ä»£ç è¢«ç¼–è¯‘å’Œæ‰§è¡Œæ—¶ï¼Œå®ƒä¼šäº§ç”Ÿä¸‹åˆ—ç»“æœï¼š\nVolume of Box1 : 210Volume of Box2 : 1560Volume of Box3 : 5400\n\nå¯é‡è½½è¿ç®—ç¬¦/ä¸å¯é‡è½½è¿ç®—ç¬¦\nä¸‹é¢æ˜¯å¯é‡è½½è¿ç®—ç¬¦/ä¸å¯é‡è½½è¿ç®—ç¬¦ä¸‹é¢æ˜¯å¯é‡è½½çš„è¿ç®—ç¬¦åˆ—è¡¨ï¼š\n\n\n\nåŒç›®ç®—æœ¯è¿ç®—ç¬¦\n+ (åŠ )ï¼Œ-(å‡)ï¼Œ*(ä¹˜)ï¼Œ/(é™¤)ï¼Œ% (å–æ¨¡)\n\n\n\nå…³ç³»è¿ç®—ç¬¦\n==(ç­‰äº)ï¼Œ!= (ä¸ç­‰äº)ï¼Œ&lt; (å°äº)ï¼Œ&gt; (å¤§äº)ï¼Œ&lt;=(å°äºç­‰äº)ï¼Œ&gt;=(å¤§äºç­‰äº)\n\n\né€»è¾‘è¿ç®—ç¬¦\n||(é€»è¾‘æˆ–)ï¼Œ&amp;&amp;(é€»è¾‘ä¸)ï¼Œ!(é€»è¾‘é)\n\n\nå•ç›®è¿ç®—ç¬¦\n+ (æ­£)ï¼Œ-(è´Ÿ)ï¼Œ*(æŒ‡é’ˆ)ï¼Œ&amp;(å–åœ°å€)\n\n\nè‡ªå¢è‡ªå‡è¿ç®—ç¬¦\n++(è‡ªå¢)ï¼Œâ€“(è‡ªå‡)\n\n\nä½è¿ç®—ç¬¦\n| (æŒ‰ä½æˆ–)ï¼Œ&amp; (æŒ‰ä½ä¸)ï¼Œ~(æŒ‰ä½å–å)ï¼Œ^(æŒ‰ä½å¼‚æˆ–),ï¼Œ&lt;&lt; (å·¦ç§»)ï¼Œ&gt;&gt;(å³ç§»)\n\n\nèµ‹å€¼è¿ç®—ç¬¦\n=, +=, -=, *=, /= , % = , &amp;=, |=, ^=, &lt;&lt;=, &gt;&gt;=\n\n\nç©ºé—´ç”³è¯·ä¸é‡Šæ”¾\nnew, delete, new[ ] , delete[]\n\n\nå…¶ä»–è¿ç®—ç¬¦\n()(å‡½æ•°è°ƒç”¨)ï¼Œ-&gt;(æˆå‘˜è®¿é—®)ï¼Œ,(é€—å·)ï¼Œ[](ä¸‹æ ‡)\n\n\nä¸‹é¢æ˜¯ä¸å¯é‡è½½çš„è¿ç®—ç¬¦åˆ—è¡¨ï¼š\n\n.ï¼šæˆå‘˜è®¿é—®è¿ç®—ç¬¦\n.*, -&gt;*ï¼šæˆå‘˜æŒ‡é’ˆè®¿é—®è¿ç®—ç¬¦\n::ï¼šåŸŸè¿ç®—ç¬¦\nsizeofï¼šé•¿åº¦è¿ç®—ç¬¦\n?:ï¼šæ¡ä»¶è¿ç®—ç¬¦\n#ï¼š é¢„å¤„ç†ç¬¦å·\n\n\n\nè¿ç®—ç¬¦é‡è½½å®ä¾‹\nä¸‹é¢æä¾›äº†å„ç§è¿ç®—ç¬¦é‡è½½çš„å®ä¾‹ï¼Œå¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£é‡è½½çš„æ¦‚å¿µã€‚\n\n\n\nåºå·\nè¿ç®—ç¬¦å’Œå®ä¾‹\n\n\n\n1\nä¸€å…ƒè¿ç®—ç¬¦é‡è½½\n\n\n2\näºŒå…ƒè¿ç®—ç¬¦é‡è½½\n\n\n3\nå…³ç³»è¿ç®—ç¬¦é‡è½½\n\n\n4\nè¾“å…¥/è¾“å‡ºè¿ç®—ç¬¦é‡è½½\n\n\n5\n++ å’Œ â€“ è¿ç®—ç¬¦é‡è½½\n\n\n6\nèµ‹å€¼è¿ç®—ç¬¦é‡è½½\n\n\n7\nå‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ () é‡è½½\n\n\n8\n[ä¸‹æ ‡è¿ç®—ç¬¦ ] é‡è½½\n\n\n9\nç±»æˆå‘˜è®¿é—®è¿ç®—ç¬¦ -&gt; é‡è½½\n\n\n\n","categories":["C++"],"tags":["C++"]},{"title":"å¦‚ä½•é…ç½®Dockeré•œåƒ","url":"/2024/07/02/learnnote/docker/ru-he-pei-zhi-docker-jing-xiang/","content":"å¦‚ä½•é…ç½®Dockeré•œåƒ\nDockerd ä»£ç†åœ¨æ‰§è¡Œdocker pullæ—¶ï¼Œæ˜¯ç”±å®ˆæŠ¤è¿›ç¨‹dockerdæ¥æ‰§è¡Œã€‚å› æ­¤ï¼Œä»£ç†éœ€è¦é…åœ¨dockerdçš„ç¯å¢ƒä¸­ã€‚è€Œè¿™ä¸ªç¯å¢ƒï¼Œåˆ™æ˜¯å—systemdæ‰€ç®¡æ§ï¼Œå› æ­¤å®é™…æ˜¯systemdçš„é…ç½®ã€‚\n1ã€åˆ›å»ºdockerdç›¸å…³çš„systemdç›®å½•ï¼Œè¿™ä¸ªç›®å½•ä¸‹çš„é…ç½®å°†è¦†ç›–dockerdçš„é»˜è®¤é…ç½®\n$ sudo mkdir -p /etc/systemd/system/docker.service.d\næ–°å»ºé…ç½®æ–‡ä»¶/etc/systemd/system/docker.service.d/proxy.conf\nsudo mkdir -p /etc/systemd/system/docker.service.dsudo touch /etc/systemd/system/docker.service.d/proxy.conf\n\nåœ¨è¿™ä¸ªproxy.confæ–‡ä»¶ï¼ˆå¯ä»¥æ˜¯ä»»æ„*.confçš„å½¢å¼ï¼‰ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n[Service]Environment=\"HTTP_PROXY=http://proxy.example.com:8080/\"Environment=\"HTTPS_PROXY=http://proxy.example.com:8080/\"Environment=\"NO_PROXY=localhost,127.0.0.1,.example.com\"\n\nå…¶ä¸­ï¼Œhttp://proxy.example.com:8080è¦æ¢æˆå¯ç”¨çš„å…å¯†ä»£ç†ã€‚é€šå¸¸ä½¿ç”¨ cntlm åœ¨æœ¬æœºè‡ªå»ºå…å¯†ä»£ç†ï¼Œå»å¯¹æ¥å…¬å¸çš„ä»£ç†ã€‚å¯å‚è€ƒã€ŠLinuxä¸‹å®‰è£…é…ç½®Cntlm ä»£ç†ã€‹ã€‚\nContainer ä»£ç†åœ¨å®¹å™¨è¿è¡Œé˜¶æ®µï¼Œå¦‚æœéœ€è¦ä»£ç†ä¸Šç½‘ï¼Œåˆ™éœ€è¦é…ç½® ~/.docker/config.jsonã€‚ä»¥ä¸‹é…ç½®ï¼Œåªåœ¨Docker 17.07åŠä»¥ä¸Šç‰ˆæœ¬ç”Ÿæ•ˆã€‚\n{ \"proxies\": {   \"default\":   {     \"httpProxy\": \"http://proxy.example.com:8080\",     \"httpsProxy\": \"http://proxy.example.com:8080\",     \"noProxy\": \"localhost,127.0.0.1,.example.com\"   } }}\n\nè¿™ä¸ªæ˜¯ç”¨æˆ·çº§çš„é…ç½®ï¼Œé™¤äº† proxiesï¼Œdocker login ç­‰ç›¸å…³ä¿¡æ¯ä¹Ÿä¼šåœ¨å…¶ä¸­ã€‚è€Œä¸”è¿˜å¯ä»¥é…ç½®ä¿¡æ¯å±•ç¤ºçš„æ ¼å¼ã€æ’ä»¶å‚æ•°ç­‰ã€‚\næ­¤å¤–ï¼Œå®¹å™¨çš„ç½‘ç»œä»£ç†ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨å…¶è¿è¡Œæ—¶é€šè¿‡ -e æ³¨å…¥ http_proxy ç­‰ç¯å¢ƒå˜é‡ã€‚è¿™ä¸¤ç§æ–¹æ³•åˆ†åˆ«é€‚åˆä¸åŒåœºæ™¯ã€‚config.json éå¸¸æ–¹ä¾¿ï¼Œé»˜è®¤åœ¨æ‰€æœ‰é…ç½®ä¿®æ”¹åå¯åŠ¨çš„å®¹å™¨ç”Ÿæ•ˆï¼Œé€‚åˆä¸ªäººå¼€å‘ç¯å¢ƒã€‚åœ¨CI/CDçš„è‡ªåŠ¨æ„å»ºç¯å¢ƒã€æˆ–è€…å®é™…ä¸Šçº¿è¿è¡Œçš„ç¯å¢ƒä¸­ï¼Œè¿™ç§æ–¹æ³•å°±ä¸å¤ªåˆé€‚ï¼Œç”¨ -e æ³¨å…¥è¿™ç§æ˜¾å¼é…ç½®ä¼šæ›´å¥½ï¼Œå‡è½»å¯¹æ„å»ºã€éƒ¨ç½²ç¯å¢ƒçš„ä¾èµ–ã€‚å½“ç„¶ï¼Œåœ¨è¿™äº›ç¯å¢ƒä¸­ï¼Œæœ€å¥½ç”¨è‰¯å¥½çš„è®¾è®¡é¿å…é…ç½®ä»£ç†ä¸Šç½‘ã€‚\nDocker Build ä»£ç†è™½ç„¶ docker build çš„æœ¬è´¨ï¼Œä¹Ÿæ˜¯å¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼Œä½†æ˜¯ç¯å¢ƒä¼šç•¥æœ‰ä¸åŒï¼Œç”¨æˆ·çº§é…ç½®æ— æ•ˆã€‚åœ¨æ„å»ºæ—¶ï¼Œéœ€è¦æ³¨å…¥ http_proxy ç­‰å‚æ•°ã€‚\ndocker build . \\    --build-arg \"HTTP_PROXY=http://proxy.example.com:8080/\" \\    --build-arg \"HTTPS_PROXY=http://proxy.example.com:8080/\" \\    --build-arg \"NO_PROXY=localhost,127.0.0.1,.example.com\" \\    -t your/image:tag\n\næ³¨æ„ï¼šæ— è®ºæ˜¯ docker run è¿˜æ˜¯ docker buildï¼Œé»˜è®¤æ˜¯ç½‘ç»œéš”ç»çš„ã€‚å¦‚æœä»£ç†ä½¿ç”¨çš„æ˜¯ localhost:3128 è¿™ç±»ï¼Œåˆ™ä¼šæ— æ•ˆã€‚è¿™ç±»ä»…é™æœ¬åœ°çš„ä»£ç†ï¼Œå¿…é¡»åŠ ä¸Š â€“network host æ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚è€Œä¸€èˆ¬åˆ™éœ€è¦é…ç½®ä»£ç†çš„å¤–éƒ¨IPï¼Œè€Œä¸”ä»£ç†æœ¬èº«è¦å¼€å¯ Gateway æ¨¡å¼ã€‚\né‡å¯ç”Ÿæ•ˆä»£ç†é…ç½®å®Œæˆåï¼Œreboot é‡å¯å½“ç„¶å¯ä»¥ç”Ÿæ•ˆï¼Œä½†ä¸é‡å¯ä¹Ÿè¡Œã€‚\ndocker build ä»£ç†æ˜¯åœ¨æ‰§è¡Œå‰è®¾ç½®çš„ï¼Œæ‰€ä»¥ä¿®æ”¹åï¼Œä¸‹æ¬¡æ‰§è¡Œç«‹å³ç”Ÿæ•ˆã€‚Container ä»£ç†çš„ä¿®æ”¹ä¹Ÿæ˜¯ç«‹å³ç”Ÿæ•ˆçš„ï¼Œä½†æ˜¯åªé’ˆå¯¹ä»¥åå¯åŠ¨çš„ Containerï¼Œå¯¹å·²ç»å¯åŠ¨çš„ Container æ— æ•ˆã€‚\ndockerd ä»£ç†çš„ä¿®æ”¹æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒå®é™…ä¸Šæ˜¯æ”¹ systemd çš„é…ç½®ï¼Œå› æ­¤éœ€è¦é‡è½½ systemd å¹¶é‡å¯ dockerd æ‰èƒ½ç”Ÿæ•ˆã€‚\nsudo systemctl daemon-reloadsudo systemctl restart docker\n\n","categories":["Docker"],"tags":["Docker"]},{"title":"FlutteråŸºç¡€å­¦ä¹ ç¬”è®°","url":"/2023/02/24/learnnote/flutter-xue-xi-bi-ji/flutter-ji-chu-xue-xi/","content":"FlutteråŸºç¡€å­¦ä¹ ç›®å½•ç»“æ„\n\nandroidï¼šç”¨äºandroidè½¯ä»¶çš„ç›¸å…³\niosï¼šç”¨äºiosç›¸å…³\nlibï¼šFlutterä»£ç å­˜æ”¾åœ°\ntestï¼šæµ‹è¯•ç”¨ä¾‹ä»£ç å­˜æ”¾åœ°\n\nDartä»¥mainå‡½æ•°ä¸ºå…¥å£ï¼Œè½¯ä»¶ä»¥runAppå®ä½“ç±»ä¸ºè½¯ä»¶ç»˜åˆ¶å…¥å£ã€‚\n\nimport 'package:flutter/material.dart';void main(){    runApp(    \tCenter(        child: Text('XXX'),        )    );}\nå¯ä»¥å•ç‹¬å°†CenteræŠ½ç¦»æˆä¸€ä¸ªç»„ä»¶ï¼š\n\nimport 'package:flutter/material.dart';void main(){ runApp(MyApp());}class MyApp extends StatelessWidget{        @override    Widget build(BuildContext context){                   return MaterialApp(      home: Scaffold(        appBar: AppBar(        title: Text('Flutter Demo')        ),        body: HomeContext(),      ),      theme: ThemeData(        primarySwatch: Colors.deepOrange      ),    );    }}\n\n\nClipOvalç±»ï¼š\n\nchild: Image.asset(â€œimages/b.webpâ€) åŠ è½½æœ¬åœ°å›¾ç‰‡\nwidth: è®¾ç½®å®½\nheight: è®¾ç½®é«˜\n\né™æ€ç»„ä»¶æ›´æ–°ï¼š\n```GridViewç½‘æ ¼å¸ƒå±€ï¼šåŠ¨æ€ç»„ä»¶ç”¨è¿™ä¸ªï¼š```dart@overrideWidget build(BuildContext context){\treturn GridView.builder(\t)}\n\n\n\né™æ€ç»„ä»¶ç”¨è¿™ä¸ªï¼š\n@overrideWidget build(BuildContext context){\treturn GridView.count(\t)}\n\n\n\n\n\nRowï¼š\n\nmainAxisAlignment\ncrossAxisAlignment\nchildren\n\n","categories":["å‰ç«¯"],"tags":["Android","Flutter"]},{"title":"å…³äºå¦‚ä½•è§£å†³Flutteræ‰“åŒ…ä¸€ç›´åœç•™åœ¨Buildé˜¶æ®µåˆ†æä¸è§£å†³","url":"/2025/01/18/learnnote/flutter-xue-xi-bi-ji/guan-yu-ru-he-jie-jue-flutter-da-bao-yi-zhi-ting-liu-zai-build-jie-duan-fen-xi-yu-jie-jue/","content":"å…³äºå¦‚ä½•è§£å†³Flutteræ‰“åŒ…ä¸€ç›´åœç•™åœ¨Buildé˜¶æ®µåˆ†æä¸è§£å†³\n\næƒ…å†µï¼š\nè‹¥ä¸€ç›´å‡ºç°Build ..ä¸€ç›´æ²¡æœ‰ä»»ä½•æ‰“åŒ…æˆåŠŸçš„åŠ¨é™å¾ˆå¯èƒ½æ˜¯androidå¯¹åº”çš„Gradleä¾èµ–æœªä¸‹è½½å¥½ç¼˜æ•…ï¼Œä¸€ç›´åœ¨ä¸‹è½½ã€‚è€Œåœ¨å›½å†…æœ‰äº›ä¾èµ–æ˜¯ä½¿ç”¨çš„æ˜¯googleçš„ä¸‹è½½æ¸ é“ï¼Œæ‰€ä»¥ç½‘é€Ÿå¯èƒ½å¾ˆæ…¢ä¹Ÿå¯èƒ½æ ¹æœ¬å°±è¿ä¸ä¸Šï¼ˆåŸå› ä½ ä»¬ä¹Ÿæ‡‚çš„ï¼‰\n\nè§£å†³æ–¹æ³•ï¼š\né¦–å…ˆå…ˆè¿›å…¥Flutterå…ˆå¯¹åº”çš„androidç›®å½•ï¼Œä¹‹åå†è¾“å…¥\n./gradlew clean\n\nè¿™æ ·ä»–å°±ä¼šä¸‹è½½å¯¹åº”ä¾èµ–çš„åŒæ—¶æ˜¾ç¤ºä¸‹è½½è¿›åº¦ç­‰ï¼Œè¿™ä¸ªæ—¶å€™ä½ å°±å¯ä»¥åˆ†ææ˜¯ä¸‹è½½é€Ÿåº¦æ…¢çš„é—®é¢˜è¿˜æ˜¯å…¶ä»–é—®é¢˜å¯¼è‡´ï¼Œå¦‚æœæ˜¯ä¸‹è½½é€Ÿåº¦æ…¢å»ºè®®æ˜¯æŒ‚æ¢¯å­ï¼ˆå¹¶ä¸”è®¾ç½®proxyä»£ç†åˆ°å¯¹åº”æ¢¯å­ç«¯å£ï¼‰ï¼Œæˆ–è€…é‡‡ç”¨å›½å†…é•œåƒä»£ç†ã€‚\n\n\n","categories":["Flutter"],"tags":["Flutter","é—®é¢˜è§£å†³"]},{"title":"Gitç›¸å…³æ“ä½œ","url":"/2023/10/30/learnnote/git-xue-xi/git-xiang-guan-cao-zuo/","content":"ç†è§£å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„åŒºåˆ«ï¼Ÿå·¥ä½œåŒºï¼šå°±æ˜¯ä½ åœ¨ç”µè„‘ä¸Šçœ‹åˆ°çš„ç›®å½•ï¼Œæ¯”å¦‚ç›®å½•ä¸‹testgité‡Œçš„æ–‡ä»¶(.gitéšè—ç›®å½•ç‰ˆæœ¬åº“é™¤å¤–)ã€‚æˆ–è€…ä»¥åéœ€è¦å†æ–°å»ºçš„ç›®å½•æ–‡ä»¶ç­‰ç­‰éƒ½å±äºå·¥ä½œåŒºèŒƒç•´ã€‚ç‰ˆæœ¬åº“(Repository)ï¼šå·¥ä½œåŒºæœ‰ä¸€ä¸ªéšè—ç›®å½•.git,è¿™ä¸ªä¸å±äºå·¥ä½œåŒºï¼Œè¿™æ˜¯ç‰ˆæœ¬åº“ã€‚å…¶ä¸­ç‰ˆæœ¬åº“é‡Œé¢å­˜äº†å¾ˆå¤šä¸œè¥¿ï¼Œå…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯stage(æš‚å­˜åŒº)ï¼Œè¿˜æœ‰Gitä¸ºæˆ‘ä»¬è‡ªåŠ¨åˆ›å»ºäº†ç¬¬ä¸€ä¸ªåˆ†æ”¯master,ä»¥åŠæŒ‡å‘masterçš„ä¸€ä¸ªæŒ‡é’ˆHEADã€‚\nä½¿ç”¨Gitæäº¤æ–‡ä»¶åˆ°ç‰ˆæœ¬åº“æœ‰ä¸¤æ­¥ï¼š\nç¬¬ä¸€æ­¥ï¼šæ˜¯ä½¿ç”¨ git add æŠŠæ–‡ä»¶æ·»åŠ è¿›å»ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠæ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºã€‚\nç¬¬äºŒæ­¥ï¼šä½¿ç”¨git commitæäº¤æ›´æ”¹ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠæš‚å­˜åŒºçš„æ‰€æœ‰å†…å®¹æäº¤åˆ°å½“å‰åˆ†æ”¯ä¸Šã€‚\nå¸¸ç”¨æŒ‡ä»¤è®¾ç½®gitç”¨æˆ·åå’Œé‚®ç®±æ ‡è¯†git config --global user.name \"ç”¨æˆ·å\"\n\ngit config --global user.email \"ä½ æ‰€æƒ³ç»‘å®šçš„é‚®ç®±\"\n\n\n\næŸ¥çœ‹å½“å‰gitç”¨æˆ·ä¿¡æ¯git config user.name  #æŸ¥çœ‹ç”¨æˆ·åç§° git config user.email #æŸ¥çœ‹ç”¨æˆ·é‚®ç®±\n\n\n\n\n\nåˆå§‹åŒ–ä»“åº“git init\n\nå¢åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒºgit add æ–‡ä»¶.åç¼€\n\ngit add .  #æŒ‡çš„å½“å‰ç›®å‰ä¸‹æ‰€æœ‰æ–‡ä»¶\n\n\n\næŠŠæ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“git commit -m \"è¿™é‡Œå¡«å†™æœ¬æ¬¡æäº¤çš„æ³¨é‡Š\"\n\n\n\n\n\næŸ¥çœ‹æ˜¯å¦è¿˜æœ‰æ–‡ä»¶æœªæäº¤git status\n\n\n\n\n\næŸ¥çœ‹æ–‡ä»¶å¯¹æ¯”ä¸Šæ¬¡æäº¤ä¿®æ”¹äº†ä»€ä¹ˆå†…å®¹git diff æ–‡ä»¶\n\n\n\n\n\næŸ¥çœ‹commitæ—¥å¿—git log\n\n\ngit logå‘½ä»¤æ˜¾ç¤ºä»æœ€è¿‘åˆ°æœ€è¿œçš„æ˜¾ç¤ºæ—¥å¿—ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ€è¿‘ä¸‰æ¬¡æäº¤ï¼Œæœ€è¿‘çš„ä¸€æ¬¡æ˜¯,å¢åŠ å†…å®¹ä¸º333333.ä¸Šä¸€æ¬¡æ˜¯æ·»åŠ å†…å®¹222222ï¼Œç¬¬ä¸€æ¬¡é»˜è®¤æ˜¯ 111111.å¦‚æœå«Œä¸Šé¢æ˜¾ç¤ºçš„ä¿¡æ¯å¤ªå¤šçš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤ git log â€“pretty=oneline æ¼”ç¤ºå¦‚ä¸‹ï¼š\n\ncommitç‰ˆæœ¬å›é€€å›é€€å‰å‡ ä¸ªç‰ˆæœ¬git reset --hard HEAD^\n\nå¦‚æœæ˜¯é€€å›åˆ°ä¸Šä¸Šä¸ªç‰ˆæœ¬é‚£ä¹ˆåªéœ€è¦å¤šåŠ ä¸ª^å³å¯,å…¶ä»–ä¹Ÿä¾æ¬¡ç±»æ¨ï¼Œæ¯”å¦‚ï¼š\ngit reset --hard HEAD^^\n\nå½“ç„¶ï¼Œå¦‚æœå›é€€çš„ç‰ˆæœ¬å¤ªå¤šçš„è¯ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š\ngit reset --hard HEAD~100  #è¿™é‡Œè¡¨ç¤ºå›é€€åˆ°å‰100ä¸ªç‰ˆæœ¬\n\n\n\næŒ‰ç…§ç‰ˆæœ¬å·å›é€€git reset --hard ç‰ˆæœ¬å· #æ³¨æ„è¿™é‡Œç‰ˆæœ¬å·å¯ä»¥ä¸ç”¨å†™å…¨ï¼Œå¯ä»¥åªå†™å‰é¢7ä¸ªæˆ–ä»¥ä¸Šï¼Œåæ­£ä¸ä¼šå’Œå…¶ä»–ç‰ˆæœ¬äº§ç”Ÿæ­§ä¹‰å°±è¡Œ\n\næœ‰2ç§æƒ…å†µï¼Œå¦‚ä¸‹ï¼š\n1.readme.txtè‡ªåŠ¨ä¿®æ”¹åï¼Œè¿˜æ²¡æœ‰æ”¾åˆ°æš‚å­˜åŒºï¼Œä½¿ç”¨ æ’¤é”€ä¿®æ”¹å°±å›åˆ°å’Œç‰ˆæœ¬åº“ä¸€æ¨¡ä¸€æ ·çš„çŠ¶æ€ã€‚2.å¦å¤–ä¸€ç§æ˜¯readme.txtå·²ç»æ”¾å…¥æš‚å­˜åŒºäº†ï¼Œæ¥ç€åˆä½œäº†ä¿®æ”¹ï¼Œæ’¤é”€ä¿®æ”¹å°±å›åˆ°æ·»åŠ æš‚å­˜åŒºåçš„çŠ¶æ€ã€‚\næ’¤é”€ä¿®æ”¹å’Œåˆ é™¤æ–‡ä»¶æ“ä½œgit checkout -- æ–‡ä»¶åç§°\n\n\n\nç»‘å®šè¿œç¨‹ä»“åº“ç¬¬ä¸€æ­¥ï¼š\nssh-keygen -t rsa -C \"å¯¹åº”ä½ çš„è´¦å·é‚®ç®±\"\n\nåˆ›å»ºå¥½ä¹‹åå¯ä»¥å»Cç›˜ä¸‹çš„Userç›®å½•å¯¹åº”ç”¨æˆ·è´¦å·çš„.sshé‡Œé¢çœ‹åˆ°ç›¸åº”åˆ›å»º\nå…¶ä¸­\n\nid_rasæ˜¯ç§é’¥ï¼Œè¿™ç©æ„ä¸æ³„éœ²å‡ºå»\nid_ras.pubæ˜¯å…¬é’¥ï¼Œå¯ä»¥æ”¾å¿ƒå‘Šè¯‰å…¶ä»–ä»»ä½•äºº\n\nç¬¬äºŒæ­¥ï¼šç™»å½•github,æ‰“å¼€â€ settingsâ€ä¸­çš„SSH Keysé¡µé¢ï¼Œç„¶åç‚¹å‡»â€œAdd SSH Keyâ€,å¡«ä¸Šä»»æ„titleï¼Œåœ¨Keyæ–‡æœ¬æ¡†é‡Œé»è´´id_rsa.pubæ–‡ä»¶çš„å†…å®¹ã€‚\nå–æ¶ˆç»‘å®šè¿œç¨‹ä»“åº“git remote remove origin #è¿™ä¸ªoriginæ˜¯ç»‘å®šæ—¶å€™çš„ä»“åº“æ ‡ç­¾åˆ«å\n\n\n\nåˆ›å»ºåˆ†æ”¯å¹¶è¿›å…¥git checkout -b dev #è¿™é‡ŒæŒ‡çš„æ˜¯åˆ›å»ºä¸€ä¸ªåä¸ºdevçš„åˆ†æ”¯\n\n\ngit checkout å‘½ä»¤åŠ ä¸Š â€“bå‚æ•°è¡¨ç¤ºåˆ›å»ºå¹¶åˆ‡æ¢ï¼Œç›¸å½“äºå¦‚ä¸‹2æ¡å‘½ä»¤\ngit branch dev\ngit checkout dev\n\næŸ¥çœ‹å½“å‰åˆ†æ”¯git branch\n\n\n\n\n\n\n\nåˆå¹¶åˆ†æ”¯ç¬¬ä¸€æ­¥ï¼š\næ¯”å¦‚è¿™é‡Œåˆ‡æ¢åˆ°masteråˆ†æ”¯\ngit branch master\n\nç¬¬äºŒæ­¥:\ngit merge dev\n\n\ngit mergeå‘½ä»¤ç”¨äºåˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ä¸Š\nåˆå¹¶ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå’Œdevåˆ†æ”¯æœ€æ–°æäº¤çš„æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚\nåˆå¹¶å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æ¥ç€åˆ é™¤devåˆ†æ”¯äº†ï¼Œæ“ä½œå¦‚ä¸‹ï¼š\ngit branch -d dev #åˆ é™¤devåˆ†æ”¯git branch #æŸ¥çœ‹å½“å‰åˆ†æ”¯\n\n\nä¿®æ”¹åˆ†æ”¯åç§°ï¼ˆé‡å‘½ååˆ†æ”¯åç§°ï¼‰git branch -m oldName newName\n\n\n\n\n\nåˆ é™¤åˆ†æ”¯1ã€åˆ é™¤æœ¬åœ°åˆ†æ”¯\ngit branch -d &lt;localBranchName&gt; #localBranchNameå°±æ˜¯æœ¬åœ°åˆ†æ”¯çš„åç§°\n\n\n\n2ã€åˆ é™¤è¿œç¨‹åˆ†æ”¯\ngit push -u origin -d &lt;branchName&gt;  #&lt;branchName&gt;å°±æ˜¯åˆ†æ”¯çš„åç§°\n\n\nå…¶ä¸­==-d==æ˜¯==-delete==çš„ç¼©å†™\n\nGit æ‹‰å–è¿œç¨‹åˆ†æ”¯ä»£ç å¹¶åˆå¹¶åˆ°æœ¬åœ°åˆ†æ”¯æ­¥éª¤git remote -v #æŸ¥çœ‹è¿œç¨‹#è·å–è¿œç¨‹æŒ‡å®šåˆ†æ”¯åˆ°æœ¬åœ°ä¸´æ—¶æ–°å»ºçš„åˆ†æ”¯#è·å–è¿œç¨‹masterçš„åˆ†æ”¯çš„ä»£ç åˆ°ä¸´æ—¶æ–°å»ºçš„tempgit fetch origin master:temp#æŸ¥çœ‹ç‰ˆæœ¬å·®å¼‚#æŸ¥çœ‹tempåˆ†æ”¯ä¸å½“å‰åˆ†æ”¯çš„å·®å¼‚git diff temp#å°†ä¸´æ—¶åˆ†æ”¯tempåˆå¹¶åˆ°å½“å‰åˆ†æ”¯git merge temp#åˆ é™¤æœ¬åœ°ä¸´æ—¶åˆ†æ”¯git branch -d temp\n\nä¸åœ¨æœ¬åœ°æ–°å»ºåˆ†æ”¯ç‰ˆæœ¬ï¼š#æŸ¥çœ‹è¿œç¨‹git remote -v#è·å–è¿œç¨‹åˆ†æ”¯åˆ°æœ¬åœ°#è·å–è¿œç¨‹çš„masteråˆ†æ”¯git fetch origin master#æŸ¥çœ‹ç‰ˆæœ¬å·®å¼‚#æŸ¥çœ‹è¿œç¨‹masteråˆ†æ”¯ä¸æœ¬åœ°masteråˆ†æ”¯çš„å·®åˆ«git log -p master..origin/master#åˆå¹¶åˆ°æœ¬åœ°åˆ†æ”¯git merge origin/master\n\nä»–å¥¶å¥¶çš„ç›´æ¥æ‹‰å–åˆå¹¶ï¼ˆä¸æ¨èç”¨ï¼Œä¸‡ä¸€å‡ºå²”å­è‡ªå·±è´Ÿè´£ï¼‰#æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯git remtoe -v#æ‹‰å–åˆå¹¶åˆ°æœ¬åœ°åˆ†æ”¯,å› ä¸ºpullå®é™…ä¸Šå°±æ˜¯fetchå’Œmergeçš„ç»“åˆä½“#æ‹‰å–è¿œç¨‹masteråˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯git pull origin master\n\n\n\n\n\n\n\nå¦‚æœé‡åˆ°å¤§æ–‡ä»¶æƒ³è¦åˆ é™¤ï¼Œæˆ–è€…æƒ³åˆ é™¤æ‰€æœ‰commitä¸­çš„æŒ‡å®šæ–‡ä»¶Gitæ— æ³•ä¸Šä¼ åˆ é™¤ Commité‡Œé¢æœ‰å¤§æ–‡ä»¶_git åˆ é™¤commitçš„å¤§æ–‡ä»¶-CSDNåšå®¢\n","categories":["Git"],"tags":["Git"]},{"title":"Hexoåšå®¢ç¬”è®°ä¹¦å†™Front-matterå‚æ•°å¤§å…¨","url":"/2024/01/14/learnnote/hexo-bo-ke-da-jian-jiao-cheng/hexo-bo-ke-bi-ji-shu-xie-front-matter-can-shu-da-quan/","content":"Hexoåšå®¢ç¬”è®°ä¹¦å†™Front-matterå‚æ•°å¤§å…¨\nå¸¸è§Front-matter---title: typora-vue-themeä¸»é¢˜ä»‹ç»date: 2018-09-07 09:25:00author: é•¿ç™½å´img: /source/images/xxx.jpgtop: truehide: falsecover: truepublished: falsecoverImg: /images/1.jpgpassword: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92toc: falsemathjax: falsesummary: è¿™æ˜¯ä½ è‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æœ‰å€¼ï¼Œæ–‡ç« å¡ç‰‡æ‘˜è¦å°±æ˜¾ç¤ºè¿™æ®µæ–‡å­—ï¼Œå¦åˆ™ç¨‹åºä¼šè‡ªåŠ¨æˆªå–æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦categories: Markdowntags:  - Typora  - Markdown---\n\nå‚æ•°è¯´æ˜\ntitle æ–‡ç« æ ‡é¢˜\ndate æ–‡ç« å‘å¸ƒæ—¶é—´\nauthor æ–‡ç« ä½œè€…\nimg æ ‡é¢˜å›¾ç‰‡\ntop æ˜¯å¦ç½®é¡¶trueä¸ºç½®é¡¶\nhide æ˜¯å¦éšè—æ–‡ç« trueä¸ºéšè—\npublished æ˜¯å¦å…¬å¼€æ–‡ç« falseä¸ºä¸å…¬å¼€\n\nQuick StartCreate a new post$ hexo new \"My New Post\"\n\nMore info: Writing\nRun server$ hexo server\n\nMore info: Server\nGenerate static files$ hexo generate\n\nMore info: Generating\nDeploy to remote sites$ hexo deploy\n\nMore info: Deployment\n","categories":["Hexo"],"tags":["Hexo"]},{"title":"Hexoå¸¸ç”¨æŒ‡ä»¤","url":"/2024/02/27/learnnote/hexo-bo-ke-da-jian-jiao-cheng/hexo-chang-yong-zhi-ling/","content":"Hexoå¸¸ç”¨æŒ‡ä»¤\nåˆ›å»ºæ–°æ–‡ç« \n$ hexo new \"My New Post\" #è¿™é‡ŒMy New Postæ˜¯æ–‡ç« åç§°\n\né€šè¿‡nodeè¿è¡Œå½“å‰åšå®¢\n$ hexo server #è¿™é‡Œå°±æ˜¯å¯åŠ¨çš„æ„æ€\n\nç”Ÿæˆé™æ€é¡µé¢\n$hexo generate #è¿™é‡Œå°±æ˜¯ç”Ÿæˆé™æ€é¡µé¢çš„æŒ‡ä»¤\n\n\n\næ‰“åŒ…é™æ€é¡µé¢å¹¶éƒ¨ç½²åˆ°github\n$ hexo g -d #è¿™é‡Œgçš„æ„æ€å°±æ˜¯æ‰“åŒ…æˆé™æ€é¡µé¢ä¹Ÿå°±æ˜¯æŒ‡ä»¤generateï¼Œ-då…¶å®å°±æ˜¯deployï¼Œä¹Ÿå°±æ˜¯éƒ¨ç½²çš„æ„æ€\n\n","categories":["Hexo"],"tags":["Hexo"]},{"title":"Hexoè§£å†³è¿›å…¥é¡µé¢åŠ¨ç”»åŠ è½½ç¼“æ…¢é—®é¢˜","url":"/2024/01/23/learnnote/hexo-bo-ke-da-jian-jiao-cheng/hexo-jie-jue-jin-ru-ye-mian-dong-hua-jia-zai-huan-man-wen-ti/","content":"Hexoè§£å†³è¿›å…¥é¡µé¢åŠ¨ç”»åŠ è½½ç¼“æ…¢é—®é¢˜\næ˜¯å¦å¼€å¯äº†è¿›å…¥é¡µé¢å¯åŠ¨åŠ è½½åŠ¨ç”»ï¼Œå¹¶ä¸”åŠ è½½éå¸¸ç¼“æ…¢ï¼Ÿ\nå¯¼è‡´è¿™ä¸ªçš„åŸå› å¤§è‡´æœ‰ï¼š\n\nåŠ¨ç”»åŠ è½½è´¹æ—¶\næµè§ˆå™¨éœ€è¦å°†ç½‘ç«™æ•´ä½“çš„å…ƒç´ éƒ½åˆå§‹åŒ–å®Œæˆï¼Œå¯¼è‡´è€—è´¹æ—¶é—´\næµè§ˆå™¨åˆå§‹åŒ–ç½‘ç«™æ—¶éœ€è¦è¿”å›ä¸€ä¸ªå€¼ï¼Œä½†ä¸€ç›´æ²¡æœ‰è¿”å›\nä½ çš„ç½‘ç«™å®ƒå¿ƒæƒ…ä¸å¤ªå¥½ğŸ§\n\nAnywayï¼Œæƒ³åˆ°ä¸€ä¸ªç²—æš´ä½†ç®€å•çš„æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\nè§£å†³åŠæ³•æ‰“å¼€ \\themes\\butterfly\\layout\\includes\\loading\\fullpage-loading.pugæ–‡ä»¶\nå°†æ ‡æ³¨//æ–°å¢çš„ä¸¤è¡Œä»£ç æ·»åŠ è¿›å»\n#loading-box  .loading-left-bg  .loading-right-bg  .spinner-box    .configure-border-1      .configure-core    .configure-border-2      .configure-core    .loading-word= _p('loading')//- script. //åŸä»£ç script(async). //æ–°å¢  const preloader = {    endLoading: () =&gt; {      document.body.style.overflow = 'auto';      document.getElementById('loading-box').classList.add(\"loaded\")    },    initLoading: () =&gt; {      document.body.style.overflow = '';      document.getElementById('loading-box').classList.remove(\"loaded\")    }  }  window.addEventListener('load',()=&gt; { preloader.endLoading() })  setTimeout(function(){preloader.endLoading();}, 5000); //æ–°å¢  if (!{theme.pjax &amp;&amp; theme.pjax.enable}) {    document.addEventListener('pjax:send', () =&gt; { preloader.initLoading() })    document.addEventListener('pjax:complete', () =&gt; { preloader.endLoading() })  }\n\nè¿™ä¸¤è¡Œä»£ç çš„æ„æ€æ˜¯ï¼š\nåœ¨åŠ è½½åŠ¨ç”»æ—¶ï¼Œé‡‡ç”¨çš„æ˜¯å¼‚æ­¥åŠ è½½æ–¹å¼ã€‚å¦‚æœè¶…è¿‡5ç§’æ²¡æœ‰ååº”ï¼Œåˆ™è®¤ä¸ºè¶…æ—¶ã€‚\nå‚è€ƒæ–‡ç« ï¼šLoading Animation | Akilarã®ç³–æœå±‹\n","categories":["Hexo"],"tags":["Hexo"]},{"title":"Hexoé€šè¿‡æ’ä»¶å¯¹å›¾ç‰‡è¿›è¡Œæ‡’åŠ è½½","url":"/2024/01/23/learnnote/hexo-bo-ke-da-jian-jiao-cheng/hexo-tong-guo-cha-jian-dui-tu-pian-jin-xing-lan-jia-zai/","content":"Hexoé€šè¿‡æ’ä»¶å¯¹å›¾ç‰‡è¿›è¡Œæ‡’åŠ è½½\nä¸€ã€ä¸‹è½½Hexo-lazyload-imageæ’ä»¶npm install hexo-lazyload-image --save\n\n\n\n\n\näºŒã€ä¿®æ”¹é…ç½®æ‰¾åˆ°hexoé¡¹ç›®çš„æ ¹ç›®å½•ä¸‹çš„ç«™ç‚¹é…ç½®æ–‡ä»¶_config.ymlï¼Œå…·ä½“è·¯å¾„ï¼šblog/_config.ymlï¼Œå…¶ä¸­blogæ˜¯ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹ã€‚\nlazyload:  enable: true  onlypost: false # optional  loadingImg: # optional eg ./images/loading.gif  isSPA: false # optional  preloadRatio: 3 # optional, default is 1\n\n\n\n\nonlypost\n\ntrueï¼šåªæœ‰è·¯ç”±é¡µé¢æˆ–è€…æ–‡ç« çš„å›¾ç‰‡æ‰ä¼šè¢«æ‡’åŠ è½½ã€‚\n\nfalseï¼šé™¤äº†ç«™ç‚¹èƒŒæ™¯å›¾ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œæ•´ä¸ªç«™ç‚¹çš„å›¾ç‰‡å‡ä¼šè¢«æ‡’åŠ è½½ã€‚\n\n\n\nloadingImgï¼šæŒ‡å®šçš„è¯ï¼ŒåŠ è½½è‡ªå®šä¹‰è·¯å¾„çš„å›¾ç‰‡ç”¨ä½œæ–‡ç« å›¾ç‰‡åŠ è½½æ—¶æ˜¾ç¤ºï¼Œä¸æŒ‡å®šçš„è¯æ˜¾ç¤ºé»˜è®¤å›¾ç‰‡ã€‚\n\nisSPA\n\ntrueï¼šé’ˆå¯¹å•é¡µé¢åº”ç”¨ï¼Œå½“æ»šåŠ¨æ¡æ»šåŠ¨åˆ°å›¾ç‰‡ä½ç½®æ—¶å°±ä¼šå‘åç«¯è¯·æ±‚å›¾ç‰‡\nfalseï¼šåˆ·æ–°æ‰èƒ½è¯·æ±‚å›¾ç‰‡\n\n\npreloadRatioï¼šåœ¨å¤šå°‘å€çš„å¯è§åŒºåŸŸæ—¶è§¦å‘å›¾ç‰‡è¯·æ±‚ï¼Œé»˜è®¤ä¸º1ï¼Œå³å½“å‰å±å¹•çš„åŒºåŸŸã€‚\n\n\n","categories":["Hexo"],"tags":["Hexo"]},{"title":"Hexo+Butterfly è‡ªå®šä¹‰å³é”®èœå•","url":"/2024/01/24/learnnote/hexo-bo-ke-da-jian-jiao-cheng/hexo-butterfly-zi-ding-yi-you-jian-cai-dan/","content":"Hexo+Butterfly è‡ªå®šä¹‰å³é”®èœå•\næ•ˆæœå±•ç¤ºï¼š\næ­¥éª¤1.åˆ›å»ºå¸ƒå±€æ–‡ä»¶åœ¨[åšå®¢æ ¹ç›®å½•]/themes/butterfly/layout/includesæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªright-menuçš„æ–‡ä»¶å¤¹ï¼Œåœ¨æ­¤æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªindex.pugæ–‡ä»¶ã€‚\n\nå°†ä»¥ä¸‹ä»£ç å¤åˆ¶åˆ°æ–‡ä»¶ä¸­ï¼š\n#rightMenu    .rightMenu-group.rightMenu-small        .rightMenu-item#menu-backward            i.fa-solid.fa-arrow-left        .rightMenu-item#menu-forward            i.fa-solid.fa-arrow-right        .rightMenu-item#menu-refresh            i.fa-solid.fa-arrow-rotate-right        .rightMenu-item#menu-home            i.fa-solid.fa-house    .rightMenu-group.rightMenu-line.rightMenuOther        a.rightMenu-item.menu-link(href='/archives/')            i.fa-solid.fa-archive            span='æ–‡ç« å½’æ¡£'        a.rightMenu-item.menu-link(href='/categories/')            i.fa-solid.fa-folder-open            span='æ–‡ç« åˆ†ç±»'        a.rightMenu-item.menu-link(href='/tags/')            i.fa-solid.fa-tags            span='æ–‡ç« æ ‡ç­¾'    .rightMenu-group.rightMenu-line.rightMenuNormal        a.rightMenu-item.menu-link#menu-radompage(href='/random/index.html')            i.fa-solid.fa-shoe-prints            span='éšä¾¿é€›é€›'        .rightMenu-item#menu-translate            i.fa-solid.fa-earth-asia            span='ç¹ç®€åˆ‡æ¢'        .rightMenu-item#menu-darkmode            i.fa-solid.fa-moon            span='åˆ‡æ¢æ¨¡å¼'#rightmenu-mask\n\n\n\n2. å¼•å…¥å¸ƒå±€åœ¨[åšå®¢æ ¹ç›®å½•]/themes/butterfly/layout/includes/layout.pugä¸­å¼•å…¥ä¸Šä¸€æ­¥ä¸­åˆ›å»ºçš„index.pugæ–‡ä»¶ã€‚å…·ä½“ä½ç½®å¦‚ä¸‹å›¾ï¼š\n\n3. åˆ›å»ºjsåœ¨[åšå®¢æ ¹ç›®å½•]/themes/butterfly/source/jsæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªrightMenu.jsï¼Œå°†ä»¥ä¸‹ä»£ç å¤åˆ¶åˆ°æ–‡ä»¶ä¸­ã€‚\nvar rm = {};rm.showRightMenu = function (isTrue, x = 0, y = 0) {    let $rightMenu = $('#rightMenu');    $rightMenu.css('top', x + 'px').css('left', y + 'px');    if (isTrue) {        stopMaskScroll()        $rightMenu.show();    } else {        $rightMenu.hide();    }};let rmWidth = $('#rightMenu').width();let rmHeight = $('#rightMenu').height();rm.reloadrmSize = function () {    rmWidth = $(\"#rightMenu\").width();    rmHeight = $(\"#rightMenu\").height()};window.oncontextmenu = function (event) {    if (document.body.clientWidth &gt; 768) {        let pageX = event.clientX + 10;\t        let pageY = event.clientY;        let $rightMenuNormal = $(\".rightMenuNormal\");        let $rightMenuOther = $(\".rightMenuOther\");        let $rightMenuReadmode = $(\"#menu-readmode\");        $rightMenuNormal.show();        $rightMenuOther.show();        rm.reloadrmSize();        if (pageX + rmWidth &gt; window.innerWidth) {            pageX -= rmWidth;        }        if (pageY + rmHeight &gt; window.innerHeight) {            pageY -= rmHeight;        }        rm.showRightMenu(true, pageY, pageX);        $('#rightmenu-mask').attr('style', 'display: flex');        return false;    }};function removeRightMenu() {    rm.showRightMenu(false);    $('#rightmenu-mask').attr('style', 'display: none');}function stopMaskScroll() {    if (document.getElementById(\"rightmenu-mask\")) {        let xscroll = document.getElementById(\"rightmenu-mask\");        xscroll.addEventListener(\"mousewheel\", function (e) {            removeRightMenu();        }, false);    };    if (document.getElementById(\"rightMenu\")) {        let xscroll = document.getElementById(\"rightMenu\");        xscroll.addEventListener(\"mousewheel\", function (e) {            removeRightMenu();        }, false);    }}/** * @name:  åˆ‡æ›æ¨¡å¼ */function switchDarkMode() {    removeRightMenu();    const nowMode = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light'    if (nowMode === 'light') {        activateDarkMode();        saveToLocal.set('theme', 'dark', 2);        GLOBAL_CONFIG.Snackbar !== undefined &amp;&amp; btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night);    } else {        activateLightMode();        saveToLocal.set('theme', 'light', 2);        GLOBAL_CONFIG.Snackbar !== undefined &amp;&amp; btf.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day);    }    typeof utterancesTheme === 'function' &amp;&amp; utterancesTheme();    typeof FB === 'object' &amp;&amp; window.loadFBComment();    window.DISQUS &amp;&amp; document.getElementById('disqus_thread').children.length &amp;&amp; setTimeout(() =&gt; window.disqusReset(), 200);};/* eslint-disable no-undef */document.addEventListener('DOMContentLoaded', function () {    translateInitialization();    document.addEventListener('pjax:complete', translateInitialization);});const translate = GLOBAL_CONFIG.translate;const snackbarData = GLOBAL_CONFIG.Snackbar;const defaultEncoding = translate.defaultEncoding; /* ç¶²ç«™é»˜èªèªè¨€ï¼Œ1: ç¹é«”ä¸­æ–‡, 2: ç°¡é«”ä¸­æ–‡ */const translateDelay = translate.translateDelay; /* å»¶é²æ™‚é–“,è‹¥ä¸åœ¨å‰, è¦è¨­å®šå»¶é²ç¿»è­¯æ™‚é–“, å¦‚100è¡¨ç¤º100ms,é»˜èªç‚º0 */const msgToTraditionalChinese = translate.msgToTraditionalChinese; /* æ­¤è™•å¯ä»¥æ›´æ”¹ç‚ºä½ æƒ³è¦é¡¯ç¤ºçš„æ–‡å­— */const msgToSimplifiedChinese = translate.msgToSimplifiedChinese; /* åŒä¸Šï¼Œä½†å…©è™•å‡ä¸å»ºè­°æ›´æ”¹ */let currentEncoding = defaultEncoding;const targetEncodingCookie = 'translate-chn-cht';let targetEncoding =    saveToLocal.get(targetEncodingCookie) === undefined        ? defaultEncoding        : Number(saveToLocal.get('translate-chn-cht'));let translateButtonObjectconst isSnackbar = GLOBAL_CONFIG.Snackbar !== undefined;function translateText(txt) {    if (txt === '' || txt == null) return '';    if (currentEncoding === 1 &amp;&amp; targetEncoding === 2) return Simplized(txt);    else if (currentEncoding === 2 &amp;&amp; targetEncoding === 1) { return Traditionalized(txt) } else return txt;}function translateBody(fobj) {    let objs;    if (typeof fobj === 'object') objs = fobj.childNodes;    else objs = document.body.childNodes;    for (let i = 0; i &lt; objs.length; i++) {        const obj = objs.item(i);        if (            '||BR|HR|'.indexOf('|' + obj.tagName + '|') &gt; 0 ||            obj === translateButtonObject        ) { continue }        if (obj.title !== '' &amp;&amp; obj.title != null) { obj.title = translateText(obj.title) };        if (obj.alt !== '' &amp;&amp; obj.alt != null) obj.alt = translateText(obj.alt);        if (obj.placeholder !== '' &amp;&amp; obj.placeholder != null) obj.placeholder = translateText(obj.placeholder);        if (            obj.tagName === 'INPUT' &amp;&amp;            obj.value !== '' &amp;&amp;            obj.type !== 'text' &amp;&amp;            obj.type !== 'hidden'        ) { obj.value = translateText(obj.value) }        if (obj.nodeType === 3) obj.data = translateText(obj.data);        else translateBody(obj);    }}function translatePage() {    if (targetEncoding === 1) {        currentEncoding = 1;        targetEncoding = 2;        saveToLocal.set(targetEncodingCookie, targetEncoding, 2);        translateBody();        if (isSnackbar) btf.snackbarShow(snackbarData.cht_to_chs);    } else if (targetEncoding === 2) {        currentEncoding = 2;        targetEncoding = 1;        saveToLocal.set(targetEncodingCookie, targetEncoding, 2);        translateBody();        if (isSnackbar) btf.snackbarShow(snackbarData.chs_to_cht);    }}function JTPYStr() {    return 'ä¸‡ä¸ä¸‘ä¸“ä¸šä¸›ä¸œä¸ä¸¢ä¸¤ä¸¥ä¸§ä¸ªä¸¬ä¸°ä¸´ä¸ºä¸½ä¸¾ä¹ˆä¹‰ä¹Œä¹ä¹”ä¹ ä¹¡ä¹¦ä¹°ä¹±äº‰äºäºäº‘äº˜äºšäº§äº©äº²äºµäº¸äº¿ä»…ä»ä»‘ä»“ä»ªä»¬ä»·ä¼—ä¼˜ä¼™ä¼šä¼›ä¼ä¼Ÿä¼ ä¼¤ä¼¥ä¼¦ä¼§ä¼ªä¼«ä½“ä½™ä½£ä½¥ä¾ ä¾£ä¾¥ä¾¦ä¾§ä¾¨ä¾©ä¾ªä¾¬ä¿£ä¿¦ä¿¨ä¿©ä¿ªä¿­å€ºå€¾å¬å»å¾å¿å‚¥å‚§å‚¨å‚©å„¿å…‘å…–å…šå…°å…³å…´å…¹å…»å…½å†å†…å†ˆå†Œå†™å†›å†œå†¢å†¯å†²å†³å†µå†»å‡€å‡„å‡‰å‡Œå‡å‡‘å‡›å‡ å‡¤å‡«å‡­å‡¯å‡»å‡¼å‡¿åˆåˆ’åˆ˜åˆ™åˆšåˆ›åˆ åˆ«åˆ¬åˆ­åˆ½åˆ¿å‰€å‰‚å‰å‰‘å‰¥å‰§åŠåŠåŠ¡åŠ¢åŠ¨åŠ±åŠ²åŠ³åŠ¿å‹‹å‹å‹šåŒ€åŒ¦åŒ®åŒºåŒ»ååå•å–å¢å¤å§å«å´åºå‚å…å†å‰å‹åŒåå•å¢å£å¦å¨å©å®å¿å‚å†å‡åŒå‘å˜å™å å¶å·å¹å½ååå“å•å—å£å¨å¬å¯å´å‘’å‘“å‘•å‘–å‘—å‘˜å‘™å‘›å‘œå’å’”å’™å’›å’å’¤å’´å’¸å“Œå“å“‘å“’å““å“”å“•å“—å“™å“œå“å“Ÿå”›å”å” å”¡å”¢å”£å”¤å”¿å•§å•¬å•­å•®å•°å•´å•¸å–·å–½å–¾å—«å‘µå—³å˜˜å˜¤å˜±å™œå™¼åš£åš¯å›¢å›­å›±å›´å›µå›½å›¾åœ†åœ£åœ¹åœºå‚åå—åšå›åœåååŸå å„å…å†å’å¦å§å©å«å­å¯å±å²å´åŸ˜åŸ™åŸšåŸåŸ¯å ‘å •å¡†å¢™å£®å£°å£³å£¶å£¸å¤„å¤‡å¤å¤Ÿå¤´å¤¸å¤¹å¤ºå¥å¥‚å¥‹å¥–å¥¥å¦†å¦‡å¦ˆå¦©å¦ªå¦«å§—å§œå¨„å¨…å¨†å¨‡å¨ˆå¨±å¨²å¨´å©³å©´å©µå©¶åªªå«’å«”å«±å¬·å­™å­¦å­ªå®å®å®å® å®¡å®ªå®«å®½å®¾å¯å¯¹å¯»å¯¼å¯¿å°†å°”å°˜å°§å°´å°¸å°½å±‚å±ƒå±‰å±Šå±å±¡å±¦å±¿å²å²‚å²–å²—å²˜å²™å²šå²›å²­å²³å²½å²¿å³ƒå³„å³¡å³£å³¤å³¥å³¦å´‚å´ƒå´„å´­åµ˜åµšåµ›åµåµ´å·…å·©å·¯å¸å¸…å¸ˆå¸å¸å¸˜å¸œå¸¦å¸§å¸®å¸±å¸»å¸¼å¹‚å¹å¹²å¹¶å¹¿åº„åº†åºåº‘åº“åº”åº™åºåºŸåº¼å»ªå¼€å¼‚å¼ƒå¼ å¼¥å¼ªå¼¯å¼¹å¼ºå½’å½“å½•å½Ÿå½¦å½»å¾„å¾•å¾¡å¿†å¿å¿§å¿¾æ€€æ€æ€‚æ€ƒæ€„æ€…æ€†æ€œæ€»æ€¼æ€¿æ‹æ³æ¶æ¸æ¹æºæ»æ¼æ½æ‚¦æ‚«æ‚¬æ‚­æ‚¯æƒŠæƒ§æƒ¨æƒ©æƒ«æƒ¬æƒ­æƒ®æƒ¯æ„æ„ æ„¤æ„¦æ„¿æ…‘æ…­æ†·æ‡‘æ‡’æ‡”æˆ†æˆ‹æˆæˆ—æˆ˜æˆ¬æˆ·æ‰æ‰‘æ‰¦æ‰§æ‰©æ‰ªæ‰«æ‰¬æ‰°æŠšæŠ›æŠŸæŠ æŠ¡æŠ¢æŠ¤æŠ¥æ‹…æ‹Ÿæ‹¢æ‹£æ‹¥æ‹¦æ‹§æ‹¨æ‹©æŒ‚æŒšæŒ›æŒœæŒæŒæŒŸæŒ æŒ¡æŒ¢æŒ£æŒ¤æŒ¥æŒ¦ææŸæ¡æ¢æ£æ®æ»æ³æ´æ·æ¸æºæ¼æ¸æ½æ¿æ€ææ‚æ…æºæ‘„æ‘…æ‘†æ‘‡æ‘ˆæ‘Šæ’„æ’‘æ’µæ’·æ’¸æ’ºæ“æ”’æ•Œæ•›æ•°æ–‹æ–“æ–—æ–©æ–­æ— æ—§æ—¶æ—·æ—¸æ˜™æ˜¼æ˜½æ˜¾æ™‹æ™’æ™“æ™”æ™•æ™–æš‚æš§æœ­æœ¯æœ´æœºæ€æ‚æƒæ¡æ¥æ¨æ©æ°ææ„ææ¢æ£æ¥æ§æ¨æªæ«æ­æŸœæŸ æŸ½æ €æ …æ ‡æ ˆæ ‰æ Šæ ‹æ Œæ æ æ ‘æ –æ ·æ ¾æ¡Šæ¡ æ¡¡æ¡¢æ¡£æ¡¤æ¡¥æ¡¦æ¡§æ¡¨æ¡©æ¢¦æ¢¼æ¢¾æ£€æ£‚æ¤æ¤Ÿæ¤ æ¤¤æ¤­æ¥¼æ¦„æ¦‡æ¦ˆæ¦‰æ§šæ§›æ§Ÿæ§ æ¨ªæ¨¯æ¨±æ©¥æ©±æ©¹æ©¼æªæª©æ¬¢æ¬¤æ¬§æ­¼æ®æ®‡æ®‹æ®’æ®“æ®šæ®¡æ®´æ¯æ¯‚æ¯•æ¯™æ¯¡æ¯µæ°‡æ°”æ°¢æ°©æ°²æ±‡æ±‰æ±¡æ±¤æ±¹æ²“æ²Ÿæ²¡æ²£æ²¤æ²¥æ²¦æ²§æ²¨æ²©æ²ªæ²µæ³æ³ªæ³¶æ³·æ³¸æ³ºæ³»æ³¼æ³½æ³¾æ´æ´’æ´¼æµƒæµ…æµ†æµ‡æµˆæµ‰æµŠæµ‹æµæµæµæµæµ‘æµ’æµ“æµ”æµ•æ¶‚æ¶Œæ¶›æ¶æ¶æ¶Ÿæ¶ æ¶¡æ¶¢æ¶£æ¶¤æ¶¦æ¶§æ¶¨æ¶©æ·€æ¸Šæ¸Œæ¸æ¸æ¸æ¸‘æ¸”æ¸–æ¸—æ¸©æ¸¸æ¹¾æ¹¿æºƒæº…æº†æº‡æ»—æ»šæ»æ»Ÿæ» æ»¡æ»¢æ»¤æ»¥æ»¦æ»¨æ»©æ»ªæ¼¤æ½†æ½‡æ½‹æ½æ½œæ½´æ¾œæ¿‘æ¿’çç­ç¯çµç¾ç¿ç‚€ç‚‰ç‚–ç‚œç‚ç‚¹ç‚¼ç‚½çƒçƒ‚çƒƒçƒ›çƒŸçƒ¦çƒ§çƒ¨çƒ©çƒ«çƒ¬çƒ­ç„•ç„–ç„˜ç……ç…³ç†˜çˆ±çˆ·ç‰ç‰¦ç‰µç‰ºçŠŠçŠŸçŠ¶çŠ·çŠ¸çŠ¹ç‹ˆç‹ç‹ç‹ç‹¬ç‹­ç‹®ç‹¯ç‹°ç‹±ç‹²çŒƒçŒçŒ•çŒ¡çŒªçŒ«çŒ¬çŒ®ç­ç‘ç™çšç›ç®ç¯ç°ç±çºç‰ççç‘ç°ç²çççç¼ç‘¶ç‘·ç’‡ç’ç“’ç“®ç“¯ç”µç”»ç•…ç•²ç•´ç––ç–—ç–Ÿç– ç–¡ç–¬ç–®ç–¯ç–±ç–´ç—ˆç—‰ç—’ç—–ç—¨ç—ªç—«ç—´ç˜…ç˜†ç˜—ç˜˜ç˜ªç˜«ç˜¾ç˜¿ç™ç™£ç™«ç™¯çš‘çš±çš²ç›ç›ç›‘ç›–ç›—ç›˜çœçœ¦çœ¬ç€ççç‘ç’ç©çŸ«çŸ¶çŸ¾çŸ¿ç €ç ç –ç —ç šç œç ºç »ç ¾ç¡€ç¡ç¡…ç¡•ç¡–ç¡—ç¡™ç¡šç¡®ç¡·ç¢ç¢›ç¢œç¢±ç¢¹ç£™ç¤¼ç¥ç¥¢ç¥¯ç¥·ç¥¸ç¦€ç¦„ç¦…ç¦»ç§ƒç§†ç§ç§¯ç§°ç§½ç§¾ç¨†ç¨ç¨£ç¨³ç©‘ç©·çªƒçªçª‘çªœçªçª¥çª¦çª­ç«–ç«ç¬ƒç¬‹ç¬”ç¬•ç¬ºç¬¼ç¬¾ç­‘ç­šç­›ç­œç­ç­¹ç­¾ç®€ç®“ç®¦ç®§ç®¨ç®©ç®ªç®«ç¯‘ç¯“ç¯®ç¯±ç°–ç±ç±´ç±»ç±¼ç²œç²ç²¤ç²ªç²®ç³ç³‡ç´§çµ·çºŸçº çº¡çº¢çº£çº¤çº¥çº¦çº§çº¨çº©çºªçº«çº¬çº­çº®çº¯çº°çº±çº²çº³çº´çºµçº¶çº·çº¸çº¹çººçº»çº¼çº½çº¾çº¿ç»€ç»ç»‚ç»ƒç»„ç»…ç»†ç»‡ç»ˆç»‰ç»Šç»‹ç»Œç»ç»ç»ç»ç»‘ç»’ç»“ç»”ç»•ç»–ç»—ç»˜ç»™ç»šç»›ç»œç»ç»ç»Ÿç» ç»¡ç»¢ç»£ç»¤ç»¥ç»¦ç»§ç»¨ç»©ç»ªç»«ç»¬ç»­ç»®ç»¯ç»°ç»±ç»²ç»³ç»´ç»µç»¶ç»·ç»¸ç»¹ç»ºç»»ç»¼ç»½ç»¾ç»¿ç¼€ç¼ç¼‚ç¼ƒç¼„ç¼…ç¼†ç¼‡ç¼ˆç¼‰ç¼Šç¼‹ç¼Œç¼ç¼ç¼ç¼ç¼‘ç¼’ç¼“ç¼”ç¼•ç¼–ç¼—ç¼˜ç¼™ç¼šç¼›ç¼œç¼ç¼ç¼Ÿç¼ ç¼¡ç¼¢ç¼£ç¼¤ç¼¥ç¼¦ç¼§ç¼¨ç¼©ç¼ªç¼«ç¼¬ç¼­ç¼®ç¼¯ç¼°ç¼±ç¼²ç¼³ç¼´ç¼µç½‚ç½‘ç½—ç½šç½¢ç½´ç¾ç¾Ÿç¾¡ç¿˜ç¿™ç¿šè€¢è€§è€¸è€»è‚è‹èŒèè”è©èªè‚ƒè‚ è‚¤è‚·è‚¾è‚¿èƒ€èƒèƒ†èƒœèƒ§èƒ¨èƒªèƒ«èƒ¶è„‰è„è„è„è„‘è„“è„”è„šè„±è„¶è„¸è…Šè…Œè…˜è…­è…»è…¼è…½è…¾è†‘è‡œèˆ†èˆ£èˆ°èˆ±èˆ»è‰°è‰³è‰¹è‰ºèŠ‚èŠˆèŠ—èŠœèŠ¦è‹è‹‡è‹ˆè‹‹è‹Œè‹è‹è‹è‹˜è‹¹èŒèŒèŒ‘èŒ”èŒ•èŒ§è†èè™èšè›èœèèŸè è¡è£è¤è¥è¦è§è¨è©èªè«è¬è­è®è¯è…èœè±è²è³è´è¶è·è¸è¹èºè¼èšèè¤è¥è¦è§è¨è‘±è’‡è’‰è’‹è’Œè“è“Ÿè“ è“£è“¥è“¦è”·è”¹è”ºè”¼è•²è•´è–®è—è—“è™è™‘è™šè™«è™¬è™®è™½è™¾è™¿èš€èšèš‚èš•èšèš¬è›Šè›è›è›®è›°è›±è›²è›³è›´èœ•èœ—èœ¡è‡èˆè‰èè¼è¾è€è¨èŸè¡…è¡”è¡¥è¡¬è¡®è¢„è¢…è¢†è¢œè¢­è¢¯è£…è£†è£ˆè£¢è££è£¤è£¥è¤›è¤´è¥è¥•è§è§‚è§ƒè§„è§…è§†è§‡è§ˆè§‰è§Šè§‹è§Œè§è§è§è§è§‘è§è§¦è§¯è©Ÿèª‰èªŠè® è®¡è®¢è®£è®¤è®¥è®¦è®§è®¨è®©è®ªè®«è®­è®®è®¯è®°è®±è®²è®³è®´è®µè®¶è®·è®¸è®¹è®ºè®»è®¼è®½è®¾è®¿è¯€è¯è¯‚è¯ƒè¯„è¯…è¯†è¯‡è¯ˆè¯‰è¯Šè¯‹è¯Œè¯è¯è¯è¯è¯‘è¯’è¯“è¯”è¯•è¯–è¯—è¯˜è¯™è¯šè¯›è¯œè¯è¯è¯Ÿè¯ è¯¡è¯¢è¯£è¯¤è¯¥è¯¦è¯§è¯¨è¯©è¯ªè¯«è¯¬è¯­è¯®è¯¯è¯°è¯±è¯²è¯³è¯´è¯µè¯¶è¯·è¯¸è¯¹è¯ºè¯»è¯¼è¯½è¯¾è¯¿è°€è°è°‚è°ƒè°„è°…è°†è°‡è°ˆè°Šè°‹è°Œè°è°è°è°è°‘è°’è°“è°”è°•è°–è°—è°˜è°™è°šè°›è°œè°è°è°Ÿè° è°¡è°¢è°£è°¤è°¥è°¦è°§è°¨è°©è°ªè°«è°¬è°­è°®è°¯è°°è°±è°²è°³è°´è°µè°¶è°·è±®è´è´è´Ÿè´ è´¡è´¢è´£è´¤è´¥è´¦è´§è´¨è´©è´ªè´«è´¬è´­è´®è´¯è´°è´±è´²è´³è´´è´µè´¶è´·è´¸è´¹è´ºè´»è´¼è´½è´¾è´¿èµ€èµèµ‚èµƒèµ„èµ…èµ†èµ‡èµˆèµ‰èµŠèµ‹èµŒèµèµèµèµèµ‘èµ’èµ“èµ”èµ•èµ–èµ—èµ˜èµ™èµšèµ›èµœèµèµèµŸèµ èµ¡èµ¢èµ£èµªèµµèµ¶è¶‹è¶±è¶¸è·ƒè·„è·–è·è·µè·¶è··è·¸è·¹è·»è¸Šè¸Œè¸ªè¸¬è¸¯è¹‘è¹’è¹°è¹¿èºèºœèº¯è½¦è½§è½¨è½©è½ªè½«è½¬è½­è½®è½¯è½°è½±è½²è½³è½´è½µè½¶è½·è½¸è½¹è½ºè½»è½¼è½½è½¾è½¿è¾€è¾è¾‚è¾ƒè¾„è¾…è¾†è¾‡è¾ˆè¾‰è¾Šè¾‹è¾Œè¾è¾è¾è¾è¾‘è¾’è¾“è¾”è¾•è¾–è¾—è¾˜è¾™è¾šè¾è¾©è¾«è¾¹è¾½è¾¾è¿è¿‡è¿ˆè¿è¿˜è¿™è¿›è¿œè¿è¿è¿Ÿè¿©è¿³è¿¹é€‚é€‰é€Šé€’é€¦é€»é—é¥é‚“é‚é‚¬é‚®é‚¹é‚ºé‚»éƒéƒ„éƒéƒéƒ‘éƒ“éƒ¦éƒ§éƒ¸é…é…¦é…±é…½é…¾é…¿é‡Šé‡Œé‰…é‰´éŠ®éŒ¾é’†é’‡é’ˆé’‰é’Šé’‹é’Œé’é’é’é’é’‘é’’é’“é’”é’•é’–é’—é’˜é’™é’šé’›é’é’é’Ÿé’ é’¡é’¢é’£é’¤é’¥é’¦é’§é’¨é’©é’ªé’«é’¬é’­é’®é’¯é’°é’±é’²é’³é’´é’µé’¶é’·é’¸é’¹é’ºé’»é’¼é’½é’¾é’¿é“€é“é“‚é“ƒé“„é“…é“†é“ˆé“‰é“Šé“‹é“é“é“é“é“‘é“’é“•é“—é“˜é“™é“šé“›é“œé“é“é“Ÿé“ é“¡é“¢é“£é“¤é“¥é“¦é“§é“¨é“ªé“«é“¬é“­é“®é“¯é“°é“±é“²é“³é“´é“µé“¶é“·é“¸é“¹é“ºé“»é“¼é“½é“¾é“¿é”€é”é”‚é”ƒé”„é”…é”†é”‡é”ˆé”‰é”Šé”‹é”Œé”é”é”é”é”‘é”’é”“é””é”•é”–é”—é”™é”šé”œé”é”Ÿé” é”¡é”¢é”£é”¤é”¥é”¦é”¨é”©é”«é”¬é”­é”®é”¯é”°é”±é”²é”³é”´é”µé”¶é”·é”¸é”¹é”ºé”»é”¼é”½é”¾é”¿é•€é•é•‚é•ƒé•†é•‡é•ˆé•‰é•Šé•Œé•é•é•é•é•‘é•’é••é•–é•—é•™é•šé•›é•œé•é•é•Ÿé• é•¡é•¢é•£é•¤é•¥é•¦é•§é•¨é•©é•ªé•«é•¬é•­é•®é•¯é•°é•±é•²é•³é•´é•¶é•¿é—¨é—©é—ªé—«é—¬é—­é—®é—¯é—°é—±é—²é—³é—´é—µé—¶é—·é—¸é—¹é—ºé—»é—¼é—½é—¾é—¿é˜€é˜é˜‚é˜ƒé˜„é˜…é˜†é˜‡é˜ˆé˜‰é˜Šé˜‹é˜Œé˜é˜é˜é˜é˜‘é˜’é˜“é˜”é˜•é˜–é˜—é˜˜é˜™é˜šé˜›é˜Ÿé˜³é˜´é˜µé˜¶é™…é™†é™‡é™ˆé™‰é™•é™§é™¨é™©éšéšéš¶éš½éš¾é›é› é›³é›¾éœéœ‰éœ­é“é™é¥é‘é’é¯é´éŸ¦éŸ§éŸ¨éŸ©éŸªéŸ«éŸ¬éŸµé¡µé¡¶é¡·é¡¸é¡¹é¡ºé¡»é¡¼é¡½é¡¾é¡¿é¢€é¢é¢‚é¢ƒé¢„é¢…é¢†é¢‡é¢ˆé¢‰é¢Šé¢‹é¢Œé¢é¢é¢é¢é¢‘é¢’é¢“é¢”é¢•é¢–é¢—é¢˜é¢™é¢šé¢›é¢œé¢é¢é¢Ÿé¢ é¢¡é¢¢é¢£é¢¤é¢¥é¢¦é¢§é£é£é£é£‘é£’é£“é£”é£•é£–é£—é£˜é£™é£šé£é£¨é¤é¥¤é¥¥é¥¦é¥§é¥¨é¥©é¥ªé¥«é¥¬é¥­é¥®é¥¯é¥°é¥±é¥²é¥³é¥´é¥µé¥¶é¥·é¥¸é¥¹é¥ºé¥»é¥¼é¥½é¥¾é¥¿é¦€é¦é¦‚é¦ƒé¦„é¦…é¦†é¦‡é¦ˆé¦‰é¦Šé¦‹é¦Œé¦é¦é¦é¦é¦‘é¦’é¦“é¦”é¦•é©¬é©­é©®é©¯é©°é©±é©²é©³é©´é©µé©¶é©·é©¸é©¹é©ºé©»é©¼é©½é©¾é©¿éª€éªéª‚éªƒéª„éª…éª†éª‡éªˆéª‰éªŠéª‹éªŒéªéªéªéªéª‘éª’éª“éª”éª•éª–éª—éª˜éª™éªšéª›éªœéªéªéªŸéª éª¡éª¢éª£éª¤éª¥éª¦éª§é«…é«‹é«Œé¬“é­‡é­‰é±¼é±½é±¾é±¿é²€é²é²‚é²„é²…é²†é²‡é²ˆé²‰é²Šé²‹é²Œé²é²é²é²é²‘é²’é²“é²”é²•é²–é²—é²˜é²™é²šé²›é²œé²é²é²Ÿé² é²¡é²¢é²£é²¤é²¥é²¦é²§é²¨é²©é²ªé²«é²¬é²­é²®é²¯é²°é²±é²²é²³é²´é²µé²¶é²·é²¸é²¹é²ºé²»é²¼é²½é²¾é²¿é³€é³é³‚é³ƒé³„é³…é³†é³‡é³ˆé³‰é³Šé³‹é³Œé³é³é³é³é³‘é³’é³“é³”é³•é³–é³—é³˜é³™é³›é³œé³é³é³Ÿé³ é³¡é³¢é³£é¸Ÿé¸ é¸¡é¸¢é¸£é¸¤é¸¥é¸¦é¸§é¸¨é¸©é¸ªé¸«é¸¬é¸­é¸®é¸¯é¸°é¸±é¸²é¸³é¸´é¸µé¸¶é¸·é¸¸é¸¹é¸ºé¸»é¸¼é¸½é¸¾é¸¿é¹€é¹é¹‚é¹ƒé¹„é¹…é¹†é¹‡é¹ˆé¹‰é¹Šé¹‹é¹Œé¹é¹é¹é¹é¹‘é¹’é¹“é¹”é¹•é¹–é¹—é¹˜é¹šé¹›é¹œé¹é¹é¹Ÿé¹ é¹¡é¹¢é¹£é¹¤é¹¥é¹¦é¹§é¹¨é¹©é¹ªé¹«é¹¬é¹­é¹¯é¹°é¹±é¹²é¹³é¹´é¹¾éº¦éº¸é»„é»‰é»¡é»©é»ªé»¾'}function FTPYStr() {    return 'è¬èˆ‡é†œå°ˆæ¥­å¢æ±çµ²ä¸Ÿå…©åš´å–ªå€‹çˆ¿è±è‡¨ç‚ºéº—èˆ‰éº¼ç¾©çƒæ¨‚å–¬ç¿’é„‰æ›¸è²·äº‚çˆ­æ–¼è™§é›²äº™äºç”¢ç•è¦ªè¤»åš²å„„åƒ…å¾ä¾–å€‰å„€å€‘åƒ¹çœ¾å„ªå¤¥æœƒå‚´å‚˜å‰å‚³å‚·å€€å€«å‚–å½ä½‡é«”é¤˜å‚­åƒ‰ä¿ ä¾¶åƒ¥åµå´åƒ‘å„ˆå„•å„‚ä¿å„”å„¼å€†å„·å„‰å‚µå‚¾å‚¯åƒ‚åƒ¨å„Ÿå„»å„å„²å„ºå…’å…Œå…—é»¨è˜­é—œèˆˆèŒ²é¤Šç¸å›…å…§å²¡å†Šå¯«è»è¾²å¡šé¦®è¡æ±ºæ³å‡æ·¨æ·’æ¶¼æ·©æ¸›æ¹Šå‡œå¹¾é³³é³§æ†‘å‡±æ“Šæ°¹é‘¿èŠ»åŠƒåŠ‰å‰‡å‰›å‰µåˆªåˆ¥å‰—å‰„åŠŠåŠŒå‰´åŠ‘å‰®åŠå‰åŠ‡å‹¸è¾¦å‹™å‹±å‹•å‹µå‹å‹å‹¢å‹³çŒ›å‹©å‹»åŒ­åŒ±å€é†«è¯å”å–®è³£ç›§é¹µè‡¥è¡›å»å·¹å» å»³æ›†å²å£“å­å™å»å»‚å´å»ˆå»šå»„å»ç¸£åƒé‰é†é›™ç™¼è®Šæ•˜ç–Šè‘‰è™Ÿæ­å˜°ç±²å¾Œåš‡å‘‚å—å”šå™¸è½å•Ÿå³å˜¸å›ˆå˜”åš¦å”„å“¡å’¼å—†å—šè© å“¢åš¨åš€å™å’å™…é¹¹å‘±éŸ¿å•å™ å˜µå—¶å™¦å˜©å™²åšŒå™¥å–²å˜œå—Šå˜®å•¢å—©å”•å–šå‘¼å˜–å—‡å›€é½§å›‰å˜½å˜¯å™´å˜åš³å›å—¬å™¯å™“åš¶å›‘åš•åŠˆå›‚è¬”åœ˜åœ’å›ªåœåœ‡åœ‹åœ–åœ“è–å£™å ´é˜ªå£å¡Šå …å£‡å£¢å£©å¡¢å¢³å¢œå£Ÿå£Ÿå£šå£˜å¢¾å°å Šå¢ŠåŸ¡å¢¶å£‹å¡å –å¡’å¡¤å å¢Šåµå¡¹å¢®å£ªç‰†å£¯è²æ®¼å£ºå£¼è™•å‚™è¤‡å¤ é ­èª‡å¤¾å¥ªå¥©å¥å¥®çå¥§å¦å©¦åª½å«µå«—åª¯å§è–‘å©å©­å¬ˆå¬Œå­Œå¨›åª§å«»å«¿å¬°å¬‹å¬¸åª¼å¬¡å¬ªå¬™å¬¤å­«å­¸å­¿å¯§å¯¶å¯¦å¯µå¯©æ†²å®®å¯¬è³“å¯¢å°å°‹å°å£½å°‡çˆ¾å¡µå ¯å°·å±ç›¡å±¤å±­å±œå±†å±¬å±¢å±¨å¶¼æ­²è±ˆå¶‡å´—å³´å¶´åµå³¶å¶ºå¶½å´ å·‹å¶¨å¶§å³½å¶¢å¶ å´¢å·’å¶—å´å¶®å¶„å¶¸å¶”å´³å¶è„Šå·”éå·°å¹£å¸¥å¸«å¹ƒå¸³ç°¾å¹Ÿå¸¶å¹€å¹«å¹¬å¹˜å¹—å†ªè¥†å¹¹ä¸¦å»£èŠæ…¶å»¬å»¡åº«æ‡‰å»Ÿé¾å»¢å»å»©é–‹ç•°æ£„å¼µå½Œå¼³å½å½ˆå¼·æ­¸ç•¶éŒ„å½ å½¥å¾¹å¾‘å¾ ç¦¦æ†¶æ‡ºæ†‚æ„¾æ‡·æ…‹æ…«æ†®æ…ªæ‚µæ„´æ†ç¸½æ‡Ÿæ‡Œæˆ€æ‡‡æƒ¡æ…Ÿæ‡¨æ„·æƒ»æƒ±æƒ²æ‚…æ„¨æ‡¸æ…³æ†«é©šæ‡¼æ…˜æ‡²æ†Šæ„œæ…šæ†šæ…£æ¹£æ…æ†¤æ†’é¡˜æ‡¾æ†–æ€µæ‡£æ‡¶æ‡æˆ‡æˆ”æˆ²æˆ§æˆ°æˆ©æˆ¶ç´®æ’²æ‰¡åŸ·æ“´æ«æƒæšæ“¾æ’«æ‹‹æ‘¶æ‘³æ„æ¶è­·å ±æ“”æ“¬æ”æ€æ“æ””æ“°æ’¥æ“‡æ›æ‘¯æ”£æ—æ’¾æ’»æŒ¾æ’“æ“‹æ’Ÿæ™æ“ æ®æ’æ’ˆææ’¿æ›æ—æ“šæ’šæ“„æ‘‘æ“²æ’£æ‘»æ‘œæ‘£æ”¬æ’³æ”™æ“±æ‘Ÿæ”ªæ”œæ”æ”„æ“ºæ–æ“¯æ”¤æ”–æ’æ”†æ“·æ“¼æ”›æ“»æ”¢æ•µæ–‚æ•¸é½‹æ–•é¬¥æ–¬æ–·ç„¡èˆŠæ™‚æ› æš˜æ›‡æ™æ›¨é¡¯æ™‰æ›¬æ›‰æ›„æšˆæš‰æš«æ›–åŠ„è¡“æ¨¸æ©Ÿæ®ºé›œæ¬Šæ¢ä¾†æ¥Šæ¦ªå‚‘æ¥µæ§‹æ¨…æ¨æ£—æ«ªæ¢˜æ£–æ§æ¥“æ¢Ÿæ«ƒæª¸æª‰æ¢”æŸµæ¨™æ£§æ«›æ«³æ£Ÿæ«¨æ«Ÿæ¬„æ¨¹æ£²æ¨£æ¬’æ£¬æ¤æ©ˆæ¥¨æª”æ¦¿æ©‹æ¨ºæªœæ§³æ¨å¤¢æª®æ£¶æª¢æ¬æ§¨æ«æ§§æ¬æ©¢æ¨“æ¬–æ«¬æ«šæ«¸æªŸæª»æª³æ«§æ©«æª£æ«»æ««æ«¥æ«“æ«ç°·æªæ­¡æ­Ÿæ­æ®²æ­¿æ®¤æ®˜æ®æ®®æ®«æ®¯æ¯†æ¯€è½‚ç•¢æ–ƒæ°ˆæ¯¿æ°Œæ°£æ°«æ°¬æ°³å½™æ¼¢æ±™æ¹¯æ´¶éæºæ²’çƒæ¼šç€æ·ªæ»„æ¸¢æºˆæ»¬æ¿”æ¿˜æ·šæ¾©ç€§ç€˜æ¿¼ç€‰æ½‘æ¾¤æ¶‡æ½”ç‘çªªæµ¹æ·ºæ¼¿æ¾†æ¹æº®æ¿æ¸¬æ¾®æ¿Ÿç€æ»»æ¸¾æ»¸æ¿ƒæ½¯æ¿œå¡—æ¹§æ¿¤æ¾‡æ·¶æ¼£æ½¿æ¸¦æº³æ¸™æ»Œæ½¤æ¾—æ¼²æ¾€æ¾±æ·µæ·¥æ¼¬ç€†æ¼¸æ¾ æ¼ç€‹æ»²æº«éŠç£æ¿•æ½°æ¿ºæ¼µæ¼Šæ½·æ»¾æ»¯ç©ç„æ»¿ç€…æ¿¾æ¿«ç¤æ¿±ç˜æ¾¦æ¿«ç€ ç€Ÿç€²æ¿°æ½›ç€¦ç€¾ç€¨ç€•çæ»…ç‡ˆéˆç½ç‡¦ç…¬çˆç‡‰ç…’ç†—é»ç…‰ç†¾çˆçˆ›çƒ´ç‡­ç…™ç…©ç‡’ç‡ç‡´ç‡™ç‡¼ç†±ç…¥ç‡œç‡¾ç…†ç³Šæºœæ„›çˆºç‰˜çŠ›ç‰½çŠ§çŠ¢å¼·ç‹€ç·ççŒ¶ç‹½éº…ç®ç°ç¨ç‹¹ç…çªçŒ™ç„çŒ»ç«çµç¼ç€è±¬è²“èŸç»çºç’£ç’µç‘’ç‘ªç‘‹ç’°ç¾ç‘²ç’½ç‘‰ç¨çºç“ç’«ç¿ç’¡ç’‰ç‘£ç“Šç‘¤ç’¦ç’¿ç“”ç“šç”•ç”Œé›»ç•«æš¢ä½˜ç–‡ç™¤ç™‚ç˜§ç™˜ç˜é¬ç˜¡ç˜‹çš°å±™ç™°ç—™ç™¢ç˜‚ç™†ç˜“ç™‡ç™¡ç™‰ç˜®ç˜ç˜ºç™Ÿç™±ç™®ç™­ç™©ç™¬ç™²è‡’çššçšºçš¸ç›é¹½ç›£è“‹ç›œç›¤ç˜çœ¥çŸ“è‘—çœçç¼ççŸšçŸ¯ç£¯ç¤¬ç¤¦ç¢­ç¢¼ç£šç¡¨ç¡¯ç¢¸ç¤ªç¤±ç¤«ç¤ç¡œçŸ½ç¢©ç¡¤ç£½ç£‘ç¤„ç¢ºé¹¼ç¤™ç£§ç££å ¿é•Ÿæ»¾ç¦®ç¦•ç¦°ç¦ç¦±ç¦ç¨Ÿç¥¿ç¦ªé›¢ç¦¿ç¨ˆç¨®ç©ç¨±ç©¢ç© ç©­ç¨…ç©Œç©©ç©¡çª®ç«Šç«…çª¯ç«„çª©çªºç«‡çª¶è±ç«¶ç¯¤ç­ç­†ç­§ç®‹ç± ç±©ç¯‰ç¯³ç¯©ç°¹ç®ç±Œç°½ç°¡ç±™ç°€ç¯‹ç±œç±®ç°ç°«ç°£ç°ç±ƒç±¬ç±ªç±Ÿç³´é¡ç§ˆç³¶ç³²ç²µç³ç³§ç³é¤±ç·Šç¸¶ç³¸ç³¾ç´†ç´…ç´‚çº–ç´‡ç´„ç´šç´ˆçºŠç´€ç´‰ç·¯ç´œç´˜ç´”ç´•ç´—ç¶±ç´ç´ç¸±ç¶¸ç´›ç´™ç´‹ç´¡ç´µç´–ç´ç´“ç·šç´ºçµç´±ç·´çµ„ç´³ç´°ç¹”çµ‚ç¸çµ†ç´¼çµ€ç´¹ç¹¹ç¶“ç´¿ç¶çµ¨çµçµç¹çµ°çµç¹ªçµ¦çµ¢çµ³çµ¡çµ•çµçµ±ç¶†ç¶ƒçµ¹ç¹¡ç¶Œç¶çµ›ç¹¼ç¶ˆç¸¾ç·’ç¶¾ç·“çºŒç¶ºç·‹ç¶½ç·”ç·„ç¹©ç¶­ç¶¿ç¶¬ç¹ƒç¶¢ç¶¯ç¶¹ç¶£ç¶œç¶»ç¶°ç¶ ç¶´ç·‡ç·™ç·—ç·˜ç·¬çºœç·¹ç·²ç·ç¸•ç¹¢ç·¦ç¶ç·ç·¶ç·šç·±ç¸‹ç·©ç· ç¸·ç·¨ç·¡ç·£ç¸‰ç¸›ç¸Ÿç¸ç¸«ç¸—ç¸çºç¸­ç¸Šç¸‘ç¹½ç¸¹ç¸µç¸²çº“ç¸®ç¹†ç¹…çºˆç¹šç¹•ç¹’éŸç¹¾ç¹°ç¹¯ç¹³çº˜ç½Œç¶²ç¾…ç½°ç½·ç¾†ç¾ˆç¾¥ç¾¨ç¿¹ç¿½ç¿¬è€®è€¬è³æ¥è¶è¾è·è¹è¯èµè°è‚…è…¸è†šè†è…è…«è„¹è„…è†½å‹æœ§è…–è‡šè„›è† è„ˆè†¾é«’è‡è…¦è†¿è‡ è…³è„«è…¡è‡‰è‡˜é†ƒè†•é½¶è†©é¦è†ƒé¨°è‡è‡¢è¼¿è‰¤è‰¦è‰™è‰«è‰±è±”è‰¸è—ç¯€ç¾‹è–Œè•ªè˜†è“¯è‘¦è—¶è§è‡è’¼è‹§è˜‡æª¾è˜‹è–è˜¢è”¦å¡‹ç…¢ç¹­èŠè–¦è–˜è¢è•˜è“½è•è–ˆè–ºè•©æ¦®è‘·æ»çŠ–ç†’è•è—è“€è”­è•’è‘’è‘¤è—¥è’è“§èŠè“®è’”èµè–Ÿç²è••ç‘©é¶¯è“´è˜€è˜¿è¢ç‡Ÿç¸ˆè•­è–©è”¥è•†è•¢è”£è”è—è–Šè˜ºè•·é£é©€è–”è˜è—ºè—¹è˜„è˜Šè—ªæ§è˜šè™œæ…®è™›èŸ²è™¯èŸ£é›–è¦è †è•èŸ»èè ¶è ”èœ†è ±è £èŸ¶è »èŸ„è›ºèŸ¯è„è è›»è¸è Ÿè …èŸˆèŸ¬è è»è ‘è¿èŸè ¨é‡éŠœè£œè¥¯è¢è¥–å«‹è¤˜è¥ªè¥²è¥è£è¥ è¤Œè¤³è¥è¤²è¥‡è¤¸è¥¤ç¹ˆè¥´è¦‹è§€è¦è¦è¦“è¦–è¦˜è¦½è¦ºè¦¬è¦¡è¦¿è¦¥è¦¦è¦¯è¦²è¦·è§´è§¸è§¶è®‹è­½è¬„è¨è¨ˆè¨‚è¨ƒèªè­è¨è¨Œè¨è®“è¨•è¨–è¨“è­°è¨Šè¨˜è¨’è¬›è«±è¬³è©è¨è¨¥è¨±è¨›è«–è¨©è¨Ÿè«·è¨­è¨ªè¨£è­‰è©è¨¶è©•è©›è­˜è©—è©è¨´è¨ºè©†è¬…è©è©˜è©”è©–è­¯è©’èª†èª„è©¦è©¿è©©è©°è©¼èª èª…è©µè©±èª•è©¬è©®è©­è©¢è©£è«è©²è©³è©«è«¢è©¡è­¸èª¡èª£èªèªšèª¤èª¥èª˜èª¨èª‘èªªèª¦èª’è«‹è«¸è«è«¾è®€è«‘èª¹èª²è«‰è«›èª°è«—èª¿è«‚è«’è«„èª¶è«‡èª¼è¬€è«¶è«œè¬Šè««è«§è¬”è¬è¬‚è«¤è«­è«¼è®’è«®è«³è«ºè«¦è¬è«è«è¬¨è®œè¬–è¬è¬ è¬—è«¡è¬™è¬è¬¹è¬¾è¬«è­¾è¬¬è­šè­–è­™è®•è­œè­è®è­´è­«è®–ç©€è±¶è²è²è² è²Ÿè²¢è²¡è²¬è³¢æ•—è³¬è²¨è³ªè²©è²ªè²§è²¶è³¼è²¯è²«è²³è³¤è³è²°è²¼è²´è²ºè²¸è²¿è²»è³€è²½è³Šè´„è³ˆè³„è²²è³ƒè³‚è´“è³‡è³…è´è³•è³‘è³šè³’è³¦è³­é½è´–è³è³œè´”è³™è³¡è³ è³§è³´è³µè´…è³»è³ºè³½è³¾è´—è®šè´‡è´ˆè´è´è´›èµ¬è¶™è¶•è¶¨è¶²èº‰èºè¹Œè¹ èº’è¸èº‚è¹ºè¹•èºšèº‹è¸´èºŠè¹¤èº“èº‘èº¡è¹£èº•èº¥èºªèº¦è»€è»Šè»‹è»Œè»’è»‘è»”è½‰è»›è¼ªè»Ÿè½Ÿè»²è»»è½¤è»¸è»¹è»¼è»¤è»«è½¢è»ºè¼•è»¾è¼‰è¼Šè½è¼ˆè¼‡è¼…è¼ƒè¼’è¼”è¼›è¼¦è¼©è¼è¼¥è¼è¼¬è¼Ÿè¼œè¼³è¼»è¼¯è½€è¼¸è½¡è½…è½„è¼¾è½†è½è½”è¾­è¾¯è¾®é‚Šé¼é”é·éé‚é‹é‚„é€™é€²é é•é€£é²é‚‡é€•è·¡é©é¸éœéé‚é‚éºé™é„§é„ºé„”éƒµé„’é„´é„°é¬±éƒ¤éƒŸé„¶é„­é„†é…ˆé„–é„²é†é†±é†¬é‡…é‡ƒé‡€é‡‹è£é’œé‘’é‘¾é¨é‡“é‡”é‡é‡˜é‡—é‡™é‡•é‡·é‡ºé‡§é‡¤éˆ’é‡©é‡£é†é‡¹éšé‡µéˆƒéˆ£éˆˆéˆ¦éˆéˆ”é¾éˆ‰é‹‡é‹¼éˆ‘éˆé‘°æ¬½éˆé¢é‰¤éˆ§éˆéˆ¥éˆ„éˆ•éˆ€éˆºéŒ¢é‰¦é‰—éˆ·ç¼½éˆ³é‰•éˆ½éˆ¸é‰é‘½é‰¬é‰­é‰€éˆ¿éˆ¾éµé‰‘éˆ´é‘ é‰›é‰šéˆ°é‰‰é‰ˆé‰éˆ¹é¸é‰¶éŠ¬éŠ é‰ºéŠªé‹é‹£éƒéŠéºéŠ…é‹éŠ±éŠ¦é§é˜éŠ–éŠ‘é‹ŒéŠ©éŠ›éµéŠ“é‰¿éŠšé‰»éŠ˜éŒšéŠ«é‰¸éŠ¥éŸéŠƒé‹éŠ¨éŠ€éŠ£é‘„é’é‹ªé‹™éŒ¸é‹±éˆé—éŠ·é–é‹°é‹¥é‹¤é‹é‹¯é‹¨é½éŠ¼é‹é‹’é‹…é‹¶é¦é§éŠ³éŠ»é‹ƒé‹Ÿé‹¦éŒ’éŒ†éºéŒ¯éŒ¨éŒ¡éŒéŒ•éŒ©éŒ«éŒ®é‘¼éŒ˜éŒéŒ¦ééŒˆéŒ‡éŒŸéŒ éµé‹¸éŒ³éŒ™é¥éˆé‡é˜é¶é”é¤é¬é¾é›éªé é°é„éé‚é¤é¡éŒé®é›é˜é‘·é«é³é¿é¦é¬éŠé°é”é¢éœéé°éé¡é‘éƒé‡éé”é’éé·é‘¥é“é‘­é é‘¹é¹é™é‘Šé³é¶é²é®é¿é‘”é‘£é‘é‘²é•·é–€é–‚é–ƒé–†é–ˆé–‰å•é—–é–é—ˆé–‘é–é–“é–”é–Œæ‚¶é–˜é¬§é–¨èé—¥é–©é–­é—“é–¥é–£é–¡é–«é¬®é–±é–¬é—é–¾é–¹é–¶é¬©é–¿é–½é–»é–¼é—¡é—Œé—ƒé— é—Šé—‹é—”é—é—’é—•é—é—¤éšŠé™½é™°é™£éšéš›é™¸éš´é™³é™˜é™éš‰éš•éšªéš¨éš±éš¸é›‹é›£é››è®é‚éœ§éœ½é»´é„éšéœé¨éŸƒé½éŸ‰éŸéŸ‹éŸŒéŸéŸ“éŸ™éŸéŸœéŸ»é é ‚é ƒé ‡é …é †é ˆé Šé ‘é¡§é “é é ’é Œé é é¡±é ˜é —é ¸é ¡é °é ²é œæ½ç†²é ¦é ¤é »é ®é ¹é ·é ´ç©é¡†é¡Œé¡’é¡é¡“é¡é¡é¡³é¡¢é¡›é¡™é¡¥çº‡é¡«é¡¬é¡°é¡´é¢¨é¢ºé¢­é¢®é¢¯é¢¶é¢¸é¢¼é¢»é£€é£„é£†é£†é£›é¥—é¥œé££é¥‘é£¥é¤³é£©é¤¼é£ªé£«é£­é£¯é£²é¤é£¾é£½é£¼é£¿é£´é¤Œé¥’é¤‰é¤„é¤é¤ƒé¤é¤…é¤‘é¤–é¤“é¤˜é¤’é¤•é¤œé¤›é¤¡é¤¨é¤·é¥‹é¤¶é¤¿é¥é¥é¥ƒé¤ºé¤¾é¥ˆé¥‰é¥…é¥Šé¥Œé¥¢é¦¬é¦­é¦±é¦´é¦³é©…é¦¹é§é©¢é§”é§›é§Ÿé§™é§’é¨¶é§é§é§‘é§•é©›é§˜é©ç½µé§°é©•é©Šé§±é§­é§¢é©«é©ªé¨é©—é¨‚é§¸é§¿é¨é¨é¨é¨…é¨Œé©Œé©‚é¨™é¨­é¨¤é¨·é¨–é©é¨®é¨«é¨¸é©ƒé¨¾é©„é©é©Ÿé©¥é©¦é©¤é«é«–é«•é¬¢é­˜é­é­šé­›é­¢é­·é­¨é­¯é­´é­ºé®é®ƒé¯°é±¸é®‹é®“é®’é®Šé®‘é±Ÿé®é®é®­é®šé®³é®ªé®é®¦é°‚é®œé± é±­é®«é®®é®ºé¯—é±˜é¯é±ºé°±é°¹é¯‰é°£é°·é¯€é¯Šé¯‡é®¶é¯½é¯’é¯–é¯ªé¯•é¯«é¯¡é¯¤é¯§é¯é¯¢é¯°é¯›é¯¨é¯µé¯´é¯”é±é°ˆé°é±¨é¯·é°®é°ƒé°“é±·é°é°’é°‰é°é±‚é¯¿é° é¼‡é°­é°¨é°¥é°©é°Ÿé°œé°³é°¾é±ˆé±‰é°»é°µé±…é°¼é±–é±”é±—é±’é±¯é±¤é±§é±£é³¥é³©é›é³¶é³´é³²é·—é´‰é¶¬é´‡é´†é´£é¶‡é¸•é´¨é´é´¦é´’é´Ÿé´é´›é´¬é´•é·¥é·™é´¯é´°éµ‚é´´éµƒé´¿é¸é´»éµéµ“é¸éµ‘éµ éµéµ’é·³éµœéµ¡éµ²é¶“éµªé¶¤éµ¯éµ¬éµ®é¶‰é¶Šéµ·é·«é¶˜é¶¡é¶šé¶»é¶¿é¶¥é¶©é·Šé·‚é¶²é¶¹é¶ºé·é¶¼é¶´é·–é¸šé·“é·šé·¯é·¦é·²é·¸é·ºé¸‡é·¹é¸Œé¸é¸›é¸˜é¹ºéº¥éº©é»ƒé»Œé»¶é»·é»²é»½'}function Traditionalized(cc) {    let str = '';    const ss = JTPYStr();    const tt = FTPYStr();    for (let i = 0; i &lt; cc.length; i++) {        if (cc.charCodeAt(i) &gt; 10000 &amp;&amp; ss.indexOf(cc.charAt(i)) !== -1) { str += tt.charAt(ss.indexOf(cc.charAt(i))) } else str += cc.charAt(i)    };    return str;}function Simplized(cc) {    let str = '';    const ss = JTPYStr();    const tt = FTPYStr();    for (let i = 0; i &lt; cc.length; i++) {        if (cc.charCodeAt(i) &gt; 10000 &amp;&amp; tt.indexOf(cc.charAt(i)) !== -1) { str += ss.charAt(tt.indexOf(cc.charAt(i))) } else str += cc.charAt(i)    }    return str;}function translateInitialization() {    translateButtonObject = document.getElementById('menu-translate');    if (translateButtonObject) {        if (currentEncoding !== targetEncoding) {            setTimeout(translateBody, translateDelay);        }        translateButtonObject.addEventListener('click', translatePage, false);    }}$('#menu-backward').on('click', function () { window.history.back(); });$('#menu-forward').on('click', function () { window.history.forward(); });$('#menu-refresh').on('click', function () { window.location.reload(); });$('#menu-darkmode').on('click', function () { switchDarkMode() });$('#menu-home').on('click', function () { window.location.href = window.location.origin; });/* ç®€ä½“ç¹ä½“åˆ‡æ¢ */$('#menu-translate').on('click', function () {    removeRightMenu();    translateInitialization();});$(\".menu-link\").on(\"click\", function () {    removeRightMenu()});$(\"#rightmenu-mask\").on(\"click\", function () { removeRightMenu() });$(\"#rightmenu-mask\").contextmenu(function () {    removeRightMenu();    return false;});\n\n\n\n4. åˆ›å»ºCSSåœ¨[åšå®¢æ ¹ç›®å½•]/themes/butterfly/source/cssæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªrightMenu.cssï¼Œå°†ä»¥ä¸‹ä»£ç å¤åˆ¶åˆ°æ–‡ä»¶ä¸­ã€‚\n#rightMenu {    display: none;    position: fixed;    padding: 0 .25rem;    width: 9rem;    height: fit-content;    top: 10%;    left: 10%;    background-color: rgba(238, 255, 255, .85);    -webkit-backdrop-filter: blur(20px);    backdrop-filter: blur(20px);    color: #363636;    border-radius: 12px;    z-index: 99994;    border: #e3e8f7;    user-select: none;    box-shadow: rgba(0, 0, 0, .05);}#rightMenu a {    color: #363636;}#rightMenu .rightMenu-group {    padding: .35rem .3rem;    transition: .3s}#rightMenu .rightMenu-line {    border-top: 1px dashed #4259ef23}#rightMenu .rightMenu-group.rightMenu-small {    display: flex;    justify-content: space-between}#rightMenu .rightMenu-group .rightMenu-item {    border-radius: 8px;    transition: .3s;    cursor: pointer}#rightMenu .rightMenu-line .rightMenu-item {    margin: .25rem 0;    padding: .25rem 0}#rightMenu .rightMenu-group.rightMenu-line .rightMenu-item {    display: flex}#rightMenu .rightMenu-group .rightMenu-item:hover {    background-color: #6f42c1;    color: #fff;}#rightMenu .rightMenu-group .rightMenu-item:active {    transform: scale(.97)}#rightMenu .rightMenu-group .rightMenu-item i {    display: inline-block;    text-align: center;    line-height: 1.5rem;    width: 1.5rem;    padding: 0 .25rem}#rightMenu .rightMenu-line .rightMenu-item i {    margin: 0 .25rem}#rightMenu .rightMenu-group .rightMenu-item span {    line-height: 1.5rem}.rightMenu-small .rightMenu-item {    width: 30px;    height: 30px;    line-height: 30px}#rightmenu-mask {    position: fixed;    width: 100vw;    height: 100vh;    background: 0 0;    top: 0;    left: 0;    display: none;    z-index: 101;    margin: 0 !important;    z-index: 99993}\n\n\n\n5. å¼•å…¥åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶[åšå®¢æ ¹ç›®å½•]/themes/butterfly/_config.ymlä¸­å¼•å…¥Jqueryã€rightMenu.jså’ŒrightMenu.css\ninject:  head:    - &lt;link rel=\"stylesheet\" href=\"/css/rightMenu.css\"&gt;  bottom:    - &lt;script defer src=\"https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js\"&gt;&lt;/script&gt;    - &lt;script defer data-pjax src=\"/js/rightMenu.js\"&gt;&lt;/script&gt;\n\n\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœç‚¹å‡»ç¹ç®€åˆ‡æ¢ï¼Œåˆ‡æ¢æ¨¡å¼ï¼Œå‡ºç°äº†é”™è¯¯ï¼Œè¯·æ£€æŸ¥ä¸‹ä¸»é¢˜çš„è¿™ä¸¤ä¸ªåŠŸèƒ½æ˜¯å¦å¼€å¯ã€‚åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶[åšå®¢æ ¹ç›®å½•]/themes/butterfly/_config.ymlä¸­æœç´¢translateå’Œdarkmodeï¼Œå°†enableè®¾ç½®ä¸ºtrueï¼Œåœ¨é‡æ–°ç¼–è¯‘è¿è¡Œã€‚\n\næ‰©å±•è¿™ä¸ªç« èŠ‚å°†è®²è¿°å¦‚ä½•å»æ‰©å±•å³é”®çš„åŠŸèƒ½ã€‚é€šè¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å·²ç»å®ç°äº†ä¸‹å›¾ä¸­çš„åŠŸèƒ½ã€‚\n\nå¦‚æœæƒ³åœ¨è‡ªå®šä¹‰å³é”®ä¸Šæ–°å¢ä¸€ä¸ªæ‰“å°é¡µé¢çš„åŠŸèƒ½ã€‚è¯¥å¦‚ä½•å»å®ç°å‘¢ï¼Ÿ\n\nå¢åŠ DOMã€‚ï¼ˆä¸ºäº†æè¿°çš„æ›´æ¸…æ™°ï¼Œå°†æ²¿ç”¨ä¸Šé¢æåˆ°è¿‡çš„ä»£ç ï¼Œ+è¡¨ç¤ºåœ¨æ­¤åŸºç¡€ä¸Šæ–°å¢çš„ä»£ç ã€‚ï¼‰åœ¨[åšå®¢æ ¹ç›®å½•]/themes/butterfly/layout/includes/right-menu/index.pugä¸­æ–°åŠ å¦‚ä¸‹ä»£ç ï¼š\n\n#rightMenu    .rightMenu-group.rightMenu-small        .rightMenu-item#menu-backward            i.fa-solid.fa-arrow-left        .rightMenu-item#menu-forward            i.fa-solid.fa-arrow-right        .rightMenu-item#menu-refresh            i.fa-solid.fa-arrow-rotate-right        .rightMenu-item#menu-home            i.fa-solid.fa-house    .rightMenu-group.rightMenu-line.rightMenuOther        a.rightMenu-item.menu-link(href='/archives/')            i.fa-solid.fa-archive            span='æ–‡ç« å½’æ¡£'        a.rightMenu-item.menu-link(href='/categories/')            i.fa-solid.fa-folder-open            span='æ–‡ç« åˆ†ç±»'        a.rightMenu-item.menu-link(href='/tags/')            i.fa-solid.fa-tags            span='æ–‡ç« æ ‡ç­¾'    .rightMenu-group.rightMenu-line.rightMenuNormal        a.rightMenu-item.menu-link#menu-radompage(href='/random/index.html')            i.fa-solid.fa-shoe-prints            span='éšä¾¿é€›é€›'        .rightMenu-item#menu-translate            i.fa-solid.fa-earth-asia            span='ç¹ç®€åˆ‡æ¢'        .rightMenu-item#menu-darkmode            i.fa-solid.fa-moon            span='åˆ‡æ¢æ¨¡å¼'+       .rightMenu-item#menu-print+           i.fa-solid.fa-print.fa-fw+           span='æ‰“å°é¡µé¢'#rightmenu-mask\n\n\n\næœ‰å…´è¶£çš„åŒå­¦å¯ä»¥æŒ‰ä¸‹F12æ‰“å¼€æ§åˆ¶å°ï¼Œæ‰¾åˆ°Elementsï¼Œå¹¶æ‰¾åˆ°#rightMenuçš„ç›’å­ï¼Œä½ ä¼šå‘ç°æ–°å¢çš„pugè¯­æ³•æœ€ç»ˆä¼šè¢«ç¼–è¯‘æˆï¼š\n&lt;div class=\"rightMenu-item\" id=\"menu-print\"&gt;    &lt;i class=\"fa-solid fa-print fa-fw\"&gt;&lt;/i&gt;    &lt;span&gt;æ‰“å°é é¢&lt;/span&gt;&lt;/div&gt;\n\n\nè®°ä½è¿™ä¸ªidä¸ºmenu-printçš„å±æ€§ï¼Œä¸‹é¢å°†ä¼šç”¨åˆ°ã€‚\n\nåœ¨[åšå®¢æ ¹ç›®å½•]/themes/butterfly/source/js/rightMenu.jsä¸­å†™å…¥å®ç°æ–¹æ³•ã€‚\n\n$('#menu-translate').on('click', function () {    removeRightMenu();    translateInitialization();});$(\".menu-link\").on(\"click\", function () {    removeRightMenu()});+   $(\"#menu-print\").on(\"click\", function () {+       removeRightMenu();+       window.print();+   });$(\"#rightmenu-mask\").on(\"click\", function () { removeRightMenu() });$(\"#rightmenu-mask\").contextmenu(function () {    removeRightMenu();    return false;});\n\n\n\nä¸éš¾å‘ç°ï¼Œæ–°å¢çš„ä»£ç å®é™…ä¸Šæ˜¯åœ¨idä¸ºmenu-printçš„ç›’å­ä¸Šç»‘äº†ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œåé¢çš„æ–¹æ³•åˆ™æ˜¯è§¦å‘ç‚¹å‡»äº‹ä»¶åè¦æ‰§è¡Œçš„è¿‡ç¨‹ã€‚\nfunction () {    // åœ¨è¿™é‡Œæ‰§è¡Œä½ æƒ³å®ç°çš„æ“ä½œ    // removeRightMenu();    // window.print();}\n\n\n\n\næ­¤æ—¶ç‚¹å‡»é¼ æ ‡å³é”®ï¼Œä¼šå‡ºç°æ–°åŠ çš„ä¸€é¡¹åŠŸèƒ½æ‰“å°é¡µé¢ã€‚\n\n\nåˆ°æ­¤ï¼Œä½ å­¦åºŸäº†å—ï¼Ÿé‡åˆ°é—®é¢˜çš„è¯è¯·åœ¨è¯„è®ºåŒºç•™è¨€ã€‚\næ–‡ç« æ•´åˆå¼•ç”¨ï¼šHexo + Butterfly è‡ªå®šä¹‰å³é”®èœå• | å”å¿—è¿œ (fe32.top)\n","categories":["Hexo"],"tags":["Hexo"]},{"title":"Nunjucks Error expected variable endè§£å†³åŠæ³•","url":"/2024/06/08/learnnote/hexo-bo-ke-da-jian-jiao-cheng/nunjucks-error-expected-variable-end-jie-jue-ban-fa/","content":"Nunjucks Error expected variable endè§£å†³åŠæ³•\n\n\n## é—®é¢˜ï¼š\n\n&gt; å¦‚æœåœ¨éƒ¨ç½²hexoåšå®¢çš„æ—¶å€™æŠ¥é”™Nunjucks Error expected variable endåˆ™å¯èƒ½æ˜¯å› ä¸ºHexoä½¿ç”¨Nunjucksæ¸²æŸ“è´´å­ï¼Œä½¿ç”¨=={{ }}==æˆ–è€…=={% %}==åŒ…è£…çš„å†…å®¹è¢«è§£æï¼Œè¿™æ ·ä¼šå¼•èµ·å†²çªã€‚\n\n\n\nè§£å†³æ–¹æ³•ï¼šä½¿ç”¨ä»¥ä¸‹æ ‡ç­¾åŒ…è£¹å¯¹åº”é“­æ„Ÿå­—æ®µå°±è¡Œï¼š\n{% raw %}{% endraw %}\n\n","categories":["Hexo"],"tags":["Hexo"]},{"title":"è§£å†³Hexo+Typoraæ— æ³•åŒæ—¶æ˜¾ç¤ºç›¸å¯¹è·¯å¾„å›¾ç‰‡é—®é¢˜","url":"/2024/01/24/learnnote/hexo-bo-ke-da-jian-jiao-cheng/jie-jue-hexo-typora-wu-fa-tong-shi-xian-shi-xiang-dui-lu-jing-tu-pian-wen-ti/","content":"è§£å†³Hexo+Typoraæ— æ³•åŒæ—¶æ˜¾ç¤ºç›¸å¯¹è·¯å¾„å›¾ç‰‡é—®é¢˜\nä¸€ã€è®¾ç½®Typora\nè®¾ç½®å¦‚ä¸‹å›¾ï¼š\n\n\näºŒã€å®‰è£…å’Œç®€å•é­”æ”¹hexo-asset-imageæ’ä»¶åœ¨hexoé¡¹ç›®æ ¹ç›®å½•ä½¿ç”¨æŒ‡ä»¤å®‰è£…hexo-asset-imagesæ’ä»¶\nnpm hexo-asset-images --save\n\næˆ–è€…ï¼š\nnpm install https://github.com/CodeFalling/hexo-asset-image --save\n\nç„¶åè®¾ç½®hexoé¡¹ç›®æ ¹ç›®å½•_config.ymlé…ç½®:\n\nç„¶åè®¾ç½®_config.ymlä¸­çš„post_asset_folderé…ç½®å±æ€§ä¸ºtrue\n\nè¿™æ˜¯æ­£å¸¸çš„é…ç½®æµç¨‹ï¼Œä½†æ˜¯ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼\n==æ³¨ï¼š==è¿™é‡Œhexo-asset-imagesæœ‰ä¸ªbugï¼Œå°±æ˜¯ä½ æ‰“åŒ…ç¬”è®°ä¹‹åä¼šå‘ç°ä»–ä¼šç›´æ¥æŠŠä½ çš„å¯¹åº”ç›¸å¯¹è·¯å¾„çš„å›¾ç‰‡æ–‡ä»¶å¤¹åç§°ç»™å¿½ç•¥æ‰ã€‚\næ¯”å¦‚ï¼Œæˆ‘å†™ä¸€ä¸ªç¬”è®°ï¼ŒTest.mdï¼Œç„¶åæˆ‘åœ¨é‡Œé¢ç²˜è´´äº†ä¸€å¼ xxx.pngå›¾ç‰‡ï¼Œé‚£ä¹ˆé€šè¿‡æˆ‘ä¹‹å‰Typoraçš„è®¾ç½®ï¼Œé‚£ä¹ˆä»–ä¼šè‡ªåŠ¨åœ¨ä¸ç¬”è®°æ–‡ä»¶åŒçº§ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªä¸æ–‡ä»¶åç§°ç›¸åŒçš„ç›®å½•å¹¶åœ¨è¿™ä¸ªç›®å½•ä¸‹å†æ–°å»ºä¸€ä¸ªimagesæ–‡ä»¶å¤¹ï¼ˆä¹Ÿå°±æ˜¯Test/images/xxx.png)ç„¶åä¼šè‡ªåŠ¨æŠŠæˆ‘åˆšæ‰å¤åˆ¶çš„å›¾ç‰‡è‡ªåŠ¨å¤åˆ¶å­˜åˆ°è¿™ä¸ªç›®å½•ä¸‹é¢ï¼Œå¹¶ä¸”è¿™ä¸ªmdçš„å¼•ç”¨è·¯å¾„ä¹Ÿæ˜¯ç›¸å¯¹äºè¿™ä¸ªå›¾ç‰‡çš„ç›¸å¯¹è·¯å¾„ã€‚ä½†æ˜¯æˆ‘ä»¬åœ¨ç¼–è¯‘çš„æ—¶å€™è¿™ä¸ªæ’ä»¶ä¼šå¿½ç•¥æ‰è¿™ä¸ªTestè·¯å¾„å˜æˆç±»ä¼¼äºimages\\xxx.pngçš„è·¯å¾„ï¼Œè€Œä¸”æˆ‘ä»¬mdå†…çš„å¼•ç”¨è·¯å¾„å¹¶æ²¡æœ‰å˜ï¼Œè·¯å¾„å¼•ç”¨ä»»ç„¶æ˜¯Test/images/xxx.pngæ‰€ä»¥ï¼Œå½“æˆ‘ä»¬ç”¨ç½‘ç«™æ‰“å¼€æ—¶ä»»ç„¶æ— æ³•æŸ¥çœ‹ï¼ˆä¸å¾—ä¸è¯´ï¼Œè¿™æ’ä»¶è®¾è®¡çš„ç¡®å®å¤ªä¸åˆç†äº†ï¼‰ã€‚\næ‰€ä»¥ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªèƒ½æ”¹æ’ä»¶çš„æºç ã€‚\né¦–å…ˆæ‰¾åˆ° /node_modules/hexo-asset-image/index.js è¿™ä¸ªæ–‡ä»¶ï¼š\n\nç„¶åå°†å®ƒçš„å†…å®¹æ›¿æ¢ä¸ºå¦‚ä¸‹å†…å®¹ï¼š\n'use strict';var cheerio = require('cheerio');     // http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-stringfunction getPosition(str, m, i) {  return str.split(m, i).join(m).length;}     var version = String(hexo.version).split('.');hexo.extend.filter.register('after_post_render', function(data){  var config = hexo.config;  if(config.post_asset_folder){       var link = data.permalink;   if(version.length &gt; 0 &amp;&amp; Number(version[0]) == 3)      var beginPos = getPosition(link, '/', 1) + 1;   else      var beginPos = getPosition(link, '/', 3) + 1;   // In hexo 3.1.1, the permalink of \"about\" page is like \".../about/index.html\".   var endPos = link.lastIndexOf('/') + 1;    link = link.substring(beginPos, endPos);         var toprocess = ['excerpt', 'more', 'content'];    for(var i = 0; i &lt; toprocess.length; i++){      var key = toprocess[i];            var $ = cheerio.load(data[key], {        ignoreWhitespace: false,        xmlMode: false,        lowerCaseTags: false,        decodeEntities: false      });           $('img').each(function(){       if ($(this).attr('src')){           // For windows style path, we replace '\\' to '/'.           var src = $(this).attr('src').replace('\\\\', '/');           if(!/http[s]*.*|\\/\\/.*/.test(src) &amp;&amp;              !/^\\s*\\//.test(src)) {             // For \"about\" page, the first part of \"src\" can't be removed.             // In addition, to support multi-level local directory.             var linkArray = link.split('/').filter(function(elem){               return elem != '';             });             var srcArray = src.split('/').filter(function(elem){               return elem != '' &amp;&amp; elem != '.';             });             if(srcArray.length &gt; 1)               srcArray.shift();             src = srcArray.join('/');             $(this).attr('src', config.root + link + src);             console.info&amp;&amp;console.info(\"update link as:--&gt;\"+config.root + link + src);           }       }else{           console.info&amp;&amp;console.info(\"no src attr, skipped...\");           console.info&amp;&amp;console.info($(this));       }      });      data[key] = $.html();    }  }});\n\nå¦‚æœæ²¡æ•ˆæœçš„è¯å¯ä»¥è¯•è¯•ä¸‹é¢å¦ä¸€ä¸ªæ”¹ç‰ˆï¼š\n'use strict';var cheerio = require('cheerio');     // http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-stringfunction getPosition(str, m, i) {  return str.split(m, i).join(m).length;}     var version = String(hexo.version).split('.');hexo.extend.filter.register('after_post_render', function(data){  var config = hexo.config;  if(config.post_asset_folder){       var link = data.permalink;       console.info(\"debugTest-&gt; \"+link)   if(version.length &gt; 0 &amp;&amp; Number(version[0]) == 3)      var beginPos = getPosition(link, '/', 1) + 1;   else      var beginPos = getPosition(link, '/', 3) + 1;   // In hexo 3.1.1, the permalink of \"about\" page is like \".../about/index.html\".   var endPos = link.lastIndexOf('/') + 1;    link = link.substring(beginPos, endPos);         var toprocess = ['excerpt', 'more', 'content'];    for(var i = 0; i &lt; toprocess.length; i++){      var key = toprocess[i];            var $ = cheerio.load(data[key], {        ignoreWhitespace: false,        xmlMode: false,        lowerCaseTags: false,        decodeEntities: false      });           $('img').each(function(){       if ($(this).attr('src')){           // For windows style path, we replace '\\' to '/'.           var src = $(this).attr('src').replace('\\\\', '/');          //  console.info(src);                      var srcSplit=src.split('/images/');          if(srcSplit.length&lt;1) return; //å¦‚æœå›¾ç‰‡æ–‡ä»¶é•¿åº¦ä¸ç¬¦åˆè§„èŒƒåˆ™ç›´æ¥return          //åˆ¤æ–­æ˜¯å¦ä¸ºæœ¬åœ°srcèµ„æº          if(srcSplit[srcSplit.length-1].includes(config.url.replaceAll(\"http://\",\"\").replaceAll(\"https://\",\"\"))){            $(this).attr('src', \"/\"+config.root + srcSplit[srcSplit.length-1].replaceAll(\"http://\",\"\").replaceAll(\"https://\",\"\"));            console.info&amp;&amp;console.info(\"update link as:--&gt;\"+\"/\"+srcSplit[srcSplit.length-1].replaceAll(\"http://\",\"\").replaceAll(\"https://\",\"\"));          }else{            $(this).attr('src', config.root + link +\"images/\"+ srcSplit[srcSplit.length-1]);            console.info&amp;&amp;console.info(\"update link as:--&gt;\"+config.root + link +\"images/\"+ srcSplit[srcSplit.length-1]);          }       }else{           console.info&amp;&amp;console.info(\"no src attr, skipped...\");           console.info&amp;&amp;console.info($(this));       }      });      data[key] = $.html();    }  }});\n\n\n\nç„¶åå°±å¯ä»¥è§£å†³æ— æ³•åŒæ—¶åœ¨ Typora å’Œ Web ä¸Šçœ‹åˆ°å›¾ç‰‡çš„é—®é¢˜äº†ã€‚\n","categories":["Hexo"],"tags":["Hexo"]},{"title":"KotlilnåŸºç¡€","url":"/2023/12/21/learnnote/kotlin-xue-xi-bi-ji/kotlin-ji-chu/","content":"KotlinåŸºç¡€\n","categories":["Kotlin"],"tags":["Kotlin"]},{"title":"ActiveMQå­¦ä¹ ","url":"/2025/04/18/learnnote/java-xue-xi-bi-ji/activemq-xue-xi/","content":"ActiveMQå­¦ä¹ \n1.è§£å‹activemqå‹ç¼©åŒ…ï¼Œé‡å‘½åæ–‡ä»¶å¤¹\ntar -zxvf apache-activemq-5.11.1-bin.tar.gzmv apache-activemq-5.11.1 activemq\n\n2.é˜²ç«å¢™å¼€å¯activemqç«¯å£8161ï¼ˆç®¡ç†å¹³å°ç«¯å£ï¼‰å’Œ61616ï¼ˆé€šè®¯ç«¯å£ï¼‰\nvi /etc/sysconfig/iptables-A INPUT -m state --state NEW -m tcp -p tcp --dport 8161 -j ACCEPT-A INPUT -m state --state NEW -m tcp -p tcp --dport 61616 -j ACCEPT\n\n3.å¯åŠ¨ã€è®¿é—®ã€æŸ¥çœ‹çŠ¶æ€å’Œåœæ­¢activemqæœåŠ¡\n./activemq/bin/activemq startwget 192.168.2.137:8161./activemq/bin/activemq status./activemq/bin/activemq stop\n\näºŒã€activemqæ³¨å†Œä¸ºç³»ç»ŸæœåŠ¡ï¼Œå¼€å¯å¼€æœºè‡ªå¯\n1.å»ºç«‹è½¯è¿æ¥\nln -s /usr/local/activemq/bin/activemq /etc/init.d/ #è·¯å¾„æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹\n\n2.æ³¨å†Œä¸ºç³»ç»ŸæœåŠ¡\nvi /etc/init.d/activemq# æ·»åŠ ä¸‹é¢å†…å®¹åˆ°/etc/init.d/activemqè„šæœ¬chkconfig: 345 63 37description: Auto start ActiveMQJAVA_HOME=/usr/local/jdk1.8.0_144JAVA_CMD=java\n\n\n\n3.å¼€å¯å¼€æœºè‡ªå¯\nchkconfig activemq on\n\n4.å¯ä»¥ä»¥ç³»ç»ŸæœåŠ¡çš„æ–¹å¼å¯åŠ¨ã€æŸ¥çœ‹çŠ¶æ€å’Œåœæ­¢æœåŠ¡\nservice activemq startservice activemq statusservice activemq stop\n\n","categories":["ActiveMQ"],"tags":["Java","ActiveMQ"]},{"title":"Deeplearning4jæ·±åº¦å­¦ä¹ æ¡†æ¶ä½¿ç”¨","url":"/2023/11/27/learnnote/java-xue-xi-bi-ji/deeplearning4j-shen-du-xue-xi-kuang-jia-shi-yong/","content":"Deeplearning4jæ·±åº¦å­¦ä¹ æ¡†æ¶ä½¿ç”¨\n","categories":["Java"],"tags":["Java","Deeplearning4j"]},{"title":"Dockerå­¦ä¹ ","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/docker-xue-xi/","content":"ç¬¬ä¸€ç«  Dockeræ¦‚è¿°\n1.1è™šæ‹ŸåŒ–æŠ€æœ¯å‘å±•å²\nåœ¨è™šæ‹ŸåŒ–æŠ€æœ¯å‡ºç°ä¹‹å‰ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æ­å»ºä¸€å°æœåŠ¡å™¨ï¼Œæˆ‘ä»¬éœ€è¦åšå¦‚ä¸‹çš„å·¥ä½œï¼š\n\nè´­ä¹°ä¸€å°ç¡¬ä»¶æœåŠ¡å™¨ï¼›\nåœ¨ç¡¬ä»¶æœåŠ¡å™¨ä¸Šå®‰è£…é…ç½®æ“ä½œç³»ç»Ÿï¼›\nåœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šé…ç½®åº”ç”¨è¿è¡Œç¯å¢ƒï¼›\néƒ¨ç½²å¹¶è¿è¡Œåº”ç”¨ï¼›\n\nè¿™ç§æ–¹å¼çš„ç¼ºç‚¹å°±æ˜¯ï¼š\n\néƒ¨ç½²åº”ç”¨éå¸¸æ…¢ï¼›\néœ€è¦èŠ±è´¹çš„æˆæœ¬éå¸¸é«˜ï¼ˆæ—¶é—´æˆæœ¬ã€æœåŠ¡å™¨æˆæœ¬ï¼‰ï¼›\nåº”ç”¨è¿ç§»éº»çƒ¦ï¼›è¦å°†åº”ç”¨è¿ç§»ï¼Œåˆå¾—é‡å¤éƒ¨ç½²åº”ç”¨çš„è¿‡ç¨‹ï¼šè´­ä¹°æœåŠ¡å™¨-&gt;å®‰è£…æ“ä½œç³»ç»Ÿos-&gt;é…ç½®è¿è¡Œç¯å¢ƒ-&gt;éƒ¨ç½²åº”ç”¨\n\næ‰€ä»¥ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåç»­å‡ºç° äº†è™šæ‹ŸåŒ–æŠ€æœ¯ã€‚\n1.2 è™šæ‹ŸåŒ–æŠ€æœ¯æ˜¯ä»€ä¹ˆï¼Ÿ\nè™šæ‹ŸåŒ–ï¼ˆè‹±æ–‡ï¼šVirtualizationï¼‰æ˜¯ä¸€ç§è®¡ç®—æœºèµ„æºç®¡ç†æŠ€æœ¯ï¼Œæ˜¯å°†è®¡ç®—æœºçš„å„ç§ç¡¬ä»¶èµ„æºï¼Œæ¯”å¦‚æœåŠ¡å™¨ã€ç½‘ç»œã€CPUã€å†…å­˜åŠå­˜å‚¨ç­‰ï¼Œäºˆä»¥æŠ½è±¡å’Œè½¬æ¢åå‘ˆç°å‡ºä¸€å¥—æ–°çš„ç¡¬ä»¶èµ„æºç¯å¢ƒï¼Œåœ¨è¿™ä¸€å¥—æ–°çš„ç¡¬ä»¶ç¯å¢ƒä¸‹å¯ä»¥å®‰è£…æˆ‘ä»¬çš„æ“ä½œç³»ç»Ÿï¼Œéƒ¨ç½²æˆ‘ä»¬çš„åº”ç”¨è¿è¡Œç¯å¢ƒç­‰ï¼Œå®ƒæ‰“ç ´è®¡ç®—æœºç¡¬ä»¶èµ„æºä¸å¯åˆ‡å‰²çš„éšœç¢ï¼Œä½¿æˆ‘ä»¬å¯ä»¥æ¯”åŸæœ¬çš„è®¡ç®—æœºç¡¬ä»¶èµ„æºç»“æ„æ›´å¥½çš„æ–¹å¼æ¥ç»„åˆåº”ç”¨è¿™äº›èµ„æºã€‚\n1.3  è™šæ‹ŸåŒ–æŠ€æœ¯çš„åˆ†ç±»è™šæ‹ŸåŒ–ä¸€èˆ¬åˆ†ä¸ºï¼š\nç¡¬ä»¶è™šæ‹ŸåŒ–ï¼ˆhardware-level-virtualizationï¼‰\næ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–ï¼ˆos-level-virtualizationï¼‰\nç¡¬ä»¶çº§è™šæ‹ŸåŒ–  æ˜¯è¿è¡Œåœ¨ç¡¬ä»¶ä¸Šçš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå®ƒçš„æ ¸å¿ƒæŠ€æœ¯æ˜¯Hypervisorï¼ŒHypervisoræ˜¯ä¸€ç§è¿è¡Œåœ¨åŸºç¡€ç‰©ç†æœåŠ¡å™¨ç¡¬ä»¶ä¹‹ä¸Šçš„è½¯ä»¶å±‚ï¼Œå¯ä»¥è™šæ‹ŸåŒ–ç¡¬ä»¶èµ„æºï¼Œä¾‹å¦‚cpuã€ç¡¬ç›˜ã€å†…å­˜èµ„æºç­‰ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨è™šæ‹ŸåŒ–å‡ºæ¥çš„èµ„æºä¹‹ä¸Šå®‰è£…æ“ä½œç³»ç»Ÿï¼Œè¿™ä¹Ÿå°±æ˜¯æ‰€è°“çš„è™šæ‹Ÿæœºã€‚åƒVMWareï¼ŒVirtualBoxç­‰éƒ½æ˜¯ä½¿ç”¨è¯¥æŠ€æœ¯ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„æ¡Œé¢ç‰ˆçš„è™šæ‹ŸæœºVMWareå°±æ˜¯é‡‡ç”¨è¿™ç§è™šæ‹ŸåŒ–æŠ€æœ¯ã€‚\nå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n\né€šè¿‡Hypervisorå±‚ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸åŒçš„è™šæ‹Ÿæœºï¼Œå¹¶ä¸”æ¯ä¸ªè™šæ‹Ÿæœºéƒ½æ˜¯åˆ†ç¦»ã€ç‹¬ç«‹çš„ï¼Œè¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ä¸€å°ç¡¬ä»¶æœåŠ¡å™¨å’Œæœ¬åœ°æ“ä½œç³»ç»Ÿä¹‹ä¸Šè™šæ‹ŸåŒ–å‡ºå¤šä¸ªæœåŠ¡å™¨ï¼Œç”¨æ¥éƒ¨ç½²æˆ‘ä»¬çš„åº”ç”¨ï¼›\n1.4 è™šæ‹ŸåŒ–æŠ€æœ¯çš„ä¼˜ç¼ºç‚¹è™šæ‹ŸåŒ–æŠ€æœ¯çš„ä¼˜ç‚¹ï¼šä¸€å°ç‰©ç†æœåŠ¡å™¨å¯ä»¥è™šæ‹ŸåŒ–å‡ºå¤šä¸ªè™šæ‹Ÿçš„æœåŠ¡å™¨ï¼Œè®©è®¡ç®—æœºèµ„æºå¾—ä»¥å……åˆ†åˆ©ç”¨ï¼›\nè™šæ‹ŸåŒ–æŠ€æœ¯çš„ç¼ºç‚¹ï¼š1ã€æ¯åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºçš„æ—¶å€™ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œè¿™ä¸ªæ“ä½œç³»ç»Ÿä¼šå ç”¨å¾ˆå¤šèµ„æºï¼Œè¿™æ ·æ— ç–‘å¤§å¤§æ·»åŠ äº†èµ„æºçš„æ¶ˆè€—ï¼Œå½“å®‰è£…çš„è™šæ‹Ÿæœºè¶Šå¤šï¼Œèµ„æºæ¶ˆè€—å°±è¶Šå¤šã€‚\n2ã€ç¯å¢ƒå…¼å®¹é—®é¢˜ï¼Œå¼€å‘æ—¶çš„ç¯å¢ƒè¿è¡Œæ­£å¸¸ï¼Œéƒ¨ç½²åˆ°è™šæ‹ŸåŒ–ç¯å¢ƒæµ‹è¯•åˆ™å¯èƒ½å‘ç”Ÿé”™è¯¯ï¼›\n1.5 å®¹å™¨æŠ€æœ¯çš„å‘å±•åŸºäºç¡¬ä»¶çº§è™šæ‹ŸåŒ–æŠ€æœ¯çš„ç¼ºç‚¹å’Œä¸è¶³ï¼Œåå­¦åˆå‘å±•å‡ºæ¥äº†å¦ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå³æ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–æŠ€æœ¯ï¼›\næ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ– æ˜¯è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šçš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå®ƒæ¨¡æ‹Ÿçš„æ˜¯è¿è¡Œåœ¨ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸Šçš„å¤šä¸ªä¸åŒè¿›ç¨‹ï¼Œå¹¶å°†å…¶å°è£…åœ¨ä¸€ä¸ªå¯†é—­çš„å®¹å™¨é‡Œé¢ï¼Œè¯¥æŠ€æœ¯ä¹Ÿç§°ä¸ºå®¹å™¨åŒ–æŠ€æœ¯ã€‚\nåœ¨å®¹å™¨åŒ–æŠ€æœ¯é¢†åŸŸï¼ŒDockeræ˜¯ç›®å‰æœ€æµè¡Œçš„ä¸€ç§å®ç°ã€‚Dockerå‘å¸ƒäº2013å¹´ï¼ŒDockeråŸºäºLXCæŠ€æœ¯ï¼ŒLXCæ˜¯Linuxå¹³å°ä¸Šçš„å®¹å™¨åŒ–æŠ€æœ¯å®ç°ã€‚\næ³¨ï¼šLXCæ˜¯Linux Containerçš„ç®€å†™ï¼Œå®ƒæ˜¯ä¸€ç§å†…æ ¸è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå¯ä»¥æä¾›è½»é‡çº§çš„è™šæ‹ŸåŒ–ï¼Œä»¥ä¾¿éš”ç¦»è¿›ç¨‹çš„èµ„æºï¼Œå®ƒä¸å®¿ä¸»æœºä½¿ç”¨åŒä¸€ä¸ªå†…æ ¸ï¼Œæ€§èƒ½æŸè€—å°ï¼Œè¿™ç§æŠ€æœ¯æ˜¯Linuxæä¾›çš„ï¼Œä½†æ˜¯ç›´åˆ°Dockerå‡ºä¸–ï¼Œè¯¥æŠ€æœ¯æ‰è¢«å‘æŒ¥å‡ºæ¥ã€‚\n1.6 Dockerçš„å‘å±•å†å²2010å¹´ï¼Œå‡ ä¸ªå¹´è½»äººåˆ›ä¸šå…¬å¸ï¼Œèµ·åä¸ºdotCloudï¼Œå¹¶ä¸”è¿˜è·å¾—äº†åˆ›ä¸šå­µåŒ–å™¨Y Combinatorçš„æ”¯æŒï¼Œè™½ç„¶dotCloudæœŸé—´è·å¾—è¿‡ä¸€äº›èèµ„ï¼Œä½†éšç€ITå·¨å¤´ï¼ˆå¾®è½¯ã€è°·æ­Œã€äºšé©¬é€Šç­‰ï¼‰ä¹Ÿæ€å…¥PaaSå¹³å°ï¼ŒdotCloudä¸¾æ­¥ç»´è‰°ã€‚\n2013å¹´ï¼ŒdotCloudåˆ›å§‹äººï¼Œ28å²çš„Solomon Hykesåšäº†ä¸€ä¸ªè‰°éš¾çš„å†³å®šï¼šå°†dotCloudçš„æ ¸å¿ƒå¼•æ“å¼€æºï¼Œè¿™é¡¹å¼•æ“æŠ€æœ¯èƒ½å¤Ÿå°†Linuxå®¹å™¨ä¸­çš„åº”ç”¨ä»£ç æ‰“åŒ…ï¼Œè½»æ¾çš„åœ¨æœåŠ¡å™¨ä¹‹é—´è¿ç§»ã€‚\nç„¶è€Œè¿™ä¸ªåŸºäºLXCï¼ˆLinux Containerï¼‰æŠ€æœ¯çš„æ ¸å¿ƒç®¡ç†å¼•æ“å¼€æºåï¼Œè®©å…¨ä¸–ç•Œçš„æŠ€æœ¯äººå‘˜æ„Ÿåˆ°æƒŠè‰³ï¼Œæ„Ÿå¹è¿™ä¸€åˆ‡å¤ªæ–¹ä¾¿äº†â€¦â€¦ã€‚ä¹Ÿæ­£æ˜¯dotCloudçš„åˆ›å§‹äººè¿™ä¸ªè‰°éš¾çš„å­¤æ³¨ä¸€æ·çš„å†³å®šè®©æ‰€æœ‰çš„ITå·¨å¤´ä»¬ä¹Ÿä¸ºä¹‹ä¸€é¢¤ã€‚\n\nDockeråˆ›å§‹äººSolomon Hykesï¼ˆDockerä¹‹çˆ¶ï¼‰\nä»2013å¹´Dockerå¼€æºå¼€å§‹ï¼ŒDockeræŠ€æœ¯é£é¡å…¨çƒï¼Œäºæ˜¯dotCloudå…¬å¸å†³å®šå°†Dockerä½œä¸ºä¸»è¦ä¸šåŠ¡è¿›è¡Œå‘å±•ï¼Œå¹¶æŠŠå…¬å¸æ”¹åä¸ºDockerIncï¼Œå…¨èº«å¿ƒæŠ•å…¥åˆ°Dockerçš„å¼€å‘ä¸­ï¼Œå¹¶äº2014å¹´8æœˆï¼ŒDockerå®£å¸ƒæŠŠPaaSï¼ˆPlatform as a Serviceï¼Œå¹³å°åŠæœåŠ¡ï¼‰ä¸šåŠ¡dotCloudå‡ºå”®ç»™ä½äºå¾·å›½æŸæ—çš„åŒæ ·ä¸“æ³¨äºå³æœåŠ¡ä¸šåŠ¡çš„æä¾›å•†cloudControlï¼Œä»æ­¤Dockerå¯ä»¥è½»è£…ä¸Šé˜µï¼Œä¸“æ³¨äºDockerçš„ç ”å‘ã€‚\nä»2013å¹´2æœˆå†³å®šå¼€æºï¼Œåˆ°2013å¹´3æœˆ20æ—¥å‘å¸ƒDocker 0.1ï¼Œåªç”¨äº†ä¸€ä¸ªæœˆæ—¶é—´ã€‚å½“å‰Dockerçš„æœ€æ–°ç‰ˆæœ¬æ˜¯18.03ï¼›\nDockerè¿…é€Ÿæˆé•¿ï¼Œåœ¨2014å¹´6æœˆ9æ—¥ï¼ŒDockerå›¢é˜Ÿå®£å¸ƒDocker1.0,1.0ç‰ˆæœ¬æ ‡å¿—ç€Dockerå¹³å°å·²ç»è¶³å¤Ÿæˆç†Ÿï¼Œå¹¶å¯ä»¥è¢«åº”ç”¨åˆ°ç”Ÿäº§äº§å“ä¸­ï¼ˆè¿˜æä¾›äº†ä¸€äº›éœ€è¦ä»˜è´¹çš„æ”¯æŒé€‰é¡¹ï¼‰ã€‚\nä¸€å¹´çš„æ—¶é—´ï¼Œä½¿ä¸€ä¸ªå›´ç»•ç€Dockerçš„å°å‹åˆåˆ›ä¼ä¸šç”Ÿæ€ä½“ç³»é€æ¸å½¢æˆã€‚Dockerå…ˆåèµ¢å¾—äº†Googleã€å¾®è½¯ã€Amazonã€VMwareç­‰ITå·¨å¤´çš„é’çï¼Œä»–ä»¬çº·çº·è¡¨ç¤ºå°†ä¿è¯è‡ªå·±å¹³å°ä¸Dockerå®¹å™¨æŠ€æœ¯çš„å…¼å®¹æ€§ã€‚\n2016å¹´2æœˆ29æ—¥ï¼ŒCloudControlå…¬å¸åœ¨å…¶å®˜æ–¹å¾®åšä¸­å®£å‘Šå³å°†ç ´äº§ï¼Œéš¶å±äºcloudControlå…¬å¸çš„dotCloudä¹Ÿå®£å¸ƒå°†äº2æœˆ29æ—¥å…³é—­æœåŠ¡ã€‚ä½œä¸ºDockerçš„å‰èº«ï¼ŒDotCloudç›®ç¹Dockerçš„æˆé•¿ï¼Œæˆä¸ºäº‘å¹³å°çš„ä¸€é¢—æ–°æ˜Ÿï¼Œè€Œè‡ªå·±å´åŠ›ä¸ä»å¿ƒï¼ŒDockerçš„ç¹è£é—´æ¥åœ°å¯¼è‡´Dockerçš„å‰èº«dotCloudåœ¨PaaSå¹³å°çš„è¡°è´¥ï¼Œå…´è¡°æˆè´¥ï¼Œä»¤äººå”å˜˜ä¸å·²ï¼Œè¿™ä¹Ÿè®¸æ˜¯é¢ è¦†å¼åˆ›æ–°çš„ç»å…¸æ¡ˆä¾‹ã€‚\n1.7 Dockeræ˜¯ä»€ä¹ˆ1ã€Dockeræ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œå®ƒåŸºäºGoogleå…¬å¸æ¨å‡ºçš„Goè¯­è¨€å®ç°ï¼Œé¡¹ç›®ä»£ç æ‰˜ç®¡åœ¨GitHubä¸Šè¿›è¡Œç»´æŠ¤ï¼›\nhttps://github.com/docker/docker-ce\n2ã€DockeræŠ€æœ¯è®©å¼€å‘è€…å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œæ‰“åŒ…å¥½çš„å®¹å™¨å¯ä»¥å‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„LinuxæœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œè¿™æ ·å°±å¯ä»¥è§£å†³å¼€å‘ç¯å¢ƒä¸è¿ç»´ç¯å¢ƒä¸ä¸€è‡´çš„é—®é¢˜ï¼Œæ‰€ä»¥å®¹å™¨åŒ–æŠ€æœ¯è§£å†³äº†å¼€å‘å’Œè¿ç»´ä¹‹é—´çš„çŸ›ç›¾ï¼Œè®©å¼€å‘ä¸“æ³¨äºå¼€å‘ï¼Œè®©è¿ç»´ä¸“æ³¨äºè¿ç»´ï¼Œä¸è¦è¢«ç¯å¢ƒé—®é¢˜æ‰€æ‰“æ‰°ï¼›\n3ã€Dockerå½»åº•é‡Šæ”¾äº†è™šæ‹ŸåŒ–çš„å¨åŠ›ï¼Œæå¤§é™ä½äº†è®¡ç®—æœºèµ„æºä¾›åº”çš„æˆæœ¬ï¼ŒDockeré‡æ–°å®šä¹‰äº†ç¨‹åºå¼€å‘æµ‹è¯•ã€äº¤ä»˜å’Œéƒ¨ç½²è¿‡ç¨‹ï¼ŒDockeræå‡ºäº†â€œæ„å»ºä¸€æ¬¡ï¼Œåˆ°å¤„è¿è¡Œâ€çš„æ¦‚å¿µï¼Œè®©åº”ç”¨çš„å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²å’Œåˆ†å‘éƒ½å˜å¾—å‰æ‰€æœªæœ‰çš„é«˜æ•ˆå’Œè½»æ¾ï¼\n4ã€Dockeræ˜¯ä¸€ç§è½»é‡çº§çš„æ“ä½œç³»ç»Ÿè™šæ‹ŸåŒ–è§£å†³æ–¹æ¡ˆï¼ŒDockerçš„åŸºç¡€æ˜¯Linuxå®¹å™¨ï¼ˆLXCï¼‰æŠ€æœ¯ï¼Œåœ¨LXCçš„åŸºç¡€ä¸ŠDockerè¿›è¡Œäº†è¿›ä¸€æ­¥çš„å°è£…ï¼Œè®©ç”¨æˆ·ä¸éœ€è¦å»å…³å¿ƒå®¹å™¨çš„ç®¡ç†ï¼Œä½¿å¾—æ“ä½œæ›´ä¸ºç®€ä¾¿ã€‚ç”¨æˆ·æ“ä½œDockerçš„å®¹å™¨å°±åƒæ“ä½œä¸€ä¸ªå¿«é€Ÿè½»é‡çº§çš„è™šæ‹Ÿæœºä¸€æ ·ç®€å•ï¼›Dockerè‡ªå¼€æºåå—åˆ°å¹¿æ³›çš„å…³æ³¨ï¼ŒDockeræœ€æ—©æ˜¯åŸºäºUbuntuå¼€å‘çš„ï¼Œä½†åç»­CnetOSã€Debianã€Fedoraç­‰ä¸»æµçš„Linuxæ“ä½œç³»ç»Ÿéƒ½æ”¯æŒDockerï¼›\næ€»ç»“ï¼šç®€å•åœ°è¯´ï¼ŒDockeræ˜¯å¯¹è½¯ä»¶å’Œå…¶ä¾èµ–ç¯å¢ƒçš„æ ‡å‡†åŒ–æ‰“åŒ…ï¼Œåº”ç”¨ä¹‹é—´ç›¸äº’éš”ç¦»ï¼Œå…±äº«ä¸€ä¸ªOS Kernelï¼ˆè§£å†³äº†èµ„æºæµªè´¹çš„é—®é¢˜ï¼‰ï¼Œå¯ä»¥è¿è¡Œåœ¨å¾ˆå¤šä¸»æµæ“ä½œç³»ç»Ÿä¸Šï¼›\nä½†æ˜¯ä¹Ÿéœ€è¦æ¾„æ¸…ä¸€ä¸‹ï¼ŒDockeræœ¬èº«ä¸æ˜¯å®¹å™¨ï¼ŒDockeråªæ˜¯ç®¡ç†å®¹å™¨çš„å¼•æ“ã€‚\n1.8 å®¹å™¨å’Œè™šæ‹Ÿæœºçš„åŒºåˆ«å®¹å™¨æ˜¯å°†ä»£ç å’Œç¯å¢ƒçš„å…³ç³»æ‰“åŒ…åœ¨ä¸€èµ·çš„ä¸€ä¸ªé›†åˆï¼Œè€Œè™šæ‹Ÿæœºæ˜¯åœ¨ç‰©ç†å±‚é¢ä¸Šï¼Œåˆ†å‡ºæ¥çš„ä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼›\nå¤šä¸ªå®¹å™¨å¯ä»¥è¿è¡Œåœ¨åŒä¸€å°ç‰©ç†æœåŠ¡å™¨ä¸Šï¼Œå¹¶å…±äº«ä¸€ä¸ªæ“ä½œç³»ç»Ÿçš„å†…æ ¸èµ„æºã€‚å¤šä¸ªè™šæ‹Ÿæœºä¹Ÿå¯ä»¥è¿è¡Œåœ¨åŒä¸€å°æœºå™¨ä¸Šï¼Œä½†æ¯ä¸ªè™šæ‹Ÿæœºéƒ½éœ€è¦ä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼›\nä¸‹å›¾æ¯”è¾ƒäº†Dockerå’Œä¼ ç»Ÿè™šæ‹ŸåŒ–æ–¹å¼çš„ä¸åŒä¹‹å¤„ï¼š\n\nå¯è§å®¹å™¨æ—¶åœ¨æœ¬åœ°æ“ä½œç³»ç»Ÿå±‚é¢ä¸Šå®ç°è™šæ‹ŸåŒ–ï¼Œç›´æ¥å¤ç”¨æœ¬åœ°ä¸»æœºçš„æ“ä½œç³»ç»Ÿï¼Œä¸éœ€è¦å•ç‹¬å®‰è£…æ“ä½œç³»ç»Ÿï¼Œè€Œä¼ ç»Ÿçš„è™šæ‹ŸåŒ–æŠ€æœ¯æ–¹å¼åˆ™éœ€è¦å•ç‹¬å®‰è£…æ¯ä¸ªè™šæ‹Ÿæœºçš„æ“ä½œç³»ç»Ÿã€‚\n\n\n\nç‰¹æ€§\nå®¹å™¨\nè™šæ‹Ÿæœº\n\n\n\nå¯åŠ¨\nç§’çº§\nåˆ†é’Ÿçº§\n\n\nç¡¬ç›˜æ§ä»¶\nä¸€èˆ¬ä¸ºå‡ åMB\nä¸€èˆ¬ä¸º10GB\n\n\næ€§èƒ½\næ¥è¿‘åŸç”Ÿ\nå¼±äºåŸç”Ÿ\n\n\nç³»ç»Ÿæ”¯æŒé‡\nå•æœºæ”¯æŒä¸Šåƒä¸ªå®¹å™¨\nä¸€èˆ¬å‡ åä¸ª\n\n\næ“ä½œç³»ç»Ÿ\nä¸å®¿ä¸»æœºå…±äº«OS\nå®¿ä¸»æœºOSä¸Šè¿è¡Œè™šæ‹ŸæœºOS\n\n\n1.9ä¸ºä»€ä¹ˆä½¿ç”¨Dockerä½œä¸ºä¸€ç§æ–°å…´çš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼ŒDockerè·Ÿä¼ ç»Ÿçš„è™šæ‹ŸåŒ–æ–¹å¼ç›¸æ¯”å…·æœ‰ä¼—å¤šçš„ä¼˜åŠ¿ã€‚\n1ã€Dockerå®¹å™¨çš„å¯åŠ¨å¯ä»¥åœ¨ç§’çº§å®ç°ï¼Œè¿™ç›¸æ¯”ä¼ ç»Ÿæ–¹å¼è¦å¿«å¾—å¤šã€‚\n2ã€Dockerå¯¹ç³»ç»Ÿèµ„æºçš„åˆ©ç”¨ç‡å¾ˆé«˜ï¼Œä¸€å°ä¸»æœºä¸Šå¯ä»¥åŒæ—¶è¿è¡Œæ•°åƒä¸ªDockerå®¹å™¨ã€‚\n3ã€å®¹å™¨é™¤äº†è¿è¡Œå…¶ä¸­çš„åº”ç”¨å¤–ï¼ŒåŸºæœ¬ä¸æ¶ˆè€—é¢å¤–çš„ç³»ç»Ÿèµ„æºï¼Œä½¿å¾—åº”ç”¨çš„æ€§èƒ½å¾ˆé«˜ã€‚ä¼ ç»Ÿè™šæ‹Ÿæœºæ–¹å¼è¿è¡Œæ–¹å¼è¿è¡Œ10ä¸ªå®Œå…¨ä¸åŒçš„åº”ç”¨å¯èƒ½æˆ‘ä»¬ä¼šèµ·10ä¸ªè™šæ‹Ÿæœºæ¥éƒ¨ç½²ï¼Œè€ŒDockeråªéœ€è¦å¯åŠ¨10ä¸ªéš”ç¦»çš„åº”ç”¨å³å¯ã€‚\n4ã€Dockerå¯ä»¥æ›´å¿«é€Ÿçš„äº¤ä»˜å’Œéƒ¨ç½²ï¼Œå¤§é‡åœ°èŠ‚çº¦å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²çš„æ—¶é—´ï¼Œå¯¹å¼€å‘è€…å’Œè¿ç»´äººå‘˜æ¥è¯´ï¼Œæœ€å¸Œæœ›çš„å°±æ˜¯ä¸€æ¬¡åˆ›å»ºæˆ–é…ç½®ï¼Œå¯ä»¥åœ¨ä»»æ„åœ°æ–¹æ­£å¸¸è¿è¡Œã€‚\n5ã€æ›´é«˜æ•ˆçš„è™šæ‹ŸåŒ–ï¼ŒDockerå®¹å™¨çš„è¿è¡Œä¸éœ€è¦é¢å¤–çš„Hypervisoræ”¯æŒï¼Œå®ƒæ˜¯å†…æ ¸çº§çš„è™šæ‹ŸåŒ–ï¼Œå› æ­¤å¯ä»¥å®ç°æ›´é«˜çš„æ€§èƒ½å’Œæ•ˆç‡ã€‚\n6ã€æ›´è½»æ¾çš„è¿ç§»å’Œæ‰©å±•ï¼ŒDockerå®¹å™¨å‡ ä¹å¯ä»¥åœ¨ä»»æ„çš„å¹³å°ä¸Šè¿è¡Œï¼ŒåŒ…æ‹¬ç‰©ç†æœºã€è™šæ‹Ÿæœºã€å…¬æœ‰äº‘ã€ç§æœ‰äº‘ã€ä¸ªäººç”µè„‘ã€æœåŠ¡å™¨ç­‰ï¼Œè¿™ç§å…¼å®¹æ€§å¯ä»¥è®©ç”¨æˆ·è½»æ¾åœ°æŠŠä¸€ä¸ªåº”ç”¨ç¨‹åºä»ä¸€ä¸ªå¹³å°ç›´æ¥è¿ç§»åˆ°å¦ä¸€ä¸ªå¹³å°ã€‚\nç¬¬äºŒç«  Dockerç¯å¢ƒæ­å»º\n2.1 Dockerçš„ç‰ˆæœ¬\nDockerä»2013å¹´3æœˆ20æ—¥å‘å¸ƒDocker0.1ï¼Œåˆ°ç°åœ¨å·²ç»å‘å¸ƒäº†å¤šä¸ªç‰ˆæœ¬ï¼Œä»2017å¹´3æœˆå¼€å§‹dockeråœ¨åŸæ¥çš„åŸºç¡€ä¸Šåˆ†ä¸ºä¸¤ä¸ªåˆ†æ”¯ç‰ˆæœ¬ï¼šDocker CE å’ŒDocker EEã€‚\nDocker CEå³ç¤¾åŒºå…è´¹ç‰ˆï¼Œå¯æ°¸ä¹…å…è´¹ä½¿ç”¨ï¼›\nDocker EE å³ä¼ä¸šç‰ˆï¼ŒåŠŸèƒ½æ›´å…¨ï¼Œæ›´å¼ºè°ƒå®‰å…¨ï¼Œä½†éœ€è¦ä»˜è´¹ä½¿ç”¨ï¼›\næœ¬è¯¾ç¨‹ä»‹ç»Docker CEç‰ˆæœ¬ï¼Œç›®å‰Dockerç‰ˆæœ¬ä¸º18.03\nDocker å®˜æ–¹ç½‘ç«™ï¼šhttps://www.docker.com/\n2.2 Dockerçš„å®‰è£…é¦–å…ˆï¼Œæˆ‘ä»¬çŸ¥é“Dockerå¹¶ä¸æ˜¯å®¹å™¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªç®¡ç†å®¹å™¨çš„å¼•æ“ã€‚\næˆ‘ä»¬è¯¾ç¨‹é‡‡ç”¨çš„Linuxç‰ˆæœ¬æ˜¯CentOS7ï¼Œå­¦ä¹ Dockerä¹Ÿæ›´æ¨èåœ¨Linuxç¯å¢ƒä¸‹ä½¿ç”¨ï¼›\nDockeræ”¯æŒCentOSåŠä»¥åçš„ ç‰ˆæœ¬ï¼›\nCentOS7ç³»ç»Ÿå¯ä»¥ç›´æ¥é€šè¿‡yumè¿›è¡Œå®‰è£…ï¼š\nå®‰è£…å‰å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹ç³»ç»Ÿæ˜¯å¦å·²ç»å®‰è£…äº†Dockerï¼šyum list installed | grep docker\n\nå®‰è£…ï¼šyum install docker -y\n\næŸ¥çœ‹Dockerç‰ˆæœ¬ï¼ˆå¯ç”¨äºæŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼‰:docker -version (docker version,docker -v)\n\nå¸è½½ï¼šyum remove docker -v\n\n\n\n2.3 DockeræœåŠ¡å¯åŠ¨\nå®‰è£…ä¹‹åDockeræœåŠ¡ï¼›\nå¯åŠ¨ï¼šsystemctl start docker æˆ–è€…  service docker start\nåœæ­¢ï¼šsystemctl stop docker æˆ–è€… service docker stop\né‡å¯ï¼š systemctl restart docker æˆ–è€… service docker restart\næ£€æŸ¥dockerè¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€ï¼š\nsystemctl status docker æˆ–è€… service docker status\næŸ¥çœ‹dockerè¿›ç¨‹ï¼šps -ef | grep docker\n2.4 DockeræœåŠ¡\ndocker info æŸ¥çœ‹dockerç³»ç»Ÿä¿¡æ¯\ndocker æŸ¥çœ‹æ‰€æœ‰çš„å¸®åŠ©ä¿¡æ¯\ndocker commond -help æŸ¥çœ‹æŸä¸ªcommondå‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ã€‚\n2.5 Dockerä½¿ç”¨åˆä½“éªŒ\n2.5.1 Dockerçš„è¿è¡Œæœºåˆ¶\næˆ‘ä»¬çŸ¥é“Dockerå¹¶ä¸æ˜¯å®¹å™¨ï¼Œè€Œåªæ˜¯ä¸€ä¸ªç®¡ç†å®¹å™¨çš„å¼•æ“ï¼›\nDockerçš„åº•å±‚è¿è¡ŒåŸç†ï¼š\nDockeræœåŠ¡å¯åŠ¨-&gt;ä¸‹è½½é•œåƒ-&gt;å¯åŠ¨è¯¥é•œåƒå¾—åˆ°ä¸€ä¸ªå®¹å™¨-&gt;å®¹å™¨é‡Œé¢è¿è¡Œç€æˆ‘ä»¬æƒ³è¦çš„ç¨‹åºï¼›\n\n2.5.2 ç¬¬ä¸€ä¸ªDockerå®¹å™¨æ ¹æ®Dockerçš„è¿è¡Œæœºåˆ¶ï¼Œæˆ‘ä»¬å°†æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤è¿è¡Œç¬¬ä¸€ä¸ªDockerå®¹å™¨ï¼›\n1ã€å°†DockeræœåŠ¡å¯åŠ¨ï¼›\n2ã€ä¸‹è½½ä¸€ä¸ªé•œåƒï¼ŒDockerè¿è¡Œä¸€ä¸ªå®¹å™¨å‰éœ€è¦æœ¬åœ°å­˜åœ¨æœ‰å¯¹åº”çš„é•œåƒï¼Œå¦‚æœé•œåƒä¸å­˜åœ¨æœ¬åœ°ï¼ŒDockerä¼šä»é•œåƒä»“åº“ä¸‹è½½ï¼ˆé»˜è®¤æ˜¯Docker Hubå…¬å…±æ³¨å†ŒæœåŠ¡å™¨ä¸­çš„ä»“åº“https://hub.docker.comï¼‰ã€‚\nä»docker hubå®˜ç½‘æœç´¢è¦ä½¿ç”¨çš„é•œåƒï¼Œæ¯”å¦‚docker search tomcatè¿›è¡Œæœç´¢ï¼Œç„¶åä¸‹è½½æ‰€éœ€è¦çš„é•œåƒï¼š\nä¸‹è½½é•œåƒï¼šdocker pull tomcat\n\nè¿è¡Œé•œåƒï¼ˆå‰å°è¿è¡Œï¼‰ï¼šdocker run tomcat\n\nè¦åå°è¿è¡Œï¼ŒåŠ å‚æ•° -dï¼šdocker run -d tomcat\n\nè¿è¡Œæ—¶å¹¶æ˜ å°„åˆ°å¯¹åº”Linuxç«¯å£ï¼ˆå‰é¢ä¸ºLinuxç«¯å£ï¼Œåé¢ä¸ºé•œåƒç«¯å£ï¼‰docker run -d -p 8080:8080 tomcat\n\n\n\næ˜¾ç¤ºæœ¬åœ°å·²æœ‰çš„é•œåƒï¼šdocker images\n\nåœ¨åˆ—å‡ºä¿¡æ¯ä¸­ï¼Œå¯ä»¥çœ‹åˆ°å‡ ä¸ªå­—æ®µä¿¡æ¯\nREPOSITORYï¼šæ¥è‡ªäº å“ªä¸ªä»“åº“ï¼Œæ¯”å¦‚ docker.io/tomcat\nTAGï¼šé•œåƒçš„æ ‡è®°ï¼Œæ¯”å¦‚latest\nIMAGE IDï¼šé•œåƒçš„IDå·ï¼ˆå”¯ä¸€ï¼‰\nCRATEDï¼šåˆ›å»ºæ—¶é—´\nSIZEï¼šé•œåƒå¤§å°\n3ã€å¯åŠ¨ä¸‹è½½ä¸‹æ¥çš„é•œåƒå¾—åˆ°ä¸€ä¸ªå®¹å™¨ï¼š\n2.5.3 è¿›å…¥Dockerå®¹å™¨\nè¿›å…¥å®¹å™¨ï¼šdocker exec -it cef0d139bfd6 bash\nå…¶ä¸­iè¡¨ç¤ºäº¤äº’å¼çš„ï¼Œä¹Ÿå°±æ˜¯ä¿æŒæ ‡å‡†è¾“å…¥æµæ‰“å¼€ï¼›\ntè¡¨ç¤ºè™šæ‹Ÿæ§åˆ¶å°ï¼Œåˆ†é…åˆ°ä¸€ä¸ªè™šæ‹Ÿæ§åˆ¶å°ï¼›\né€€å‡ºå®¹å™¨ï¼šexit\n2.5.4 å®¢æˆ·æœºè®¿é—®å®¹å™¨\nä»å®¢æˆ·æœºä¸Šè®¿é—®å®¹å™¨ï¼Œéœ€è¦æœ‰ç«¯å£æ˜ å°„ï¼Œdockerå®¹å™¨é»˜è®¤é‡‡ç”¨æ¡¥æ¥æ¨¡å¼ä¸å®¿ä¸»æœºé€šä¿¡ï¼Œéœ€è¦å°†å®¿ä¸»æœºçš„ipç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„ipç«¯å£ä¸Šï¼›\nåœæ­¢å®¹å™¨ï¼šdocker stop å®¹å™¨ID/åç§°\nå¯åŠ¨å®¹å™¨ï¼šdocker run -d -p 8080:8080 docker.io/tomcat æˆ–è€… 41a54fe1f79d\nç¬¬ä¸‰ç«  Dockeræ ¸å¿ƒç»„ä»¶\n3.1 Docker æ¶æ„\nDockerä½¿ç”¨å®¢æˆ·ç«¯-æœåŠ¡å™¨ï¼ˆC/Sï¼‰æ¶æ„æ¨¡å¼ï¼Œä½¿ç”¨è¿œç¨‹ API æ¥ç®¡ç†å’Œåˆ›å»ºDockerå®¹å™¨ã€‚\n\nDockerå®¹å™¨é€šè¿‡Dockeré•œåƒæ¥åˆ›å»ºã€‚\né•œåƒä¸å®¹å™¨çš„å…³ç³»ç±»ä¼¼äºé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„ç±»ä¸å¯¹è±¡çš„å…³ç³»ã€‚\n\n\n\nDocker\né¢å‘å¯¹è±¡\n\n\n\né•œåƒ\nç±»\n\n\nå®¹å™¨\nå¯¹è±¡\n\n\n3.2 Docker æ ¸å¿ƒè¦ç´ \nDockeråŒ…æ‹¬ä¸‰ä¸ªæ ¸å¿ƒè¦ç´ \né•œåƒï¼ˆImageï¼‰ã€å®¹å™¨ï¼ˆContainerï¼‰ã€ä»“åº“ï¼ˆRepositoryï¼‰\nç†è§£äº†è¿™ä¸‰ä¸ªæ¦‚å¿µï¼Œå°±äº†è§£äº†Dockerçš„æ•´ä¸ª ç”Ÿå‘½å‘¨æœŸã€‚\nDockerçš„è¿è¡Œç¦»ä¸å¼€ä»¥ä¸Šæ ¸å¿ƒå‡ ä¸ªç»„ä»¶çš„æ”¯æŒï¼ŒDockerçš„æˆåŠŸä¹Ÿæ˜¯æ‹œè¿™å‡ ä¸ªç»„ä»¶æ‰€èµã€‚\næœ‰äººä¼šè¯¯ä»¥ä¸ºï¼ŒDockerå°±æ˜¯å®¹å™¨ï¼Œä½†Dockerä¸æ˜¯å®¹å™¨ï¼Œè€Œæ˜¯ç®¡ç†å®¹å™¨çš„å¼•æ“ã€‚\n3.3 é•œåƒ\nDockeré•œåƒå°±æ˜¯ä¸€ä¸ªåªè¯»çš„æ¨¡æ¿ï¼Œå¯ä»¥ç”¨æ¥åˆ›å»ºDockerå®¹å™¨ã€‚\nä¾‹å¦‚ï¼šä¸€ä¸ªé•œåƒå¯ä»¥åŒ…å«ä¸€ä¸ªå®Œæ•´çš„CentOSæ“ä½œç³»ç»Ÿç¯å¢ƒï¼Œé‡Œé¢ä»…å®‰è£…äº†MySqlæˆ–ç”¨æˆ·éœ€è¦çš„å…¶å®ƒåº”ç”¨ç¨‹åºã€‚\nDockeræä¾›äº†ä¸€ä¸ªéå¸¸ç®€å•çš„æœºåˆ¶æ¥åˆ›å»ºé•œåƒæˆ–è€…æ›´æ–°ç°æœ‰çš„é•œåƒï¼Œç”¨æˆ·ç”šè‡³å¯ä»¥ç›´æ¥ä»å…¶ä»–äººé‚£é‡Œä¸‹è½½ä¸€ä¸ªå·²ç»åšå¥½çš„é•œåƒæ¥ç›´æ¥ä½¿ç”¨ã€‚\n3.3.2 é•œåƒçš„ç»„æˆç»“æ„\né•œåƒæ˜¯ç”±è®¸å¤šå±‚çš„æ–‡ä»¶ç³»ç»Ÿå åŠ æ„æˆçš„ï¼Œæœ€ä¸‹é¢æ˜¯ä¸€ä¸ªå¼•å¯¼æ–‡ä»¶ç³»ç»Ÿbootfsï¼Œç¬¬äºŒå±‚æ˜¯ä¸€ä¸ªrootæ–‡ä»¶ç³»ç»Ÿrootfsï¼Œrootæ–‡ä»¶ç³»ç»Ÿé€šå¸¸æ˜¯æŸç§æ“ä½œç³»ç»Ÿï¼Œæ¯”å¦‚centosã€Ubuntuï¼Œåœ¨rootæ–‡ä»¶ç³»ç»Ÿä¹‹ä¸Šåˆæœ‰å¾ˆå¤šå±‚æ–‡ä»¶ç³»ç»Ÿï¼Œè¿™äº›æ–‡ä»¶ç³»ç»Ÿå åŠ åœ¨ä¸€èµ·ï¼Œæ„æˆdockerä¸­çš„é•œåƒï¼›\n\n3.3.3 é•œåƒçš„æ—¥å¸¸æ“ä½œ\n1ã€ä¸‹è½½é•œåƒï¼Œæ¯”å¦‚ä¸‹è½½redisé•œåƒï¼šdocker pull redis:latest\nredisæ˜¯æŸ¥è¯¢åˆ°çš„é•œåƒåç§°ï¼Œlatestæ˜¯é•œåƒçš„æ ‡ç­¾tag\nå®‰è£…ä¸€ä¸ªé•œåƒæœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ ¼å¼ä»å®˜æ–¹é•œåƒä»“åº“ä¸‹è½½ï¼Œä¸€ç§æ˜¯è‡ªå·±é€šè¿‡dockerfileæ–‡ä»¶æ„å»ºã€‚\nå¦‚æœæœ‰å®˜æ–¹é•œåƒï¼Œæˆ‘ä»¬å°±ä¸å¿…è‡ªå·±ç”¨dockerfileæ–‡ä»¶æ„å»ºäº†ï¼Œé™¤éå®˜æ–¹æ²¡æœ‰æ‰ä¼šè‡ªå·±å»dockerfileæ–‡ä»¶æ„å»ºï¼›\n2ã€åˆ—å‡ºå·²ç»ä¸‹è½½çš„é•œåƒï¼šdocker imagesï¼Œæˆ–è€… docker images redis\n3ã€è¿è¡Œé•œåƒï¼šdocker run -d redis å…¶ä¸­-dè¡¨ç¤ºåœ¨åå°è¿è¡Œ\n4ã€æŸ¥çœ‹å®¹å™¨é•œåƒçš„çŠ¶æ€ï¼šdocker ps\né€šè¿‡ docker exec | a8584016f9b6(é•œåƒID) bash è¿›å…¥ reidså®¹å™¨\n5ã€åˆ é™¤é•œåƒ docker rmi redis:latest  æ³¨æ„æ˜¯rmiï¼Œä¸æ˜¯rmï¼Œrmæ˜¯åˆ é™¤å®¹å™¨ï¼›\n6ã€å¼ºåˆ¶åˆ é™¤é•œåƒ docker rmi -f redis:latest\n7ã€æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰çš„é•œåƒ docker images\n3.4 å®¹å™¨\n3.4.1å®¹å™¨çš„æœ€åŸºæœ¬æ¦‚å¿µ\nå®¹å™¨æ˜¯ä»é•œåƒåˆ›å»ºçš„è¿è¡Œå®ä¾‹ã€‚å®ƒå¯ä»¥è¢«å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€‚æ¯ä¸ªå®¹å™¨éƒ½æ˜¯ç›¸äº’éš”ç¦»çš„ã€ä¿è¯å®‰å…¨å¹³å°ã€‚å¯ä»¥æŠŠçœ‹åšä¸€ä¸ªç®€æ˜“ç‰ˆçš„Linuxç¯å¢ƒï¼ŒåŒ…æ‹¬rootç”¨æˆ·æƒé™ã€è¿›ç¨‹æ§ä»¶ã€ç”¨æˆ·ç©ºé—´å’Œç½‘ç»œç©ºé—´å’Œè¿è¡Œåœ¨å…¶ä¸­çš„åº”ç”¨ç¨‹åºã€‚\nDockeråˆ©ç”¨å®¹å™¨æ¥è¿è¡Œå¼•ç”¨ï¼Œé•œåƒæ˜¯åªè¯»çš„ ï¼Œå®¹å™¨åœ¨å¯åŠ¨çš„æ—¶å€™åˆ›å»ºä¸€å±‚å¯å†™å±‚ä½œä¸ºæœ€ä¸Šå±‚ã€‚  \n\n3.4.2 å®¹å™¨çš„æ—¥å¸¸æ“ä½œå¯åŠ¨å®¹å™¨æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯åŸºäºé•œåƒåˆ›å»ºä¸€ä¸ªå®¹å™¨å¹¶å¯åŠ¨ï¼Œå¦ä¸€ä¸ªæ˜¯å°†åœ¨ç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨é‡æ–°å¯åŠ¨ã€‚\né€šè¿‡é•œåƒå¯åŠ¨å®¹å™¨ï¼šdocker run -d redis\næŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨ï¼šdocker ps\næŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨ï¼šdocker ps -a\nåœæ­¢å®¹å™¨ï¼šdocker stop å®¹å™¨idæˆ–å®¹å™¨åç§°\nå¼€å¯å®¹å™¨ï¼šdocker start å®¹å™¨idæˆ–å®¹å™¨åç§°\nå› ä¸ºDockerçš„å®¹å™¨å®åœ¨å¤ªè½»é‡çº§äº†ï¼Œå¾ˆå¤šæ—¶å€™ç”¨æˆ·éƒ½æ˜¯éšæ—¶åˆ é™¤å’Œæ–°åˆ›å»ºå®¹å™¨ã€‚\nåˆ é™¤å®¹å™¨ï¼šdocker rm å®¹å™¨idæˆ–å®¹å™¨åç§°\nåˆ é™¤å®¹å™¨æ—¶ï¼Œå®¹å™¨å¿…é¡»æ˜¯åœæ­¢çŠ¶æ€ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼›\nè¿›å…¥å®¹å™¨ï¼šdocker exec -it å®¹å™¨idæˆ–å®¹å™¨åç§° bash\nåœæ­¢å®¹å™¨ï¼šdocker stop å®¹å™¨idæˆ–å®¹å™¨åç§°\nå·²ç»åœæ­¢çš„å®¹å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤docker start æ¥å¯åŠ¨ã€‚\nå¼€å¯å®¹å™¨ï¼šdocker start å®¹å™¨idæˆ–å®¹å™¨åç§°\nè¿˜å¯ä»¥ä½¿ç”¨ docker inspect + å®¹å™¨idæˆ–å®¹å™¨åç§° æŸ¥çœ‹å®¹å™¨çš„æ›´å¤šä¿¡æ¯ï¼›\nåœç”¨å…¨éƒ¨è¿è¡Œä¸­çš„å®¹å™¨ï¼šdocker stop $(docker ps -q)\nåˆ é™¤å…¨éƒ¨å®¹å™¨ï¼šdocker rm $(docker ps -aq)\nä¸€æ¡å‘½ä»¤å®ç°åœç”¨å¹¶åˆ é™¤å®¹å™¨ï¼š\ndocker stop $(docker ps -q) &amp; docker rm -f $(docker ps -aq)\n3.5 ä»“åº“\n3.5.1 ä»“åº“çš„åŸºæœ¬æ¦‚å¿µä»“åº“æ˜¯é›†ä¸­å­˜æ”¾é•œåƒæ–‡ä»¶çš„åœºæ‰€ï¼Œæœ‰æ—¶å€™ä¼šæŠŠä»“åº“å’Œä»“åº“æ³¨å†ŒæœåŠ¡å™¨ï¼ˆRegistryï¼‰çœ‹åšåŒä¸€äº‹åŠ¡ï¼Œå¹¶ä¸ä¸¥æ ¼åŒºåˆ†ã€‚å®é™…ä¸Šï¼Œä»“åº“æ³¨å†ŒæœåŠ¡å™¨ä¸Šå¾€å¾€å­˜æ”¾ç€å¤šä¸ªä»“åº“ï¼Œæ¯ä¸ªä»“åº“ä¸­åˆåŒ…å«äº†å¤šä¸ªé•œåƒï¼Œæ¯ä¸ªé•œåƒæœ‰ä¸åŒçš„æ ‡ç­¾ï¼ˆtagï¼‰ï¼›\nä»“åº“åˆ†ä¸ºå…¬å¼€ä»“åº“ï¼ˆPublicï¼‰å’Œç§æœ‰ä»“åº“ï¼ˆPrivateï¼‰ä¸¤ç§å½¢å¼ï¼›\næœ€å¤§çš„å…¬å¼€ä»“åº“æ˜¯Docker Hubï¼ˆhttps://hub.docker.com/)ï¼Œå­˜æ”¾äº†æ•°é‡åºå¤§çš„é•œåƒä¾›ç”¨æˆ·ä¸‹è½½ ï¼›\nå½“ç„¶ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥åœ¨æœ¬åœ°ç½‘ç»œå†…åˆ›å»ºä¸€ä¸ªç§æœ‰ä»“åº“ï¼›\nå½“ç”¨æˆ·åˆ›å»ºäº†ä¸€ä¸ªè‡ªå·±çš„é•œåƒä¹‹åå°±å¯ä»¥ä½¿ç”¨pushå‘½ä»¤å°†å®ƒä¸Šä¼ åˆ°å…±æœ‰æˆ–è€…ç§æœ‰ä»“åº“ï¼Œè¿™æ ·ä¸‹æ¬¡åœ¨å¦å¤–ä¸€å°æœºå™¨ä¸Šä½¿ç”¨è¿™ä¸ªé•œåƒæ—¶å€™ï¼Œåªéœ€è¦ä»ä»“åº“ä¸Špullä¸‹æ¥å³å¯ï¼›\næ³¨ï¼šDockerä»“åº“çš„æ¦‚å¿µè·ŸGitç±»ä¼¼ï¼Œæ³¨å†ŒæœåŠ¡å™¨ä¹Ÿç±»ä¼¼äºGitHubè¿™æ ·çš„æ‰˜ç®¡æœåŠ¡ï¼›\n3.5.2 ä»“åº“çš„æ—¥å¸¸æ“ä½œ\nç”¨æˆ·å¯é€šè¿‡docker search å‘½ä»¤æ¥æŸ¥æ‰¾å®˜æ–¹ä»“åº“ä¸­çš„é•œåƒï¼š\ndocker search rabbitmq\n\nå¯ä»¥çœ‹åˆ°è¿”å›äº†å¾ˆå¤šåŒ…å«å…³é”®å­—çš„é•œåƒï¼Œå…¶ä¸­åŒ…æ‹¬é•œåƒåç§°ã€æè¿°ã€æ˜Ÿçº§ï¼ˆè¡¨ç¤ºè¯¥é•œåƒçš„å—æ¬¢è¿ç¨‹åº¦ï¼‰ã€æ˜¯å¦å®˜æ–¹åˆ›å»ºã€æ˜¯å¦è‡ªåŠ¨åˆ›å»ºï¼›å®˜æ–¹çš„é•œåƒè¯´æ˜æ˜¯å®˜æ–¹é¡¹ç›®ç»„åˆ›å»ºå’Œç»´æŠ¤çš„ï¼Œautomated èµ„æºå…è®¸ç”¨æˆ·éªŒè¯é•œåƒçš„æ¥æºçš„å†…å®¹ï¼›\næ ¹æ®æ˜¯å¦æ˜¯å®˜æ–¹æä¾›ï¼Œå¯å°†é•œåƒèµ„æºåˆ†ä¸ºä¸¤ç±»ï¼›\nä¸€ç§æ˜¯ç±»ä¼¼centosè¿™æ ·çš„åŸºç¡€é•œåƒï¼Œè¢«ç§°ä¸ºåŸºç¡€æˆ–æ ¹é•œåƒã€‚è¿™äº›åŸºç¡€é•œåƒæ˜¯ç”±Dockerå…¬å¸åˆ›å»ºã€éªŒè¯ã€æ”¯æŒã€æä¾›ã€‚è¿™æ ·çš„é•œåƒå¾€å¾€ä½¿ç”¨å•ä¸ªå•è¯ä½œä¸ºåå­—ï¼›\nè¿˜æœ‰ä¸€ç§ç±»å‹ï¼Œæ¯”å¦‚tianon/centosé•œåƒï¼Œå®ƒæ˜¯ç”±Dockerçš„ç”¨æˆ·åˆ›å»ºå¹¶ç»´æŠ¤çš„ï¼Œå¾€å¾€å¸¦æœ‰ç”¨æˆ·åç§°å‰ç¼€ã€‚å¯ä»¥é€šè¿‡å‰ç¼€user_name/ æ¥æŒ‡å®šä½¿ç”¨æŸä¸ªç”¨æˆ·æä¾›çš„é•œåƒï¼Œæ¯”å¦‚tianonç”¨æˆ·ï¼›\nå¹¶åˆ©ç”¨docker pullå‘½ä»¤æ¥å°†å®ƒä¸‹è½½åˆ°æœ¬åœ°ï¼š\ndocker pull rabbitmqdocker pull centos\n\n\n\nç¬¬å››ç«  Dockerä½¿ç”¨ç¤ºä¾‹\n4.1 Dockerå®‰è£…MySQL\nä¸‹è½½MySQLé•œåƒï¼šdocker pull mysql:latest ï¼ˆå®‰è£…çš„æ˜¯æœ€æ–°çš„mysql8.0ï¼‰docker run -p 3306:3306 -e MYSQL_DATABASE=workdb -e MYSQL_ROOT_PASSWORD=123456 -d mysql:latest\n\nå…¶ä¸­-eæ˜¯æŒ‡å®šç¯å¢ƒå˜é‡\nè¿›å…¥å®¹å™¨ï¼šdocker exec -it 3e8bf7392b4e bash\n\n\n\nç™»å½•MySQLï¼šmysql -u root -p\n\n\n\nä¿®æ”¹å¯†ç ï¼šALTER USER 'root'@'localhost' IDENTIFIED BY '123456';\n\n\n\næˆæƒè¿œç¨‹ç™»å½•è®¿é—®ï¼šCREATE USER 'wkcto'@'%' IDENTIFIED WITH mysql_native_password BY '123456';GRANT ALL PRIVILEGES ON *.* TO  'wkcto'@'%';\n\n\n\n4.2 Dockerå®‰è£…Nginx\nä¸‹è½½Nginxé•œåƒï¼šdocker pull nginxdocker run -p 80:80 -d nginx\n\nè¿›å…¥å®¹å™¨ï¼šdocker exec -it 3e8bf7392b4e bash\n\næµè§ˆå™¨è®¿é—®Nginxï¼šhttp://192.168.80.201:80\nNginxéƒ¨ç½²é™æ€ç½‘ç«™ï¼šå°†Linuxçš„æ–‡ä»¶æ‹·è´åˆ°dockerå®¹å™¨æŸä¸ªç›®å½•ä¸‹ï¼š\ndocker cp root/test.html bf8a58328e18:/usr/share/nginx/html\n4.3 Dockerå®‰è£…Zookeeper\nä¸‹è½½Zookeepeé•œåƒï¼šdocker pull zookeeperdocker run -p 2181:2181 -d zookeeper\n\nè¿›å…¥å®¹å™¨ï¼šdocker exec -it 3e8bf7392b4e bash\n\n\n\n\n\n4.4 Docker å®‰è£… ActiveMQ\nä¸‹è½½ActiveMQé•œåƒï¼šdocker pull webcenter/activemqdocker run -p 2181:2181 -d activemq\n\n\n\nè¿›å…¥å®¹å™¨ ï¼šdocker exec -it 3e8bg7392b4e bash\n\n\n\n\n\nç¬¬äº”ç«  Docker è‡ªå®šä¹‰é•œåƒ\n5.1 è®¤è¯† Dockerfile æ–‡ä»¶\nDockerfileç”¨äºæ„å»ºDockeré•œåƒï¼ŒDockerfileæ–‡ä»¶æ˜¯ç”±ä¸€è¡Œè¡Œå‘½ä»¤è¯­å¥ç»„æˆï¼ŒåŸºäºè¿™äº›å‘½ä»¤æ—¢å¯ä»¥æ„å»ºä¸€ä¸ªé•œåƒï¼Œ\næ¯”å¦‚ä¸‹é¢å°±æ˜¯ä¸€ä¸ªDockerfileæ–‡ä»¶æ ·ä¾‹ï¼š\nFROM XXX/jdk:8MAINTAINER docker_userENV JAVA_HOME /usr/local/javaADD apache-tomcat-8.0.32.tar.gz /usr/local/RUN mv apache-tomcat-8.0.32 tomcat8EXPOSE 8080RUN chmod u+x /usr/local/tomcat/bin/*.shCMD /usr/local/tomcat8/bin/catalina.sh start\n\n\n\n\n\n\n\n5.2 Dockerfile çš„åŸºæœ¬ç»“æ„\nä¸€èˆ¬çš„ï¼ŒDockerfileåˆ†ä¸ºå››éƒ¨åˆ†ï¼š\nåŸºç¡€é•œåƒä¿¡æ¯ï¼›\nç»´æŠ¤è€…ä¿¡æ¯ï¼›\né•œåƒæ“ä½œæŒ‡ä»¤ï¼›\nå®¹å™¨å¯åŠ¨æ—¶æ‰§è¡ŒæŒ‡ä»¤ï¼›\n5.3 Dockerfile æŒ‡ä»¤\nFROMæ ¼å¼ä¸º FROM   æˆ– FROM :\nDockerfile æ–‡ä»¶çš„ç¬¬ä¸€æ¡æŒ‡ä»¤å¿…é¡»ä¸ºFROMæŒ‡ä»¤ã€‚å¹¶ä¸”ï¼Œå¦‚æœåœ¨åŒä¸€ä¸ªDockerfileä¸­åˆ›å»ºå¤šä¸ªé•œåƒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ªFROMæŒ‡ä»¤ï¼ˆæ¯ä¸ªé•œåƒä¸€æ¬¡ï¼‰ï¼›\nMAINTAINERæ ¼å¼ä¸º MAINTAINER ï¼ŒæŒ‡å®šç»´æŠ¤è€…ä¿¡æ¯ï¼›\nENVæ ¼å¼ä¸º ENV  ï¼ŒæŒ‡å®šä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œä¼šè¢«åç»­RUNæŒ‡ä»¤ä½¿ç”¨ï¼Œå¹¶åœ¨å®¹å™¨è¿è¡Œæ—¶ä¿æŒï¼›\nADDæ ¼å¼ä¸º ADD  ï¼›\nå¤åˆ¶æŒ‡å®šçš„åˆ°å®¹å™¨ä¸­çš„ï¼›\nEXPOSEæ ¼å¼ä¸º EXPOSE  [â€¦]\nå‘Šè¯‰DockeræœåŠ¡ç«¯å®¹å™¨æš´éœ²çš„ç«¯å£å·ï¼Œä¾›äº’è”ç³»ç»Ÿä½¿ç”¨ï¼Œåœ¨å¯åŠ¨å®¹å™¨æ—¶éœ€è¦é€šè¿‡ -p æ˜ å°„ç«¯å£ï¼ŒDockerä¸»æœºä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªç«¯å£è½¬å‘åˆ°æŒ‡å®šçš„ç«¯å£ï¼›\nWORKDIRWORKDIR ç›®å½•\nåˆ‡æ¢å·¥ä½œç›®å½•ï¼Œæ²¡æœ‰åˆ™åˆ›å»º\nVOLUMEæ ¼å¼ä¸º [â€œLinuxä¸­çš„ç›®å½•ï¼Œæ³¨æ„ä¸€å®šè¦ç»å¯¹è·¯å¾„â€,â€å¯¹åº”å®¹å™¨ä¸­çš„è·¯å¾„â€]\nä½œç”¨ä¸ºåˆ›å»ºä¸€ä¸ªåŒ¿åæ•°æ®å·æŒ‚è½½ç‚¹ï¼Œå°±æ˜¯æ˜ å°„linuxçš„è·¯å¾„åˆ°å®¹å™¨è·¯å¾„ä½¿å…¶å…±äº«å¯ç›´æ¥è®¿é—®å¯¹åº”è·¯å¾„ä¸­çš„èµ„æºã€‚ï¼ˆæ¯”å¦‚å®¹å™¨å†…ç”Ÿæˆçš„æ—¥å¿—å¯ä»¥å­˜æ”¾åˆ°å¯¹åº”æŒ‚è½½è·¯å¾„ï¼Œè¿™æ ·å³æ˜¯å®¹å™¨é€€å‡ºå…¶å¯¹åº”çš„æ—¥å¿—æ–‡ä»¶è¿˜åœ¨ï¼‰\nRUNæ ¼å¼ä¸º RUN \nRUN æŒ‡ä»¤å°†åœ¨å½“å‰é•œåƒåŸºç¡€ä¸Šæ‰§è¡ŒæŒ‡å®šå‘½ä»¤ï¼Œå¹¶æäº¤ä¸ºæ–°çš„é•œåƒï¼Œ\nå½“å‘½ä»¤è¾ƒé•¿æ—¶å¯ä»¥ä½¿ç”¨  \\ æ¥æ¢è¡Œï¼›\nCMDæŒ‡å®šå¯åŠ¨å®¹å™¨æ—¶æ‰§è¡Œçš„å‘½ä»¤ï¼Œæ¯ä¸ªDockerfile åªèƒ½æœ‰ä¸€æ¡CMDå‘½ä»¤ã€‚\nå¦‚æœæŒ‡å®šäº†å¤šæ¡å‘½ä»¤ï¼Œåªæœ‰æœ€åä¸€æ¡ä¼šè¢«æ‰§è¡Œã€‚\nå¦‚æœç”¨æˆ·å¯åŠ¨å®¹å™¨æ—¶æŒ‡å®šäº†è¿è¡Œçš„å‘½ä»¤ï¼Œåˆ™ä¼šè¦†ç›–æ‰CMDæŒ‡å®šçš„å‘½ä»¤ã€‚\n5.4 Dockerfileè‡ªå®šä¹‰é•œåƒ\n5.4.1 Dockerfileè‡ªå®šä¹‰JDKé•œåƒ\nFROM centos:latestMAINTAINER testADD jdk-8u271-linux-x64.tar.gz /usr/localENV JAVA_HOME /usr/local/jdk1.8.0_271ENV CLASSPATH $JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jarENV PATH $PATH:$JAVA_HOME/binCMD java -version\n\næ„å»ºé•œåƒï¼š\ndocker build -t test_jdk1.8.0_271 .\n\nè¿è¡Œé•œåƒï¼š\ndocker run -d 86ff367d5f1e\n\n\n\n\n\n5.1.2 è‡ªå®šä¹‰Tomcaté•œåƒ\nå®šä¹‰Dockerfileæ–‡ä»¶ï¼š\nFROM test_jdk1.8.0_271MAINTAINER testADD apache-tomcat-8.5.24.tar.gz/usr/local/ENV CATALINA_HOME /usr/local/apache-tomcat-8.5.24ENV PATH $PATH:$CATALINA_HOME/lib:$CATALINA_HOME/binEXPOSE 8080CMD /usr/local/apache-tomcat-8.5.24/bin/catalina.sh run\n\næ„å»ºé•œåƒï¼š\ndocker build -t test-tomcat-8.5.24 . #æ„å»ºé•œåƒï¼Œå¹¶ä¸”æ ‡ç­¾åç§°ä¸ºtest-tomcat-8.5.24\n\nè¿è¡Œé•œåƒï¼š\ndocker run -d -p 8080:8080 ab41b5f48256\n\n\n\n\n\n5.4.3 è‡ªå®šä¹‰MySQLé•œåƒ\nå®šä¹‰Dockerfileæ–‡ä»¶ï¼š\nFROM centos:centos6MAINTAINER testRUN yum install -y mysql-server mysqlRUN /etc/init.d/mysqld start &amp;&amp;\\mysql -e \"grant all privileges on *.* to 'root'@'%'identified by '123456' WITH GRANT OPTION ;\"&amp;&amp;\\mysql -e \"grant all privileges on *.* to 'root'@'localhost' identified by '123456' WITH GRANT OPTION ;\"&amp;&amp;\\mysql -uroot -p123456 -e \"show databases;\"EXPOSE 3306CMD /usr/bin/mysqld_safe\n\næ„å»ºé•œåƒï¼š\ndocker build -t test-mysql . #æ„å»ºé•œåƒï¼Œå¹¶ä¸”æ ‡ç­¾åç§°ä¸ºtest-mysql,è¿™é‡Œçš„.ä»£è¡¨çš„æ˜¯Dockerfileæ‰€åœ¨è·¯å¾„ä¸ºå½“å‰åŒçº§ç›®å½•ä¸‹\n\nè¿è¡Œé•œåƒï¼š\ndocker run -d -p 3306:3306 09ce279d92df\n\n\n\n\n\n5.4.4 è‡ªå®šä¹‰Redisé•œåƒ\n5.4.5 ä½¿ç”¨URLçš„Dockerfileåˆ›å»ºé•œåƒdocker build github.com/creack/docker-firefox\n\n\n\n5.4.6 Docker Buildç›¸å…³å‚æ•°è¯´æ˜docker build å‘½ä»¤ç”¨äºä½¿ç”¨ Dockerfile åˆ›å»ºé•œåƒã€‚\nè¯­æ³•docker build [OPTIONS] PATH | URL | -\n\nOPTIONSè¯´æ˜ï¼š\n\n**â€“build-arg=[] :**è®¾ç½®é•œåƒåˆ›å»ºæ—¶çš„å˜é‡ï¼›\n**â€“cpu-shares :**è®¾ç½® cpu ä½¿ç”¨æƒé‡ï¼›\n**â€“cpu-period :**é™åˆ¶ CPU CFSå‘¨æœŸï¼›\n**â€“cpu-quota :**é™åˆ¶ CPU CFSé…é¢ï¼›\n**â€“cpuset-cpus :**æŒ‡å®šä½¿ç”¨çš„CPU idï¼›\n**â€“cpuset-mems :**æŒ‡å®šä½¿ç”¨çš„å†…å­˜ idï¼›\n**â€“disable-content-trust :**å¿½ç•¥æ ¡éªŒï¼Œé»˜è®¤å¼€å¯ï¼›\n**-f :**æŒ‡å®šè¦ä½¿ç”¨çš„Dockerfileè·¯å¾„ï¼›\n**â€“force-rm :**è®¾ç½®é•œåƒè¿‡ç¨‹ä¸­åˆ é™¤ä¸­é—´å®¹å™¨ï¼›\n**â€“isolation :**ä½¿ç”¨å®¹å™¨éš”ç¦»æŠ€æœ¯ï¼›\n**â€“label=[] :**è®¾ç½®é•œåƒä½¿ç”¨çš„å…ƒæ•°æ®ï¼›\n**-m :**è®¾ç½®å†…å­˜æœ€å¤§å€¼ï¼›\n**â€“memory-swap :**è®¾ç½®Swapçš„æœ€å¤§å€¼ä¸ºå†…å­˜+swapï¼Œâ€-1â€è¡¨ç¤ºä¸é™swapï¼›\n**â€“no-cache :**åˆ›å»ºé•œåƒçš„è¿‡ç¨‹ä¸ä½¿ç”¨ç¼“å­˜ï¼›\n**â€“pull :**å°è¯•å»æ›´æ–°é•œåƒçš„æ–°ç‰ˆæœ¬ï¼›\n**â€“quiet, -q :**å®‰é™æ¨¡å¼ï¼ŒæˆåŠŸååªè¾“å‡ºé•œåƒ IDï¼›\n**â€“rm :**è®¾ç½®é•œåƒæˆåŠŸååˆ é™¤ä¸­é—´å®¹å™¨ï¼›\n**â€“shm-size :**è®¾ç½®/dev/shmçš„å¤§å°ï¼Œé»˜è®¤å€¼æ˜¯64Mï¼›\n**â€“ulimit :**Ulimité…ç½®ã€‚\n**â€“squash :**å°† Dockerfile ä¸­æ‰€æœ‰çš„æ“ä½œå‹ç¼©ä¸ºä¸€å±‚ã€‚\nâ€“tag, -t: é•œåƒçš„åå­—åŠæ ‡ç­¾ï¼Œé€šå¸¸ name:tag æˆ–è€… name æ ¼å¼ï¼›å¯ä»¥åœ¨ä¸€æ¬¡æ„å»ºä¸­ä¸ºä¸€ä¸ªé•œåƒè®¾ç½®å¤šä¸ªæ ‡ç­¾ã€‚\nâ€“network: é»˜è®¤ defaultã€‚åœ¨æ„å»ºæœŸé—´è®¾ç½®RUNæŒ‡ä»¤çš„ç½‘ç»œæ¨¡å¼\n\nå®ä¾‹ä½¿ç”¨å½“å‰ç›®å½•çš„ Dockerfile åˆ›å»ºé•œåƒï¼Œæ ‡ç­¾ä¸º runoob/ubuntu:v1ã€‚\ndocker build -t runoob/ubuntu:v1 .  #è¿™é‡Œ\n\nä½¿ç”¨URL github.com/creack/docker-firefox çš„ Dockerfile åˆ›å»ºé•œåƒã€‚\ndocker build github.com/creack/docker-firefox\n\nä¹Ÿå¯ä»¥é€šè¿‡ -f Dockerfile æ–‡ä»¶çš„ä½ç½®ï¼š\ndocker build -f /path/to/a/Dockerfile .\n\nåœ¨ Docker å®ˆæŠ¤è¿›ç¨‹æ‰§è¡Œ Dockerfile ä¸­çš„æŒ‡ä»¤å‰ï¼Œé¦–å…ˆä¼šå¯¹ Dockerfile è¿›è¡Œè¯­æ³•æ£€æŸ¥ï¼Œæœ‰è¯­æ³•é”™è¯¯æ—¶ä¼šè¿”å›ï¼š\ndocker build -t test/myapp .Sending build context to Docker daemon 2.048 kBError response from daemon: Unknown instruction: RUNCMD\n","categories":["Docker"],"tags":["Docker"]},{"title":"JDBCå­¦ä¹ ç¬”è®°","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/jdbc-xue-xi-bi-ji/","content":"JDBCå­¦ä¹ ç¬”è®°\n1.JDBCæ˜¯ä»€ä¹ˆï¼Ÿ\nJava DataBase Connectivityï¼ˆJavaè¯­è¨€è¿æ¥æ•°æ®åº“ï¼‰\n\n\n2.JDBCçš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ\nJDBCæ˜¯SUNå…¬å¸åˆ¶å®šçš„ä¸€å¥—æ¥å£ï¼ˆinterfaceï¼‰\njava.sql.*;ï¼ˆè¿™ä¸ªè½¯ä»¶åŒ…ä¸‹æœ‰å¾ˆå¤šæ¥å£ï¼‰\næ¥å£éƒ½æœ‰è°ƒç”¨è€…å’Œå®ç°è€…ã€‚\né¢å‘æ¥å£è°ƒç”¨ã€é¢å‘æ¥å£å†™å®ç°ç±»ï¼Œè¿™éƒ½å±äºé¢å‘æ¥å£ç¼–ç¨‹ã€‚\nä¸ºä»€ä¹ˆè¦é¢å‘æ¥å£ç¼–ç¨‹ï¼Ÿ\nè§£è€¦åˆï¼šé™ä½ç¨‹åºçš„è€¦åˆåº¦ï¼Œæé«˜ç¨‹åºçš„æ‰©å±•èƒ½åŠ›ã€‚\nå¤šæ€æœºåˆ¶å°±æ˜¯éå¸¸å…¸å‹çš„ï¼šé¢å‘æŠ½è±¡ç¼–ç¨‹ã€‚(ä¸è¦é¢å‘å…·ä½“ç¼–ç¨‹)\n\nå»ºè®®ï¼šAnimal a = new Cat();Animal a = new Dog();//å–‚å…»çš„æ–¹æ³•public void feed(Animal a){//é¢å‘çˆ¶ç±»å¹¸å‹ç¼–ç¨‹ã€‚        }//ä¸å»ºè®®ï¼šDog d  = new Dog();Cat c = new Cat();\n\næ€è€ƒï¼šä¸ºä»€ä¹ˆSUNåˆ¶å®šä¸€å¥—JDBCæ¥å£å‘¢ï¼Ÿ\nå› ä¸ºæ¯ä¸€ä¸ªæ•°æ®åº“çš„åº•å±‚å®ç°åŸç†éƒ½ä¸ä¸€æ ·ã€‚\nOracleæ•°æ®åº“æœ‰è‡ªå·±çš„åŸç†ã€‚\nMySQLæ•°æ®åº“ä¹Ÿæœ‰è‡ªå·±çš„åŸç†ã€‚\nMS SqlServeræ•°æ®åº“ä¹Ÿæœ‰è‡ªå·±çš„åŸç†ã€‚\nâ€¦\næ¯ä¸€ä¸ªæ•°æ®åº“äº§å“éƒ½æœ‰è‡ªå·±ç‹¬ç‰¹çš„å®ç°åŸç†ã€‚\n\n\n\n\n\næ¯”å¦‚ä»¥ä¸‹æ˜¯SUNå…¬å¸éœ€è¦è§£å†³çš„é©±åŠ¨é—®é¢˜ï¼š\n//æ¯”å¦‚ï¼šå¦‚æœæ˜¯MySQLæ•°æ®åº“å‚å®¶è´Ÿè´£ç¼–å†™JDBCæ¥å£çš„å®ç°ç±»/*MySQLçš„æ•°æ®åº“å‚å®¶ è´Ÿè´£ç¼–å†™JDBCæ¥å£çš„å®ç°ç±»*/public class MySQL implements JDBC{ public void getConnection(){    System.out.println(\"è¿æ¥MySQLæ•°æ®åº“æˆåŠŸï¼\");}//å®ç°ç±»å‘—ç§°ä¸ºé©±åŠ¨ã€‚ï¼ˆMySQLé©±åŠ¨ï¼‰//xxx.jar  å½“ä¸­æœ‰å¾ˆå¤š.class,éƒ½æ˜¯å¯¹JDBCæ¥å£è¿›è¡Œçš„å®ç°ã€‚}\n\nJavaç¨‹åºå‘˜è§’è‰²ï¼š\n/*Javaç¨‹åºå‘˜è§’è‰²ã€‚ä¸éœ€è¦å…³å¿ƒå…·ä½“æ˜¯å“ªä¸ªå“ç‰Œçš„æ•°æ®åº“ï¼Œåªéœ€è¦é¢å‘JDBCæ¥å£å†™ä»£ç ã€‚é¢å‘æ¥å£ç¼–ç¨‹ï¼Œé¢å‘æŠ½è±¡ç¼–ç¨‹ï¼Œä¸è¦é¢å‘å…·ä½“ç¼–ç¨‹ã€‚*/public class JavaProgrammer{    public static void main(String[] args){        //JDBC jdbc = new MySQL();        //åŒæ—¶åˆ›å»ºå¯¹è±¡å¯ä»¥é€šè¿‡åå°„æ¥æœºåˆ¶å®ç°ã€‚        Class c = Class.forName(\"MySQL\");        JDBC jdbc = (JDBC)c.newInstance();                //ä»¥ä¸‹ä»£ç éƒ½æ˜¯é¢å‘æ¥å£è°ƒç”¨æ–¹æ³•ï¼Œä¸éœ€è¦ä¿®æ”¹        jdbc.getConnection();    }}\n\n\nJDBCçš„æœ¬è´¨åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ\n\nå°±æ˜¯ä¸€å¥—æ¥å£ã€‚\n\n3.JDBCå¼€å‘å‰çš„å‡†å¤‡å·¥ä½œ\nå…ˆä»å®˜ç½‘ä¸‹è½½å¯¹åº”çš„é©±åŠ¨jaråŒ…ï¼Œè®©åå°†å…¶é…ç½®åˆ°ç¯å¢ƒå˜é‡classpathå½“ä¸­ã€‚\nä»¥ä¸Šçš„é…ç½®æ˜¯é’ˆå¯¹äºæ–‡æœ¬ç¼–è¾‘å™¨çš„æ–¹å¼å¼€å‘ï¼Œä½¿ç”¨IDEAå·¥å…·çš„æ—¶å€™ï¼Œä¸éœ€è¦é…ç½®ä»¥ä¸Šçš„ç¯å¢ƒå˜é‡ã€‚\n\n4.JDBCç¼–ç¨‹å…­æ­¥ï¼ˆéœ€è¦èƒŒä¼šï¼‰ç¬¬ä¸€æ­¥ï¼š   æ³¨å†Œé©±åŠ¨ï¼ˆå‘Šè¯‰Javaç¨‹åºï¼Œå³å°†è¦è¿æ¥çš„æ˜¯å“ªä¸ªå“ç‰Œçš„æ•°      æ®åº“ï¼‰\nç¬¬äºŒæ­¥ï¼š   è·å–è¿æ¥ï¼ˆè¡¨ç¤ºJVMçš„è¿›ç¨‹å’Œæ•°æ®åº“è¿›ç¨‹ä¹‹é—´çš„é€šé“æ‰“å¼€äº†ï¼Œè¿™å±äºè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œé‡é‡çº§çš„ï¼Œä½¿ç”¨å®Œä¹‹åä¸€å®šè¦å…³é—­é€šé“ã€‚ï¼‰\nç¬¬ä¸‰æ­¥ï¼š   è·å–æ•°æ®åº“æ“ä½œå¯¹è±¡ï¼ˆä¸“é—¨æ‰§è¡Œsqlè¯­å¥çš„å¯¹è±¡ï¼‰\nç¬¬å››æ­¥ï¼š   æ‰§è¡ŒSQLè¯­å¥ï¼ˆDQLï¼ŒDMLâ€¦ï¼‰\nç¬¬äº”æ­¥ï¼š   å¤„ç†æŸ¥è¯¢ç»“æœé›†ï¼ˆåªæœ‰å½“ç¬¬å››æ­¥æ‰§è¡Œçš„æ˜¯selectè¯­å¥çš„æ—¶å€™ï¼Œæ‰æœ‰è¿™ç¬¬äº”æ­¥å¤„ç†æŸ¥è¯¢ç»“æœé›†ã€‚ï¼‰\nç¬¬å…­æ­¥ï¼š   é‡Šæ”¾èµ„æºï¼ˆä½¿ç”¨å®Œèµ„æºä¹‹åä¸€å®šè¦å…³é—­èµ„æºã€‚Javaå’Œæ•°æ®åº“å±äºè¿›ç¨‹é—´çš„é€šä¿¡ï¼Œå¼€å¯ä¹‹åä¸€å®šè¦å…³é—­ã€‚ï¼‰\nå®ä¾‹ï¼š   import java.sql.*;import java.util.ResourceBundle;  public class ServerDAO {      Connection conn = null;    Statement stamt = null;    ResultSet rs = null;    public ServerDAO()    {        ResourceBundle bundle = ResourceBundle.getBundle(\"jdbc\");        String driver = bundle.getString(\"driver\");        String url = bundle.getString(\"url\");        String user = bundle.getString(\"user\");        String password = bundle.getString(\"password\");        //System.out.println(driver);            try {                //æ³¨å†Œé©±åŠ¨            Class.forName(driver);            //è·å–æ•°æ®åº“è¿æ¥            conn = DriverManager.getConnection(url,user,password);            //è·å–æ•°æ®åº“æ“ä½œå¯¹è±¡            stamt  = conn.createStatement();            System.out.println(\"æœåŠ¡å™¨è¿æ¥æˆåŠŸ\");                //æ•°æ®åº“è¯­å¥            String sql = \"SELECT userName \\\"ç”¨æˆ·å§“å\\\" FROM users\";                //æŸ¥è¯¢ä½¿ç”¨exeuteQuery            rs = stamt.executeQuery(sql);            //å¢åˆ æ”¹ä½¿ç”¨exeuteUpdate            }   catch (ClassNotFoundException e) {            e.printStackTrace();        } catch (SQLException e) {            e.printStackTrace();        } finally {            try {                if(stamt!=null)                    stamt.close();                if(conn!=null)                    conn.close();                if( rs != null )                    rs.close();            } catch (SQLException e) {                e.printStackTrace();            }        }        }}\n\næ•°æ®åº“æŸ¥è¯¢ï¼š//è¿”å›çš„æ˜¯ä¸€ä¸ªæŸ¥è¯¢é›†ResultSet rs = (Statement).executeQuery(\"æŸ¥è¯¢è¯­å¥\");\n\næ•°æ®åº“çš„å¢åˆ æ”¹ï¼š//è¿”å›çš„intæ˜¯æœ‰æ•ˆæ”¹çš„æ•°æ®æ¡æ•°int num = (Statement).executeUpdate(\"å¢åˆ æ”¹è¯­å¥\");\n\næ•°æ®åº“æ“ä½œçš„è½¯ä»¶èƒ½ä½¿ç”¨ï¼šNavicat\næ•°æ®åº“è¡¨çš„è®¾è®¡ä¸€èˆ¬ä½¿ç”¨è½¯ä»¶ï¼šPowerDesigner\næ•°æ®åº“çš„å®‰å…¨ï¼š\næ³¨æ„SQLæ³¨å…¥ï¼ˆå®‰å…¨éšæ‚£ï¼‰è§£å†³å®‰å…¨éšæ‚£çš„æ–¹æ³•ï¼šä½¿ç”¨å°†Statementæ¥å£æ›¿æ¢æˆStatementçš„å­æ¥å£PreparedStatementï¼ˆè·å–é¢„ç¼–è¯‘çš„æ•°æ®åº“æ“ä½œå¯¹è±¡ï¼‰\nPreparedStatementåœ¨é¢„ç¼–è¯‘æœŸä¼šè¿›è¡Œä¸€ä¸ªå®‰å…¨æ£€æŸ¥æ‰€ä»¥ç›¸æ¯”Statementæ›´å®‰å…¨ã€‚\nå¹¶ä¸”ï¼ŒPrepaStatementçš„è¿è¡Œæ•ˆç‡ä¹Ÿæ¯”Statementé«˜ï¼ï¼ï¼\nStatementæ˜¯ç¼–è¯‘ä¸€æ¬¡è¿è¡Œä¸€æ¬¡ï¼ŒPreparedStatementæ˜¯é¢„ç¼–è¯‘ä¸€æ¬¡å¯ä»¥æŒ‰æ¨¡æ¿è¿è¡ŒNæ¬¡ã€‚\nä½†æ˜¯statementå¹¶ä¸æ˜¯ä¸€æ— ç”¨å¤„ï¼Œæœ‰äº›ä¸šåŠ¡éœ€è¦SQLæ³¨å…¥çš„é‚£ä¹ˆå°±éœ€è¦Statementäº†ï¼Œå› ä¸ºPrepareStaæ— æ³•èƒœä»»å…¶æ³¨å…¥åŠŸèƒ½ï¼ˆæ¯”å¦‚è¡¨çš„æ•°æ®æ’åºè¯­å¥ï¼‰ã€‚\nå®ä¾‹ï¼š\nimport java.sql.*;import java.util.ResourceBundle;public class ServerDAO { Connection conn = null; PreparedStatement ps = null; ResultSet rs = null; public ServerDAO() {     ResourceBundle bundle = ResourceBundle.getBundle(\"jdbc\");     String driver = bundle.getString(\"driver\");     String url = bundle.getString(\"url\");     String user = bundle.getString(\"user\");     String password = bundle.getString(\"password\");     //System.out.println(driver);     try {         //æ³¨å†Œé©±åŠ¨         Class.forName(driver);         //è·å–æ•°æ®åº“è¿æ¥         conn = DriverManager.getConnection(url,user,password);         System.out.println(\"æœåŠ¡å™¨è¿æ¥æˆåŠŸ\");          //æ•°æ®åº“è¯­å¥         //SQLè¯­å¥çš„æ¡†å­ï¼Œå…¶ä¸­ä¸€ä¸ªï¼Ÿï¼Œè¡¨ç¤ºä¸€ä¸ªå ä½ç¬¦ï¼Œä¸€ä¸ªï¼Ÿå°†æ¥æ¥å—ä¸€ä¸ªâ€œå€¼â€ï¼Œæ³¨æ„ï¼šå ä½ç¬¦ä¸èƒ½ä½¿ç”¨å•å¼•å·æ‹¬èµ·æ¥å¦åˆ™ä¼šå½“æˆå­—ç¬¦ä¸²         String sql = \"SELECT * FROM users where userName = ?\";         //è·å–æ•°æ®åº“é¢„ç¼–è¯‘æ“ä½œå¯¹è±¡         //ç¨‹åºæ‰§è¡Œåˆ°æ­¤å¤„ï¼Œä¼šå‘é€sqlè¯­å¥æ¡†å­ç»™DBMSï¼Œç„¶åDBMSè¿›è¡Œsqlè¯­å¥çš„é¢„å…ˆç¼–è¯‘         ps = conn.prepareStatement(sql);         //ç»™å ä½ç¬¦ï¼Ÿä¼ å€¼ï¼ˆç¬¬ä¸€ä¸ªé—®å·ä¸‹æ ‡æ˜¯1ï¼Œç¬¬äºŒä¸ªé—®å·ä¸‹æ ‡æ˜¯2ï¼ŒJDBCä¸­æ‰€æœ‰ä¸‹æ ‡ä»1å¼€å§‹ï¼‰         ps.setString(1ï¼Œ);         //æŸ¥è¯¢ä½¿ç”¨exeuteQuery         rs = ps.executeQuery();         //å¢åˆ æ”¹ä½¿ç”¨exeuteUpdate     }   catch (ClassNotFoundException e) {         e.printStackTrace();     } catch (SQLException e) {         e.printStackTrace();     } finally {         try {             if(stamt!=null)                 stamt.close();             if(conn!=null)                 conn.close();             if( rs != null )                 rs.close();         } catch (SQLException e) {             e.printStackTrace();         }     } }}\n5.å®è·µä¸­å‡½æ•°çš„ä½¿ç”¨å¦‚ä½•è·å–æŸ¥è¯¢åçš„æ•°æ®ï¼Ÿ\né€šè¿‡å­¦ä¹ æˆ‘ä»¬çŸ¥é“æŸ¥è¯¢æ—¶ä½¿ç”¨çš„æ˜¯executerQuery()ï¼Œè€Œè¿™ä¸ªç±»æœ‰ä¸€ä¸ªæ–¹æ³•æ˜¯next()ï¼Œè¿™ä¸ªnext()ä¾¿å¯ä»¥éå†æ‰€æœ‰æ‰€æŸ¥è¯¢åˆ°çš„æ•°æ®ï¼ŒåŒæ—¶é…åˆgetString()ã€()é‡Œé¢å¯ä»¥æ˜¯å¯¹åº”æ ‡ç­¾åºå·æ•°å­—æˆ–è€…ç›´æ¥æ ‡ç­¾çš„åå­—ä¹Ÿè¡Œã€‘æˆ–è€…getInt()ç­‰è¿™ä¸€äº›å‡½æ•°ä¾¿å¯ä»¥å¾—åˆ°ç›¸åº”çš„æ•°æ®ã€‚\n\n6.ä¼˜åŒ–1.å¦‚ä½•æé«˜æ•°æ®åº“çš„æŒ‡ä»¤è¿è¡Œé€Ÿåº¦ï¼Ÿä¸æœåŠ¡å™¨çš„äº¤äº’å¤§å¤šæ•°æˆ–è€…è¯´æœ€è€—æ—¶çš„é˜¶æ®µä¾¿æ˜¯ä¸æ•°æ®åº“å»ºç«‹è¿æ¥çš„é˜¶æ®µï¼Œå³Connectioné˜¶æ®µã€‚\n\nè§£å†³æ–¹æ¡ˆï¼š\nä½¿ç”¨æ•°æ®åº“è¿æ¥æ± æŠ€æœ¯ï¼Œæ—¢åœ¨å¼€å§‹å¯åŠ¨æœåŠ¡å™¨æ—¶å°±å¼€å§‹åˆå§‹åŒ–å¹¶æå‰å»ºç«‹å¥½ä¸æ•°æ®åº“è¶³å¤Ÿå¤šçš„è¿æ¥ï¼Œè¿™äº›è¿æ¥å°†ä¼šå­˜åˆ°â€œæ± â€é‡Œé¢ï¼Œè¿™é‡Œçš„â€œæ± â€å¯ä»¥ä½¿ç”¨HashMapé›†åˆæ¥ä»£æ›¿ã€‚\n\n\n\n","categories":["Java"],"tags":["Java","JDBC"]},{"title":"Javaä¹‹Servletå­¦ä¹ ","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/java-zhi-servlet-xue-xi-bi-ji/","content":"Javaä¹‹Servletå­¦ä¹ \næµç¨‹å›¾ï¼š\n\nä¸€ã€Servletè§„èŒƒä»‹ç»ï¼š1.servletè§„èŒƒæ¥è‡ªäºJAVAEEè§„èŒƒä¸­çš„ä¸€ç§2.ä½œç”¨ï¼š\nåœ¨servletè§„èŒƒä¸­ï¼ŒæŒ‡å®šã€åŠ¨æ€èµ„æºæ–‡ä»¶ã€‘å¼€å‘æ­¥éª¤\n\nåœ¨servletè§„èŒƒä¸­ï¼ŒæŒ‡å®šHttpæœåŠ¡å™¨è°ƒç”¨åŠ¨æ€èµ„æºæ–‡ä»¶è§„åˆ™\n\nåœ¨servletè§„èŒƒä¸­ï¼ŒæŒ‡å®šHttpæœåŠ¡å™¨ç®¡ç†åŠ¨æ€èµ„æºæ–‡ä»¶å®ä¾‹å¯¹è±¡è§„åˆ™\n\n\næ³¨ï¼šç¬¬ä¸€ä¸ªæ˜¯ç»™äººçœ‹çš„ï¼Œåä¸¤ä¸ªæ˜¯ç»™HttpæœåŠ¡å™¨çœ‹çš„\n\näºŒã€Servletæ¥å£å®ç°ç±»ï¼š1.Servletæ¥å£æ¥è‡ªäºServletè§„èŒƒä¸‹ä¸€ä¸ªæ¥å£ï¼Œè¿™ä¸ªæ¥å£å­˜åœ¨HttpæœåŠ¡å™¨æä¾›JaråŒ…2.TomcatæœåŠ¡å™¨ä¸‹libæ–‡ä»¶å¤¹ä¸­æœ‰ä¸€ä¸ªservlet-api.jarå­˜æ”¾Servletæ¥å£ï¼ˆjavax.servlet.Servlet)3.Servletè§„èŒƒä¸­ä»»åŠ¡ï¼ŒHttpæœåŠ¡å™¨èƒ½è°ƒç”¨çš„ã€åŠ¨æ€èµ„æºæ–‡ä»¶ã€‘å¿…é¡»æ˜¯ä¸€ä¸ªServletæ¥å£å®ç°ç±»\nåˆ—å­ï¼š\nclass Student{    //ä¸æ˜¯åŠ¨æ€èµ„æºæ–‡ä»¶ï¼ŒTomcatæ— æƒè°ƒç”¨}class Teacher implements Servlet{    //åˆæ³•åŠ¨æ€èµ„æºæ–‡ä»¶ï¼ŒTomcatæœ‰æƒè°ƒç”¨    Servlet obj = new Teacher();    obj.doGet();}\n\n\nTomcatæ ¹æ®Servletè§„èŒƒè°ƒç”¨Servletæ¥å£å®ç°ç±»è§„åˆ™ï¼š\nTomcatæœ‰æƒåˆ›å»ºServletæ¥å£å®ç°å®ä¾‹å¯¹è±¡\nServlet oneServlet = new OneServlet();\n\n\nTomcatæ ¹æ®å®ä¾‹å¯¹è±¡è°ƒç”¨serviceæ–¹æ³•å¤„ç†å½“å‰è¯·æ±‚\noneServlet.service()\n\n\nä¸‰ã€Servletæ¥å£å®ç°ç±»å¼€å‘æ­¥éª¤ï¼šç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸€ä¸ªJavaç±»è®©å®ƒç»§æ‰¿äºHttpServletçˆ¶ç±»ï¼Œä½¿ä¹‹æˆä¸ºä¸€ä¸ªServletæ¥å£å®ç°ç±»\nservletæ¥å£ç±»å¾…å®ç°çš„æ¥å£æ–¹æ³•æœ‰ï¼š\n\ninit\ngetServlet\ngetServletConfig\ngetServletInfo\ndestory\nservice\n\n\nç¬¬äºŒæ­¥ï¼šé‡å†™HttpServletçˆ¶ç±»ä¸¤ä¸ªæ–¹æ³•ã€‚doGetæˆ–è€…doPost\næµè§ˆå™¨â€”â€“getâ€”-ã€‹ oneServlet.doGet()\næµè§ˆå™¨â€”â€“postâ€”ã€‹ oneServlet.doPost()\npostå¯ä»¥ä½¿ç”¨getParameter(â€œkeyâ€)è·å–è¯·æ±‚ä½“å‚æ•°å¯¹åº”å€¼\n\nç¬¬ä¸‰æ­¥ï¼šå°†Servletæ¥å£å®ç°ç±»ä¿¡æ¯ã€æ³¨å†Œã€‘åˆ°TomcatæœåŠ¡å™¨ã€ç½‘ç«™ã€‘â€”â€“&gt;ã€webã€‘â€”&gt;ã€WEB-INFã€‘â€”&gt;web.xml\n\n&lt;!--å°†Servletæ¥å£å®ç°ç±»ç±»è·¯å¾„åœ°å€äº¤ç»™Tomcat--&gt;&lt;servlet&gt;&lt;servlet-name&gt;mm&lt;/servlet-name&gt;&lt;!--ç”³æ˜ä¸€ä¸ªå˜é‡å­˜å‚¨servletæ¥å£å®ç°ç±»ç±»è·¯å¾„--&gt;&lt;servlet-class&gt;com.bjpowernode.controller.oneServlet&lt;/servlet-class&gt;&lt;!--ç”³æ˜servletæ¥å£--&gt;&lt;/servlet&gt;\n\nTomcat String mm = \"com.bjpowernode.controller.oneServlet\";\n\n&lt;!--ä¸ºäº†é™ä½ç”¨æˆ·è®¿é—®Servletæ¥å£å®ç°ç±»éš¾åº¦ï¼Œéœ€è¦è®¾ç½®ç®€çŸ­è¯·æ±‚åˆ«å--&gt;&lt;servlet-mapping&gt;    &lt;servlet-name&gt;mm&lt;/servlet-name&gt;    &lt;url-pattern&gt;/one&lt;/url-pattern&gt;&lt;!--è®¾ç½®ç®€çŸ­è¯·æ±‚åˆ«åï¼Œåˆ«ååœ¨ä¹¦å†™æ—¶å¿…é¡»ä»¥\"/\"ä¸ºå¼€å¤´--&gt;&lt;/servlet-mapping&gt;\n\nå¦‚æœç°åœ¨æµè§ˆå™¨å‘Tomcatç´¢è¦OneServletæ—¶åœ°å€\nhttp://localhost:8080/myWeb/one\n\n\n\nå››ã€Servletå¯¹è±¡ç”Ÿå‘½å‘¨æœŸï¼š1.ç½‘ç«™ä¸­æ‰€æœ‰çš„Servletæ¥å£å®ç°ç±»çš„å®ä¾‹å¯¹è±¡ï¼Œåªèƒ½ç”±HttpæœåŠ¡å™¨è´Ÿè´£åˆ›å»ºã€‚å¼€å‘äººå‘˜ä¸èƒ½æ‰‹åŠ¨åˆ›å»ºServletæ¥å£å®ç°ç±»çš„å®ä¾‹2.åœ¨é»˜è®¤çš„æƒ…å†µä¸‹ï¼ŒHttpæœåŠ¡å™¨æ¥æ”¶åˆ°å¯¹äºå½“å‰Servletæ¥å£å®ç°ç±»ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶è‡ªåŠ¨åˆ›å»ºè¿™ä¸ªServletæ¥å£å®ç°ç±»çš„å®ä¾‹å¯¹è±¡åœ¨æ‰‹åŠ¨é…ç½®æƒ…å†µä¸‹ï¼Œè¦æ±‚HttpæœåŠ¡å™¨åœ¨å¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»ºæŸä¸ªServletæ¥å£å®ç°ç±»çš„å®ä¾‹å¯¹è±¡\n&lt;servlet&gt;    &lt;servlet-name&gt;mm&lt;/servlet-name&gt;&lt;!--å£°æ˜ä¸€ä¸ªå˜é‡å­˜å‚¨servletæ¥å£å®ç°ç±»ç±»è·¯å¾„--&gt;    &lt;servlet-class&gt;com.bjpowernode.controller.OneServlet&lt;/servlet-class&gt;    &lt;load-on-startup&gt;30&lt;/load-on-startup&gt;&lt;!--å¡«å†™ä¸€ä¸ªå¤§äº0çš„æ•´æ•°--&gt;&lt;/servlet&gt;\n\n3.åœ¨HttpæœåŠ¡å™¨è¿è¡ŒæœŸé—´ï¼Œä¸€ä¸ªServletæ¥å£å®ç°ç±»åªèƒ½è¢«åˆ›å»ºå‡ºä¸€ä¸ªå®ä¾‹å¯¹è±¡4.åœ¨HttpæœåŠ¡å™¨å…³é—­æ—¶åˆ»ï¼Œè‡ªåŠ¨å°†ç½‘ç«™ä¸­æ‰€æœ‰çš„Servletå¯¹è±¡è¿›è¡Œé”€æ¯äº”ã€HttpServletResponseæ¥å£1.ä»‹ç»:\nHttpServletResponseæ¥å£æ¥è‡ªäºServletè§„èŒƒä¸­ï¼Œåœ¨Tomcatä¸­å­˜åœ¨servlet-api.jar\nHttpServletResponseæ¥å£å®ç°ç±»ç”±HttpæœåŠ¡å™¨è´Ÿè´£æä¾›\nHttpServletResponseæ¥å£è´Ÿè´£å°†doGet/doPostæ–¹æ³•æ‰§è¡Œç»“æœå†™å…¥åˆ°ã€å“åº”ä½“ã€‘äº¤ç»™æµè§ˆå™¨\nå¼€å‘äººå‘˜ä¹ æƒ¯äºå°†HttpServletResponseæ¥å£ä¿®é¥°çš„å¯¹è±¡æˆä¸ºã€å“åº”å¯¹è±¡ã€‘\n\n2.ä¸»è¦åŠŸèƒ½ï¼š\nå°†æ‰§è¡Œç»“æœä»¥äºŒè¿›åˆ¶å½¢å¼å†™å…¥åˆ°ã€å“åº”ä½“ã€‘\nå¯ä»¥è®¾ç½®å“åº”å¤´ä¸­[content-type]å±æ€§å€¼ï¼Œä»è€Œæ§åˆ¶æµè§ˆå™¨ä½¿ç”¨å¯¹åº”ç¼–è¯‘å™¨å°†å“åº”ä½“äºŒè¿›åˆ¶æ•°æ®ç¼–è¯‘ä¸ºã€æ–‡å­—ï¼Œå›¾ç‰‡ï¼Œè§†é¢‘ï¼Œå‘½ä»¤ã€‘\nè®¾ç½®å“åº”å¤´ã€locationã€‘å±æ€§ï¼Œå°†ä¸€ä¸ªè¯·æ±‚åœ°å€èµ‹å€¼ç»™locationä»è€Œæ§åˆ¶æµè§ˆå™¨å‘æŒ‡å®šæœåŠ¡å™¨å‘é€è¯·æ±‚\n\n\n**æ³¨ï¼š**åœ¨doGetå’ŒdoPostç­‰è¯·æ±‚æ¥å£å®ç°ç±»ä¸­HttpServletResponseå¯¹åº”çš„å½¢å‚å¯ä»¥è·å–åˆ°è¾“å‡ºæµï¼Œå¯ä»¥æ˜¯ç”¨æ—¶writeå’Œprintæ–¹æ³•è¿›è¡Œè¾“å‡ºï¼Œä½†æ˜¯ä¸€èˆ¬éƒ½ä½¿ç”¨printã€‚æˆ‘ä»¬åœ¨è¿›è¡Œè¾“å‡ºä¼ é€’æ—¶ä¸€èˆ¬ä¼šå…ˆä½¿ç”¨content-typeï¼Œåœ¨Javaä¸­å³setContentTypeå®šä¹‰å¥½è¾“å‡ºç»™æµè§ˆå™¨çš„ä¿¡æ¯æ—¶ä»€ä¹ˆç±»å‹ï¼ˆæ³¨æ„è¦åœ¨è·å–è¾“å‡ºæµä¹‹å‰å®šä¹‰ï¼‰ï¼Œé»˜è®¤ä¸ºtextç±»å‹ã€‚\nJavaåç«¯å¯ä»¥é€šè¿‡ä¸‹é¢æ–¹æ³•æ¥è¿œç¨‹æ§åˆ¶æµè§ˆå™¨è¯·æ±‚è¡Œä¸ºã€è¯·æ±‚åœ°å€ï¼Œè¯·æ±‚æ–¹å¼ï¼Œè¯·æ±‚å‚æ•°ã€‘ï¼Œå³è®¾ç½®å“åº”å¤´ä¸­çš„ã€locationã€‘å±æ€§\nè¾“å‡ºæµ.sendRedirect(åœ°å€)\n\nå…­ã€HttpServletRequestæ¥å£1.ä»‹ç»ï¼š\n\nHttpServletRequestæ¥å£æ¥è‡ªäºServletè§„èŒƒä¸­ï¼Œåœ¨Tomcatä¸­å­˜åœ¨çš„servlet-api.jar\nHttpServletRequestæ¥å£å®ç°ç±»ç”±HttpæœåŠ¡å™¨è´Ÿè´£æä¾›\nHttpServletRequestæ¥å£è´Ÿè´£åœ¨doGet/doPostæ–¹æ³•è¿è¡Œæ—¶è¯»å–Httpè¯·æ±‚åè®®åŒ…ä¸­ä¿¡æ¯\nå¼€å‘äººå‘˜ä¹ æƒ¯äºå°†HttpServletRequestæ¥å£ä¿®é¥°çš„å¯¹è±¡æˆä¸ºã€è¯·æ±‚å¯¹è±¡ã€‘\n\n2.ä½œç”¨ï¼š\n\nå¯ä»¥è¯»å–Httpè¯·æ±‚åè®®åŒ…ä¸­ã€è¯·æ±‚è¡Œã€‘ä¿¡æ¯\nå¯ä»¥è¯»å–ä¿å­˜åœ¨Httpè¯·æ±‚åè®®åŒ…ä¸­ã€è¯·æ±‚å¤´ã€‘æˆ–è€…ã€è¯·æ±‚ä½“ã€‘ä¸­è¯·æ±‚å‚æ•°ä¿¡æ¯\nå¯ä»¥ä»£æ›¿æµè§ˆå™¨å‘HttpæœåŠ¡å™¨ç”³è¯·èµ„æºæ–‡ä»¶è°ƒç”¨\n\n\n//1.é€šè¿‡è¯·æ±‚å¯¹è±¡(request)ï¼Œè¯»å–ã€è¯·æ±‚è¡Œã€‘ä¸­ã€urlã€‘ä¿¡æ¯String url = request.getRequestURL().toString();//2.é€šè¿‡è¯·æ±‚å¯¹è±¡(request)ï¼Œè¯»å–ã€è¯·æ±‚è¡Œã€‘ä¸­ã€methodã€‘ä¿¡æ¯String method = request.getMethod();//3.é€šè¿‡è¯·æ±‚å¯¹è±¡(request)ï¼Œè¯»å–ã€è¯·æ±‚è¡Œã€‘ä¸­uriä¿¡æ¯/*URIï¼šèµ„æºæ–‡ä»¶ç²¾å‡†å®šä½åœ°å€ï¼Œåœ¨è¯·æ±‚è¡Œä¸­å¹¶æ²¡æœ‰URIè¿™ä¸ªå±æ€§ã€‚å®é™…ä¸Šæ˜¯ä»URLä¸­æˆªå–ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²æ ¼å¼\"/ç½‘ç«™å/èµ„æºæ–‡ä»¶å\"URIç”¨äºè®©HttpæœåŠ¡å™¨å¯¹è¢«è®¿é—®çš„èµ„æºæ–‡ä»¶è¿›è¡Œå®šä½*/String uri = request.getRequestURI(); //substringSystem.out.println(\"URL\"+url);System.out.println(\"method\"+method);System.out.println(\"URI\"+uri);\n\næ³¨ï¼š\n\næµè§ˆå™¨ä»¥GETæ–¹å¼å‘é€è¯·æ±‚ï¼Œè¯·æ±‚å‚æ•°ä¿å­˜åœ¨ã€è¯·æ±‚å¤´ã€‘ï¼Œåœ¨Httpè¯·æ±‚åè®®åŒ…åˆ°è¾¾HttpæœåŠ¡å™¨ä¹‹åï¼Œç¬¬ä¸€ä»¶äº‹å°±æ˜¯è¿›è¡Œè§£ç ã€‚è¯·æ±‚å¤´äºŒè¿›åˆ¶å†…å®¹ç”±Tomcatè´Ÿè´£è§£ç ï¼ŒTomcat9.0é»˜è®¤ä½¿ç”¨ã€UTF-8ã€‘å­—ç¬¦é›†ï¼Œå¯ä»¥è§£é‡Šä¸€åˆ‡å›½å®¶æ–‡å­—\næµè§ˆå™¨ä»¥POSTæ–¹å¼å‘é€è¯·æ±‚ï¼Œè¯·æ±‚å‚æ•°ä¿å­˜åœ¨ã€è¯·æ±‚ä½“ã€‘ï¼Œåœ¨Httpè¯·æ±‚åè®®åŒ…HttpæœåŠ¡å™¨ä¹‹åï¼Œç¬¬ä¸€ä»¶äº‹å°±æ˜¯è¿›è¡Œè§£ç ã€‚è¯·æ±‚ä½“äºŒè¿›åˆ¶å†…å®¹ç”±å½“å‰è¯·æ±‚å¯¹è±¡(request)è´Ÿè´£è§£ç ã€‚requesté»˜è®¤ä½¿ç”¨[ISO-8859-1]å­—ç¬¦é›†ï¼Œä¸€ä¸ªä¸œæ¬§è¯­ç³»å­—ç¬¦é›†ï¼Œæ­¤æ—¶å¦‚æœè¯·æ±‚ä½“å‚æ•°å†…å®¹æ˜¯ä¸­æ–‡ï¼Œå°†æ— æ³•è§£ç åªèƒ½å¾—åˆ°ä¹±ç \n\nè§£å†³æ–¹æ¡ˆï¼š\n\nåœ¨Postè¯·æ±‚æ–¹å¼ä¸‹ï¼Œåœ¨è¯»å–è¯·æ±‚ä½“å†…å®¹ä¹‹å‰ï¼Œåº”è¯¥é€šçŸ¥è¯·æ±‚å¯¹è±¡ä½¿ç”¨UTF-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“å†…å®¹è¿›è¡Œä¸€æ¬¡é‡æ–°è§£ç \n&gt;//é€šçŸ¥è¯·æ±‚å¯¹è±¡(request)ï¼Œä½¿ç”¨utf-8å­—ç¬¦é›†å¯¹è¯·æ±‚ä½“äºŒè¿›åˆ¶å†…å®¹è¿›è¡Œä¸€æ¬¡é‡æ–°è§£ç &gt;request.setCharacterEncoding(\"utf-8\");\n\n\nä¸ƒã€è¯·æ±‚å¯¹è±¡å’Œå“åº”å¯¹è±¡ç”Ÿå‘½å‘¨æœŸ1.åœ¨HttpæœåŠ¡å™¨æ¥æ”¶åˆ°æµè§ˆå™¨å‘é€çš„ã€Httpè¯·æ±‚åè®®åŒ…ã€‘ä¹‹åï¼Œè‡ªåŠ¨ä¸ºå½“å‰çš„ã€Httpè¯·æ±‚åè®®åŒ…ã€‘ç”Ÿæˆä¸€ä¸ªã€è¯·æ±‚å¯¹è±¡ã€‘å’Œä¸€ä¸ªã€å“åº”å¯¹è±¡ã€‘\n2.åœ¨HttpæœåŠ¡å™¨è°ƒç”¨doGet/doPostæ–¹æ³•æ—¶ï¼Œè´Ÿè´£å°†ã€è¯·æ±‚å¯¹è±¡ã€‘å’Œã€å“åº”å¯¹è±¡ã€‘ä½œä¸ºå®å‚ä¼ é€’åˆ°æ–¹æ³•ï¼Œç¡®ä¿doGet/doPostæ­£ç¡®æ‰§è¡Œ\n3.åœ¨HttpæœåŠ¡å™¨å‡†å¤‡æ¨é€Httpå“åº”åè®®åŒ…ä¹‹å‰ï¼Œè´Ÿè´£å°†æœ¬æ¬¡è¯·æ±‚å…³è”çš„ã€è¯·æ±‚å¯¹è±¡ã€‘å’Œã€å“åº”å¯¹è±¡ã€‘é”€æ¯\n\nå³ï¼šã€è¯·æ±‚å¯¹è±¡ã€‘å’Œã€å“åº”å¯¹è±¡ã€‘ç”Ÿå‘½å‘¨æœŸè´¯ç©¿ä¸€æ¬¡è¯·æ±‚çš„å¤„ç†è¿‡ç¨‹ä¸­\nâ€‹       ã€è¯·æ±‚å¯¹è±¡ã€‘å’Œã€å“åº”å¯¹è±¡ã€‘ç›¸å½“äºç”¨æˆ·åœ¨æœåŠ¡ç«¯çš„ä»£è¨€äºº\n\n\nä¸Šå›¾æ¶‰åŠåˆ°æ•°æ®åº“æ“ä½œï¼Œå…¶ä¸­DAOæ˜¯è‡ªå·±æ‰€å†™çš„ä¸€ä¸ªæ•°æ®åº“æ“ä½œå°è£…ç±»ï¼Œå…¶ä¸»è¦æ˜¯åˆ†å±‚æ€æƒ³ï¼Œè¯¦æƒ…ä¸‹å›¾ï¼š\n\n\n\né»˜è®¤æ¬¢è¿èµ„æºæ–‡ä»¶ï¼š\n\nç”¨æˆ·å‘é€äº†ä¸€ä¸ªé’ˆå¯¹æŸä¸ªç½‘ç«™çš„ã€é»˜è®¤è¯·æ±‚ã€‘æ—¶ï¼Œæ­¤æ—¶ç”±HttpæœåŠ¡å™¨è‡ªåŠ¨ä»å½“å‰ç½‘ç«™è¿”å›çš„èµ„æºæ–‡ä»¶\næ­£å¸¸è¯·æ±‚ï¼šhttp://localhost:8080/myWeb/index.html\né»˜è®¤è¯·æ±‚ï¼šhttp://localhost:8080/myWeb\n\nTomcatå¯¹äºé»˜è®¤æ¬¢è¿èµ„æºæ–‡ä»¶å®šä½è§„åˆ™ï¼š\n\n1.è§„åˆ™ä½ç½®ï¼šTomcatå®‰è£…ä½ç½®/conf/web.xml\n2.è§„åˆ™å‘½ä»¤ï¼š\n&lt;welcome-file-list&gt;    &lt;welcome-file&gt;index.htl&lt;/welcome-file&gt;    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;&lt;/welcome-file-list&gt;\n\nè®¾ç½®å½“å‰ç½‘ç«™çš„é»˜è®¤æ¬¢è¿èµ„æºæ–‡ä»¶è§„åˆ™\n\n1.è§„åˆ™ä½ç½®ï¼šç½‘ç«™/web/WEB-INF/web.xml\n2.è§„åˆ™å‘½ä»¤ï¼š\nç½‘ç«™è®¾ç½®è‡ªå®šä¹‰é»˜è®¤æ–‡ä»¶å®šä½è§„åˆ™ï¼Œæ­¤æ—¶Tomcatè‡ªå¸¦å®šä½è§„åˆ™å°†å¤±æ•ˆ\nServletä½œä¸ºå®šä¹‰ä¸ºé»˜è®¤æ–‡ä»¶æ—¶å¼€å¤´çš„â€œ/â€è®°å¾—æŠ¹æ‰\n\n\nå…«ã€HttpçŠ¶æ€ç \n1.ä»‹ç»ï¼š\n\nç”±ä¸‰ä½æ•°å­—ç»„æˆçš„ä¸€ä¸ªç¬¦å·ã€‚\n\nHttpæœåŠ¡å™¨åœ¨æ¨é€å“åº”åŒ…ä¹‹å‰ï¼Œæ ¹æ®æœ¬æ¬¡è¯·æ±‚å¤„ç†æƒ…å†µå°†HttpçŠ¶æ€ç å†™å…¥åˆ°å“åº”åŒ…ä¸­ã€çŠ¶æ€è¡Œã€‘ä¸Š\n\nå¦‚æœHttpæœåŠ¡å™¨é’ˆå¯¹æœ¬æ¬¡è¯·æ±‚ï¼Œè¿”å›äº†å¯¹åº”çš„èµ„æºæ–‡ä»¶ã€‚\n\n\né€šè¿‡HttpçŠ¶æ€ç é€šçŸ¥æµè§ˆå™¨åº”è¯¥å¦‚ä½•å¤„ç†è¿™ä¸ªç»“æœã€‚\n\né€šè¿‡HttpçŠ¶æ€ç å‘æµè§ˆå™¨è§£é‡Šä¸èƒ½æä¾›æœåŠ¡çš„åŸå› \n\n2.åˆ†ç±»ï¼š\n\nç»„æˆ 100-599ï¼›åˆ†ä¸º5ä¸ªå¤§ç±»\n\n1XXï¼š\n\n\nâ€‹\t\tæœ€æœ‰ç‰¹å¾ 100ï¼šé€šçŸ¥æµè§ˆå™¨æœ¬æ¬¡è¿”å›çš„èµ„æºæ–‡ä»¶å¹¶ä¸æ˜¯ä¸€ä¸ªç‹¬ç«‹\t\tçš„èµ„æºæ–‡ä»¶ï¼Œéœ€è¦æµè§ˆå™¨åœ¨æ¥å—å“åº”åŒ…ä¹‹åï¼Œï¼Œç»§ç»­å‘HttpæœåŠ¡\t\tå™¨æ‰€è¦ä¾èµ–çš„å…¶ä»–èµ„æºæ–‡ä»¶\n\n\n2XXï¼š\n\nâ€‹\t\tæœ€æœ‰ç‰¹å¾200ï¼Œé€šçŸ¥æµè§ˆå™¨æœ¬æ¬¡è¿”å›çš„èµ„æºæ–‡ä»¶æ˜¯ä¸€ä¸ªå®Œæ•´ç‹¬ç«‹èµ„æºæ–‡ä»¶ï¼Œæµè§ˆå™¨åœ¨æ¥æ”¶åˆ°ä¹‹åä¸éœ€è¦ç´¢è¦å…¶ä»–å…³è”æ–‡ä»¶ã€‚\n\n3XXï¼š\n\nâ€‹\t\tæœ€æœ‰ç‰¹å¾302ï¼Œé€šçŸ¥æµè§ˆå™¨æœ¬æ¬¡è¿”å›çš„ä¸æ˜¯ä¸€ä¸ªèµ„æºæ–‡ä»¶å†…å®¹è€Œæ˜¯ä¸€ä¸ªèµ„æºæ–‡ä»¶åœ°å€ï¼Œéœ€è¦æµè§ˆå™¨æ ¹æ®è¿™ä¸ªåœ°å€è‡ªåŠ¨å‘èµ·è¯·æ±‚æ¥ç´¢è¦è¿™ä¸ªèµ„æºæ–‡ä»¶ã€‚\nresponse.sendRedirect(â€œèµ„æºæ–‡ä»¶åœ°å€â€)å†™å…¥åˆ°å“åº”å¤´ä¸­çš„locationä¸­ï¼Œè€Œè¿™ä¸ªè¡Œä¸ºä¼šå¯¼è‡´Tomcatå°†302çŠ¶æ€ç å†™å…¥åˆ°çŠ¶æ€è¡Œã€‚\n\n4XXï¼š\n\n\n404ï¼šé€šçŸ¥æµè§ˆå™¨ï¼Œç”±äºåœ¨æœåŠ¡ç«¯æ²¡æœ‰å®šä½åˆ°è¢«è®¿é—®çš„èµ„æºæ–‡ä»¶å› æ­¤æ— æ³•æä¾›å¸®åŠ©ã€‚\n405ï¼šé€šçŸ¥æµè§ˆå™¨ï¼Œåœ¨æœåŠ¡ç«¯ä¸­å·²ç»å®šä½åˆ°è¢«è®¿é—®çš„èµ„æºæ–‡ä»¶ï¼ˆServletï¼‰ï¼Œä½†æ˜¯è¿™ä¸ªServletå¯¹äºæµè§ˆå™¨æ‰€é‡‡ç”¨çš„è¯·æ±‚æ–¹å¼ä¸èƒ½å¤„ç†ï¼ˆå°±æ¯”å¦‚åªå†™äº†doPostæ²¡æœ‰å†™doGetï¼‰\n\n\n5XX:\n\n\n500ï¼šé€šçŸ¥æµè§ˆå™¨ï¼Œåœ¨æœåŠ¡ç«¯å·²ç»å®šä½åˆ°è¢«è®¿é—®çš„èµ„æºæ–‡ä»¶ï¼ˆServletï¼‰è¿™ä¸ªServletå¯ä»¥æ¥æ”¶æµè§ˆå™¨é‡‡ç”¨è¯·æ±‚æ–¹å¼ï¼Œä½†æ˜¯Servletåœ¨å¤„ç†è¯·æ±‚æœŸé—´ï¼Œç”±äºJavaå¼‚å¸¸å¯¼è‡´å¤„ç†å¤±è´¥ã€‚\n\n\n\nä¹ã€å¤šä¸ªServletä¹‹é—´è°ƒç”¨è§„åˆ™ï¼š\n1.å‰ææ¡ä»¶ï¼š\n\næŸäº›æ¥è‡ªæµè§ˆå™¨å‘é€è¯·æ±‚ï¼Œå¾€å¾€éœ€è¦æœåŠ¡ç«¯ä¸­å¤šä¸ªServletååŒå¤„ç†ã€‚ä½†æ˜¯æµè§ˆå™¨ä¸€æ¬¡åªèƒ½è®¿é—®ä¸€ä¸ªServletï¼Œå¯¼è‡´ç”¨æˆ·éœ€è¦æ‰‹åŠ¨é€šè¿‡æµè§ˆå™¨å‘èµ·å¤šæ¬¡è¯·æ±‚æ‰èƒ½å¾—åˆ°æœåŠ¡ã€‚è¿™æ ·å¢åŠ ç”¨æˆ·è·å¾—æœåŠ¡éš¾åº¦ï¼Œå¯¼è‡´ç”¨æˆ·æ”¾å¼ƒè®¿é—®å½“å‰ç½‘ç«™ã€‚\n\n2.æé«˜ç”¨æˆ·ä½¿ç”¨æ„Ÿå—è§„åˆ™ï¼š\n\næ— è®ºæœ¬æ¬¡è¯·æ±‚æ¶‰åŠåˆ°å¤šå°‘ä¸ªServletï¼Œç”¨æˆ·åªéœ€è¦ã€æ‰‹åŠ¨ã€‘é€šçŸ¥æµè§ˆå™¨å‘èµ·ä¸€æ¬¡è¯·æ±‚å³å¯ã€‚\n\n3.å¤šä¸ªServletä¹‹é—´è°ƒç”¨è§„åˆ™ï¼š\n\né‡å®šå‘è§£å†³æ–¹æ¡ˆ\nè¯·æ±‚è½¬å‘è§£å†³æ–¹æ¡ˆ\n\n\n\nåã€é‡å®šå‘è§£å†³æ–¹æ¡ˆï¼š\n1.å·¥ä½œåŸç†ï¼šç”¨æˆ·ç¬¬ä¸€æ¬¡é€šè¿‡ã€æ‰‹åŠ¨æ–¹å¼ã€‘é€šçŸ¥æµè§ˆå™¨è®¿é—®OneServletã€‚oneServletå·¥ä½œå®Œæ¯•åï¼Œå°†TwoServletåœ°å€å†™å…¥åˆ°å“åº”å¤´locationå±æ€§ä¸­ï¼Œå¯¼è‡´Tomcatå°†302çŠ¶æ€ç å†™å…¥åˆ°çŠ¶æ€è¡Œã€‚åœ¨æµè§ˆå™¨æ¥å—åˆ°å“åº”åŒ…ä¹‹åï¼Œä¼šè¯»å–åˆ°302çŠ¶æ€ã€‚æ­¤æ—¶æµè§ˆå™¨è‡ªåŠ¨æ ¹æ®å“åº”å¤´locationå±æ€§åœ°å€å‘èµ·ç¬¬äºŒæ¬¡è¯·æ±‚ï¼Œè®¿é—®TwoServletå»å®Œæˆè¯·æ±‚ä¸­å‰©ä½™ä»»åŠ¡\n2.å®ç°å‘½ä»¤ï¼š\nresponse.sendRedirect(â€œè¯·æ±‚åœ°å€â€)\nå°†åœ°å€å†™å…¥åˆ°å“åº”åŒ…ä¸­ç›¸åº”å¤´ä¸­locationå±æ€§\n3.ç‰¹å¾ï¼š\n\nè¯·æ±‚åœ°å€ï¼š\næ—¢å¯ä»¥æŠŠå½“å‰ç½‘ç«™å†…éƒ¨çš„èµ„æºæ–‡ä»¶åœ°å€å‘é€ç»™æµè§ˆå™¨ï¼ˆ/ç½‘ç«™å/èµ„æºåï¼‰\nä¹Ÿå¯ä»¥æŠŠå…¶ä»– ç½‘ç«™èµ„æºæ–‡ä»¶åœ°å€å‘é€ç»™æµè§ˆå™¨ï¼ˆhttp://ipåœ°å€:ç«¯å£å·/ç½‘ç«™å/èµ„æºæ–‡ä»¶ï¼‰\n\nè¯·æ±‚æ¬¡æ•°ï¼š\næµè§ˆå™¨è‡³å°‘å‘é€ä¸¤æ¬¡è¯·æ±‚ï¼Œä½†æ˜¯åªæœ‰ä¸€æ¬¡è¯·æ±‚æ˜¯ç”¨æˆ·æ‰‹åŠ¨å‘é€ã€‚\nåç»­è¯·æ±‚éƒ½æ˜¯æµè§ˆå™¨è‡ªåŠ¨å‘é€çš„ã€‚\n\nè¯·æ±‚æ–¹å¼ï¼š\né‡å®šå‘è§£å†³æ–¹æ¡ˆä¸­ï¼Œé€šè¿‡åœ°å€æ é€šçŸ¥æµè§ˆå™¨å‘èµ·ä¸‹ä¸€æ¬¡è¯·æ±‚ï¼Œå› æ­¤é€šè¿‡é‡å®šå‘è§£å†³æ–¹æ¡ˆè°ƒç”¨çš„èµ„æºæ–‡ä»¶æ¥æ”¶çš„è¯·æ±‚æ–¹å¼ä¸€å®šæ˜¯ã€GETã€‘\n\n\n4.ç¼ºç‚¹ï¼š\n\né‡å®šå‘è§£å†³æ–¹æ¡ˆéœ€è¦åœ¨æµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´è¿›è¡Œå¤šæ¬¡å¾€è¿”ï¼Œå¤§é‡æ—¶é—´æ¶ˆè€—åœ¨å¾€è¿”æ¬¡æ•°ä¸Šï¼Œå¢åŠ ç”¨æˆ·ç­‰å¾…æœåŠ¡æ—¶é—´ã€‚\n\n\n\nåä¸€ã€è¯·æ±‚è½¬å‘è§£å†³æ–¹æ¡ˆï¼š\n\n1.åŸç†ï¼šç”¨æˆ·ç¬¬ä¸€æ¬¡é€šè¿‡æ‰‹åŠ¨æ–¹å¼è¦æ±‚æµè§ˆå™¨è®¿é—®OneServletã€‚OneServlerå·¥ä½œå®Œæ¯•åï¼Œé€šè¿‡å½“å‰çš„è¯·æ±‚å¯¹è±¡ä»£æ›¿æµè§ˆå™¨å‘Tomcatå‘é€è¯·æ±‚ï¼Œç”³æ˜è°ƒç”¨TwoServletã€‚Tomcatåœ¨æ¥æ”¶åˆ°è¿™ä¸ªè¯·æ±‚åï¼Œè‡ªåŠ¨è°ƒç”¨TwoServletæ¥å®Œæˆå‰©ä½™ä»»åŠ¡ã€‚\n2.å®ç°å‘½ä»¤ï¼šè¯·æ±‚å¯¹è±¡ä»£æ›¿æµè§ˆå™¨å‘Tomcatå‘é€è¯·æ±‚\n//1.é€šè¿‡å½“å‰è¯·æ±‚å¯¹è±¡ç”Ÿæˆèµ„æºæ–‡ä»¶ç”³è¯·æŠ¥å‘Šå¯¹è±¡RequestDispatcher report = request.getRequestDispatcher(\"/èµ„æºæ–‡ä»¶å\");//ä¸€å®šè¦ä»¥\"/\"ä¸ºå¼€å¤´ï¼Œä¸”ä¸è¦å†™ç½‘ç«™åï¼ï¼ï¼//2.å°†æŠ¥å‘Šå¯¹è±¡å‘é€ç»™Tomcatreport.forward(å½“å‰è¯·æ±‚å¯¹è±¡ï¼Œå½“å‰ç›¸åº”å¯¹è±¡)\n\n4.ä¼˜ç‚¹ï¼š\n\næ— è®ºæœ¬æ¬¡è¯·æ±‚æ¶‰åŠåˆ°å¤šå°‘ä¸ªServletï¼Œç”¨æˆ·åªéœ€è¦æ‰‹åŠ¨é€šè¿‡æµè§ˆå™¨å‘é€ä¸€æ¬¡è¯·æ±‚\nServletä¹‹é—´è°ƒç”¨å‘ç”Ÿåœ¨æœåŠ¡ç«¯è®¡ç®—æœºä¸Šï¼ŒèŠ‚çœæœåŠ¡ç«¯ä¸æµè§ˆå™¨ä¹‹é—´å¾€è¿”æ¬¡æ•°å¢åŠ å¤„ç†æœåŠ¡é€Ÿåº¦\n\n4.ç‰¹å¾ï¼š\n\nè¯·æ±‚æ¬¡æ•°ï¼š\nåœ¨è¯·æ±‚è½¬å‘è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨åªå‘é€ä¸€æ¬¡è¯·æ±‚\n\nè¯·æ±‚åœ°å€ï¼š\nåªèƒ½å‘TomcatæœåŠ¡å™¨ç”³è¯·è°ƒç”¨å½“å‰ç½‘ç«™ä¸‹èµ„æºæ–‡ä»¶åœ°å€\nrequest.getRequestDispathcer(â€œ/èµ„æºæ–‡ä»¶åâ€)//ä¸è¦å†™ç½‘ç«™å\n\nè¯·æ±‚æ–¹å¼ï¼š\nåœ¨è¯·æ±‚è½¬å‘è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨åªå‘é€äº†ä¸€ä¸ªHttpè¯·æ±‚åè®®åŒ…ã€‚\nå‚ä¸æœ¬æ¬¡è¯·æ±‚çš„æ‰€æœ‰Servletå…±äº«åŒä¸€ä¸ªè¯·æ±‚åè®®åŒ…ï¼Œå› æ­¤è¿™ä¸ªServletæ¥å—çš„è¯·æ±‚æ–¹å¼ä¸æµè§ˆå™¨å‘é€çš„è¯·æ±‚æ–¹å¼ä¿æŒä¸€ç›´\n\n\n\n\nåäºŒã€å¤šä¸ªServletä¹‹é—´æ•°æ®å…±äº«å®ç°æ–¹æ¡ˆï¼š1.æ•°æ®å…±äº«ï¼šOneServletå·¥ä½œå®Œæ¯•åï¼Œå°†äº§ç”Ÿæ•°æ®äº¤ç»™TwoServletæ¥ä½¿ç”¨\n2.Servletè§„èŒƒä¸­æä¾›å››ä¸ªæ•°æ®å…±äº«æ–¹æ¡ˆï¼š\n\nServletContextæ¥å£\nCookieç±»\nHttpSessionæ¥å£\nHttpServletRequestæ¥å£\n\n\nåä¸‰ã€ServletContextæ¥å£ï¼š1.ä»‹ç»ï¼š\n1.æ¥è‡ªäºServletè§„èŒƒä¸­ä¸€ä¸ªæ¥å£ã€‚åœ¨Tomcatä¸­é”¤å­servlet-api.jaråœ¨Tomcatä¸­è´Ÿè´£æä¾›è¿™ä¸ªæ¥å£å®ç°ç±»\n2.å¦‚æœä¸¤ä¸ªServletæ¥è‡ªäºåŒä¸€ä¸ªç½‘ç«™ã€‚å½¼æ­¤ä¹‹é—´é€šè¿‡ç½‘ç«™çš„ServletContextå®ä¾‹å¯¹è±¡å®ç°æ•°æ®å…±äº«\n3.å¼€å‘äººå‘˜ä¹ æƒ¯äºå°†ServletContextå¯¹è±¡ç§°ä¸ºã€å…¨å±€ä½œç”¨åŸŸå¯¹è±¡ã€‘\n\n2.å·¥ä½œåŸç†ï¼š\næ¯ä¸€ä¸ªç½‘ç«™éƒ½å­˜åœ¨ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸå¯¹è±¡ã€‚\nè¿™ä¸ªå…¨å±€ä½œç”¨åŸŸå¯¹è±¡ã€ç›¸å½“äºã€‘ä¸€ä¸ªMapã€‚\nåœ¨è¿™ä¸ªç½‘ç«™ä¸­OneServletå¯ä»¥å°†ä¸€ä¸ªæ•°æ®å­˜å…¥åˆ°å…¨å±€ä½œç”¨åŸŸå¯¹è±¡ï¼Œå½“å‰ç½‘ç«™ä¸­å…¶ä»–Servletæ­¤æ—¶éƒ½å¯ä»¥ä»å…¨å±€ä½œç”¨åŸŸå¯¹è±¡å¾—åˆ°è¿™ä¸ªæ•°æ®è¿›è¡Œä½¿ç”¨\n\n3.å…¨å±€ä½œç”¨åŸŸå¯¹è±¡ç”Ÿå‘½å‘¨æœŸ\n\nåœ¨HttpæœåŠ¡å™¨å¯åŠ¨è¿‡ç¨‹ä¸­ï¼Œè‡ªåŠ¨ä¸ºå½“å‰ç½‘ç«™åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸå¯¹è±¡\nåœ¨HttpæœåŠ¡å™¨è¿è¡ŒæœŸé—´æ—¶ï¼Œä¸€ä¸ªç½‘ç«™åªæœ‰ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸå¯¹è±¡\nåœ¨HttpæœåŠ¡å™¨è¿è¡ŒæœŸé—´ï¼Œå…¨å±€ä½œç”¨åŸŸå¯¹è±¡ä¸€ç›´å‡ºäºå­˜æ´»çŠ¶æ€\nåœ¨HttpæœåŠ¡å™¨å‡†å¤‡å…³é—­æ—¶ï¼Œè´Ÿè´£å°†å½“å‰ç½‘ç«™ä¸­å…¨å±€ä½œç”¨åŸŸå¯¹è±¡è¿›è¡Œé”€æ¯å¤„ç†\n\nå…¨å±€ä½œç”¨åŸŸå¯¹è±¡ç”Ÿå‘½å‘¨æœŸè´¯ç©¿ç½‘ç«™æ•´ä¸ªè¿è¡ŒæœŸé—´\n4.å‘½ä»¤å®ç°ï¼šã€åŒä¸€ä¸ªç½‘ç«™ã€‘oneServletå°†æ•°æ®å…±äº«ç»™TwoSerletOneServlet{    public void doGet(HttpServletRequest request,HttpServletResponse response){        //1.é€šè¿‡ã€è¯·æ±‚å¯¹è±¡ã€‘å‘Tomcatç´¢è¦å½“å‰ç½‘ç«™ä¸­ã€å…¨å±€ä½œç”¨åŸŸå¯¹è±¡ã€‘        ServletContext application = request.getServletContext();        //2.å°†æ•°æ®æ·»åŠ åˆ°å…¨å±€ä½œç”¨åŸŸå¯¹è±¡ä½œä¸ºã€å…±äº«æ•°æ®ã€‘        application.setAttribute(\"key1\",æ•°æ®);    }}\n\nTwoServlet{    public void doGet(HttpServletRequest request,HttpServletResponse response){        //1.é€šè¿‡ã€è¯·æ±‚å¯¹è±¡ã€‘å‘Tomcatç´¢è¦å½“å‰ç½‘ç«™ä¸­ã€å…¨å±€ä½œç”¨åŸŸå¯¹è±¡ã€‘        ServletContext application = request.getServletContext();        //2.ä»å…¨å±€ä½œç”¨åŸŸå¯¹è±¡å¾—åˆ°æŒ‡å®šå…³é”®å­—å¯¹åº”æ•°æ®        Object æ•°æ® = application.getAttribute(\"key1\");            }}\n\n\n\nåå››ã€Cookie1.ä»‹ç»ï¼š\n\nCookieæ¥è‡ªäºServletè§„èŒƒä¸­ä¸€ä¸ªå·¥å…·ç±»ï¼Œå­˜åœ¨äºTomcatæä¾›servlet-api.jarä¸­\nå¦‚æœä¸¤ä¸ªServletæ¥è‡ªäºåŒä¸€ä¸ªç½‘ç«™ ï¼Œå¹¶ä¸”ä¸ºåŒä¸€ä¸ªæµè§ˆå™¨/ç”¨æˆ·æä¾›æœåŠ¡ï¼Œæ­¤æ—¶å€ŸåŠ©äºCookieå¯¹è±¡è¿›è¡Œæ•°æ®å…±äº«\nCookieä¸€èˆ¬æ¥å­˜æ”¾å½“å‰ç”¨æˆ·çš„ç§äººæ•°æ®ï¼Œåœ¨å…±äº«æ•°æ®çš„è¿‡ç¨‹ä¸­æé«˜æœåŠ¡è´¨é‡\nåœ¨ç°å®ç”Ÿæ´»åœºæ™¯ä¸­ï¼ŒCookieç›¸å½“äºç”¨æˆ·åœ¨æœåŠ¡ç«¯å¾—åˆ°çš„ã€ä¼šå‘˜å¡ã€‘\n\n\n2.åŸç†ï¼š\nç”¨æˆ·é€šè¿‡æµè§ˆå™¨ç¬¬ä¸€æ¬¡å‘MyWebç½‘ç«™å‘é€è¯·æ±‚ç”³è¯·OneServletã€‚\nOneServletåœ¨è¿è¡ŒæœŸé—´åˆ›å»ºä¸€ä¸ªCookieå­˜å‚¨ä¸å½“å‰ç”¨æˆ·ç›¸å…³æ•°æ®\nOneServletå·¥ä½œå®Œæ¯•åï¼Œã€å°†Cookieå†™å…¥åˆ°å“åº”å¤´ã€‘äº¤è¿˜ç»™å½“å‰æµè§ˆå™¨ã€‚\næµè§ˆå™¨æ”¶åˆ°å“åº”å“åº”åŒ…ä¹‹åï¼Œå°†Cookieå­˜å‚¨åœ¨æµè§ˆå™¨çš„ç¼“å­˜\nä¸€æ®µæ—¶é—´ä¹‹åï¼Œç”¨æˆ·é€šè¿‡ã€åŒä¸€ä¸ªæµè§ˆå™¨ã€‘å†æ¬¡å‘ã€myWebç½‘ç«™ã€‘å‘é€è¯·æ±‚ç”³è¯·TwoServletæ—¶ã€‚ã€æµè§ˆå™¨éœ€è¦æ— æ¡ä»¶çš„å°†myWebç½‘ç«™ä¹‹å‰æ¨é€è¿‡æ¥çš„Cookieï¼Œå†™å…¥åˆ°è¯·æ±‚å¤´ã€‘å‘é€è¿‡å»\næ­¤æ—¶TwoServletåœ¨è¿è¡Œæ—¶ï¼Œå°±å¯ä»¥é€šè¿‡è¯»å–è¯·æ±‚å¤´ä¸­cookieä¸­ä¿¡æ¯ï¼Œå¾—åˆ°OneServletæä¾›çš„å…±äº«æ•°æ®\n\n\n3.å®ç°å‘½ä»¤ï¼šåŒä¸€ä¸ªç½‘ç«™OneServletä¸TwoServletå€ŸåŠ©äºCookieå®ç°æ•°æ®å…±äº«\nOneServlet{    public void doGet(HttpServletRequest , HttpServletResponse resp)        //1.åˆ›å»ºä¸€ä¸ªcookieå¯¹è±¡ï¼Œä¿å­˜å…±äº«æ•°æ®ï¼ˆå½“å‰ç”¨æˆ·æ•°æ®ï¼‰        Cookie card = new Cookie();    /*    cookieç›¸å½“äºä¸€ä¸ªé”®å€¼å¯¹    ä¸€ä¸ªcookieä¸­åªèƒ½å­˜æ”¾ä¸€ä¸ªé”®å€¼å¯¹    è¿™ä¸ªé”®å€¼å¯¹çš„keyä¸valueåªèƒ½æ˜¯String    é”®å€¼å¯¹ä¸­keyä¸èƒ½æ˜¯ä¸­æ–‡    */        //2.ã€å‘å¡ã€‘å°†cookieå†™å…¥åˆ°å“åº”å¤´ï¼Œäº¤ç»™æµè§ˆå™¨    resp.addCookie(card);    resp.addCookie(card1);}\n\n\nTwoServlet{    public void doGet( HttpServletRequest request,HttpServletResponse resp)    {        //1.è°ƒç”¨è¯·æ±‚å¯¹è±¡ä»è¯·æ±‚å¤´å¾—åˆ°æµè§ˆå™¨è¿”å›çš„Cookie        Cookie cookieArray[] = request.getCookies();        //2.å¾ªç¯éå†æ•°æ®å¾—åˆ°æ¯ä¸€ä¸ªcookieçš„keyä¸value        for(Cookie card : cook ){            card.getName();//è¯»å–key â€œkey1â€            card.getValue();//è¯»å–value â€œabcâ€            //æä¾›è¾ƒå¥½çš„æœåŠ¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚        }            }}\n\n\n\n4.Cookieé”€æ¯æ—¶æœºï¼š\n1.åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒCookieå¯¹è±¡å­˜æ”¾åœ¨æµè§ˆå™¨çš„ç¼“å­˜ä¸­ã€‚å› æ­¤åªè¦æµè§ˆå™¨å…³é—­ï¼ŒCookieå¯¹è±¡å°±è¢«é”€æ¯æ‰\n2.åœ¨æ‰‹åŠ¨è®¾ç½®æƒ…å†µä¸‹ï¼Œå¯ä»¥è¦æ±‚æµè§ˆå™¨å°†æ¥æ”¶çš„Cookieå­˜æ”¾åœ¨å®¢æˆ·ç«¯è®¡ç®—æœºä¸Šç¡¬ç›˜ä¸Šï¼ŒåŒæ—¶éœ€è¦æŒ‡å®šCookieåœ¨ç¡¬ç›˜ä¸Šå­˜æ´»æ—¶é—´ã€‚åœ¨å­˜æ´»æ—¶é—´èŒƒå›´å†…ï¼Œå…³é—­æµè§ˆå™¨å…³é—­å®¢æˆ·ç«¯è®¡ç®—æœºï¼Œå…³é—­æœåŠ¡å™¨ï¼Œéƒ½ä¸ä¼šå¯¼è‡´Cookieè¢«é”€æ¯ã€‚åœ¨å­˜æ´»äº‹ä»¶åˆ°è¾¾æ—¶ï¼ŒCookieè‡ªåŠ¨ä»ç¡¬ç›˜ä¸Šè¢«åˆ é™¤\ncookie.setMaxAge(60);//cookieåœ¨ç¡¬ç›˜ä¸Šå­˜æ´»1åˆ†é’Ÿ\n\n\nåäº”ã€HttpSessionæ¥å£ï¼š1.ä»‹ç»ï¼š\nHttpSessionæ¥å£æ¥è‡ªäºServletè§„èŒƒä¸‹ä¸€ä¸ªæ¥å£ã€‚å­˜åœ¨äºTomcatä¸­servlet-api.jar\nå…¶å®ç°ç±»ç”±HttpæœåŠ¡å™¨æä¾›ã€‚Tomcatæä¾›å®ç°ç±»å­˜åœ¨äºservlet-api.jar\n\nå¦‚æœä¸¤ä¸ªServletæ¥è‡ªäºåŒä¸€ä¸ªç½‘ç«™ï¼Œå¹¶ä¸”ä¸ºåŒä¸€ä¸ªæµè§ˆå™¨/ç”¨æˆ·æä¾›æœåŠ¡ï¼Œæ­¤æ—¶å€ŸåŠ©äºHttpSessionå¯¹è±¡è¿›è¡Œæ•°æ®å…±äº«\n\nå¼€å‘äººå‘˜ä¹ æƒ¯äºå°†HttpSessionæ¥å£ä¿®é¥°å¯¹è±¡ç§°ä¸ºã€ä¼šè¯ä½œç”¨åŸŸå¯¹è±¡ã€‘\n\n\n2.HttpSessionä¸CookieåŒºåˆ«ï¼šã€é¢è¯•é¢˜ã€‘\nå­˜å‚¨ä½ç½®ï¼šä¸€ä¸ªåœ¨å¤©ä¸Šï¼Œä¸€ä¸ªåœ¨åœ°ä¸Š\nCookieï¼šå­˜æ”¾åœ¨å®¢æˆ·ç«¯è®¡ç®—æœºï¼ˆæµè§ˆå™¨å†…å­˜/ç¡¬ç›˜ï¼‰\nHttpSessionï¼šå­˜æ”¾åœ¨æœåŠ¡ç«¯è®¡ç®—æœºå†…å­˜\n\n\næ•°æ®ç±»å‹ï¼š\nCookieå¯¹è±¡å­˜å‚¨å…±äº«æ•°æ®ç±»å‹åªèƒ½æ˜¯String\nHttpSessionå¯¹è±¡å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å…±äº«æ•°æ®Object\n\n\næ•°æ®æ•°é‡ï¼š\nä¸€ä¸ªCookieå¯¹è±¡åªèƒ½å­˜å‚¨ä¸€ä¸ªå…±äº«æ•°æ®\nHttpSessionä½¿ç”¨mapé›†åˆå­˜å‚¨å…±äº«æ•°æ®ï¼Œæ‰€ä»¥å¯ä»¥å­˜å‚¨ä»»æ„æ•°é‡å…±äº«æ•°æ®\n\n\nå‚ç…§ç‰©ï¼š\nCookieç›¸å½“äºå®¢æˆ·åœ¨æœåŠ¡ç«¯ã€ä¼šå‘˜å¡ã€‘\nHttpSessionç›¸å½“äºå®¢æˆ·åœ¨æœåŠ¡ç«¯ã€ç§äººä¿é™©æŸœã€‘\n\n\n\n3.å‘½ä»¤å®ç°ï¼š\nåŒä¸€ä¸ªç½‘ç«™(myWeb)ä¸‹OneServletå°†æ•°æ®ä¼ é€’ç»™TwoServlet\nOneServlet{public void doGet(HttpServletRequest request,HttpServletResponse response){//1.è°ƒç”¨è¯·æ±‚å¯¹è±¡å‘Tomcatç´¢è¦å½“å‰ç”¨æˆ·åœ¨æœåŠ¡ç«¯çš„ç§äººå‚¨ç‰©æŸœHttpSession session = request.getSession();//è®¾ç½®sessionçš„å­˜æ´»æ—¶é—´ä¸º10ç§’    session.setMaxInactiveInterval(10);//2.å°†æ•°æ®æ·»åŠ åˆ°ç”¨æˆ·ç§äººå‚¨ç‰©æŸœsession.setAttribute(\"key1\",å…±äº«æ•°æ®);}}\næµè§ˆå™¨è®¿é—®/myWebä¸­TwoServlet\nTwoServlet{public void doGet(HttpServletRequest request,HttpServletResponse response){//1.è°ƒç”¨è¯·æ±‚å¯¹è±¡å‘Tomcatç´¢è¦å½“å‰ç”¨æˆ·åœ¨æœåŠ¡ç«¯çš„å››äººå‚¨ç‰©æŸœHttpSession session = request.getSession();//2.ä»ä¼šè¯ä½œç”¨åŸŸå¯¹è±¡å¾—åˆ°OneServletæä¾›çš„å…±äº«æ•°æ®Object å…±äº«æ•°æ® = session.getAttribute(\"key1\");}}\n4.HttpSessionä¸ç”¨æˆ·å…³è”çš„åŸç†å›¾ï¼š\n5.HttpSessionå®ç°è´­ç‰©è½¦åŸç†å›¾ï¼š\n6.getSession()ä¸getSession(false)åŒºåˆ«ï¼š\n\ngetSession()ï¼šå¦‚æœå½“å‰ç”¨æˆ·åœ¨æœåŠ¡ç«¯å·²ç»æ‹¥æœ‰äº†è‡ªå·±çš„ç§äººå‚¨ç‰©æŸœï¼Œè¦æ±‚Tomcatå°†è¿™ä¸ªç§äººå‚¨ç‰©æŸœè¿›è¡Œè¿”å›ï¼Œå¦‚æœå½“å‰ç”¨æˆ·åœ¨æœåŠ¡ç«¯å°šæœªæ‹¥æœ‰è‡ªå·±çš„ç§äººå‚¨ç‰©æŸœåˆ™è¦æ±‚Tomcatä¸ºå½“å‰ç”¨æˆ·åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ç§äººå‚¨ç‰©æŸœã€‚\n\ngetSession(false)ï¼šå¦‚æœå½“å‰ç”¨æˆ·åœ¨æœåŠ¡ç«¯å·²ç»æ‹¥æœ‰äº†è‡ªå·±çš„ç§äººå‚¨ç‰©æŸœï¼Œè¦æ±‚Tomcatå°†è¿™ä¸ªç§äººå‚¨ç‰©æŸœè¿›è¡Œè¿”å›ã€‚å¦‚æœå½“å‰ç”¨æˆ·åœ¨æœåŠ¡ç«¯å°šæœªæ‹¥æœ‰è‡ªå·±çš„ç§äººå‚¨ç‰©æŸœåˆ™æ­¤æ—¶Tomcatå°†è¿”å›nullä¸”ä¸ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ç§äººå‚¨ç‰©æŸœã€‚\n\n\n\n7.HttpSessioné”€æ¯æ—¶æœºï¼š\n\nç”¨æˆ·ä¸HttpSessionå…³è”æ—¶ä½¿ç”¨çš„Cookieåªèƒ½å­˜æ”¾åœ¨æµè§ˆå™¨ç¼“å­˜ä¸­ã€‚\nåœ¨æµè§ˆå™¨å…³é—­æ—¶ï¼Œæ„å‘³ç€ç”¨æˆ·ä¸ä»–çš„HttpSessionå…³ç³»å‘—åˆ‡æ–­ã€‚\nç”±äºTomcatæ— æ³•æ£€æµ‹æµè§ˆå™¨ä½•æ—¶å…³é—­ï¼Œå› æ­¤åœ¨æµè§ˆå™¨å…³é—­æ—¶å¹¶ä¸ä¼šå¯¼è‡´Tomcatå°†æµè§ˆå™¨å…³è”çš„HttpSessionè¿›è¡Œé”€æ¯\nä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒTomcatä¸ºæ¯ä¸€ä¸ªHttpSessionå¯¹è±¡è®¾ç½®ã€ç©ºé—²æ—¶é—´ã€‘ï¼Œè¿™ä¸ªç©ºé—²æ—¶é—´é»˜è®¤30åˆ†é’Ÿï¼Œå¦‚æœå½“å‰HttpSessionå¯¹è±¡ç©ºé—²æ—¶é—´è¾¾åˆ°30åˆ†é’Ÿåˆ™æ­¤æ—¶Tomcatè®¤ä¸ºç”¨æˆ·å·²ç»æ”¾å¼ƒäº†è‡ªå·±çš„HttpSessionï¼Œæ­¤æ—¶Tomcatå°±ä¼šé”€æ¯æ‰è¿™ä¸ªHttpSessionã€‚\n\n\n8.HttpSessionç©ºé—²æ—¶é—´æ‰‹åŠ¨è®¾ç½®ï¼š\nåœ¨å½“å‰ç½‘ç«™/web/WEB-INF/web.xml\n&lt;session-config&gt;    &lt;!--å½“å‰ç½‘ç«™ä¸­æ¯ä¸€ä¸ªsessionæœ€å¤§ç©ºé—²æ—¶é—´ä¸º5åˆ†é’Ÿ--&gt;    &lt;session-timeout&gt;5&lt;/session-timeout&gt;&lt;/session-config&gt;\n\nåå…­ã€HttpServletRequestæ¥å£å®ç°æ•°æ®å…±äº«ï¼š1.ä»‹ç»ï¼š\n\nå¦‚æœåœ¨åŒä¸€ä¸ªç½‘ç«™ä¸­ï¼Œå¦‚æœä¸¤ä¸ªServletä¹‹é—´é€šè¿‡ã€è¯·æ±‚è½¬å‘ã€‘æ–¹å¼è¿›è¡Œè°ƒç”¨ï¼Œå½¼æ­¤ä¹‹é—´å…±äº«åŒä¸€ä¸ªè¯·æ±‚åè®®åŒ…ã€‚è€Œä¸€ä¸ªè¯·æ±‚åè®®åŒ…åªå¯¹åº”ä¸€ä¸ªè¯·æ±‚å¯¹è±¡ï¼Œå› æ­¤servletä¹‹é—´å…±äº«åŒä¸€ä¸ªè¯·æ±‚å¯¹è±¡ï¼Œæ­¤æ—¶å¯ä»¥åˆ©ç”¨è¿™ä¸ªè¯·æ±‚å¯¹è±¡åœ¨ä¸¤ä¸ªServletä¹‹é—´å®ç°æ•°æ®å…±äº«ã€‚\nåœ¨è¯·æ±‚å¯¹è±¡å®ç°Servletä¹‹é—´æ•°æ®å…±äº«åŠŸèƒ½æ—¶ï¼Œå¼€å‘äººå‘˜å°†è¯·æ±‚å¯¹è±¡æˆä¸ºã€è¯·æ±‚ä½œç”¨åŸŸå¯¹è±¡ã€‘\n\n\n2.å‘½ä»¤å®ç°ï¼š\nOneServleté€šè¿‡è¯·æ±‚è½¬å‘ç”³è¯·è°ƒç”¨TwoServletæ—¶ï¼Œéœ€è¦ç»™TwoServletæä¾›å…±äº«æ•°æ®\nOneServlet{    public void doGet(HttpServletRequest req,HttpServletResponse response){        //1.å°†æ•°æ®æ·»åŠ åˆ°ã€è¯·æ±‚ä½œç”¨åŸŸå¯¹è±¡ã€‘ä¸­attributeå±æ€§        req.setAttribute(\"key1\",æ•°æ®);//æ•°æ®ç±»å‹å¯ä»¥æ˜¯ä»»æ„ç±»å‹Object        //2.å‘Tomcatç”³è¯·è°ƒç”¨TwoServlet        req.getRequestDispatcher(\"/two\").forward(req,response);    }} \n\nTwoServlet{    public void doGet(HttpServletRequest req,HttpServletResponse response){            //ä»å½“å‰è¯·æ±‚å¯¹è±¡å¾—åˆ°OneServletå†™å…¥åˆ°å…±äº«æ•°æ®        Object æ•°æ® = req.getAttribute(\"key1\");        }}\n\n\n\nåä¸ƒã€Servletè§„èŒƒæ‰©å±•â€”â€”â€”-ç›‘å¬å™¨æ¥å£1.ä»‹ç»ï¼š\n\nä¸€ç»„æ¥è‡ªäºServletè§„èŒƒä¸‹æ¥å£ï¼Œå…±æœ‰8ä¸ªæ¥å£ã€‚åœ¨Tomcatå­˜åœ¨servlet-api.jaråŒ…\nç›‘å¬å™¨æ¥å£éœ€è¦ç”±å¼€å‘äººå‘˜äº²è‡ªå®ç°ï¼ŒHttpæœåŠ¡å™¨æä¾›jaråŒ…å¹¶æ²¡æœ‰å¯¹åº”çš„å®ç°ç±»\nç›‘å¬å™¨æ¥å£ç”¨äºç›‘æ§ã€ä½œç”¨åŸŸå¯¹è±¡ç”Ÿå‘½å‘¨æœŸå˜åŒ–æ—¶åˆ»ã€‘ä»¥åŠã€ä½œç”¨åŸŸå¯¹è±¡å…±äº«æ•°æ®å˜åŒ–æ—¶åˆ»ã€‘\n\n\n2.ä½œç”¨åŸŸå¯¹è±¡ï¼š\n\nåœ¨Servletè§„èŒƒä¸­ï¼Œè®¤ä¸ºåœ¨æœåŠ¡ç«¯å†…å­˜ä¸­å¯ä»¥åœ¨æŸäº›æ¡ä»¶ä¸‹ä¸ºä¸¤ä¸ªServletä¹‹é—´æä¾›æ•°æ®å…±äº«æ–¹æ¡ˆçš„å¯¹è±¡ï¼Œè¢«ç§°ä¸ºã€ä½œç”¨åŸŸå¯¹è±¡ã€‘\n\nServletè§„èŒƒä¸‹ä½œç”¨åŸŸå¯¹è±¡ï¼š\nServletContextï¼šå…¨å±€ä½œç”¨åŸŸå¯¹è±¡\nHttpSessionï¼šä¼šè¯ä½œç”¨åŸŸå¯¹è±¡\nHttpServletRequestï¼šè¯·æ±‚ä½œç”¨åŸŸå¯¹è±¡\n\n\n\n3.ç›‘å¬å™¨æ¥å£å®ç°æ¥å£å®ç°ç±»å¼€å‘è§„èŒƒï¼šä¸‰æ­¥\n\næ ¹æ®ç›‘å¬çš„å®é™…æƒ…å†µï¼Œé€‰æ‹©å¯¹åº”ç›‘å¬å™¨æ¥å£è¿›è¡Œå®ç°\né‡å†™ç›‘å¬å™¨æ¥å£å£°æ˜ã€ç›‘å¬äº‹ä»¶å¤„ç†æ–¹æ³•ã€‘\nåœ¨web.xmlæ–‡ä»¶å°†ç›‘å¬å™¨æ¥å£å®ç°ç±»æ³¨å†Œåˆ°HttpæœåŠ¡å™¨\n\né‡å†™ç›‘å¬æ¥å£ï¼š\n\nåœ¨Tomcatä¸­æ³¨å†Œç›‘å¬æ¥å£å®ç°ç±»ï¼š\n\n\n4.ServletContextListeneræ¥å£ï¼š\n\nä½œç”¨ï¼š\né€šè¿‡è¿™ä¸ªæ¥å£åˆæ³•çš„æ£€æµ‹å…¨å±€ä½œç”¨åŸŸå¯¹è±¡è¢«åˆå§‹åŒ–æ—¶åˆ»ä»¥åŠè¢«é”€æ¯æ—¶åˆ»\n\nç›‘å¬äº‹ä»¶å¤„ç†æ–¹æ³•ï¼š\npublic void contextInitlized()ï¼šåœ¨å…¨å±€ä½œç”¨åŸŸå¯¹è±¡è¢«HttpæœåŠ¡å™¨åˆå§‹åŒ–è¢«è°ƒç”¨\npublic void contextDestory()ï¼šåœ¨å…¨å±€ä½œç”¨åŸŸå¯¹è±¡è¢«HttpæœåŠ¡å™¨é”€æ¯æ—¶å€™è§¦å‘è°ƒç”¨\n\n\n\n5.ServletContextAttributeListeneræ¥å£ï¼š\n\nä½œç”¨ï¼š\né€šè¿‡è¿™ä¸ªæ¥å£åˆæ³•çš„æ£€æµ‹å…¨å±€ä½œç”¨åŸŸå¯¹è±¡å…±äº«æ•°æ®å˜åŒ–æ—¶åˆ»\n\nç›‘å¬äº‹ä»¶å¤„ç†æ–¹æ³•ï¼š\npublic void contextAdd()ï¼šåœ¨å…¨å±€ä½œç”¨åŸŸå¯¹è±¡æ·»åŠ å…±äº«æ•°æ®\npublic void contextReplaced()ï¼šåœ¨å…¨å±€ä½œç”¨åŸŸå¯¹è±¡æ›´æ–°å…±äº«æ•°æ®\npublic void contextRemove()ï¼šåœ¨å…¨å±€ä½œç”¨åŸŸå¯¹è±¡åˆ é™¤å…±äº«æ•°æ®\n\n\né‡å†™æ¥å£ï¼š\n\næ³¨å†Œç›‘å¬æ¥å£å®ç°ç±»ï¼š\n\n\n6.å…¨å±€ä½œç”¨åŸŸå¯¹è±¡å…±äº«æ•°æ®å˜åŒ–æ—¶åˆ»ï¼š\nServletContext application = request.getServletContext();application.setAttribute(\"key1\",100);//æ–°å¢å…±äº«æ•°æ®application.setAttribute(\"key1\",200);//æ›´æ–°å…±äº«æ•°æ®application.removeAttribute(\"key1\");//åˆ é™¤å…±äº«æ•°æ®\n\n7.æœåŠ¡å™¨ä¸æ•°æ®åº“ä¹‹é—´é€šä¿¡çš„ä¼˜åŒ–ï¼šåœ¨ç½‘ç«™åç«¯ä¸­ï¼Œæ•°æ®åº“çš„æ“ä½œå…¶è·å–è¿æ¥æ•°æ®åº“è€—æ—¶é•¿ï¼ˆConnectionï¼‰ï¼Œæ‰€ä»¥å¯ä»¥åœ¨æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™å°±åˆ›å»ºä¸€ä¸ªè¿æ¥æ± ã€‚\n\nåå…«ã€Servletè§„èŒƒæ‰©å±•â€”â€”â€”Filteræ¥å£ï¼ˆè¿‡æ»¤å™¨æ¥å£ï¼‰1.ä»‹ç»ï¼š\n\næ¥è‡ªäºServletè§„èŒƒä¸‹æ¥å£ï¼Œåœ¨Tomcatä¸­å­˜åœ¨äºservlet-api.jaråŒ…\nFilteræ¥å£å®ç°ç±»ç”±å¼€å‘äººå‘˜è´Ÿè´£æä¾›ï¼ŒHttpæœåŠ¡å™¨ä¸è´Ÿè´£ä»»æä¾›\nFilteræ¥å£åœ¨HttpæœåŠ¡å™¨è°ƒç”¨èµ„æºæ–‡ä»¶ä¹‹å‰ï¼Œå¯¹HttpæœåŠ¡å™¨è¿›è¡Œæ‹¦æˆª\n\n\n2.å…·ä½“ä½œç”¨ï¼š\n\næ‹¦æˆªHttpæœåŠ¡å™¨ï¼Œå¸®åŠ©HttpæœåŠ¡å™¨æ£€æµ‹å½“å‰è¯·æ±‚åˆæ³•æ€§\næ‹¦æˆªHttpæœåŠ¡å™¨ï¼Œå¯¹å½“å‰è¯·æ±‚è¿›è¡Œå¢å¼ºæ“ä½œ\n\n\n3.Filteræ¥å£å®ç°ç±»å¼€å‘æ­¥éª¤ï¼šä¸‰æ­¥\n\nåˆ›å»ºä¸€ä¸ªJavaç±»å®ç°Filteræ¥å£\né‡å†™Filteræ¥å£ä¸­doFilteræ–¹æ³•\nweb.xmlå°†è¿‡æ»¤å™¨æ¥å£å®ç°ç±»æ³¨å†Œåˆ°HttpæœåŠ¡å™¨\n\n\n4.FilteråŸºç¡€ä½¿ç”¨ä¾‹å­\nä½¿ç”¨ï¼š\n\nåœ¨web.xmlæ³¨å†Œï¼š\n\n\n5.Filteræ‹¦æˆªåœ°å€æ ¼å¼ï¼š\n\nå‘½ä»¤æ ¼å¼ï¼š\n&lt;filter-mappint&gt;    &lt;filter-mapping&gt;oneFilter&lt;/filter-mapping&gt;    &lt;url-pattern&gt;æ‹¦æˆªåœ°å€&lt;/url-pattern&gt;&lt;/filter-mappint&gt;\n\nå‘½ä»¤ä½œç”¨ï¼š\næ‹¦æˆªåœ°å€é€šçŸ¥Tomcatåœ¨è°ƒç”¨ä½•ç§èµ„æºæ–‡ä»¶ä¹‹å‰éœ€è¦è°ƒç”¨OneFilterè¿‡æ»¤è¿›è¡Œæ‹¦æˆª\n\nè¦æ±‚Tomcatåœ¨è°ƒç”¨æŸä¸€ä¸ªå…·ä½“æ–‡ä»¶ä¹‹å‰ï¼Œæ¥è°ƒç”¨OneFilteræ‹¦æˆªï¼Œä¾‹ï¼š\n/img/mm.jpg\n\nè¦æ±‚Tomcatåœ¨è°ƒç”¨æŸä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„èµ„æºæ–‡ä»¶ä¹‹å‰ï¼Œæ¥è°ƒç”¨OneFilteræ‹¦æˆªï¼Œä¾‹ï¼š\n/img/*\n\nè¦æ±‚Tomcatåœ¨è°ƒç”¨ä»»æ„æ–‡ä»¶å¤¹ä¸‹æŸç§ç±»å‹æ–‡ä»¶ä¹‹å‰ï¼Œæ¥è°ƒç”¨OneFilteræ‹¦æˆªï¼Œä¾‹ï¼š\n*.jpg\n\nè¦æ±‚Tomcatåœ¨è°ƒç”¨ç½‘ç«™ä¸­ä»»æ„æ–‡ä»¶æ—¶ï¼Œæ¥è°ƒç”¨OneFilteræ‹¦æˆªï¼Œä¾‹ï¼š\n/*\n\n\n\n6.æ‹¦æˆªæ¶æ„è®¿é—®æµç¨‹å›¾ï¼š\n\n\näº’è”ç½‘é€šä¿¡æµç¨‹å›¾ï¼š\n\n\n\n","categories":["Java"],"tags":["Java","Servlet"]},{"title":"SpringMVCç®€ä»‹","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/java-zhi-springmvc-xue-xi-bi-ji/","content":"SpringMVCç®€ä»‹1.SpringMVCæ¦‚è¿°\nSpringMVCæ˜¯ä¸€ç§åŸºäºJavaçš„å®ç°MVCè®¾è®¡æ¨¡å‹çš„è¯·æ±‚é©±åŠ¨ç±»å‹çš„è½»é‡çº§Webæ¡†æ¶ï¼Œå±äºSpringFrameWorkçš„åç»­äº§å“ï¼Œå·²ç»èåˆåœ¨Spring Web Flowä¸­ã€‚\nSpringMVCå·²ç»æˆä¸ºç›®å‰æœ€ä¸»æµçš„MVCæ¡†æ¶ä¹‹ä¸€ï¼Œå¹¶ä¸”éšç€Spring3.0çš„å‘å¸ƒï¼Œå…¨é¢è¶…è¶ŠStruts2ï¼Œæˆä¸ºæœ€ä¼˜ç§€çš„MVCæ¡†æ¶ã€‚å®ƒé€šè¿‡ä¸€å¥—æ³¨è§£ï¼Œè®©ä¸€ä¸ªç®€å•çš„Javaç±»æˆä¸ºå¤„ç†è¯·æ±‚çš„æ§åˆ¶å™¨ï¼Œè€Œæ— éœ€å®ç°ä»»ä½•æ¥å£ã€‚åŒæ—¶å®ƒè¿˜æ”¯æŒRESTfulç¼–ç¨‹é£æ ¼çš„è¯·æ±‚ã€‚\n\n1.1.åŸºäºMVCæ¶æ„\nåŸºäºMVCæ¶æ„ï¼ŒåŠŸèƒ½åˆ†å·¥æ˜ç¡®ã€‚è§£è€¦åˆã€‚\nMï¼šModleï¼ˆæ¨¡å‹ï¼‰\nVï¼šViewï¼ˆè§†å›¾ï¼‰\nCï¼šControllerï¼ˆæ§åˆ¶å™¨ï¼‰\n\n1.2.å®¹æ˜“ç†è§£ï¼Œä¸Šæ‰‹å¿«ï¼Œä½¿ç”¨ç®€å•\nå°±å¯ä»¥å¼€å‘ä¸€ä¸ªæ³¨è§£çš„SpringMVCé¡¹ç›®ï¼ŒSpringMVCä¹Ÿæ˜¯è½»é‡çº§çš„ï¼Œjarå¾ˆå°ã€‚ä¸ä¾èµ–çš„ç‰¹å®šçš„æ¥å£å’Œç±»ã€‚\n\n1.3.ä½œä¸ºSpringæ¡†æ¶ä¸€éƒ¨åˆ†ï¼Œèƒ½å¤Ÿä½¿ç”¨Springçš„IOCå’ŒAOP\næ–¹ä¾¿æ•´åˆStrtusï¼ŒMyBatisï¼ŒHiberateï¼ŒJPAç­‰å…¶ä»–æ¡†æ¶ã€‚\n\n2.ä»€ä¹ˆæ˜¯SpringMVC\nä»–æ˜¯åŸºäºMVCå¼€å‘æ¨¡å¼çš„æ¶æ„ï¼Œç”¨æ¥ä¼˜åŒ–æ§åˆ¶å™¨ï¼Œå®ƒæ˜¯Springå®¶æ—çš„ä¸€å‘˜ï¼Œå®ƒä¹Ÿå…·å¤‡IOCå’ŒAOPã€‚\n\n3.ä»€ä¹ˆæ˜¯MVC\nå®ƒæ˜¯ä¸€ç§å¼€å‘æ¨¡å¼ï¼Œå®ƒæ˜¯æ¨¡å‹è§†å›¾æ§åˆ¶å™¨çš„ç®€ç§°ï¼Œæ‰€æœ‰çš„webåº”ç”¨éƒ½æ˜¯åŸºäºMVCå¼€å‘ã€‚\nMï¼šæ¨¡å‹å±‚ï¼Œå®è¡Œå®ä½“ç±»ï¼Œä¸šåŠ¡é€»è¾‘å±‚ï¼Œæ•°æ®è®¿é—®å±‚ã€‚\nVï¼šè§†å›¾å±‚ï¼Œhtmlï¼ŒJavaScriptï¼ŒVueç­‰éƒ½æ˜¯è§†å›¾å±‚ï¼Œç”¨æ¥æ˜¾ç°æ•°æ®\nCï¼šæ§åˆ¶å™¨ï¼Œå®ƒæ˜¯ç”¨æ¥æ¥æ”¶å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¹¶è¿”å›å“åº”åˆ°å®¢æˆ·ç«¯çš„ç»„ä»¶ï¼ŒServletå°±æ˜¯ç»„ä»¶ã€‚\n\n4.SSMæ¶æ„1.Springæ¡†æ¶ä½œç”¨\næ•´åˆSpringMVCå’ŒMyBatisï¼Œè§£è€¦åˆ\n\n2.SpringMVCæ¡†æ¶ä½œç”¨\nä¼˜åŒ–æ§åˆ¶å™¨ï¼Œæ¯”å¦‚Servletã€action\n\n3.MyBatisæ¡†æ¶ä½œç”¨\nä¼˜åŒ–æ•°æ®è®¿é—®å±‚ï¼Œæ¯”å¦‚ä¼˜åŒ–JDBCæ•°æ®åº“è¿æ¥ï¼Œå¹¶ä¸”æœ‰è‡ªå¸¦çš„æ•°æ®åº“è¿æ¥æ± \n\n5.SSHæ¶æ„\nSpring\nStruts2\nHibernate\n\n6.SpringMVCæ¡†æ¶çš„ä¼˜ç‚¹\nè½»é‡çº§ï¼ŒåŸºäºMVCçš„æ¶æ„\næ˜“äºä¸Šæ‰‹ï¼Œå®¹æ˜“ç†è§£ï¼ŒåŠŸèƒ½å¼ºå¤§\nå®ƒå…·å¤‡IOCå’ŒAOP\nå®Œå…¨åŸºäºæ³¨è§£å¼€å‘\n\n\n\nè¯·æ±‚ï¼ˆclientï¼‰ç»è¿‡é¡ºåºï¼š\nclientâ€”â€”ã€‹tomcatâ€”â€”ã€‹web.xmlâ€”â€”ã€‹springmvcâ€”â€”ã€‹controllerâ€”â€”ã€‹serviceâ€”â€”ã€‹mapperâ€”â€”ã€‹db\n\n6.2.SpringMVCæ‰§è¡Œçš„æµç¨‹\n\n\n7.åŸºäºæ³¨è§£çš„SpringMVCæ¡†æ¶å¼€å‘çš„æ­¥éª¤\næ–°å»ºé¡¹ç›®ï¼Œé€‰æ‹©webappæ¨¡æ¿ã€‚\n\nä¿®æ”¹ç›®å½•ï¼Œæ·»åŠ ç¼ºå¤±çš„testï¼Œjavaï¼Œresourcesï¼ˆä¸¤å¥—ï¼‰ï¼Œå¹¶ä¿®æ”¹ç›®å½•å±æ€§\n\n\n\n\nä¿®æ”¹pom.xmlæ–‡ä»¶ï¼Œæ·»åŠ SpringMVCçš„ä¾èµ–ï¼Œæ·»åŠ Servletçš„ä¾èµ–\n\n\n\n\n\næ·»åŠ SpringMVC.xmlé…ç½®æ–‡ä»¶ï¼ŒæŒ‡å®šåŒ…æ‰«æï¼ˆå› ä¸ºè¦åŸºäºæ³¨è§£å¼€å‘ï¼‰ï¼Œæ·»åŠ è§†å›¾è§£æå™¨ã€‚\n\n\n\n\nåˆ é™¤web.xmlæ–‡ä»¶ï¼Œæ–°å»ºweb.xml\n\nåœ¨web.xmlæ–‡ä»¶ä¸­æ³¨å†ŒSpringMVCæ¡†æ¶ï¼ˆæ‰€æœ‰çš„webè¯·æ±‚éƒ½æ˜¯åŸºäºservletçš„ï¼‰\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns,jcp.org/xml/ns/javaee/web-app_4_0.xsd\"         version=\"4.0\"&gt;   &lt;!--æ³¨å†ŒSpringMVCæ¡†æ¶--&gt;    &lt;servlet&gt;    \t&lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;        &lt;init-param&gt;        \t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;            &lt;param-value&gt;classpath:springmvc.xml&lt;/param-value&gt;        &lt;/init-param&gt;    &lt;/servlet&gt;    &lt;servlet-mapping&gt;    \t&lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;        &lt;!--\t\tæŒ‡å®šæ‹¦æˆªä»€ä¹ˆæ ·çš„è¯·æ±‚\t\thttp://localhost:8080/one\t\thttp://localhost:8080/index.jsp\t\thttp://localhost:8080/demo.action     \t&lt;a href=\"${pageContext.request.contextPath}/demo.action\"&gt;å‘è®¿é—®æœåŠ¡å™¨&lt;/a&gt;\t\t--&gt;        &lt;url-pattern&gt;*.action&lt;/url-pattern&gt;    &lt;/servlet-mapping&gt;    &lt;/web-app&gt;\n\n\n\nåœ¨webappç›®å½•ä¸‹æ–°å»ºadminç›®å½•ï¼Œåœ¨adminç›®å½•ä¸‹æ–°å»ºmain.jspé¡µé¢ï¼Œåˆ é™¤index.jspé¡µé¢ï¼Œå¹¶æ–°å»ºï¼Œå‘é€è¯·æ±‚ç»™æœåŠ¡å™¨\n\nå¼€å‘æ§åˆ¶å™¨ï¼ˆServletï¼‰ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ™®é€šçš„ç±»ã€‚\n\n@Controller //äº¤ç»™Springå»åˆ›å»ºpublic class DemoAction{    /**    ä»¥å‰çš„Servletçš„è§„èŒƒ    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException,IOException {}    actionä¸­æ‰€æœ‰çš„åŠŸèƒ½å®ç°éƒ½æ˜¯ç”±æ–¹æ³•æ¥å®Œæˆçš„    actionæ–¹æ³•çš„è§„èŒƒ    1)è®¿é—®æƒé™æ˜¯public    2)æ–¹æ³•çš„è¿”å›å€¼ä»»æ„    3)æ–¹æ³•åç§°ä»»æ„    4)æ–¹æ³•å¯ä»¥æ²¡æœ‰å‚æ•°ï¼Œå¦‚æœæœ‰å¯æ˜¯ä»»æ„ç±»å‹    5)è¦ä½¿ç”¨@RequestMappingæ³¨è§£æ¥ç”³æ˜ä¸€ä¸ªè®¿é—®çš„è·¯å¾„ï¼ˆåç§°ï¼‰*/        @RequestMapping(\"/demo\")    public String demo(){        System.out.println(\"æœåŠ¡å™¨è¢«è®¿é—®åˆ°äº†\");        return \"main\";  //å¯ä»¥ç›´æ¥è·³åˆ°/admin/main.jspé¡µé¢ä¸Š    }    }\n\n\n\næ·»åŠ tomcatè¿›è¡Œæµ‹è¯•åŠŸèƒ½\n\n\n8.åˆ†æwebè¯·æ±‚1.webè¯·æ±‚æ‰§è¡Œçš„æµç¨‹\nâ€‹                                               æ ¸å¿ƒå¤„ç†å™¨\nindex.jsp&lt;â€”â€”â€”â€”â€”â€”-&gt;DispatcherServlet&lt;â€”â€”â€”â€”â€”â€”â€”&gt;SpringMVCçš„å¤„ç†å™¨æ˜¯ä¸€ä¸ªæ™®é€šçš„æ–¹æ³•\none.jsp&lt;â€”â€”â€”â€”â€”â€”-&gt;DispatcherServlet&lt;â€”â€”â€”â€”â€”â€”â€”&gt;SpringMVCçš„å¤„ç†å™¨æ˜¯ä¸€ä¸ªæ™®é€šçš„æ–¹æ³•\nDispatcherServletè¦åœ¨web.xmlæ–‡ä»¶ä¸­æ³¨å†Œæ‰å¯ç”¨ã€‚\n\n5.@RequestMappingæ³¨è§£è¯¦è§£\næ­¤æ³¨è§£å°±æ˜¯æ¥æ˜ å°„æœåŠ¡å™¨è®¿é—®çš„è·¯å¾„ã€‚\n\næ­¤æ³¨è§£å¯åŠ åœ¨æ–¹æ³•ä¸Šï¼Œæ˜¯ä¸ºæ­¤æ–¹æ³•æ³¨å†Œä¸€ä¸ªå¯ä»¥è®¿é—®çš„åç§°ï¼ˆè·¯å¾„ï¼‰\n\n\n\n@RequestMapping(\"/demo\")public String demo(){    System.out.println(\"æœåŠ¡å™¨è¢«è®¿é—®åˆ°äº†......\");    return \"main\"; //å¯ä»¥ç›´æ¥è·³åˆ°/admin/main.jspé¡µé¢ä¸Š}&lt;a href=\"${pageContext.request.contextPath}/demo.action\"&gt;æœåŠ¡å™¨è®¿é—®&lt;/a&gt;\n\næ­¤æ³¨è§£å¯ä»¥åŠ åœ¨ç±»ä¸Šï¼Œç›¸å½“äºæ˜¯åŒ…åï¼ˆè™šæ‹Ÿè·¯å¾„ï¼‰ ,åŒºåˆ†ä¸åŒç±»ä¸­ç›¸åŒçš„actionçš„åç§°\n\n\né‚£ä¹ˆå¦‚æœæƒ³è¦è®¿é—®è¿™ä¸ªdemoçš„è·¯å¾„å°†ä¼šå˜ä¸ºâ€¦/user/demoâ€¦â€¦..\n\n\næ­¤æ³¨è§£å¯åŒºåˆ†getè¯·æ±‚å’Œpostè¯·æ±‚\n\n\n\n@Controllerpublic class ReqAction { @RequestMapping(value = \"/req\",method = RequestMethod.GET) public String req(){     System.out.println(\"æˆ‘æ˜¯å¤„ç†getè¯·æ±‚çš„......\");     return \"main\"; } @RequestMapping(value = \"/req\" , method = RequestMethod.POST) public String req1(){     System.out.println(\"æˆ‘æ˜¯å¤„ç†postè¯·æ±‚çš„......\");     return \"main\"; }}\n\nå¸¦å‚æ•°çš„postè¯·æ±‚ï¼š\n@RequestMapping(\"/one\")public String one(String mynme,int age/*è‡ªåŠ¨æ³¨å…¥ï¼Œå¹¶ä¸”ç±»å‹è½¬æ¢*/){    System.out.println(\"myname=\"+myname+\",age=\"+(age+100));    return \"main\";}/*å¯¹è±¡å°è£…æäº¤æ•°æ®\tåœ¨æäº¤è¯·æ±‚ä¸­ï¼Œä¿è¯è¯·æ±‚å‚æ•°çš„åç§°ä¸å®ä½“ç±»ä¸­æˆå‘˜å˜é‡çš„åç§°ä¸€è‡´ï¼Œåˆ™å¯ä»¥è‡ªåŠ¨åˆ›å»ºå¯¹è±¡ï¼Œåˆ™å¯ä»¥è‡ªåŠ¨æäº¤æ•°æ®ï¼Œè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼Œè‡ªåŠ¨å°è£…æ•°æ®åˆ°å¯¹è±¡ä¸­ã€‚\tå®ä½“ç±»ä¸­ï¼š\tpublic class Users{\t\tprivate String name;\t\tprivate int age;\t\t......\t}\té¡µé¢ï¼š\t&lt;form action=\"${pageContext.request.contextPath}/two.action\" method=\"post\"&gt;\t\tå§“åï¼š&lt;input name=\"name\"&gt;&lt;br&gt;\t\tå¹´é¾„ï¼š&lt;input name=\"age\"&gt;&lt;br&gt;\t\t&lt;input type=\"submit\" value=\"æäº¤\"&gt;\t&lt;/form&gt;*/action:@RequestMapping(\"/two\")public String two(Users u/*è¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„å®ä½“ç±»ï¼Œå‰ç«¯çš„å‚æ•°ä¼šæ ¹æ®ç±»ä¸­å±æ€§å˜é‡åæ³¨å…¥è¿›å»*/){    System.out.println(u);    return \"main\";}//åŠ¨æ€å ä½ç¬¦è§£æ/*ä»…é™äºè¶…é“¾æ¥æˆ–åœ°å€æ æäº¤æ•°æ®ã€‚å®ƒæ˜¯ä¸€æ ä¸€å€¼ï¼Œä¸€æ ä¸€ä¸ªå¤§æ‹¬å·ï¼Œä½¿ç”¨æ³¨è§£@PathVariableæ¥è§£æã€‚*/@RequestMapping(\"/three/{name}/{age}\")public String three(    @PathVariable  ==&gt;ä¸“é—¨è§£æè·¯å¾„ä¸­çš„è¯·æ±‚å‚æ•°    String name,    @PathVariable    int age){    System.out.println(\"myname=\"+myname+\",age=\"+(age+100));    return \"main\";}/*4)æ˜ å°„åç§°ä¸ä¸€è‡´\tæäº¤è¯·æ±‚å‚æ•°ä¸actionæ–¹æ³•çš„å½¢å‚çš„åç§°ä¸ä¸€è‡´ï¼Œä½¿ç”¨æ³¨è§£@RequestParamæ¥è§£æ\tå§“åï¼š&lt;input name=\"name\"&gt;&lt;br&gt;\tå¹´é¾„ï¼š&lt;input name=\"age\"&gt;&lt;br&gt;*/@RequestMapping(\"/four\")public string four(    @RequestParam(\"uname\") ==&gt;ä¸“é—¨ç”¨æ¥è§£å†³åç§°ä¸ä¸€è‡´çš„é—®é¢˜    String name,     @RequestParam(\"uage\")    int age){        return \"main\";}/*5)æ‰‹å·¥æå–æ•°æ®*/@RequestMapping(\"/five\")public String five(HttpServletRequest request){    String name = request.getParameter(\"name\");    int age = Integer.parseInt(request.getParameter(\"age\"));        return \"main\";}\nä¸­æ–‡ä¹±ç è§£å†³æ–¹æ³•â€‹\té…ç½®è¿‡æ»¤å™¨ï¼š\n\n\n\n8.actionæ–¹æ³•çš„è¿”å›å€¼\nStringï¼šå®¢æˆ·ç«¯èµ„æºçš„åœ°å€ï¼Œè‡ªåŠ¨å‡­å€Ÿå‰ç¼€å’Œåç¼€ã€‚è¿˜å¯ä»¥å±è”½è‡ªåŠ¨æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œå¯ä»¥æŒ‡å®šè¿”å›çš„è·¯å¾„ã€‚\nObjectï¼šè¿”å›JSONæ ¼å¼çš„å¯¹è±¡ã€‚è‡ªåŠ¨å°†å¯¹è±¡æˆ–é›†åˆè½¬ä¸ºJSONã€‚ä½¿ç”¨çš„Jacksonå·¥å…·è¿›è¡Œè½¬æ¢ï¼Œå¿…é¡»è¦æ·»åŠ Jacksonä¾èµ–ã€‚ä¸€èˆ¬ç”¨äºAjaxè¯·æ±‚ã€‚\nvoidï¼šæ— è¿”å›å€¼ï¼Œä¸€èˆ¬ç”¨äºAjaxè¯·æ±‚ã€‚\nåŸºæœ¬æ•°æ®ç±»å‹ï¼Œç”¨äºAjaxè¯·æ±‚ã€‚\nModelAndViewï¼šè¿”å›æ•°æ®å’Œè§†å›¾å¯¹è±¡ï¼Œç°åœ¨ç”¨çš„å¾ˆå°‘ã€‚\n\n9.å®ŒæˆAjaxè¯·æ±‚è®¿é—®æœåŠ¡å™¨ï¼Œè¿”å›å­¦ç”Ÿé›†åˆã€‚\næ·»åŠ Jacksonä¾èµ–\nåœ¨webappç›®å½•ä¸‹æ–°å»ºjsç›®å½•ï¼Œæ·»åŠ jQueryå‡½æ•°åº“\nåœ¨index.jspé¡µé¢ä¸Šå¯¼å…¥å‡½æ•°åº“\nåœ¨actionä¸Šæ·»åŠ æ³¨è§£@ResponseBodyï¼Œç”¨æ¥å¤„ç†Ajaxè¯·æ±‚\nåœ¨springmvc.xmlæ–‡ä»¶ä¸­æ·»åŠ æ³¨è§£é©±åŠ¨&lt;mvc:annotationdriven /&gt;ï¼Œå®ƒç”¨æ¥è§£æ@ResponseBodyæ³¨è§£\n\n==å› ä¸ºæ˜¯å¤„ç†çš„æ˜¯Ajaxè¯·æ±‚ï¼Œæ‰€ä»¥ä¸ç”¨æ·»åŠ è§†å›¾è§£æå™¨==\n\nJavaä»£ç ï¼š\n&gt;@Controller&gt;public class StudentListAction{   @RequestMapping(\"/list\")   @ResponseBody  //è§£æAjaxè¯·æ±‚ï¼Œå¿…é¡»è¦åœ¨springmvc.xmlæ–‡ä»¶ä¸­æ·»åŠ æ³¨è§£é©±åŠ¨   public List&lt;Student&gt; list(){       List&lt;Student&gt; list = new Student(\"å¼ ä¸‰\",23);       Student stu1 = new Student(\"å¼ ä¸‰\",23);       Student stu2 = new Student(\"æå››\",24);       Student stu3 = new Student(\"ç‹äº”\",25);       list.add(stu1);       list.add(stu2);       list.add(stu3);              return list;          }&gt;}\n\næ³¨æ„åœ¨springmvcé…ç½®æ–‡ä»¶å½“ä¸­æ·»åŠ æ³¨è§£é©±åŠ¨\n\n\n10.è¯·æ±‚è·³è½¬\nJumpAction.javaï¼š\n@RequestMapping(\"/one\")public String one(){ System.out.println(\"è¿™æ˜¯è¯·æ±‚è½¬å‘é¡µé¢è·³è½¬......\"); return \"main\"; //é»˜è®¤æ˜¯è¯·æ±‚è½¬å‘ï¼Œä½¿ç”¨è§†å›¾è§£æå™¨å‡­å€Ÿå‰ç¼€åç¼€è¿›è¡Œé¡µé¢è·³è½¬}@RequestMapping(\"/two\")public String two(){ System.out.println(\"è¿™æ˜¯è¯·æ±‚è½¬å‘actionè·³è½¬......\");    //forward:\tè¿™ç»„å­—ç¬¦ä¸²å¯ä»¥å±è”½å‰ç¼€å’Œåç¼€çš„æ‹¼æ¥ï¼Œå®ç°è¯·æ±‚è½¬å‘è·³è½¬ã€‚ return \"forward:/other.action\"  //é»˜è®¤æ˜¯è¯·æ±‚è½¬å‘ï¼Œä½¿ç”¨è§†å›¾è§£æå™¨æ‹¼æ¥å‰ç¼€åç¼€è¿›è¡Œé¡µé¢è·³è½¬}@RequestMapping(\"/three\")public String three(){    System.out.println(\"è¿™æ˜¯é‡å®šå‘é¡µé¢......\");    //redirect:\tè¿™ç»„å­—ç¬¦ä¸²å¯ä»¥å±è”½å‰ç¼€å’Œåç¼€çš„æ‹¼æ¥ï¼Œå®ç°é‡å®šå‘è·³è½¬ã€‚    return \"redirect:/admin/main.jsp\";}@RequestMapping(\"/four\")public String four(){    System.out.println(\"è¿™æ˜¯é‡å®šå‘action......\");     //redirect:\tè¿™ç»„å­—ç¬¦ä¸²å¯ä»¥å±è”½å‰ç¼€å’Œåç¼€çš„æ‹¼æ¥ï¼Œå®ç°é‡å®šå‘è·³è½¬ã€‚    return \"redirect:/other.action\";}\n\nOtherAction.javaï¼š\n```## 11.SpringMVCé»˜è®¤çš„å‚æ•°ç±»å‹ä¸éœ€è¦å»åˆ›å»ºï¼Œç›´æ¥æ‹¿æ¥ä½¿ç”¨å³å¯1. HttpServletRequest2. HttpServletResponse3. HttpSession4. Model5. Map6. ModelMapæ³¨æ„ï¼šMap,Model,ModelMapå’Œrequestä¸€æ ·ï¼Œéƒ½ä½¿ç”¨è¯·æ±‚ä½œç”¨åŸŸè¿›è¡Œä¼ é€’ï¼Œæ‰€ä»¥æœåŠ¡ç«¯çš„è·³è½¬å¿…é¡»æ˜¯è¯·æ±‚è½¬å‘DataAction.java```java@RequestMapping(\"/data\")public String data(HttpServletRequest request,                  HttpServletResponse response,                  HttpSession session,                  Model model,                  Map map,                  ModelMap modelMap){    //åšä¸€ä¸ªæ•°æ®ï¼Œä¼ åˆ°.jspé¡µé¢ä¸Š    Users u = new Users(\"å¼ ä¸‰\",22);    request,setAttribute(\"requestUsers\",u);    session.setAttribute(\"sessionUsres\",u);    model.addAttribute(\"modelUsers\",u);    map.put(\"mapUsers\",u);    modelMap.addAttribute(\"modelMaoUsers\",u);        return \"main\";}\n12.æ—¥æœŸå¤„ç†1. æ—¥æœŸçš„æäº¤å¤„ç†A. å•ä¸ªæ—¥æœŸå¤„ç†   è¦ä½¿ç”¨æ³¨è§£@DateTimeFormatï¼Œæ­¤æ³¨è§£å¿…é¡»æ­é…springmvc.xmlæ–‡ä»¶ä¸­çš„&lt;mvc:annotationdrivenæ ‡ç­¾ &gt;\n\n@Controllerpublic class MyDateAction{        SimpleDateFormat sf = new SimpleDateFormat(\"yyyy-MM-dd\");        @RequestMapping(\"/mydate\")       public String mydate(\t\t@DateTimeFormat(pattern=\"yyyy-MM-dd\")\t\tDate mydate){        System.out.println(mydate);        System.out.println(sf.format(mydate);        return \"show\";    }        }\n\n==ä¸€å®šè¦è®°å¾—æ·»åŠ æ³¨è§£é©±åŠ¨ï¼ï¼ï¼ï¼==\n\n\nB. ç±»ä¸­å…¨å±€æ—¥æœŸå¤„ç†æ³¨å†Œä¸€ä¸ªæ³¨è§£ï¼Œç”¨æ¥è§£ææœ¬ç±»ä¸­æ‰€æœ‰çš„æ—¥æœŸç±»å‹ï¼Œè‡ªåŠ¨è½¬æ¢ã€‚\n\n@Controllerpublic class MyDateAction{ SimpleDateFormat sf = new SimpleDateFormat(\"yyyy-MM-dd\");    //æ³¨å†Œä¸€ä¸ªå…¨å±€çš„æ—¥æœŸå¤„ç†æ³¨è§£ï¼Œå…¨å±€æ—¥æœŸå¤„ç†å¯ä»¥ä¸ç”¨æ³¨å†Œé©±åŠ¨    @InitBinder    public void initBinder(WebDataBinder dataBinder){        dataBinder.registerCustomEditor(Date.class,new CustomDateEditor(sf.true));    }     @RequestMapping(\"/mydate\")    public String mydate(\t\t@DateTimeFormat(pattern=\"yyyy-MM-dd\")\t\tDate mydate){     System.out.println(mydate);     System.out.println(sf.format(mydate);     return \"show\"; }}\n13.&lt;mvc:annotation-driven /&gt;æ ‡ç­¾çš„ä½¿ç”¨â€‹\t\t&lt;mvc:annotation-driven /&gt;ä¼šè‡ªåŠ¨æ³¨å†Œä¸¤ä¸ªbeanï¼Œåˆ†åˆ«ä¸º\nDefaultAnnotationHandlerMappingå’ŒAnnotationMethodHandlerAdapterã€‚æ˜¯springmvcä¸º@controlleråˆ†å‘è¯·æ±‚æ‰€å¿…é¡»çš„ã€‚é™¤äº†æ³¨å†Œäº†è¿™ä¸¤ä¸ªbeanï¼Œè¿˜æä¾›äº†å¾ˆå¤šæ”¯æŒã€‚\n\næ”¯æŒä½¿ç”¨ConversionServiceå®ä¾‹å¯¹è¡¨å•å‚æ•°è¿›è¡Œç±»å‹è½¬æ¢ï¼›\næ”¯æŒä½¿ç”¨@NumberFormatã€@DateTimeFormatï¼›\næ³¨è§£å®Œæˆæ•°æ®ç±»å‹çš„æ ¼å¼åŒ–ï¼›\næ”¯æŒä½¿ç”¨@RequestBodyå’Œ@ResponseBodyæ³¨è§£ï¼›\né™æ€èµ„æºçš„åˆ†æµä¹Ÿä½¿ç”¨è¿™ä¸ªæ ‡ç­¾ï¼›\n\n13.1.èµ„æºåœ¨WEB-INFç›®å½•ä¸‹â€‹\tæ­¤ç›®å½•ä¸‹çš„åŠ¨æ€èµ„æºï¼Œä¸å¯ç›´æ¥è®¿é—®ï¼Œåªèƒ½é€šè¿‡è¯·æ±‚è½¬å‘çš„æ–¹å¼è¿›è¡Œ\n14.SpringMVCçš„æ‹¦æˆªå™¨â€‹\té’ˆå¯¹è¯·æ±‚å’Œå“åº”è¿›è¡Œé¢å¤–çš„å¤„ç†ï¼Œåœ¨è¯·æ±‚å’Œå“åº”çš„è¿‡ç¨‹ä¸­æ·»åŠ é¢„å¤„ç†ï¼Œåå¤„ç†å’Œæœ€ç»ˆå¤„ç†ã€‚\næ‹¦æˆªå™¨æ‰§è¡ŒåŸç†ï¼š\n\n\n\n15.æ‹¦æˆªå™¨æ‰§è¡Œçš„æ—¶æœº\n\npreHandle()ï¼šåœ¨è¯·æ±‚è¢«å¤„ç†ä¹‹å‰è¿›è¡Œæ“ä½œï¼Œé¢„å¤„ç†ã€‚\npostHandle()ï¼šåœ¨è¯·æ±‚è¢«å¤„ç†ä¹‹åï¼Œä½†ç»“æœè¿˜æ²¡æœ‰æ¸²æŸ“å‰è¿›è¡Œæ“ä½œï¼Œå¯ä»¥æ”¹å˜å“åº”ç»“æœï¼Œåå¤„ç†ã€‚\nafterCompletionï¼šæ‰€æœ‰çš„è¯·æ±‚å“åº”ç»“æŸåæ‰§è¡Œå–„åå·¥ä½œï¼Œæ¸…ç†å¯¹è±¡ï¼Œå…³é—­èµ„æºã€‚\n\n16.æ‹¦æˆªå™¨å®ç°çš„ä¸¤ç§æ–¹å¼\n\nç»§æ‰¿HandlerInterceptorAdapterçš„çˆ¶ç±»\nå®ç°HandlerInterceptoræ¥å£ï¼Œå®ç°çš„æ¥å£ï¼Œæ¨èä½¿ç”¨å®ç°æ¥å£çš„æ–¹å¼ã€‚\n\n17.æ‹¦æˆªå™¨å®ç°çš„æ­¥éª¤\n\næ”¹é€ ç™»å½•æ–¹æ³•ï¼Œåœ¨sessionä¸­å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ï¼Œç”¨äºè¿›è¡Œæƒé™éªŒè¯ã€‚\n\nå¼€å‘æ‹¦æˆªå™¨çš„åŠŸèƒ½ï¼Œå®ç°HandlerInterceptoræ¥å£ï¼Œé‡å†™preHandle()æ–¹æ³•\n\npublic class Loginlnterceptor implements HandlerInterceptor {    @Override    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {        if( request.getSession().getAttribute(\"users\") == null ) {//            æ­¤æ—¶å°±æ˜¯æ²¡æœ‰ç™»å½•ï¼Œæ‰“å›åˆ°ç™»å½•é¡µé¢            request.setAttribute(\"msg\",\"æ‚¨è¿˜æ²¡æœ‰ç™»å½•ï¼Œè¯·å…ˆå»ç™»å½•ï¼\");            request.getRequestDispatcher(\"/WEB-INF/jsp/login.jsp\").forward(request,response);            return false;        }        return true;//æ”¾è¡Œ    }    @Override    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {        HandlerInterceptor.super.postHandle(request, response, handler, modelAndView);    }    @Override    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {        HandlerInterceptor.super.afterCompletion(request, response, handler, ex);    }}\n\n\n\nåœ¨springmvc.xmlæ–‡ä»¶ä¸­æ³¨å†Œæ‹¦æˆªå™¨\n\n\n\n&lt;!--    æ³¨å†Œæ‹¦æˆªå™¨--&gt;    &lt;mvc:interceptors&gt;        &lt;mvc:interceptor&gt;&lt;!--            æ˜ å°„è¦æ‹¦æˆªçš„è¯·æ±‚--&gt;            &lt;mvc:mapping path=\"/**\"/&gt;&lt;!--            è®¾ç½®æ”¾è¡Œçš„è¯·æ±‚--&gt;            &lt;mvc:exclude-mapping path=\"/showLogin\"/&gt;            &lt;mvc:exclude-mapping path=\"/login\"/&gt;&lt;!--            é…ç½®å…·ä½“çš„æ‹¦æˆªå™¨å®ç°åŠŸèƒ½çš„ç±»--&gt;            &lt;bean class=\"com.springmvc.study.interceptor.Loginlnterceptor\"&gt;&lt;/bean&gt;        &lt;/mvc:interceptor&gt;    &lt;/mvc:interceptors&gt;\n\n\n18.SSMæ•´åˆçš„æ­¥éª¤\n\nå»ºåº“ï¼Œå»ºè¡¨\næ–°å»ºMavené¡¹ç›®ï¼Œé€‰æ‹©webappæ¨¡æ¿\nä¿®æ”¹ç›®å½•\nä¿®æ”¹pom.xmlæ–‡ä»¶ï¼ˆä½¿ç”¨è€å¸ˆæä¾›ï¼‰\næ·»åŠ jdbc.propertieså±æ€§æ–‡ä»¶\næ·»åŠ SqlMapConfig.xmlæ–‡ä»¶ï¼ˆä½¿ç”¨æ¨¡æ¿ï¼‰\næ·»åŠ applicationContext_mapper.xmlæ–‡ä»¶ï¼ˆæ•°æ®è®¿é—®å±‚çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼‰\næ·»åŠ applicationContext_service.xmlæ–‡ä»¶ï¼ˆä¸šåŠ¡é€»è¾‘å±‚çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼‰\næ·»åŠ springmvc.xmlæ–‡ä»¶\nåˆ é™¤web.xmlæ–‡ä»¶ï¼Œæ–°å»ºï¼Œæ”¹åï¼Œè®¾ç½®ä¸­æ–‡ç¼–ç ï¼Œå¹¶æ³¨å†Œspringmvcæ¡†æ¶ï¼Œå¹¶æ³¨å†ŒSpringæ¡†æ¶\næ–°å»ºå®ä½“ç±»user\næ–°å»ºUserMapper.javaæ¥å£\næ–°å»ºUserMapper.xmlå®ç°å¢åˆ æ”¹æ›´æŸ¥æ‰€æœ‰åŠŸèƒ½\næ–°å»ºserviceæ¥å£å’Œå®ç°ç±»\næ–°å»ºæµ‹è¯•ç±»ï¼Œå®Œæˆæ‰€æœ‰åŠŸèƒ½çš„æµ‹è¯•\næ–°å»ºæ§åˆ¶å™¨ï¼Œå®Œæˆæ‰€æœ‰åŠŸèƒ½\næµè§ˆå™¨æµ‹è¯•åŠŸèƒ½\n\n@CrossOrigin  //åœ¨æœåŠ¡å™¨ç«¯æ”¯æŒè·¨åŸŸè®¿é—®\nä»€ä¹ˆæ˜¯è·¨åŸŸï¼š\n\nè·¨åŸŸæœ‰å¤šç§ï¼Œä¸€ç§æ˜¯è·¨ç«¯å£è®¿é—®ï¼Œä¸€ç§æ˜¯è·¨IPåœ°å€è®¿é—®ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯è·¨æœåŠ¡å™¨è®¿é—®ã€‚\n\n@RestController  //å¦‚æœæœ¬ç±»ä¸­å…¨éƒ¨éƒ½æ˜¯ajaxè¯·æ±‚ï¼Œåˆ™ä½¿ç”¨æ­¤æ³¨è§£ï¼Œæ–¹æ³•ä¸Šçš„@ResponseBodyå¯ä¸å†™\nElement UI\nnode.jsï¼šv12.16.2\nVue\n6.äº”ç§æ•°æ®æäº¤æ–¹å¼çš„ä¼˜åŒ–\næ•£æäº¤æ•°æ®\n\n","categories":["Java","Spring"],"tags":["Java","SpringMVC"]},{"title":"Javaä¹‹Springæ¡†æ¶å­¦ä¹ ç¬”è®°","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/java-zhi-spring-kuang-jia-xue-xi-bi-ji/","content":"Javaä¹‹Springæ¡†æ¶å­¦ä¹ ç¬”è®°ä¸€ã€ä»‹ç»ï¼š1.1.Springæ˜¯ä»€ä¹ˆ\nSpringæ˜¯åˆ†å±‚çš„JavaSE/EEåº”ç”¨full-stackè½»é‡çº§å¼€æºæ¡†æ¶ï¼Œä»¥IOCï¼ˆInverse Of Controlï¼šåè½¬æ§åˆ¶ï¼‰å’ŒAOPï¼ˆAspect Oriented Programmingï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ä¸ºå†…æ ¸ã€‚\næä¾›äº†å±•ç°å±‚SpringMVCå’ŒæŒä¹…å±‚SpringJDBCTemplateä»¥åŠä¸šåŠ¡å±‚äº‹åŠ¡ç®¡ç†ç­‰ä¼—å¤šçš„ä¼ä¸šçº§åº”ç”¨æŠ€æœ¯ï¼Œè¿˜èƒ½æ•´åˆå¼€æºä¸–ç•Œä¼—å¤šè‘—åçš„ç¬¬ä¸‰æ–¹æ¡†æ¶å’Œç±»åº“ï¼Œé€æ¸æˆä¸ºä½¿ç”¨æœ€å¤šçš„JavaEEä¼ä¸šåº”ç”¨å¼€æºæ¡†æ¶ã€‚\n\n1.2.Springçš„ä¼˜åŠ¿1)æ–¹ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘\né€šè¿‡Springæä¾›çš„IOCå®¹å™¨ï¼Œå¼€æºå°†å¯¹è±¡é—´çš„ä¾èµ–å…³ç³»äº¤ç”±Springè¿›è¡Œæ§åˆ¶ï¼Œé¿å…ç¡¬ç¼–ç æ‰€é€ æˆçš„å¤šåº¦è€¦åˆã€‚\nç”¨æˆ·ä¹Ÿä¸å¿…å†ä¸ºå•ä¾‹æ¨¡å¼ç±»ã€å±æ€§æ–‡ä»¶è§£æç­‰è¿™äº›å¾ˆåº•å±‚çš„éœ€æ±‚ç¼–å†™ä»£ç ï¼Œå¼€æºæ›´ä¸“æ³¨äºä¸Šå±‚çš„åº”ç”¨ã€‚\n\n2)AOPç¼–ç¨‹çš„æ”¯æŒ\né€šè¿‡Springçš„AOPåŠŸèƒ½ï¼Œæ–¹ä¾¿è¿›è¡Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œè®¸å¤šä¸å®¹æ˜“ç”¨ä¼ ç»ŸOOPå®ç°çš„åŠŸèƒ½å¼€æºé€šè¿‡AOPè½»æ¾å®ç°ã€‚\n\n3)å£°æ˜å¼äº‹åŠ¡çš„æ”¯æŒ\nå¯ä»¥å°†æˆ‘ä»¬ä»å•è°ƒçƒ¦é—·çš„äº‹åŠ¡ç®¡ç†ä»£ç ä¸­è§£è„±å‡ºæ¥ï¼Œé€šè¿‡å£°æ˜å¼çµæ´»çš„è¿›è¡Œäº‹åŠ¡ç®¡ç†ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œè´¨é‡ã€‚\n\n4)æ–¹ä¾¿ç¨‹åºçš„æµ‹è¯•\nå¯ä»¥ç”¨éå®¹å™¨ä¾èµ–çš„ç¼–ç¨‹æ–¹å¼è¿›è¡Œå‡ ä¹æ‰€æœ‰çš„æµ‹è¯•å·¥ä½œï¼Œæµ‹è¯•ä¸å†æ˜¯æ˜‚è´µçš„æ“ä½œï¼Œè€Œæ˜¯éšæ‰‹å¯åšçš„äº‹æƒ…ã€‚\n\n5)æ–¹ä¾¿é›†æˆå„ç§ä¼˜ç§€æ¡†æ¶\nSpringå¯¹å„ç§ä¼˜ç§€æ¡†æ¶ï¼ˆStrutsã€Hibemateã€Hessianã€Quartzç­‰ï¼‰çš„æ”¯æŒã€‚\n\n6)é™ä½JavaEE APIçš„ä½¿ç”¨éš¾åº¦\nSpringå¯¹JavaEE APIï¼ˆJDBCã€JavaMailã€è¿œç¨‹è°ƒç”¨ç­‰ï¼‰è¿›è¡Œäº†è–„è–„çš„å°è£…å±‚ï¼Œä½¿è¿™äº›APIçš„ä½¿ç”¨éš¾åº¦å¤§ä¸ºé™ä½ã€‚\n\n7)Javaæºç æ˜¯ç»å…¸å­¦ä¹ èŒƒä¾‹\nSpringçš„æºä»£ç è®¾è®¡ç²¾å¦™ã€ç»“æ„æ¸…æ™°ã€åŒ å¿ƒç‹¬ç”¨ï¼Œå¤„å¤„ä½“ç°ç€å¤§å¸ˆå¯¹Javaè®¾è®¡æ¨¡å¼çµæ´»è¿ç”¨ä»¥åŠå¯¹JavaæŠ€æœ¯çš„é«˜æ·±é€ è¯£ã€‚å®ƒçš„æºä»£ç æ— æ„æ˜¯JavaæŠ€æœ¯çš„æœ€ä½³å®è·µçš„èŒƒä¾‹ã€‚\n\n1.3.Springçš„ä½“ç³»ç»“æ„\n\n\näºŒã€Springå¿«é€Ÿå…¥é—¨2.1.Springç¨‹åºå¼€å‘æ­¥éª¤1.å¯¼å…¥Springå¼€å‘çš„åŸºæœ¬åŒ…åæ ‡ï¼š\n\n\n2.ç¼–å†™Daoæ¥å£å’Œå®ç°ç±»\n\n\n\n3.åˆ›å»ºSpringæ ¸å¿ƒé…ç½®æ–‡ä»¶\n\n\n4.åˆ›å»ºSpringé…ç½®æ–‡ä»¶ä¸­é…ç½®UserDaoImpI\n\n\n5.ä½¿ç”¨Springçš„APIè·å¾—Beanå®ä¾‹\n\n\n2.2.çŸ¥è¯†è¦ç‚¹ï¼šSpringçš„å¼€å‘æ­¥éª¤\n1.å¯¼å…¥åæ ‡\n2.åˆ›å»ºBean\n3.åˆ›å»ºapplicationContext.xml\n4.åœ¨é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®\n5.åˆ›å»ºApplicationContextå¯¹è±¡getBean\n\nä¸‰ã€Springé…ç½®æ–‡ä»¶3.1.Beanæ ‡ç­¾åŸºæœ¬é…ç½®\nç”¨äºé…ç½®å¯¹è±¡äº¤ç”±Springæ¥åˆ›å»ºã€‚\né»˜è®¤æƒ…å†µä¸‹å®ƒè°ƒç”¨çš„æ˜¯ç±»ä¸­çš„æ— å‚æ„é€ å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰æ— å‚æ„é€ å‡½æ•°åˆ™ä¸èƒ½åˆ›å»ºæˆåŠŸã€‚\nåŸºæœ¬å±æ€§ï¼š\n\nidï¼šBeanå®ä¾‹åœ¨Springå®¹å™¨ä¸­çš„å”¯ä¸€æ ‡è¯†\nclassï¼šBeançš„å…¨é™å®šåç§°\n\n\n3.2.Beanæ ‡ç­¾èŒƒå›´é…ç½®1)scopeï¼šæŒ‡å¯¹è±¡çš„ä½œç”¨èŒƒå›´ï¼Œå–å€¼å¦‚ä¸‹ï¼š\n\n\n2)å½“scopeçš„å–å€¼ä¸ºsingletonæ—¶ï¼š\nBeançš„å®ä¾‹åŒ–ä¸ªæ•°ï¼š1ä¸ª\nBeançš„å®ä¾‹åŒ–æ—¶æœºï¼šå½“Springæ ¸å¿ƒæ–‡ä»¶è¢«åŠ è½½æ—¶ï¼Œå®ä¾‹åŒ–é…ç½®çš„Beanå®ä¾‹\nBeançš„ç”Ÿå‘½å‘¨æœŸï¼š\n\nå¯¹è±¡åˆ›å»ºï¼šå½“åº”ç”¨åŠ è½½ï¼Œåˆ›å»ºå®¹å™¨æ—¶ï¼Œå¯¹è±¡å°±è¢«åˆ›å»ºäº†\nå¯¹è±¡è¿è¡Œï¼šåªè¦å®¹å™¨åœ¨ï¼Œå¯¹è±¡ä¸€ç›´æ´»ç€\nå¯¹è±¡é”€æ¯ï¼šå½“åº”ç”¨å¸è½½ï¼Œé”€æ¯å®¹å™¨æ—¶ï¼Œå¯¹è±¡å°±è¢«é”€æ¯äº†\n\n\n3)å½“scopeçš„å–å€¼ä¸ºprototypeæ—¶ï¼š\nBeançš„å®ä¾‹åŒ–ä¸ªæ•°ï¼šå¤šä¸ª\nBeançš„å®ä¾‹åŒ–æ—¶æœºï¼šå½“è°ƒç”¨getBean()æ–¹æ³•æ—¶å®ä¾‹åŒ–Bean\n\nå¯¹è±¡åˆ›å»ºï¼šå½“ä½¿ç”¨å¯¹è±¡ï¼Œåˆ›å»ºæ–°çš„å¯¹è±¡å®ä¾‹\nå¯¹è±¡è¿è¡Œï¼šåªè¦å¯¹è±¡åœ¨ä½¿ç”¨ä¸­ï¼Œå°±ä¸€ç›´æ´»ç€\nå¯¹è±¡é”€æ¯ï¼šå½“å¯¹è±¡é•¿æ—¶é—´ä¸ç”¨æ—¶ï¼Œè¢«Javaçš„åƒåœ¾å›æ”¶å™¨å›æ”¶äº†\n\n\nå³ï¼š\nsingletonï¼šåœ¨ApplicationContextçš„æ—¶å€™å°±ä¼šåˆ›å»ºå¯¹è±¡ï¼Œå¹¶ä¸”åªä¼šæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå½“ä½¿ç”¨getBeançš„æ—¶å€™å¼•ç”¨çš„ä¹Ÿæ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚\nprototypeï¼šåœ¨ApplicationContextçš„æ—¶å€™å¹¶ä¸ä¼šåˆ›å»ºå¯¹è±¡ï¼Œåªä¼šåœ¨getBeançš„æ—¶å€™è¿›è¡Œåˆ›å»ºï¼Œå¹¶ä¸”æ¯ä¸ªgetBeanéƒ½ä¼šæ–°ç”Ÿæˆä¸€ä¸ªå¯¹è±¡ã€‚\n3.3.Beanç”Ÿå‘½å‘¨æœŸé…ç½®\n\ninit-methodï¼šæŒ‡å®šç±»ä¸­çš„åˆå§‹åŒ–æ–¹æ³•åç§°\ndestroy-methodï¼šæŒ‡å®šç±»ä¸­é”€æ¯æ–¹æ³•åç§°\n\n\n3.4.Beanå®ä¾‹åŒ–ä¸‰ç§æ–¹å¼\n\næ— å‚æ„é€ æ–¹æ³•å®ä¾‹åŒ–\nå·¥å‚é™æ€æ–¹æ³•å®ä¾‹åŒ–\nå·¥å‚å®ä¾‹æ–¹æ³•å®ä¾‹åŒ–\n\n\n3.5.Beançš„ä¾èµ–æ³¨å…¥åˆ†æ3.6.Beançš„ä¾èµ–æ³¨å…¥æ¦‚å¿µ\nä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼‰ï¼šå®ƒæ˜¯Springæ¡†æ¶æ ¸å¿ƒIOCçš„å…·ä½“å®ç°ã€‚\nåœ¨ç¼–å†™ç¨‹åºæ—¶ï¼Œé€šè¿‡æ§åˆ¶åè½¬ï¼ŒæŠŠå¯¹è±¡çš„åˆ›å»ºäº¤ç»™äº†Springï¼Œä½†æ˜¯ä»£ç ä¸­ä¸å¯èƒ½å‡ºç°æ²¡æœ‰ä¾èµ–çš„æƒ…å†µã€‚\nIOCè§£è€¦åªæ˜¯é™ä½ä»–ä»¬çš„ä¾èµ–å…³ç³»ï¼Œä½†ä¸ä¼šæ¶ˆé™¤ã€‚ä¾‹å¦‚ï¼šä¸šåŠ¡å±‚ä»ä¼šè°ƒç”¨æŒä¹…å±‚çš„æ–¹æ³•ã€‚\né‚£è¿™ç§ä¸šåŠ¡å±‚å’ŒæŒä¹…å±‚çš„ä¾èµ–å…³ç³»ï¼Œåœ¨ä½¿ç”¨Springä¹‹åï¼Œå°±è®©Springæ¥ç»´æŠ¤äº†ã€‚\nç®€å•çš„è¯´ï¼Œå°±æ˜¯åç­‰æ¡†æ¶æŠŠæŒä¹…å±‚å¯¹è±¡ä¼ å…¥ä¸šåŠ¡å±‚ï¼Œè€Œä¸ç”¨æˆ‘ä»¬è‡ªå·±å»è·å–ã€‚\n\n3.7.Beançš„ä¾èµ–æ³¨å…¥æ–¹å¼æ€ä¹ˆå°†UserDaoæ€æ ·æ³¨å…¥åˆ°UserServiceå†…éƒ¨å‘¢ï¼Ÿ\næ„é€ æ–¹æ³•\nsetæ–¹æ³•\n\n1)æœ‰å‚æ„é€ æ³¨å…¥\n\n\n2)setæ–¹æ³•æ³¨å…¥På‘½åç©ºé—´æ³¨å…¥æœ¬è´¨ä¹Ÿæ˜¯setæ–¹æ³•æ³¨å…¥ï¼Œä½†æ¯”èµ·ä¸Šè¿°çš„setæ–¹æ³•æ³¨å…¥æ›´åŠ æ–¹ä¾¿ï¼Œä¸»è¦ä½“ç°åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œå¦‚ä¸‹ï¼š\n\né¦–å…ˆéœ€è¦å¼•å…¥På‘½åç©ºé—´ï¼š\nxmlns:p=\"http://www.springframework.org/schema/p\"\n\nå…¶æ¬¡ï¼Œéœ€è¦ä¿®æ”¹æ³¨å…¥æ–¹å¼ï¼š\n&lt;bean id=\"userService\" class=\"com.itheima.service.impl.UserServiceImpl\" p:userDao-ref=\"userDao\"/&gt;\n\n\n\n3.8.Beançš„ä¾èµ–æ³¨å…¥çš„æ•°æ®ç±»å‹ä¸Šé¢çš„æ“ä½œï¼Œéƒ½æ˜¯æ³¨å…¥çš„å¼•ç”¨Beanï¼Œé™¤äº†å¯¹è±¡çš„å¼•ç”¨è€ƒç§‘ä¸€æ³¨å…¥ï¼Œæ™®é€šæ•°æ®ç±»å‹ï¼Œé›†åˆç­‰éƒ½å¯ä»¥åœ¨å®¹å™¨ä¸­è¿›è¡Œæ³¨å…¥ã€‚\næ³¨å…¥æ•°æ®çš„ä¸‰ç§æ•°æ®ç±»å‹\næ™®é€šæ•°æ®ç±»å‹\nå¼•ç”¨æ•°æ®ç±»å‹\né›†åˆæ•°æ®ç±»å‹\n\n\næ™®é€šå±æ€§çš„æ³¨å…¥ï¼š\n\nListç±»å‹æ³¨å…¥ï¼š\nMapç±»å‹æ³¨å…¥ï¼š\n\n3.9.å¼•å…¥å…¶ä»–é…ç½®æ–‡ä»¶ï¼ˆåˆ†æ¨¡å—å¼€å‘ï¼‰å®é™…å¼€å‘ä¸­ï¼ŒSpringçš„é…ç½®å†…å®¹éå¸¸å¤šï¼Œè¿™å°±å¯¼è‡´Springé…ç½®å¾ˆç¹æ‚ä¸”ä½“ç§¯å¾ˆå¤§ï¼Œæ‰€ä»¥ï¼Œå¯ä»¥å°†éƒ¨åˆ†é…ç½®æ‹†è§£åˆ°å…¶ä»–é…ç½®æ–‡ä»¶ä¸­ï¼Œè€Œåœ¨Springä¸»é…ç½®æ–‡ä»¶é€šè¿‡importæ ‡ç­¾è¿›è¡ŒåŠ è½½ã€‚\n&lt;import resource=\"applicationContext-xxx.xml\"/&gt;\n\n4.0.çŸ¥è¯†è¦ç‚¹ï¼šSpringçš„é‡ç‚¹é…ç½®\n&lt;bean&gt;æ ‡ç­¾    idå±æ€§:åœ¨å®¹å™¨ä¸­Beanå®ä¾‹çš„å”¯ä¸€æ ‡è¯†ï¼Œä¸å…è®¸é‡å¤    classå±æ€§:è¦å®ä¾‹åŒ–çš„Beançš„å…¨é™å®šå    scopeå±æ€§:Beançš„ä½œç”¨èŒƒå›´ï¼Œå¸¸ç”¨æ˜¯SingLetonï¼ˆé»˜è®¤ï¼‰å’Œprototype   &lt;property&gt;æ ‡ç­¾:å±æ€§æ³¨å…¥        nameå±æ€§:å±æ€§åç§°        valueå±æ€§:æ³¨å…¥çš„æ™®é€šå±æ€§å€¼        refå±æ€§:æ³¨å…¥çš„å¯¹è±¡å¼•ç”¨å€¼        &lt;list&gt;æ ‡ç­¾        &lt;map&gt;æ ‡ç­¾            &lt;entry&gt;æ ‡ç­¾:è¿™ä¸ªæ˜¯mapä½¿ç”¨çš„        &lt;properties&gt;æ ‡ç­¾            &lt;props&gt;è¿™ä¸ªæ˜¯Propertiesä½¿ç”¨çš„æ ‡ç­¾                &lt;prop&gt;propså†…çš„ä¸€ä¸ªæ ‡ç­¾   &lt;constructor-arg&gt;æ ‡ç­¾&lt;import&gt;æ ‡ç­¾:å¯¼å…¥å…¶ä»–çš„Springçš„åˆ†æ–‡ä»¶\n\n\n","categories":["Java"],"tags":["Java","Spring"]},{"title":"Javaåˆ†å±‚æ€æƒ³","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/java-fen-ceng-si-xiang-bi-ji/","content":"Javaåˆ†å±‚æ€æƒ³\nç»“æ„å›¾ï¼š\n\nä»æœ€å¸¸è§„çš„åˆ†å±‚ç»“æ„æ¥è¯´ï¼Œç³»ç»Ÿå±‚æ¬¡ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡ä¸ºï¼š\n\nè¡¨ç°å±‚/UIå±‚/ç•Œé¢å±‚ï¼šä¸»è¦æ˜¯å®¢æˆ·ç«¯çš„ç°å®ã€‚\næœåŠ¡å±‚/ä¸šåŠ¡å±‚ï¼šç›´æ¥ä¸ºå®¢æˆ·ç«¯æä¾›çš„æœåŠ¡æˆ–åŠŸèƒ½ã€‚ä¹Ÿæ˜¯ç³»ç»Ÿæ‰€èƒ½å¯¹å¤–æä¾›çš„åŠŸèƒ½ã€‚\né¢†åŸŸå±‚ï¼šç³»ç»Ÿå†…çš„é¢†åŸŸæ´»åŠ¨ã€‚\nDAOå±‚ï¼šæ•°æ®è®¿é—®å¯¹è±¡ï¼Œé€šè¿‡é¢†åŸŸå®ä½“å¯¹è±¡æ¥æ“ä½œæ•°æ®åº“ã€‚\n\nå…¶ä¸­æœ‰äº›çŸ¥é“åŸåˆ™ï¼ˆç²¾åï¼‰ï¼š\n1ã€ä¸Šå±‚æ€»æ˜¯ä¾èµ–å…¶ä¸‹å±‚ï¼Œä¾èµ–å…³ç³»ä¸è·¨å±‚ã€‚\n2ã€è¡¨ç°å±‚é™¤å¤–ï¼ŒåŒä¸€å±‚ä¹‹é—´æ–¹æ³•ä¸å…è®¸ç›¸äº’è°ƒç”¨ã€‚è¿™æ˜¯å®é™…å¼€å‘ä¸­ä¸€äº›å¼€å‘è€…å®¹æ˜“èŒƒçš„é”™è¯¯ï¼å¦‚æœçœŸæ˜¯åŒä¸€å±‚ä¹‹é—´å­˜åœ¨æ–¹æ³•è°ƒç”¨ï¼Œéœ€è¦æ³¨æ„ï¼Œè¿™äº›è°ƒç”¨éƒ½æ˜¯ä¸€äº›ä¸Šå±‚ä¸å¯è§æ–¹æ³•ï¼Œæ¯”å¦‚ä¸€äº›å·¥å…·æ–¹æ³•ç­‰ã€‚\n3ã€ä¸€åˆ‡ä»æœåŠ¡å±‚å‡ºå‘ï¼Œä»ç³»ç»Ÿéœ€è¦æä¾›çš„åŠŸèƒ½è¿›è¡Œåˆ†æï¼Œç¡®å®šServiceæ¥å£ä¸­çš„æ–¹æ³•ã€‚è€Œä¸æ˜¯ä»æ•°æ®åº“çš„è¡¨å‡ºå‘ï¼Œåˆ›å»ºDAOï¼Œå†åˆ›Domainï¼Œç„¶åServiceï¼Œè¿™å®é™…ä¸Šæ˜¯å¯¹ç³»ç»Ÿåˆ†å±‚çš„è¯¯è§£ã€‚\n4ã€ç³»ç»Ÿæœ€æ ¸å¿ƒçš„è®¾è®¡å°±æ˜¯å°†ç³»ç»Ÿä¸­çš„å®ä½“åˆ’åˆ†ä¸ºé¢†åŸŸæ¨¡å‹ã€‚åœ¨æ­¤åŸºç¡€ä¸Šè®¾è®¡æ•°æ®çš„DAOå±‚ï¼Œå¹¶å°†è¿™äº›æ´»åŠ¨æš´éœ²ç»™æœåŠ¡å±‚ï¼ŒæœåŠ¡å±‚çš„å®ç°ä¾èµ–äºé¢†åŸŸæ´»åŠ¨ã€‚\n5ã€æ¯ä¸ªæ¥å£çš„èŒè´£èŒƒå›´æ˜ç¡®æœ‰ç•Œã€‚\nserviceæ˜¯ä¸šåŠ¡å±‚ \nactionå±‚å³ä½œä¸ºæ§åˆ¶å™¨\nDAO (Data Access Object) æ•°æ®è®¿é—®\n1.JAVAä¸­Actionå±‚, Serviceå±‚ ï¼Œmodleå±‚ å’Œ Daoå±‚çš„åŠŸèƒ½åŒºåˆ†ï¼Ÿï¼ˆä¸‹é¢æ‰€æè¿°çš„serviceå±‚å°±æ˜¯bizï¼‰ \né¦–å…ˆè¿™æ˜¯ç°åœ¨æœ€åŸºæœ¬çš„åˆ†å±‚æ–¹å¼ï¼Œç»“åˆäº†SSHæ¶æ„ã€‚modleå±‚å°±æ˜¯å¯¹åº”çš„æ•°æ®åº“è¡¨çš„å®ä½“ç±»ã€‚\nDaoå±‚æ˜¯ä½¿ç”¨äº†Hibernateè¿æ¥æ•°æ®åº“ã€æ“ä½œæ•°æ®åº“ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰ã€‚\nServiceï¼ˆbizï¼‰å±‚ï¼šå¼•ç”¨å¯¹åº”çš„Daoæ•°æ®åº“æ“ä½œï¼Œåœ¨è¿™é‡Œå¯ä»¥ç¼–å†™è‡ªå·±éœ€è¦çš„ä»£ç ï¼ˆæ¯”å¦‚ç®€å•çš„åˆ¤æ–­ï¼‰ã€‚\nActionå±‚ï¼šå¼•ç”¨å¯¹åº”çš„Serviceï¼ˆbizï¼‰å±‚ï¼Œåœ¨è¿™é‡Œç»“åˆStrutsçš„é…ç½®æ–‡ä»¶ï¼Œè·³è½¬åˆ°æŒ‡å®šçš„é¡µé¢ï¼Œå½“ç„¶ä¹Ÿèƒ½æ¥å—é¡µé¢ä¼ é€’çš„è¯·æ±‚æ•°æ®ï¼Œä¹Ÿå¯ä»¥åšäº›è®¡ç®—å¤„ç†ã€‚\nä»¥ä¸Šçš„Hibernateï¼ŒStrutsï¼Œéƒ½éœ€è¦æ³¨å…¥åˆ°Springçš„é…ç½®æ–‡ä»¶ä¸­ï¼ŒSpringæŠŠè¿™äº›è”ç³»èµ·æ¥ï¼Œæˆä¸ºä¸€ä¸ªæ•´ä½“ã€‚\nå…¶ä»–ç­”æ¡ˆï¼š \nã€€ã€€ä¸€èˆ¬javaéƒ½æ˜¯ä¸‰å±‚æ¶æ„ æ•°æ®è®¿é—®å±‚ï¼ˆdaoï¼‰ ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆbiz æˆ–è€…servicesï¼‰ ç•Œé¢å±‚ï¼ˆuiï¼‰ \naction æ˜¯ä¸šåŠ¡å±‚çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯ä¸€ä¸ªç®¡ç†å™¨ ï¼ˆæ€»å¼€å…³ï¼‰ï¼ˆä½œç”¨æ˜¯å–æ‰è½¬ï¼‰ï¼ˆå–å‡ºå‰å°ç•Œé¢çš„æ•°æ®ï¼Œè°ƒç”¨bizæ–¹æ³•ï¼Œè½¬å‘åˆ°ä¸‹ä¸€ä¸ªactionæˆ–è€…é¡µé¢ï¼‰  \næ¨¡å‹æˆï¼ˆmodelï¼‰ä¸€èˆ¬æ˜¯å®ä½“å¯¹è±¡(æŠŠç°å®çš„çš„äº‹ç‰©å˜æˆjavaä¸­çš„å¯¹è±¡)ä½œç”¨æ˜¯ä¸€æš‚æ—¶å­˜å‚¨æ•°æ®æ–¹ä¾¿æŒä¹…åŒ–ï¼ˆå­˜å…¥æ•°æ®åº“æˆ–è€…å†™å…¥æ–‡ä»¶ï¼‰è€Œæ˜¯ ä½œä¸ºä¸€ä¸ªåŒ…è£¹å°è£…ä¸€äº›æ•°æ®æ¥åœ¨ä¸åŒçš„å±‚ä»¥åŠå„ç§javaå¯¹è±¡ä¸­ä½¿ç”¨  \ndaoæ˜¯æ•°æ®è®¿é—®å±‚ å°±æ˜¯ç”¨æ¥è®¿é—®æ•°æ®åº“å®ç°æ•°æ®çš„æŒä¹…åŒ–ï¼ˆæŠŠå†…å­˜ä¸­çš„æ•°æ®æ°¸ä¹…ä¿å­˜åˆ°ç¡¬ç›˜ä¸­ å…¶ä»–ç­”æ¡ˆï¼š Actionæ˜¯ä¸€ä¸ªæ§åˆ¶å™¨ Daoä¸»è¦åšæ•°æ®åº“çš„äº¤äº’å·¥ä½œ Modle æ˜¯æ¨¡å‹ å­˜æ”¾ä½ çš„å®ä½“ç±» Biz åšç›¸åº”çš„ä¸šåŠ¡é€»è¾‘å¤„ç†  \n**2.javaä¸­daoå±‚å’Œbizå±‚çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ**\né¦–å…ˆè§£é‡Šé¢ä¸Šæ„æ€ï¼Œserviceæ˜¯ä¸šåŠ¡å±‚ï¼Œdaoæ˜¯æ•°æ®è®¿é—®å±‚ã€‚ \nã€€ã€€å‘µå‘µï¼Œè¿™ä¸ªé—®é¢˜æˆ‘æ›¾ç»ä¹Ÿæœ‰è¿‡ï¼Œè®°å¾—ä»¥å‰åˆšå­¦ç¼–ç¨‹çš„æ—¶å€™ï¼Œéƒ½æ˜¯åœ¨serviceé‡Œç›´æ¥è°ƒç”¨daoï¼Œserviceé‡Œé¢å°±newä¸€ä¸ªdaoç±»å¯¹è±¡ï¼Œè°ƒç”¨ï¼Œå…¶ä»–æœ‰æ„ä¹‰çš„äº‹æ²¡åšï¼Œä¹Ÿä¸æ˜ç™½æœ‰è¿™ä¸ªæœ‰ä»€ä¹ˆç”¨ï¼Œå‚åŠ å·¥ä½œä¹…äº†ä»¥åå°±ä¼šçŸ¥é“ï¼Œä¸šåŠ¡æ‰æ˜¯å·¥ä½œä¸­çš„é‡ä¸­ä¹‹é‡ã€‚ \nã€€ã€€æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ ‡å‡†ä¸»æµç°åœ¨çš„ç¼–ç¨‹æ–¹å¼éƒ½æ˜¯é‡‡ç”¨MVCç»¼åˆè®¾è®¡æ¨¡å¼ï¼ŒMVCæœ¬èº«ä¸å±äºè®¾è®¡æ¨¡å¼çš„ä¸€ç§ï¼Œå®ƒæè¿°çš„æ˜¯ä¸€ç§ç»“æ„ï¼Œæœ€ç»ˆç›®çš„è¾¾åˆ°è§£è€¦ï¼Œè§£è€¦è¯´çš„æ„æ€æ˜¯ä½ æ›´æ”¹æŸä¸€å±‚ä»£ç ï¼Œä¸ä¼šå½±å“æˆ‘å…¶ä»–å±‚ä»£ç ï¼Œå¦‚æœä½ ä¼šåƒspringè¿™æ ·çš„æ¡†æ¶ï¼Œä½ ä¼šäº†è§£é¢å‘æ¥å£ç¼–ç¨‹ï¼Œè¡¨ç¤ºå±‚è°ƒç”¨æ§åˆ¶å±‚ï¼Œæ§åˆ¶å±‚è°ƒç”¨ä¸šåŠ¡å±‚ï¼Œä¸šåŠ¡å±‚è°ƒç”¨æ•°æ®è®¿é—®å±‚ã€‚åˆæœŸä¹Ÿè®¸éƒ½æ˜¯newå¯¹è±¡å»è°ƒç”¨ä¸‹ä¸€å±‚ï¼Œæ¯”å¦‚ä½ åœ¨ä¸šåŠ¡å±‚newä¸€ä¸ªDAOç±»çš„å¯¹è±¡ï¼Œè°ƒç”¨DAOç±»æ–¹æ³•è®¿é—®æ•°æ®åº“ï¼Œè¿™æ ·å†™æ˜¯ä¸å¯¹çš„ï¼Œå› ä¸ºåœ¨ä¸šåŠ¡å±‚ä¸­æ˜¯ä¸åº”è¯¥å«æœ‰å…·ä½“å¯¹è±¡ï¼Œæœ€å¤šåªèƒ½æœ‰å¼•ç”¨ï¼Œå¦‚æœæœ‰å…·ä½“å¯¹è±¡å­˜åœ¨ï¼Œå°±è€¦åˆäº†ã€‚å½“é‚£ä¸ªå¯¹è±¡ä¸å­˜åœ¨ï¼Œæˆ‘è¿˜è¦ä¿®æ”¹ä¸šåŠ¡çš„ä»£ç ï¼Œè¿™ä¸ç¬¦åˆé€»è¾‘ã€‚å¥½æ¯”ä¸»æ¿ä¸Šå†…å­˜åäº†ï¼Œæˆ‘æ¢å†…å­˜ï¼Œæ²¡å¿…è¦è¿ä¸»æ¿ä¸€èµ·æ¢ã€‚æˆ‘ä¸ç”¨çŸ¥é“å†…å­˜æ˜¯å“ªå®¶ç”Ÿäº§ï¼Œä¸ç”¨çŸ¥é“å¤šå¤§å®¹é‡ï¼Œåªè¦æ˜¯å†…å­˜éƒ½å¯ä»¥æ’ä¸Šè¿™ä¸ªæ¥å£ä½¿ç”¨ã€‚è¿™å°±æ˜¯MVCçš„æ„ä¹‰ã€‚ æ¥ä¸‹æ¥è¯´ä½ æ„Ÿè§‰serviceçš„æ„ä¹‰ï¼Œå…¶å®å› ä¸ºä½ ç°åœ¨åšä¸œè¥¿åˆ†å±‚æ¬¡ä¸æ˜¯é‚£ä¹ˆä¸¥æ ¼ï¼Œåœ¨ä¸€ä¸ªä½ ä»¬åšä¸œè¥¿ä¸šåŠ¡æœ¬èº«ä¹Ÿå°‘ï¼Œä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼Œä½ åšä¸€ä¸ªåˆ†é¡µçš„åŠŸèƒ½ï¼Œæ•°æ®1000æ¡ï¼Œä½ 20æ¡åœ¨ä¸€ä¸ªé¡µï¼Œä½ å¯ä»¥æŠŠè¿™ä¸ªåŠŸèƒ½å†™æˆå·¥å…·ç±»å°è£…èµ·æ¥ï¼Œç„¶ååœ¨ä¸šåŠ¡å±‚é‡Œè°ƒç”¨è¿™ä¸ªå°è£…çš„æ–¹æ³•ï¼Œè¿™æ‰æ˜¯ä¸šåŠ¡é‡ŒçœŸæ­£å¹²å¾—äº‹ï¼Œåªè¦æ²¡è®¿é—®æ•°æ®åº“çš„ï¼Œéƒ½è¦åœ¨ä¸šåŠ¡é‡Œå†™ã€‚ \nã€€ã€€å†æœ‰ä¸æ˜ç™½çš„è¿½é—®ï¼Œè¿™æ˜¯ç»éªŒé—®é¢˜ï¼Œå‘µå‘µï¼Œå…¶å®ä»¥åä½ å°±ä¼šæ‡‚ã€‚åªæ˜¯åˆšå¼€å§‹å†™çš„ä»£ç éƒ½æ˜¯æœ‰ä¸ªè¯·æ±‚ï¼Œæˆ‘å°±å»æ•°æ®åº“å–ï¼Œä¸šåŠ¡å‡ ä¹æ²¡æœ‰ã€‚ \nå…¶ä»–ä¼˜ç§€ç­”æ¡ˆï¼š æ¯”è¯´ä½ ç°åœ¨ç”¨çš„æ˜¯SSHæ¡†æ¶ï¼Œåšä¸€ä¸ªç”¨æˆ·æ¨¡å—ï¼š \n (1)ã€å‡è®¾ç°åœ¨ä½ åšè¿™ä¸ªåŠŸèƒ½ä¼šç”¨åˆ°userè¡¨å’Œæƒé™è¡¨ï¼Œé‚£ä¹ˆä½ å‰å°çš„é¡µé¢è®¿é—®actionï¼Œactionå†å»è°ƒç”¨ç”¨æˆ·æ¨¡å—serviceï¼Œç”¨æˆ·æ¨¡å—serviceåˆ¤æ–­ä½ æ˜¯æ“ä½œuserè¡¨è¿˜æ˜¯æƒé™è¡¨ï¼Œå¦‚æœä½ æ“ä½œçš„æ˜¯userè¡¨åˆ™serviceçš„å®ç°ç±»å°±å»è°ƒç”¨userDAOã€‚å¦‚æœæ˜¯æ“ä½œçš„æ˜¯æƒé™è¡¨åˆ™è°ƒç”¨æƒé™çš„DAO \n (2)ã€ä¹Ÿå°±æ˜¯è¯´DAOä¸€å®šæ˜¯å’Œæ•°æ®åº“çš„æ¯å¼ è¡¨ä¸€ä¸€å¯¹åº”ï¼Œè€Œserviceåˆ™ä¸æ˜¯ã€‚æ˜ç™½çš„æ²¡ï¼Ÿå…¶å®ä½ ä¸€ä¸ªé¡¹ç›®ä¸€ä¸ªserviceå’Œä¸€ä¸ªDAOå…¶å®ä¹Ÿä¸€æ ·å¯ä»¥æ“ä½œæ•°æ®åº“ï¼Œåªä¸è¿‡é‚£è¦æ˜¯è¡¨éå¸¸å¤šï¼Œå‡ºé—®é¢˜äº†ï¼Œé‚£æ‰¾èµ·æ¥å¤šéº»çƒ¦ï¼Œè€Œä¸”å¤ªä¹±äº† \n (3)ã€å¥½å¤„å°±æ˜¯ä½ çš„æ•´ä¸ªé¡¹ç›®éå¸¸ç³»ç»ŸåŒ–ï¼Œå’Œæ•°æ®åº“çš„è¡¨èƒ½ä¸€è‡´ï¼Œè€Œä¸”åŠŸèƒ½æ¨¡å—åŒ–ï¼Œè¿™æ ·ä»¥åç»´æŠ¤æˆ–è€…æ”¹é”™æ¯”è¾ƒå®¹æ˜“ï¼Œæ€§èƒ½ä¹Ÿé«˜ä¸€äº›ç®€å•çš„è¯´DAOå±‚æ˜¯è·Ÿæ•°æ®åº“æ‰“äº¤é“çš„ï¼Œserviceå±‚æ˜¯å¤„ç†ä¸€äº›ä¸šåŠ¡æµç¨‹çš„ï¼Œ è‡³äºä½ è¯´çš„ä¸ºä»€ä¹ˆè¦ç”¨serviceå±‚å°è£…ï¼Œæˆ‘è®¤ä¸ºï¼šä¸€èˆ¬æ¥è¯´ï¼ŒæŸä¸€ä¸ªç¨‹åºçš„æœ‰äº›ä¸šåŠ¡æµç¨‹éœ€è¦è¿æ¥æ•°æ®åº“ï¼Œæœ‰äº›ä¸éœ€è¦ä¸æ•°æ®åº“æ‰“äº¤é“è€Œç›´æ¥æ˜¯ä¸€äº›ä¸šåŠ¡å¤„ç†ï¼Œè¿™æ ·å°±éœ€è¦æˆ‘ä»¬æ•´åˆèµ·æ¥åˆ°serviceä¸­å»ï¼Œè¿™æ ·å¯ä»¥èµ·åˆ°ä¸€ä¸ªæ›´å¥½çš„å¼€å‘ä¸ç»´æŠ¤çš„ä½œç”¨ï¼ŒåŒæ—¶ä¹Ÿæ˜¯MVCè®¾è®¡æ¨¡å¼ä¸­modelå±‚åŠŸèƒ½çš„ä½“ç° \n3.javaä¸­çš„actionæ˜¯ä»€ä¹ˆï¼ŒDAOåˆæ˜¯ä»€ä¹ˆï¼Ÿ \nActionç±» æ˜¯[è·å¾—Formè¡¨å•æ•°æ®ï¼Œå¹¶å¤„ç†é€»è¾‘çš„ç±»] \nã€€ã€€DAO(Data Access Object) æ˜¯ä¸€ä¸ªæ¥å£å®ç°[é€šè¿‡SessionFactoryè·å¾—æ“ä½œæ•°æ®åº“çš„ä¼šè¯ï¼Œå¹¶å®ç°ä¸€äº›åŸºæœ¬çš„åˆ é™¤ æ·»åŠ  ä¿®æ”¹æ•°æ®ï¼Œåœ¨servletä¸­æ›´å®é™…åŒ–ä¸šåŠ¡æ“ä½œ] \n**4. ä»€ä¹ˆæ˜¯Pojoç±»ï¼Ÿ**\nç®€å•çš„Javaå¯¹è±¡ï¼ˆPlain Old Java Objectsï¼‰å®é™…å°±æ˜¯æ™®é€šJavaBeans,ä½¿ç”¨POJOåç§°æ˜¯ä¸ºäº†é¿å…å’ŒEJBæ··æ·†èµ·æ¥, è€Œä¸”ç®€ç§°æ¯”è¾ƒç›´æ¥. å…¶ä¸­æœ‰ä¸€äº›å±æ€§åŠå…¶getter setteræ–¹æ³•çš„ç±»,æœ‰æ—¶å¯ä»¥ä½œä¸ºvalue objectæˆ–dto(Data Transform Object)æ¥ä½¿ç”¨.å½“ç„¶,å¦‚æœä½ æœ‰ä¸€ä¸ªç®€å•çš„è¿ç®—å±æ€§ä¹Ÿæ˜¯å¯ä»¥çš„,ä½†ä¸å…è®¸æœ‰ä¸šåŠ¡æ–¹æ³•,ä¹Ÿä¸èƒ½æºå¸¦æœ‰connectionä¹‹ç±»çš„æ–¹æ³•ã€‚ \n5.pojoç±»å’Œvoç±»åˆ†åˆ«æ˜¯ä»€ä¹ˆ \nvoæœ‰ä¸¤ç§è¯´æ³•,ä¸€ä¸ªæ˜¯viewObject,ä¸€ä¸ªæ˜¯valueObject..\nã€€ã€€å°±æ‹¿å‰è€…æ¥è¯´å§,å®ƒåªè´Ÿè´£å°è£…é¡µé¢ä¼ é€’è¿‡æ¥çš„æ•°æ®,è¿™å’ŒPOæœ‰äº›ä¸åŒ..\nã€€ã€€å°±æ‹¿struts1æ¥è¯´,ActionFormå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„viewObject. è€ŒvalueObjectæ˜¯é¡µé¢ä¸é¡µé¢ä¹‹é—´çš„ä¼ é€’æ—¶ä¿å­˜å€¼çš„å¯¹è±¡â€¦.\nã€€ã€€æ€»çš„æ¥è¯´,POæ˜¯æœ€ç»ˆä¼ ç»™BOä»¥åŠBOä¼ ä¸ªDAOçš„ä¸œè¥¿,ä»–å¾ˆå¤šæƒ…å†µä¸‹ä¸æˆ‘ä»¬çœŸæ­£çš„æ•°æ®åº“è¡¨æƒ³å¯¹åº”.\nã€€ã€€è€ŒviewObjectæ˜¯ä¸€ä¸ªé¡µé¢ä¸Šæäº¤åçš„æ•°æ®,ä¸ä¸€å®šå®Œå…¨å’ŒPOçš„å±æ€§ç›¸åŒâ€¦. \npojoä¸DTOçš„åŒºåˆ«\national Mappingï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰çš„ç¼©å†™ã€‚é€šä¿—ç‚¹è®²ï¼Œå°±æ˜¯å°†å¯¹è±¡ä¸å…³ç³»æ•°æ®åº“ç»‘å®šï¼Œç”¨å¯¹è±¡æ¥è¡¨ç¤ºå…³ç³»æ•°æ®ã€‚\nåœ¨O/R Mappingçš„ä¸–ç•Œé‡Œï¼Œæœ‰ä¸¤ä¸ªåŸºæœ¬çš„ä¹Ÿæ˜¯é‡è¦çš„ä¸œä¸œéœ€è¦äº†è§£ï¼Œå³VOï¼ŒPOã€‚\n VOï¼Œå€¼å¯¹è±¡(Value Object)ï¼ŒPOï¼ŒæŒä¹…å¯¹è±¡(Persisent Object)ï¼Œå®ƒä»¬æ˜¯ç”±ä¸€ç»„å±æ€§å’Œå±æ€§çš„getå’Œsetæ–¹æ³•ç»„æˆã€‚ä»ç»“æ„ä¸Šçœ‹ï¼Œå®ƒä»¬å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒçš„åœ°æ–¹ã€‚ä½†ä»å…¶æ„ä¹‰å’Œæœ¬è´¨ä¸Šæ¥çœ‹æ˜¯å®Œå…¨ä¸åŒçš„ã€‚\n1ï¼VOæ˜¯ç”¨newå…³é”®å­—åˆ›å»ºï¼Œç”±GCå›æ”¶çš„ã€‚ \n POåˆ™æ˜¯å‘æ•°æ®åº“ä¸­æ·»åŠ æ–°æ•°æ®æ—¶åˆ›å»ºï¼Œåˆ é™¤æ•°æ®åº“ä¸­æ•°æ®æ—¶å‰Šé™¤çš„ã€‚å¹¶ä¸”å®ƒåªèƒ½å­˜æ´»åœ¨ä¸€ä¸ªæ•°æ®åº“è¿æ¥ä¸­ï¼Œæ–­å¼€è¿æ¥å³è¢«é”€æ¯ã€‚ \n2ï¼VOæ˜¯å€¼å¯¹è±¡ï¼Œç²¾ç¡®ç‚¹è®²å®ƒæ˜¯ä¸šåŠ¡å¯¹è±¡ï¼Œæ˜¯å­˜æ´»åœ¨ä¸šåŠ¡å±‚çš„ï¼Œæ˜¯ä¸šåŠ¡é€»è¾‘ä½¿ç”¨çš„ï¼Œå®ƒå­˜æ´»çš„ç›®çš„å°±æ˜¯ä¸ºæ•°æ®æä¾›ä¸€ä¸ªç”Ÿå­˜çš„åœ°æ–¹ã€‚ \n POåˆ™æ˜¯æœ‰çŠ¶æ€çš„ï¼Œæ¯ä¸ªå±æ€§ä»£è¡¨å…¶å½“å‰çš„çŠ¶æ€ã€‚å®ƒæ˜¯ç‰©ç†æ•°æ®çš„å¯¹è±¡è¡¨ç¤ºã€‚ä½¿ç”¨å®ƒï¼Œå¯ä»¥ä½¿æˆ‘ä»¬çš„ç¨‹åºä¸ç‰©ç†æ•°æ®è§£è€¦ï¼Œå¹¶ä¸”å¯ä»¥ç®€åŒ–å¯¹è±¡æ•°æ®ä¸ç‰©ç†æ•°æ®ä¹‹é—´çš„è½¬æ¢ã€‚\n3ï¼VOçš„å±æ€§æ˜¯æ ¹æ®å½“å‰ä¸šåŠ¡çš„ä¸åŒè€Œä¸åŒçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒçš„æ¯ä¸€ä¸ªå±æ€§éƒ½ä¸€ä¸€å¯¹åº”å½“å‰ä¸šåŠ¡é€»è¾‘æ‰€éœ€è¦çš„æ•°æ®çš„åç§°ã€‚ POçš„å±æ€§æ˜¯è·Ÿæ•°æ®åº“è¡¨çš„å­—æ®µä¸€ä¸€å¯¹åº”çš„ã€‚\nPOå¯¹è±¡éœ€è¦å®ç°åºåˆ—åŒ–æ¥å£ã€‚\n-â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\nPOæ˜¯æŒä¹…åŒ–å¯¹è±¡ï¼Œå®ƒåªæ˜¯å°†ç‰©ç†æ•°æ®å®ä½“çš„ä¸€ç§å¯¹è±¡è¡¨ç¤ºï¼Œä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿå› ä¸ºå®ƒå¯ä»¥ç®€åŒ–æˆ‘ä»¬å¯¹äºç‰©ç†å®ä½“çš„äº†è§£å’Œè€¦åˆï¼Œç®€å•åœ°è®²ï¼Œå¯ä»¥ç®€åŒ–å¯¹è±¡çš„æ•°æ®è½¬æ¢ä¸ºç‰©ç†æ•°æ®çš„ç¼–ç¨‹ã€‚VOæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæ˜¯å€¼å¯¹è±¡ï¼Œå‡†ç¡®åœ°è®²ï¼Œå®ƒæ˜¯ä¸šåŠ¡å¯¹è±¡ï¼Œæ˜¯ç”Ÿæ´»åœ¨ä¸šåŠ¡å±‚çš„ï¼Œæ˜¯ä¸šåŠ¡é€»è¾‘éœ€è¦äº†è§£ï¼Œéœ€è¦ä½¿ç”¨çš„ï¼Œå†ç®€å•åœ°è®²ï¼Œå®ƒæ˜¯æ¦‚å¿µæ¨¡å‹è½¬æ¢å¾—åˆ°çš„ã€‚ \né¦–å…ˆè¯´POå’ŒVOå§ï¼Œå®ƒä»¬çš„å…³ç³»åº”è¯¥æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œä¸€ä¸ªVOå¯ä»¥åªæ˜¯POçš„éƒ¨åˆ†ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤šä¸ªPOæ„æˆï¼ŒåŒæ ·ä¹Ÿå¯ä»¥ç­‰åŒäºä¸€ä¸ªPOï¼ˆå½“ç„¶æˆ‘æ˜¯æŒ‡ä»–ä»¬çš„å±æ€§ï¼‰ã€‚æ­£å› ä¸ºè¿™æ ·ï¼ŒPOç‹¬ç«‹å‡ºæ¥ï¼Œæ•°æ®æŒä¹…å±‚ä¹Ÿå°±ç‹¬ç«‹å‡ºæ¥äº†ï¼Œå®ƒä¸ä¼šå—åˆ°ä»»ä½•ä¸šåŠ¡çš„å¹²æ¶‰ã€‚åˆæ­£å› ä¸ºè¿™æ ·ï¼Œä¸šåŠ¡é€»è¾‘å±‚ä¹Ÿç‹¬ç«‹å¼€æ¥ï¼Œå®ƒä¸ä¼šå—åˆ°æ•°æ®æŒä¹…å±‚çš„å½±å“ï¼Œä¸šåŠ¡å±‚å…³å¿ƒçš„åªæ˜¯ä¸šåŠ¡é€»è¾‘çš„å¤„ç†ï¼Œè‡³äºæ€ä¹ˆå­˜æ€ä¹ˆè¯»äº¤ç»™åˆ«äººå§ï¼ä¸è¿‡ï¼Œå¦å¤–ä¸€ç‚¹ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨æ•°æ®æŒä¹…å±‚ï¼Œæˆ–è€…è¯´æ²¡æœ‰ä½¿ç”¨hibernateï¼Œé‚£ä¹ˆPOå’ŒVOä¹Ÿå¯ä»¥æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼Œè™½ç„¶è¿™å¹¶ä¸å¥½ã€‚ \n-â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\n**javaçš„(PO,VO,TO,BO,DAO,POJO)è§£é‡Š**\nPO(persistant object) æŒä¹…å¯¹è±¡ \nåœ¨o/ræ˜ å°„çš„æ—¶å€™å‡ºç°çš„æ¦‚å¿µï¼Œå¦‚æœæ²¡æœ‰o/ræ˜ å°„ï¼Œæ²¡æœ‰è¿™ä¸ªæ¦‚å¿µå­˜åœ¨äº†ã€‚é€šå¸¸å¯¹åº”æ•°æ®æ¨¡å‹(æ•°æ®åº“),æœ¬èº«è¿˜æœ‰éƒ¨åˆ†ä¸šåŠ¡é€»è¾‘çš„å¤„ç†ã€‚å¯ä»¥çœ‹æˆæ˜¯ä¸æ•°æ®åº“ä¸­çš„è¡¨ç›¸æ˜ å°„çš„javaå¯¹è±¡ã€‚æœ€ç®€å•çš„POå°±æ˜¯å¯¹åº”æ•°æ®åº“ä¸­æŸä¸ªè¡¨ä¸­çš„ä¸€æ¡è®°å½•ï¼Œå¤šä¸ªè®°å½•å¯ä»¥ç”¨POçš„é›†åˆã€‚POä¸­åº”è¯¥ä¸åŒ…å«ä»»ä½•å¯¹æ•°æ®åº“çš„æ“ä½œã€‚ \n**VO(value object) å€¼å¯¹è±¡**\né€šå¸¸ç”¨äºä¸šåŠ¡å±‚ä¹‹é—´çš„æ•°æ®ä¼ é€’ï¼Œå’ŒPOä¸€æ ·ä¹Ÿæ˜¯ä»…ä»…åŒ…å«æ•°æ®è€Œå·²ã€‚ä½†åº”æ˜¯æŠ½è±¡å‡ºçš„ä¸šåŠ¡å¯¹è±¡,å¯ä»¥å’Œè¡¨å¯¹åº”,ä¹Ÿå¯ä»¥ä¸,è¿™æ ¹æ®ä¸šåŠ¡çš„éœ€è¦.ä¸ªäººè§‰å¾—åŒDTO(æ•°æ®ä¼ è¾“å¯¹è±¡),åœ¨webä¸Šä¼ é€’ã€‚ \nTO(Transfer Object)ï¼Œæ•°æ®ä¼ è¾“å¯¹è±¡\nåœ¨åº”ç”¨ç¨‹åºä¸åŒtie(å…³ç³»)ä¹‹é—´ä¼ è¾“çš„å¯¹è±¡ \nBO(business object) ä¸šåŠ¡å¯¹è±¡ \nä»ä¸šåŠ¡æ¨¡å‹çš„è§’åº¦çœ‹,è§UMLå…ƒä»¶é¢†åŸŸæ¨¡å‹ä¸­çš„é¢†åŸŸå¯¹è±¡ã€‚å°è£…ä¸šåŠ¡é€»è¾‘çš„javaå¯¹è±¡,é€šè¿‡è°ƒç”¨DAOæ–¹æ³•,ç»“åˆPO,VOè¿›è¡Œä¸šåŠ¡æ“ä½œã€‚ \nPOJO(plain ordinary java object) ç®€å•æ— è§„åˆ™javaå¯¹è±¡\nçº¯çš„ä¼ ç»Ÿæ„ä¹‰çš„javaå¯¹è±¡ã€‚å°±æ˜¯è¯´åœ¨ä¸€äº›Object/Relation Mappingå·¥å…·ä¸­ï¼Œèƒ½å¤Ÿåšåˆ°ç»´æŠ¤æ•°æ®åº“è¡¨è®°å½•çš„persisent objectå®Œå…¨æ˜¯ä¸€ä¸ªç¬¦åˆJava Beanè§„èŒƒçš„çº¯Javaå¯¹è±¡ï¼Œæ²¡æœ‰å¢åŠ åˆ«çš„å±æ€§å’Œæ–¹æ³•ã€‚æˆ‘çš„ç†è§£å°±æ˜¯æœ€åŸºæœ¬çš„Java Beanï¼Œåªæœ‰å±æ€§å­—æ®µåŠsetterå’Œgetteræ–¹æ³•ï¼ã€‚ \n**DAO(data access object) æ•°æ®è®¿é—®å¯¹è±¡**\næ˜¯ä¸€ä¸ªsunçš„ä¸€ä¸ªæ ‡å‡†j2eeè®¾è®¡æ¨¡å¼ï¼Œè¿™ä¸ªæ¨¡å¼ä¸­æœ‰ä¸ªæ¥å£å°±æ˜¯DAOï¼Œå®ƒè´ŸæŒä¹…å±‚çš„æ“ä½œã€‚ä¸ºä¸šåŠ¡å±‚æä¾›æ¥å£ã€‚æ­¤å¯¹è±¡ç”¨äºè®¿é—®æ•°æ®åº“ã€‚é€šå¸¸å’ŒPOç»“åˆä½¿ç”¨ï¼ŒDAOä¸­åŒ…å«äº†å„ç§æ•°æ®åº“çš„æ“ä½œæ–¹æ³•ã€‚é€šè¿‡å®ƒçš„æ–¹æ³•,ç»“åˆPOå¯¹æ•°æ®åº“è¿›è¡Œç›¸å…³çš„æ“ä½œã€‚å¤¹åœ¨ä¸šåŠ¡é€»è¾‘ä¸æ•°æ®åº“èµ„æºä¸­é—´ã€‚é…åˆVO, æä¾›æ•°æ®åº“çš„CRUDæ“ä½œâ€¦ \n**O/R Mapper å¯¹è±¡/å…³ç³» æ˜ å°„**\nå®šä¹‰å¥½æ‰€æœ‰çš„mappingä¹‹åï¼Œè¿™ä¸ªO/R Mapperå¯ä»¥å¸®æˆ‘ä»¬åšå¾ˆå¤šçš„å·¥ä½œã€‚é€šè¿‡è¿™äº›mappings,è¿™ä¸ªO/R Mapperå¯ä»¥ç”Ÿæˆæ‰€æœ‰çš„å…³äºå¯¹è±¡ä¿å­˜ï¼Œåˆ é™¤ï¼Œè¯»å–çš„SQLè¯­å¥ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦å†™é‚£ä¹ˆå¤šè¡Œçš„DALä»£ç äº†ã€‚ \nå®ä½“Model(å®ä½“æ¨¡å¼) \nDAL(æ•°æ®è®¿é—®å±‚) \nIDAL(æ¥å£å±‚) \nDALFactory(ç±»å·¥å‚) \nBLL(ä¸šåŠ¡é€»è¾‘å±‚) \nBOF   Business Object Framework    ä¸šåŠ¡å¯¹è±¡æ¡†æ¶ \nSOA   Service Orient Architecture   é¢å‘æœåŠ¡çš„è®¾è®¡ \nEMF   Eclipse Model Framework     Eclipseå»ºæ¨¡æ¡†æ¶\n-â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\nPOï¼šå…¨ç§°æ˜¯persistant objectæŒä¹…å¯¹è±¡ï¼Œæœ€å½¢è±¡çš„ç†è§£å°±æ˜¯ä¸€ä¸ªPOå°±æ˜¯æ•°æ®åº“ä¸­çš„ä¸€æ¡è®°å½•ã€‚å¥½å¤„æ˜¯å¯ä»¥æŠŠä¸€æ¡è®°å½•ä½œä¸ºä¸€ä¸ªå¯¹è±¡å¤„ç†ï¼Œå¯ä»¥æ–¹ä¾¿çš„è½¬ä¸ºå…¶å®ƒå¯¹è±¡ã€‚\nBOï¼šå…¨ç§°æ˜¯business object:ä¸šåŠ¡å¯¹è±¡ã€‚ä¸»è¦ä½œç”¨æ˜¯æŠŠä¸šåŠ¡é€»è¾‘å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡å¯ä»¥åŒ…æ‹¬ä¸€ä¸ªæˆ–å¤šä¸ªå…¶å®ƒçš„å¯¹è±¡ã€‚æ¯”å¦‚ä¸€ä¸ªç®€å†ï¼Œæœ‰æ•™è‚²ç»å†ã€å·¥ä½œç»å†ã€ç¤¾ä¼šå…³ç³»ç­‰ç­‰ã€‚\næˆ‘ä»¬å¯ä»¥æŠŠæ•™è‚²ç»å†å¯¹åº”ä¸€ä¸ªPOï¼Œå·¥ä½œç»å†å¯¹åº”ä¸€ä¸ªPOï¼Œç¤¾ä¼šå…³ç³»å¯¹åº”ä¸€ä¸ªPOã€‚å»ºç«‹ä¸€ä¸ªå¯¹åº”ç®€å†çš„BOå¯¹è±¡å¤„ç†ç®€å†ï¼Œæ¯ä¸ªBOåŒ…å«è¿™äº›POã€‚è¿™æ ·å¤„ç†ä¸šåŠ¡é€»è¾‘æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥é’ˆå¯¹BOå»å¤„ç†ã€‚VO ï¼š\n**value objectå€¼å¯¹è±¡**\nViewObjectè¡¨ç°å±‚å¯¹è±¡\nä¸»è¦å¯¹åº”ç•Œé¢æ˜¾ç¤ºçš„æ•°æ®å¯¹è±¡ã€‚å¯¹äºä¸€ä¸ªWEBé¡µé¢ï¼Œæˆ–è€…SWTã€SWINGçš„ä¸€ä¸ªç•Œé¢ï¼Œç”¨ä¸€ä¸ªVOå¯¹è±¡å¯¹åº”æ•´ä¸ªç•Œé¢çš„å€¼ã€‚DTO ï¼š\nData Transfer Objectæ•°æ®ä¼ è¾“å¯¹è±¡\nä¸»è¦ç”¨äºè¿œç¨‹è°ƒç”¨ç­‰éœ€è¦å¤§é‡ä¼ è¾“å¯¹è±¡çš„åœ°æ–¹ã€‚\næ¯”å¦‚æˆ‘ä»¬ä¸€å¼ è¡¨æœ‰100ä¸ªå­—æ®µï¼Œé‚£ä¹ˆå¯¹åº”çš„POå°±æœ‰100ä¸ªå±æ€§ã€‚\nä½†æ˜¯æˆ‘ä»¬ç•Œé¢ä¸Šåªè¦æ˜¾ç¤º10ä¸ªå­—æ®µï¼Œå®¢æˆ·ç«¯ç”¨WEB serviceæ¥è·å–æ•°æ®ï¼Œæ²¡æœ‰å¿…è¦æŠŠæ•´ä¸ªPOå¯¹è±¡ä¼ é€’åˆ°å®¢æˆ·ç«¯ï¼Œè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥ç”¨åªæœ‰è¿™10ä¸ªå±æ€§çš„DTOæ¥ä¼ é€’ç»“æœåˆ°å®¢æˆ·ç«¯ï¼Œè¿™æ ·ä¹Ÿä¸ä¼šæš´éœ²æœåŠ¡ç«¯è¡¨ç»“æ„.åˆ°è¾¾å®¢æˆ·ç«¯ä»¥åï¼Œå¦‚æœç”¨è¿™ä¸ªå¯¹è±¡æ¥å¯¹åº”ç•Œé¢æ˜¾ç¤ºï¼Œé‚£æ­¤æ—¶å®ƒçš„èº«ä»½å°±è½¬ä¸ºVO\n**POJO ï¼š**\nplain ordinary java object ç®€å•javaå¯¹è±¡ï¼Œä¸ªäººæ„Ÿè§‰POJOæ˜¯æœ€å¸¸è§æœ€å¤šå˜çš„å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªä¸­é—´å¯¹è±¡ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æœ€å¸¸æ‰“äº¤é“çš„å¯¹è±¡ã€‚\nä¸€ä¸ªPOJOæŒä¹…åŒ–ä»¥åå°±æ˜¯POï¼Œç›´æ¥ç”¨å®ƒä¼ é€’ã€ä¼ é€’è¿‡ç¨‹ä¸­å°±æ˜¯DTOï¼Œç›´æ¥ç”¨æ¥å¯¹åº”è¡¨ç¤ºå±‚å°±æ˜¯VO\n**DAOï¼š**\ndata access objectæ•°æ®è®¿é—®å¯¹è±¡\nè¿™ä¸ªå¤§å®¶æœ€ç†Ÿæ‚‰ï¼Œå’Œä¸Šé¢å‡ ä¸ªOåŒºåˆ«æœ€å¤§ï¼ŒåŸºæœ¬æ²¡æœ‰äº’ç›¸è½¬åŒ–çš„å¯èƒ½æ€§å’Œå¿…è¦ã€‚\nä¸»è¦ç”¨æ¥å°è£…å¯¹æ•°æ®åº“çš„è®¿é—®ã€‚é€šè¿‡å®ƒå¯ä»¥æŠŠPOJOæŒä¹…åŒ–ä¸ºPOï¼Œç”¨POç»„è£…å‡ºæ¥VOã€DTO\n-â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-\nPO:persistant objectæŒä¹…å¯¹è±¡,å¯ä»¥çœ‹æˆæ˜¯ä¸æ•°æ®åº“ä¸­çš„è¡¨ç›¸æ˜ å°„çš„javaå¯¹è±¡ã€‚æœ€ç®€å•çš„POå°±æ˜¯å¯¹åº”æ•°æ®åº“ä¸­æŸä¸ªè¡¨ä¸­çš„ä¸€æ¡è®°å½•ï¼Œå¤šä¸ªè®°å½•å¯ä»¥ç”¨POçš„é›†åˆã€‚POä¸­åº”è¯¥ä¸åŒ…å«ä»»ä½•å¯¹æ•°æ®åº“çš„æ“ä½œ.                                            \n**VO:value objectå€¼å¯¹è±¡ã€‚**é€šå¸¸ç”¨äºä¸šåŠ¡å±‚ä¹‹é—´çš„æ•°æ®ä¼ é€’ï¼Œå’ŒPOä¸€æ ·ä¹Ÿæ˜¯ä»…ä»…åŒ…å«æ•°æ®è€Œå·²ã€‚ä½†åº”æ˜¯æŠ½è±¡å‡ºçš„ä¸šåŠ¡å¯¹è±¡,å¯ä»¥å’Œè¡¨å¯¹åº”,ä¹Ÿå¯ä»¥ä¸,è¿™æ ¹æ®ä¸šåŠ¡çš„éœ€è¦.ä¸ªäººè§‰å¾—åŒDTO(æ•°æ®ä¼ è¾“å¯¹è±¡),åœ¨webä¸Šä¼ é€’. \nDAO:data access objectæ•°æ®è®¿é—®å¯¹è±¡ï¼Œæ­¤å¯¹è±¡ç”¨äºè®¿é—®æ•°æ®åº“ã€‚é€šå¸¸å’ŒPOç»“åˆä½¿ç”¨ï¼ŒDAOä¸­åŒ…å«äº†å„ç§æ•°æ®åº“çš„æ“ä½œæ–¹æ³•ã€‚é€šè¿‡å®ƒçš„æ–¹æ³•,ç»“åˆPOå¯¹æ•°æ®åº“è¿›è¡Œç›¸å…³çš„æ“ä½œ. \nBO:business objectä¸šåŠ¡å¯¹è±¡,å°è£…ä¸šåŠ¡é€»è¾‘çš„javaå¯¹è±¡,é€šè¿‡è°ƒç”¨DAOæ–¹æ³•,ç»“åˆPO,VOè¿›è¡Œä¸šåŠ¡æ“ä½œ; POJO:plain ordinary java object ç®€å•æ— è§„åˆ™javaå¯¹è±¡,æˆ‘ä¸ªäººè§‰å¾—å®ƒå’Œå…¶ä»–ä¸æ˜¯ä¸€ä¸ªå±‚é¢ä¸Šçš„ä¸œè¥¿,VOå’ŒPOåº”è¯¥éƒ½å±äºå®ƒã€‚\n-â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“\nVOï¼šå€¼å¯¹è±¡ã€è§†å›¾å¯¹è±¡\nPOï¼šæŒä¹…å¯¹è±¡\nQOï¼šæŸ¥è¯¢å¯¹è±¡\nDAOï¼šæ•°æ®è®¿é—®å¯¹è±¡\nDTOï¼šæ•°æ®ä¼ è¾“å¯¹è±¡\n-â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\nstruts é‡Œçš„ ActionForm å°±æ˜¯ä¸ªVO;\nhibernateé‡Œçš„ å®ä½“beanå°±æ˜¯ä¸ªPO,ä¹Ÿå«POJO;\nhibernateé‡Œçš„Criteria å°±ç›¸å½“äºä¸€ä¸ªQO;\nåœ¨ä½¿ç”¨hibernateçš„æ—¶å€™æˆ‘ä»¬ä¼šå®šä¹‰ä¸€äº›æŸ¥è¯¢çš„æ–¹æ³•,è¿™äº›æ–¹æ³•å†™åœ¨æ¥å£é‡Œ,å¯ä»¥æœ‰ä¸åŒçš„å®ç°ç±».è€Œè¿™ä¸ªæ¥å£å°±å¯ä»¥è¯´æ˜¯ä¸ªDAO.\nä¸ªäººè®¤ä¸ºQOå’ŒDTOå·®ä¸å¤š.\n-â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\nPOæˆ–å«BOï¼Œä¸æ•°æ®åº“æœ€æ¥è¿‘çš„ä¸€å±‚ï¼Œæ˜¯ORMä¸­çš„Oï¼ŒåŸºæœ¬ä¸Šæ˜¯æ•°æ®åº“å­—æ®µå¯¹åº”BOä¸­çš„ä¸€ä¸ªå±æ€§ï¼Œä¸ºäº†åŒæ­¥ä¸å®‰å…¨æ€§è€ƒè™‘ï¼Œæœ€å¥½åªç»™DAOæˆ–è€…Serviceè°ƒç”¨ï¼Œè€Œä¸è¦ç”¨packcode,backingBean,æˆ–è€…BOè°ƒã€‚\nDAOï¼Œæ•°æ®è®¿é—®å±‚ï¼ŒæŠŠVOï¼ŒbackingBeanä¸­çš„å¯¹è±¡å¯ä»¥æ”¾å…¥ã€‚ã€‚ã€‚ã€‚\nDTOï¼Œå¾ˆå°‘ç”¨ï¼ŒåŸºæœ¬æ”¾å…¥åˆ°DAOä¸­ï¼Œåªæ˜¯èµ·åˆ°è¿‡æ¸¡çš„ä½œç”¨ã€‚\nQOï¼Œæ˜¯æŠŠä¸€äº›ä¸æŒä¹…æ€§æŸ¥è¯¢æ“ä½œä¸è¯­å¥æ”¾å…¥ã€‚ã€‚\nVOï¼ŒVå±‚ä¸­ç”¨åˆ°çš„åŸºæœ¬å…ƒç´ ä¸æ–¹æ³•ç­‰æ”¾å…¶ä¸­ã€‚å¦‚æœè¦å…¶è°ƒç”¨BOï¼Œåˆ™è¦åšBOè½¬æ¢VOï¼ŒVOè½¬æ¢BOæ“ä½œã€‚VOçš„å¥½å¤„æ˜¯å…¶é¡µé¢çš„å…ƒç´ å±æ€§å¤šäºBOï¼Œå¯èµ·åˆ°å¾ˆå¥½çš„ä½œç”¨ã€‚ã€‚ã€‚ã€‚\n-â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\næ¥¼ä¸Šçš„ä¸å¯¹å§ï¼ŒPOæ˜¯æŒä¹…åŒ–å¯¹è±¡ã€‚BOï¼business objectâ€”ä¸šåŠ¡å¯¹è±¡ã€‚\nPOå¯ä»¥ä¸¥æ ¼å¯¹åº”æ•°æ®åº“è¡¨ï¼Œä¸€å¼ è¡¨å¯¹æ˜ ä¸€ä¸ªPOã€‚\nBOåˆ™æ˜¯ä¸šåŠ¡é€»è¾‘å¤„ç†å¯¹è±¡ï¼Œæˆ‘çš„ç†è§£æ˜¯å®ƒè£…æ»¡äº†ä¸šåŠ¡é€»è¾‘çš„å¤„ç†ï¼Œåœ¨ä¸šåŠ¡é€»è¾‘å¤æ‚çš„åº”ç”¨ä¸­æœ‰ç”¨ã€‚\nVOï¼švalue objectå€¼å¯¹è±¡ã€view objectè§†å›¾å¯¹è±¡\nPOï¼šæŒä¹…å¯¹è±¡\nQOï¼šæŸ¥è¯¢å¯¹è±¡\nDAOï¼šæ•°æ®è®¿é—®å¯¹è±¡â€”â€”åŒæ—¶è¿˜æœ‰DAOæ¨¡å¼\nDTOï¼šæ•°æ®ä¼ è¾“å¯¹è±¡â€”â€”åŒæ—¶è¿˜æœ‰DTOæ¨¡å¼\næ€»ç»“\nä»¥ä¸Šå°±æ˜¯æœ¬æ–‡å…³äºJavaåˆ†å±‚æ¦‚å¿µè¯¦è§£çš„å…¨éƒ¨å†…å®¹.\n","categories":["Java","è½¯ä»¶å·¥ç¨‹"],"tags":["Java"]},{"title":"Javaå­¦ä¹ è¸©å‘ç¬”è®°","url":"/2023/07/19/learnnote/java-xue-xi-bi-ji/java-xue-xi-cai-keng-bi-ji/","content":"Javaå­¦ä¹ è¸©å‘ç¬”è®°\nJavaå¦‚ä½•åœ¨æ‰“åŒ…æˆjaråŒ…ä¹‹åä¹Ÿèƒ½è¯»å–resourceæ–‡ä»¶å¤¹é‡Œé¢çš„æ–‡ä»¶ï¼Ÿ\n//è·å–æ–‡ä»¶çš„URLURL url = new HintUtil().getClass().getClassLoader().getResource(\"notice.wav\");InputStream resourceAsStream = new HintUtil().getClass().getResourceAsStream(\"/notice.wav\");BufferedInputStream myStream = new BufferedInputStream(resourceAsStream);as = AudioSystem.getAudioInputStream(myStream);\n\n\nè¿™é‡Œæä¾›äº†ä¸€ä¸ªè·å–resourceæ–‡ä»¶æµçš„ä¾‹å­ï¼Œäº²æµ‹æœ‰æ•ˆï¼ï¼ï¼ã€‚\n\n","categories":["Java"],"tags":["Java"]},{"title":"Javaå¹¶å‘ç¼–ç¨‹","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/java-bing-fa-bian-cheng-bi-ji/","content":"Javaå¹¶å‘ç¼–ç¨‹\n1ã€java-JUCå¿«é€Ÿå…¥é—¨\n1.1ã€JUCæ˜¯ä»€ä¹ˆï¼Ÿ\nJUCæ˜¯java.util.concurrentåŒ…çš„ç®€ç§°ï¼Œåœ¨Java5.0å¤©åŠ ï¼Œç›®çš„å°±æ˜¯ä¸ºäº†æ›´å¥½çš„æ”¯æŒé«˜å¹¶å‘ä»»åŠ¡ã€‚è®©å¼€å‘è€…è¿›è¡Œå¤šçº¿ç¨‹ç¼–ç¨‹æ—¶å‡å°‘ç«äº‰æ¡ä»¶å’Œæ­»é”çš„é—®é¢˜ï¼\n\n1.2ã€è¿›ç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ«ï¼š\nè¿›ç¨‹ï¼šä¸€ä¸ªè¿è¡Œä¸­çš„ç¨‹åºçš„é›†åˆï¼›ä¸€ä¸ªè¿›ç¨‹å¾€å¾€å¯ä»¥åŒ…å«å¤šä¸ªçº¿ç¨‹ï¼Œè‡³å°‘åŒ…å«ä¸€ä¸ªçº¿ç¨‹\nJavaé»˜è®¤æœ‰å‡ ä¸ªçº¿ç¨‹ï¼Ÿ\nç­”æ¡ˆä¸ºä¸¤ä¸ªï¼Œä¸€ä¸ªmainçº¿ç¨‹ï¼Œä¸€ä¸ªgcçº¿ç¨‹\nçº¿ç¨‹ï¼šçº¿ç¨‹ï¼ˆthreadï¼‰æ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ã€‚\n\n1.3ã€å¹¶å‘ä¸å¹¶è¡Œçš„åŒºåˆ«ï¼š\nå¹¶å‘ï¼ˆå¤šçº¿ç¨‹æ“ä½œåŒä¸€ä¸ªèµ„æºï¼Œäº¤æ›¿æ‰§è¡Œï¼‰\nCPUä¸€æ ¸ï¼Œæ¨¡æ‹Ÿå‡ºæ¥å¤šæ¡çº¿ç¨‹ï¼Œå¤©ä¸‹æ­¦åŠŸï¼Œå”¯å¿«ä¸ç ´ï¼Œå¿«é€Ÿäº¤æ›¿ã€‚\nå¹¶è¡Œï¼ˆå¤šä¸ªäººä¸€èµ·è¡Œèµ°ï¼ŒåŒæ—¶è¿›è¡Œï¼‰\nCPUå¤šæ ¸ï¼Œå¤šä¸ªçº¿ç¨‹åŒæ—¶è¿›è¡Œï¼›ä½¿ç”¨çº¿ç¨‹æ± æ“ä½œ\n\n1.4ã€çº¿ç¨‹æœ‰å…­ç§çŠ¶æ€ï¼špublic enum State {    //æ–°ç”Ÿ    NEW,    //è¿è¡Œ    RUNNABLE,    //å µå¡    BLOCKED,    //ç­‰å¾…    WAITING,    //è¶…æ—¶ç­‰å¾…    TIMED_WAITING,    //ç»ˆæ­¢    TERMINATED}\n\n1.5ã€wait/sleepçš„åŒºåˆ«ï¼š\n1ã€æ¥è‡ªä¸åŒçš„ç±»ï¼šwaitæ¥è‡ªobjectç±»ï¼Œsleepæ¥è‡ªçº¿ç¨‹ç±»\n2ã€å…³äºæ‰€çš„é‡Šæ”¾ï¼šwaitä¼šé‡Šæ”¾é”ï¼Œsleepä¸ä¼šé‡Šæ”¾é”\n3ã€ä½¿ç”¨çš„èŒƒå›´ä¸åŒï¼šwaitå¿…é¡»åœ¨åŒæ­¥ä»£ç å—ä¸­ï¼Œsleepå¯ä»¥åœ¨çƒ­æ²³åœ°æ–¹ç¡çœ \n\n2ã€JUCçš„ç»“æ„\n\n1ã€toolsï¼ˆå·¥å…·ç±»ï¼‰ï¼šåˆå«ä¿¡å·é‡ä¸‰ç»„å·¥å…·ç±»ï¼ŒåŒ…å«æœ‰ï¼š\n1ï¼‰CountDownLatchï¼ˆé—­é”ï¼‰æ˜¯ä¸€ä¸ªåŒæ­¥è¾…åŠ©ç±»ï¼Œåœ¨å®Œæˆä¸€ç»„æ­£åœ¨å…¶ä»–çº¿ç¨‹æ‰§è¡Œçš„æ“ä½œä¹‹å‰ï¼Œå®ƒå…è®¸ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ä¸€ç›´ç­‰å¾…ã€‚\n2ï¼‰CyclicBarrierï¼ˆæ …æ ï¼‰ä¹‹æ‰€ä»¥å«barrierï¼Œæ˜¯å› ä¸ºæ˜¯ä¸€ä¸ªåŒæ­¥è¾…åŠ©ç±»ï¼Œå…è®¸ä¸€ç»„çº¿ç¨‹äº’ç›¸ç­‰å¾…ï¼Œç›´åˆ°åˆ°è¾¾æŸä¸ªå…¬å…±å±éšœç‚¹ï¼Œå¹¶ä¸”åœ¨é‡Šæ”¾ç­‰å¾…çº¿ç¨‹åå¯é‡ç”¨ã€‚\n3ï¼‰Semaphoreï¼ˆä¿¡å·é‡ï¼‰æ˜¯ä¸€ä¸ªè®¡æ•°ä¿¡å·é‡ï¼Œä»–çš„æœ¬è´¨æ˜¯ä¸€ä¸ªâ€å…±äº«é”â€œã€‚ä¿¡å·é‡ç»´æŠ¤äº†ä¸€ä¸ªä¿¡å·é‡è®¸å¯é›†ã€‚çº¿ç¨‹å¯ä»¥é€šè¿‡è°ƒç”¨acquire()æ¥è·å–ä¿¡å·é‡çš„è®¸å¯ï¼›å½“ä¿¡å·é‡ä¸­æœ‰å¯ç”¨çš„è®¸å¯æ—¶ï¼Œçº¿ç¨‹èƒ½è·å–è¯¥è®¸å¯ï¼›å¦åˆ™çº¿ç¨‹å¿…é¡»ç­‰å¾…ï¼Œç›´åˆ°æœ‰å¯ç”¨çš„è®¸å¯ä¸ºæ­¢ã€‚çº¿ç¨‹å¯ä»¥é€šè¿‡release()æ¥é‡Šæ”¾å®ƒæ‰€æŒæœ‰çš„ä¿¡å·é‡è®¸å¯è¯ã€‚\n2ï¼Œexecutor(æ‰§è¡Œè€…)ï¼šæ˜¯Javaé‡Œé¢çº¿ç¨‹æ± çš„é¡¶çº§æ¥å£ï¼Œä½†å®ƒåªæ˜¯ä¸€ä¸ªæ‰§è¡Œçº¿ç¨‹çš„å·¥å…·ï¼ŒçœŸæ­£çš„çº¿ç¨‹æ± æ¥å£æ˜¯ExecutorServiceï¼Œé‡Œé¢åŒ…å«çš„ç±»æœ‰ï¼š\n1ï¼‰ScheduledExecutorService è§£å†³é‚£äº›éœ€è¦ä»»åŠ¡é‡å¤æ‰§è¡Œçš„é—®é¢˜\n2ï¼‰ScheduledThreadPoolExecutor å‘¨æœŸæ€§ä»»åŠ¡è°ƒåº¦çš„ç±»å®ç°\n3ï¼Œatomic(åŸå­æ€§åŒ…)ï¼šæ˜¯JDKæä¾›çš„ä¸€ç»„åŸå­æ“ä½œç±»ï¼Œ\nåŒ…å«æœ‰AtomicBooleanã€AtomicIntegerã€AtomicIntegerArrayç­‰åŸå­å˜é‡ç±»ï¼Œä»–ä»¬çš„å®ç°åŸç†å¤§å¤šæ˜¯æŒæœ‰å®ƒä»¬å„è‡ªçš„å¯¹åº”çš„ç±»å‹å˜é‡valueï¼Œè€Œä¸”è¢«volatileå…³é”®å­—ä¿®é¥°äº†ã€‚è¿™æ ·æ¥ä¿è¯æ¯æ¬¡ä¸€ä¸ªçº¿ç¨‹è¦ä½¿ç”¨å®ƒéƒ½ä¼šæ‹¿åˆ°æœ€æ–°çš„å€¼ã€‚\n4ï¼Œlocksï¼ˆé”åŒ…ï¼‰ï¼šæ˜¯JDKæä¾›çš„é”æœºåˆ¶ï¼Œç›¸æ¯”synchronizedå…³é”®å­—æ¥è¿›è¡ŒåŒæ­¥é”ï¼ŒåŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼Œå®ƒä¸ºé”æä¾›äº†ä¸€ä¸ªæ¡†æ¶ï¼Œè¯¥æ¡†æ¶å…è®¸æ›´çµæ´»åœ°ä½¿ç”¨é”åŒ…å«çš„å®ç°ç±»æœ‰ï¼š\n1ï¼‰ReentrantLock å®ƒæ˜¯ç‹¬å é”ï¼Œæ˜¯æŒ‡åªèƒ½è¢«ç‹¬è‡ªå é¢†ï¼Œå³åŒä¸€ä¸ªæ—¶é—´ç‚¹åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹é”è·å–åˆ°çš„é”ã€‚\n2ï¼‰ReentrantReadWriteLock å®ƒåŒ…æ‹¬å­ç±»ReadLockå’ŒWriteLockã€‚ReadLockæ˜¯å…±äº«é”ï¼Œè€ŒWriteLockæ˜¯ç‹¬å é”ã€‚\n3ï¼‰LockSupport å®ƒå…·å¤‡é˜»å¡çº¿ç¨‹å’Œè§£é™¤é˜»å¡çº¿ç¨‹çš„åŠŸèƒ½ï¼Œå¹¶ä¸”ä¸ä¼šå¼•å‘æ­»é”ã€‚\n5ï¼Œcollections(é›†åˆç±»)ï¼šä¸»è¦æ˜¯æä¾›çº¿ç¨‹å®‰å…¨çš„é›†åˆï¼Œ æ¯”å¦‚ï¼š\n1ï¼‰ArrayListå¯¹åº”çš„é«˜å¹¶å‘ç±»æ˜¯CopyOnWriteArrayListï¼Œ\n2ï¼‰HashSetå¯¹åº”çš„é«˜å¹¶å‘ç±»æ˜¯ CopyOnWriteArraySetï¼Œ\n3ï¼‰HashMapå¯¹åº”çš„é«˜å¹¶å‘ç±»æ˜¯ConcurrentHashMapç­‰ç­‰\n\nä¸‹é¢å…·ä½“æ¥å­¦ä¹ ä¸€ä¸‹å¤šçº¿ç¨‹åˆ›å»ºåŠä½¿ç”¨æ–¹æ³•ï¼š\næ™®é€šçš„çº¿ç¨‹ä»£ç ï¼Œä¹‹å‰éƒ½æ˜¯ç”¨threadæˆ–è€…runableæ¥å£çš„ï¼›\nå…·ä½“å®ç°å¦‚ä¸‹ï¼š\npublic class demo01{    public static void main(String[] args){        ThreadDemo threadDemo = new ThreadDemo();        threadDemo.start();        new Thread(new ThreadDemo2()).start();    }}class ThreadDemo extends Thread{   @Override   public void run(){       System.out.println(\"æ™®é€šçº¿ç¨‹å·²å¼€å¯ï¼ˆç»§æ‰¿Threadï¼‰\");   }}class ThreadDemo2 implements Runnable{    @Override    public void run(){        System.out.println(\"æ™®é€šçº¿ç¨‹å·²å¼€å¯ï¼ˆå®ç°Runnableæ¥å£ï¼‰\");    }}\n\nç¨‹åºè¿è¡Œç»“æœï¼š\n\næ™®é€šçº¿ç¨‹å·²å¼€å¯ï¼ˆç»§æ‰¿Threadï¼‰æ™®é€šçº¿ç¨‹å·²å¼€å¯ï¼ˆå®ç°Runnbaleæ¥å£ï¼‰\n\n\n3ã€Locké”ï¼ˆé‡ç‚¹ï¼‰ä¼ ç»Ÿsynchronized\nsynchronizedæ˜¯Javaä¸­çš„å…³é”®å­—ï¼Œæ˜¯ä¸€ç§åŒæ­¥é”ã€‚å®ƒä¿®é¥°çš„å¯¹è±¡æœ‰ä»¥ä¸‹å‡ ç§ï¼š\n\nä¿®é¥°ä¸€ä¸ªä»£ç å—ï¼Œæˆ–ä¿®é¥°çš„ä»£ç å—ç§°ä¸ºåŒæ­¥è¯­å¥å—ï¼Œå…¶ä½œç”¨çš„èŒƒå›´æ˜¯å¤§æ‹¬å·{}æ‹¬èµ·æ¥çš„ä»£ç ï¼Œä½œç”¨çš„å¯¹è±¡æ˜¯è°ƒç”¨è¿™ä¸ªä»£ç å—çš„å¯¹è±¡ï¼›\nä¿®é¥°ä¸€ä¸ªæ–¹æ³•ï¼Œè¢«ä¿®é¥°çš„æ–¹æ³•ç§°ä¸ºåŒæ­¥æ–¹æ³•ï¼Œå…¶ä½œç”¨çš„å¯¹è±¡æ˜¯è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„å¯¹è±¡ï¼›\nä¿®é¥°ä¸€ä¸ªé™æ€çš„æ–¹æ³•ï¼Œå…¶ä½œç”¨çš„èŒƒå›´æ˜¯æ•´ä¸ªé™æ€æ–¹æ³•ï¼Œä½œç”¨çš„å¯¹è±¡æ˜¯è¿™ä¸ªç±»çš„æ‰€æœ‰å¯¹è±¡ï¼›\nä¿®é¥°ä¸€ä¸ªç±»ï¼Œå…¶ä½œç”¨çš„èŒƒå›´æ˜¯synchronizedåé¢æ‹¬å·æ‹¬èµ·æ¥çš„éƒ¨åˆ†ï¼Œä½œç”¨ä¸»è¦çš„å¯¹è±¡æ˜¯è¿™ä¸ªç±»çš„æ‰€æœ‰å¯¹è±¡ã€‚\n\nLockæ¥å£\n\néšç€è¿™ç§æ·»åŠ çš„çµæ´»æ€§ï¼Œé¢å¤–çš„è´£ä»»ã€‚æ²¡æœ‰ç»“æ„åŒ–é”å®šä¼šåˆ é™¤ä½¿ç”¨synchronizedæ–¹æ³•å’Œè¯­å¥å‘ç”Ÿçš„é”çš„è‡ªåŠ¨é‡Šæ”¾ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåº”ä½¿ç”¨ä»¥ä¸‹æƒ¯ç”¨è¯­ï¼š\nLock l = ...  l.lock(); //åŠ é”try{       // access the resource protected by this lock} finally {       l.unlock();  //è§£é”}\n\nå®ç°ç±»\n\nreentrantLockæ„é€ å™¨\npublic ReentrantLock(){    sync = new NonfairSync(); //æ— å‚é»˜è®¤éå…¬å¹³é”}public ReentrantLock(boolean fair){    sync = fair ? new FairSync() : new NonfairSync(); //ä¼ å‚ä¸ºtrueä¸ºå…¬å¹³é”}\n\nå…¬å¹³é”ï¼šååˆ†å…¬å¹³ï¼Œå¯ä»¥å…ˆæ¥ååˆ°ï¼Œä¸€å®šè¦æ’é˜Ÿ\néå…¬å¹³é”ï¼šé‡Šæ”¾ä¸å…¬å¹³ï¼Œå¯ä»¥æ’é˜Ÿï¼ˆé»˜è®¤ï¼‰\npublic class SaleTicketDemo {       public static void main(String[] args){           Ticket ticket = new Ticket();                   new Thread(()-&gt;{for(int i =0 ; i &lt; 40 ; ++i) ticket.sale();},\"a\").start();           new Thread(()-&gt;{for(int i =0 ; i &lt; 40 ; ++i) ticket.sale();},\"b\").start();           new Thread(()-&gt;{for(int i =0 ; i &lt; 40 ; ++i) ticket.sale();},\"c\").start();               }}class Ticket{       private int ticketNum = 30;       private Lock lock = new ReentrantLock();           public void sale() {           lock.lock();           try {               if(this.ticketNum &gt; 0) {                   System.out.println(Thread.currentThread().getName() + \"è´­å¾—ç¬¬\" + ticketNum-- + \"å¼ ç¥¨, å‰©ä½™\" + ticketNum + \"å¼ ç¥¨\");               }               Thread.sleep(10);           } catch (Exception e) {               e.printStackTrace();           } finally {               lock.unlock();           }       }}\nsynchronizedå’Œlocké”çš„åŒºåˆ«\nsynchronizedå†…ç½®çš„java å…³é”®å­—ï¼ŒLockæ˜¯ä¸€ä¸ªjavaç±»\nsynchronizedæ— æ³•åˆ¤æ–­è·å–é”çš„çŠ¶æ€ï¼ŒLockå¯ä»¥åˆ¤æ–­æ˜¯å¦è·å–åˆ°äº†é”\nsynchronizedä¼šè‡ªåŠ¨é‡Šæ”¾é”ï¼ŒLockå¿…é¡»è¦æ‰‹åŠ¨é‡Šæ”¾é”ï¼ï¼å¦‚æœä¸é‡Šæ”¾é”ï¼Œä¼šäº§ç”Ÿæ­»é”\nsynchronizedçº¿ç¨‹1ï¼ˆè·å¾—é”ï¼Œé˜»å¡ï¼‰ï¼Œçº¿ç¨‹2ï¼ˆç­‰å¾…ï¼‰ï¼›Locké”å°±ä¸ä¸€å®šä¼šç­‰å¾…ä¸‹å»\nsynchronizedå¯é‡å…¥é”ï¼Œä¸å¯ä»¥ä¸­æ–­çš„ï¼Œéå…¬å¹³çš„ï¼›Locké”ï¼Œå¯é‡å…¥çš„ï¼Œå¯ä»¥åˆ¤æ–­é”ï¼Œéå…¬å¹³ï¼ˆå¯è‡ªå·±è®¾ç½®ï¼‰\nsynchronizedé€‚åˆé”å°‘é‡çš„ä»£ç åŒæ­¥é—®é¢˜ï¼ŒLocké€‚åˆé”å¤§é‡çš„åŒæ­¥ä»£ç \n\nä»€ä¹ˆæ˜¯å¯é‡å…¥çš„ï¼Ÿè¯´æ˜ï¼šæ‰€è°“å¯é‡å…¥å°±æ˜¯è¯´æŸä¸ªçº¿ç¨‹å·²ç»è·å¾—æŸä¸ªé”ï¼Œå¯ä»¥å†æ¬¡è·å–é”è€Œä¸ä¼šå‡ºç°æ­»é”ã€‚\nsynchronizedæ˜¯åŸºäºåŸå­æ€§çš„å†…éƒ¨é”æœºåˆ¶ï¼Œæ˜¯å¯é‡å…¥çš„ï¼Œå› æ­¤åœ¨ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨synchronizedæ–¹æ³•çš„åŒæ—¶åœ¨å…¶æ–¹æ³•ä½“å†…éƒ¨è°ƒç”¨è¯¥å¯¹è±¡å¦ä¸€ä¸ªsynchronizedæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªçº¿ç¨‹å¾—åˆ°ä¸€ä¸ªå¯¹è±¡é”åå†æ¬¡è¯·æ±‚è¯¥å¯¹è±¡é”ï¼Œæ˜¯å…è®¸çš„ï¼Œè¿™å°±æ˜¯synchronizedçš„å¯é‡å…¥æ€§ã€‚\nä¸‹é¢ç»™ä¸ªä»£ç ç¤ºä¾‹ï¼š\npublic class Son extends Father {    public static void main(String[] args) {        Son son = new Son();        son.sonDoSomeSthing();    }    public synchronized void sonDoSomeSthing(){        fatherDoSomeSthing();        System.out.println(\"son invoke sonDoSomeSthing\");    }    @Override    public synchronized void fatherDoSomeSthing() {        System.out.println(\"son invoke fatherDoSomeSthing\");        super.fatherDoSomeSthing();    }}public class Father {    public synchronized void fatherDoSomeSthing(){        System.out.println(\"father invoke fatherDoSomeSthing\");    }}\n\næ‰§è¡Œç»“æœï¼š\n\nä»ä¸Šè¿°ä»£ç ç¤ºä¾‹å¯ä»¥çœ‹åˆ°è°ƒç”¨çš„ä¸‰ä¸ªæ–¹æ³•å‡å¾—åˆ°äº†æ‰§è¡Œã€‚å½“synchronizedä¿®é¥°æ™®é€šæ–¹æ³•æ—¶ï¼Œä½¿ç”¨çš„æ˜¯å¯¹è±¡é”ï¼Œä¹Ÿå°±æ˜¯Sonå¯¹è±¡ã€‚ä¸‰ä¸ªæ–¹æ³•çš„é”éƒ½æ˜¯Sonå¯¹è±¡ã€‚æˆ‘ä»¬åœ¨å­ç±»ä¸­æ‰§è¡ŒsonDoSomeSthingæ–¹æ³•æ—¶ï¼Œè·å–äº†Sonå¯¹è±¡é”ï¼Œç„¶ååœ¨sonDoSomeSthingæ—¶è°ƒç”¨äº†é‡å†™çˆ¶ç±»çš„fatherDoSomeSthingæ–¹æ³•ï¼Œè¯¥æ–¹æ³•çš„é”ä¹Ÿæ˜¯Sonå¯¹è±¡é”ï¼Œç„¶ååœ¨å…¶ä¸­è°ƒç”¨çˆ¶ç±»çš„fatherDoSomeSthingæ–¹æ³•ï¼Œè¯¥æ–¹æ³•çš„é”ä¹Ÿæ˜¯Sonå¯¹è±¡é”ã€‚ä¸€ä¸ªé”å¤šæ¬¡è¯·æ±‚å‡è°ƒç”¨æˆåŠŸï¼Œå¯è§synchronizedæ˜¯å¯é‡å…¥é”ã€‚\nsynchronizedå¯é‡å…¥é”çš„å®ç°åŸç†ï¼šsynchronizedåº•å±‚æ˜¯åˆ©ç”¨è®¡ç®—æœºç³»ç»Ÿmutex Lockå®ç°çš„ã€‚æ¯ä¸€ä¸ªå¯é‡å…¥é”éƒ½ä¼šå…³è”ä¸€ä¸ªçº¿ç¨‹IDå’Œä¸€ä¸ªé”çŠ¶æ€statusã€‚\nå½“ä¸€ä¸ªçº¿ç¨‹è¯·æ±‚æ–¹æ³•æ—¶ï¼Œä¼šå»æ£€æŸ¥é”çŠ¶æ€ã€‚\n\nå¦‚æœé”çŠ¶æ€æ˜¯0ï¼Œä»£è¡¨è¯¥é”æ²¡æœ‰è¢«å ç”¨ï¼Œä½¿ç”¨CASæ“ä½œè·å–é”ï¼Œå°†çº¿ç¨‹IDæ›¿æ¢æˆè‡ªå·±çš„çº¿ç¨‹IDã€‚\nå¦‚æœé”çŠ¶æ€ä¸æ˜¯0ï¼Œä»£è¡¨æœ‰çº¿ç¨‹åœ¨è®¿é—®è¯¥æ–¹æ³•ã€‚æ­¤æ—¶ï¼Œå¦‚æœçº¿ç¨‹IDæ˜¯è‡ªå·±çš„çº¿ç¨‹IDï¼Œå¦‚æœæ˜¯å¯é‡å…¥é”ï¼Œä¼šå°†statusè‡ªå¢1ï¼Œç„¶åè·å–åˆ°è¯¥é”ï¼Œè¿›è€Œæ‰§è¡Œç›¸åº”çš„æ–¹æ³•ï¼›å¦‚æœæ˜¯éé‡å…¥é”ï¼Œå°±ä¼šè¿›å…¥é˜»å¡é˜Ÿåˆ—ç­‰å¾…ã€‚\n\nåœ¨é‡Šæ”¾é”æ—¶ï¼Œ\n\nå¦‚æœæ˜¯å¯é‡å…¥é”çš„ï¼Œæ¯ä¸€æ¬¡é€€å‡ºæ–¹æ³•ï¼Œå°±ä¼šå°†statuså‡1ï¼Œç›´è‡³statusçš„å€¼ä¸º0ï¼Œæœ€åé‡Šæ”¾è¯¥é”ã€‚\nå¦‚æœéå¯é‡å…¥é”çš„ï¼Œçº¿ç¨‹é€€å‡ºæ–¹æ³•ï¼Œç›´æ¥å°±ä¼šé‡Šæ”¾è¯¥é”ã€‚\n\nConditionå‡†ç¡®çš„é€šçŸ¥å’Œå”¤é†’çº¿ç¨‹\nConditionæ˜¯ä¸€ä¸ªæ¥å£ï¼ŒåŸºæœ¬çš„æ–¹æ³•å°±æ˜¯await()å’Œsignal()æ–¹æ³•ï¼›\nConditionä¾èµ–äºLockæ¥å£ï¼Œç”Ÿæˆä¸€ä¸ªConditionçš„åŸºæœ¬ä»£ç æ˜¯Lock.newCondition()\nè°ƒç”¨Conditionçš„await()å’Œsignal()æ–¹æ³•ï¼Œéƒ½å¿…é¡»åœ¨lockä¿æŠ¤ä¹‹å†…ï¼Œå°±æ˜¯è¯´å¿…é¡»åœ¨lock.lock()å’Œlock.unlockä¹‹é—´æ‰å¯ä»¥ä½¿ç”¨Conditionä¸­çš„await()å¯¹åº”Objectçš„wait()ï¼›\nConditionä¸­signal()å¯¹åº”Objectçš„notify();\nConditionä¸­signalAll()å¯¹åº”Objectçš„notifyAll()ã€‚\n\n\n\nå¯¹æ¯”é¡¹\nObject Monitor Methods\nCondition\n\n\n\nå‰ç½®æ¡ä»¶\nè·å–å¯¹è±¡çš„é”\nè°ƒç”¨Lock.lock()è·å–é”è°ƒç”¨Lock.newCondition()è·å–Conditionå¯¹è±¡\n\n\nè°ƒç”¨æ–¹æ³•\nç›´æ¥è°ƒç”¨å¦‚ï¼šobject.wait()\nç›´æ¥è°ƒç”¨å¦‚ï¼šcondition.awati()\n\n\nç­‰å¾…é˜Ÿåˆ—ä¸ªæ•°\nä¸€ä¸ª\nå¤šä¸ª\n\n\nå½“å‰çº¿ç¨‹é‡Šæ”¾é”å¹¶è¿›å…¥ç­‰å¾…çŠ¶æ€\næ”¯æŒ\næ”¯æŒ\n\n\nå½“å‰çº¿ç¨‹é‡Šæ”¾é”å¹¶è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œåœ¨ç­‰å¾…çŠ¶æ€ä¸­ä¸å“åº”ä¸­æ–­\nä¸æ”¯æŒ\næ”¯æŒ\n\n\nå½“å‰çº¿ç¨‹é‡Šæ”¾é”å¹¶è¿›å…¥è¶…æ—¶ç­‰å¾…çŠ¶æ€\næ”¯æŒ\næ”¯æŒ\n\n\nå½“å‰çº¿ç¨‹é‡Šæ”¾é”å¹¶è¿›å…¥ç­‰å¾…çŠ¶æ€åˆ°å°†æ¥çš„æŸä¸ªæ—¶é—´\nä¸æ”¯æŒ\næ”¯æŒ\n\n\nå”¤é†’ç­‰å¾…é˜Ÿåˆ—ä¸­çš„ä¸€ä¸ªçº¿ç¨‹\næ”¯æŒ\næ”¯æŒ\n\n\nå”¤é†’ç­‰å¾…é˜Ÿåˆ—ä¸­çš„å…¨éƒ¨çº¿ç¨‹\næ”¯æŒ\næ”¯æŒ\n\n\n\nConditionå¸¸è§ä¾‹å­ï¼ˆç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼ï¼ˆå®ŒæˆåŠ ä¸€å‡ä¸€å„ä¸€æ¬¡æ“ä½œï¼‰ï¼šimport java.util.concurrent.locks.Condition;import java.util.concurrent.locks.Lock;import java.util.concurrent.locks.ReentrantLock;public class PC {    public static void main(String[] args) {        a a = new a();        new Thread(()-&gt;{            for (int i =0;i&lt;10;i++){                a.increment();            }        },\"A\").start();        new Thread(()-&gt;{            for (int i =0;i&lt;10;i++){                a.decrease();            }        },\"B\").start();    }}class  a{    public int nummber=0;    Lock lock = new ReentrantLock();    Condition condition = lock.newCondition();    public   void  increment(){        lock.lock();        try {            while(nummber!=0){                condition.await();            }            nummber++;            System.out.println(Thread.currentThread().getName()+\"&gt;&gt;\"+nummber);            condition.signalAll();        }        catch (InterruptedException e) {            e.printStackTrace();        } finally {            lock.unlock();        }    }    public  void decrease(){        lock.lock();        try {            while(nummber!=1){                condition.await();            }            nummber--;            System.out.println(Thread.currentThread().getName()+\"&gt;&gt;\"+nummber);            condition.signalAll();        }        catch (InterruptedException e) {            e.printStackTrace();        } finally {            lock.unlock();        }    }}\n\n","categories":["Java","å¹¶å‘ç¼–ç¨‹"],"tags":["Java","å¹¶å‘ç¼–ç¨‹"]},{"title":"Javaæ³¨è§£ç¼–ç¨‹åŠAOPç¼–ç¨‹","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/java-jie-kou-bian-cheng-ji-aop-bian-cheng/","content":"Javaæ³¨è§£ç¼–ç¨‹åŠAOPç¼–ç¨‹\nJavaæ³¨è§£ï¼ˆAnnotationï¼‰åˆç§°Javaæ ‡æ³¨ï¼Œæ˜¯JDK5.0å¼•å…¥çš„ä¸€ç§æ³¨é‡Šæœºåˆ¶ã€‚\nJavaè¯­è¨€ä¸­çš„ç±»ã€æ–¹æ³•ã€å˜é‡ã€å‚æ•°å’ŒåŒ…ç­‰éƒ½å¯ä»¥è¢«æ ‡æ³¨ã€‚å’Œ Javadoc ä¸åŒï¼ŒJava æ ‡æ³¨å¯ä»¥é€šè¿‡åå°„è·å–æ ‡æ³¨å†…å®¹ã€‚åœ¨ç¼–è¯‘å™¨ç”Ÿæˆç±»æ–‡ä»¶æ—¶ï¼Œæ ‡æ³¨å¯ä»¥è¢«åµŒå…¥åˆ°å­—èŠ‚ç ä¸­ã€‚Java è™šæ‹Ÿæœºå¯ä»¥ä¿ç•™æ ‡æ³¨å†…å®¹ï¼Œåœ¨è¿è¡Œæ—¶å¯ä»¥è·å–åˆ°æ ‡æ³¨å†…å®¹ ã€‚ å½“ç„¶å®ƒä¹Ÿæ”¯æŒè‡ªå®šä¹‰ Java æ ‡æ³¨ã€‚\nç½‘ä¸Šå¾ˆå¤šå…³äº Java Annotation çš„æ–‡ç« ï¼Œçœ‹å¾—äººçœ¼èŠ±ç¼­ä¹±ã€‚Java Annotation æœ¬æ¥å¾ˆç®€å•çš„ï¼Œç»“æœè¯´çš„äººæ²¡è¯´æ¸…æ¥šï¼›å¼„çš„çœ‹çš„äººæ›´åŠ è¿·ç³Šã€‚\næˆ‘æŒ‰ç…§è‡ªå·±çš„æ€è·¯ï¼Œå¯¹ Annotation è¿›è¡Œäº†æ•´ç†ã€‚ç†è§£ Annotation çš„å…³é”®ï¼Œæ˜¯ç†è§£ Annotation çš„è¯­æ³•å’Œç”¨æ³•ï¼Œå¯¹è¿™äº›å†…å®¹ï¼Œæˆ‘éƒ½è¿›è¡Œäº†è¯¦ç»†è¯´æ˜ï¼›ç†è§£ Annotation çš„è¯­æ³•å’Œç”¨æ³•ä¹‹åï¼Œå†çœ‹ Annotation çš„æ¡†æ¶å›¾ï¼Œå¯èƒ½æœ‰æ›´æ·±åˆ»ä½“ä¼šã€‚åºŸè¯å°±è¯´è¿™ä¹ˆå¤šï¼Œä¸‹é¢å¼€å§‹å¯¹ Annotation è¿›è¡Œè¯´æ˜ã€‚è‹¥æ‚¨å‘ç°æ–‡ç« ä¸­å­˜åœ¨é”™è¯¯æˆ–ä¸è¶³çš„åœ°æ–¹ï¼Œå¸Œæœ›æ‚¨èƒ½æŒ‡å‡ºï¼\nå†…ç½®çš„æ³¨è§£\nJavaå®šä¹‰äº†ä¸€å¥—æ³¨è§£ï¼Œå…±æœ‰7ä¸ªï¼Œ3ä¸ªåœ¨java.langä¸­ï¼Œå‰©ä¸‹4ä¸ªåœ¨java.lang.annotationä¸­ã€‚\nä½œç”¨åœ¨ä»£ç çš„æ³¨è§£æ˜¯\n@Overrideï¼šæ£€æŸ¥è¯¥æ–¹æ³•æ˜¯å¦æ˜¯é‡å†™æ–¹æ³•ã€‚å¦‚æœå‘ç°å…¶çˆ¶ç±»ï¼Œæˆ–è€…æ˜¯å¼•ç”¨çš„æ¥å£ä¸­å¹¶æ²¡æœ‰è¯¥æ–¹æ³•æ—¶ï¼Œä¼šæŠ¥ç¼–è¯‘é”™è¯¯ã€‚\n@Deprecatedï¼šæ ‡è®°è¿‡æ—¶æ–¹æ³•ã€‚å¦‚æœä½¿ç”¨è¯¥æ–¹æ³•ï¼Œä¼šæŠ¥ç¼–è¯‘è­¦å‘Šã€‚\n@SuppressWarningsï¼šæŒ‡ç¤ºç¼–è¯‘å™¨å»å¿½ç•¥æ³¨è§£ä¸­ç”³æ˜çš„è­¦å‘Šã€‚\n\nä½œç”¨åœ¨å…¶ä»–æ³¨è§£çš„æ³¨è§£ï¼ˆæˆ–è€…è¯´ å…ƒæ³¨è§£ï¼‰æ˜¯\nRetentionï¼šæ ‡è¯†è¿™ä¸ªæ³¨è§£æ€ä¹ˆä¿å­˜ï¼Œæ˜¯åªåœ¨ä»£ç ä¸­ï¼Œè¿˜æ˜¯ç¼–å…¥classæ–‡ä»¶ä¸­ï¼Œæˆ–è€…æ˜¯åœ¨è¿è¡Œæ—¶å¯ä»¥é€šè¿‡åå°„è®¿é—®ã€‚\n@Documentedï¼šæ ‡è®°è¿™äº›æ³¨è§£æ˜¯å¦åŒ…å«åœ¨ç”¨æˆ·æ–‡æ¡£ä¸­ã€‚\nTargetï¼šæ ‡è®°è¿™ä¸ªæ³¨è§£åº”è¯¥æ˜¯é‚£ç§Javaæˆå‘˜ã€‚\nInheritedï¼šæ ‡è®°è¿™ä¸ªæ³¨è§£æ˜¯ç»§æ‰¿äºå“ªä¸ªæ³¨è§£ç±»ï¼ˆé»˜è®¤ æ³¨è§£å¹¶æ²¡æœ‰ç»§æ‰¿äºä»»ä½•å­ç±»ï¼‰\n\nä»Java7å¼€å§‹ï¼Œé¢å¤–æ·»åŠ äº†3ä¸ªæ³¨è§£\n@SafeVarargsï¼šJava7å¼€å§‹æ”¯æŒï¼Œå¿½ç•¥ä»»ä½•ä½¿ç”¨å‚æ•°ä¸ºæ³›å‹å˜é‡çš„æ–¹æ³•æˆ–æ„é€ å‡½æ•°è°ƒç”¨äº§ç”Ÿçš„è­¦å‘Šã€‚\n@Functionallnterfaceï¼šJava8å¼€å§‹æ”¯æŒï¼Œæ ‡è¯†ä¸€ä¸ªåŒ¿åå‡½æ•°æˆ–å‡½æ•°å¼æ¥å£ã€‚\n@Repeatableï¼šJava8å¼€å§‹æ”¯æŒï¼Œæ ‡è¯†æŸæ³¨è§£å¯ä»¥åœ¨åŒä¸€ä¸ªç”³æ˜ä¸Šä½¿ç”¨å¤šæ¬¡ã€‚\n\nAnnotationæ¶æ„\n\nä»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼š\n\n1ä¸ªAnnotationå’Œ1ä¸ªRetentionPolicyå…³è”ã€‚\n\nå¯ä»¥ç†è§£ä¸ºï¼šæ¯1ä¸ªAnnotationå¯¹è±¡ï¼Œéƒ½ä¼šæœ‰å”¯ä¸€çš„RetentionPolicyå±æ€§ã€‚\n\n\n1ä¸ªAnnotationå’Œ1~nä¸ªElementTypeå…³è”ã€‚\n\nå¯ä»¥ç†è§£ä¸ºï¼šå¯¹äºæ¯1ä¸ªAnnotationå¯¹è±¡ï¼Œå¯ä»¥æœ‰è‹¥å¹²ä¸ªElementTypeå±æ€§ã€‚\n\n\nAnnotationæœ‰è®¸å¤šå®ç°ç±»ï¼ŒåŒ…æ‹¬ï¼šDeprecatedï¼ŒDocumentedï¼ŒInheritedï¼ŒOverrideç­‰ç­‰ã€‚\n\nAnnotationçš„æ¯ä¸ªå®ç°ç±»ï¼Œéƒ½â€œå’Œ1ä¸ªRetentionPolicyå…³è”â€å¹¶ä¸”â€œå’Œ1~nä¸ªElementTypeå…³è”â€ã€‚\nä¸‹é¢ï¼Œæˆ‘å…ˆä»‹ç»æ¡†æ¶å›¾çš„å·¦åŠè¾¹ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œå³Annotationï¼ŒRetentionPï¼ŒElementTypeï¼›ç„¶ååœ¨å°±Annotationçš„å®ç°ç±»è¿›è¡Œä¸¾ä¾‹è¯´æ˜ã€‚\n\n\n\n\nAnnotationç»„æˆéƒ¨åˆ†\nJava Annotationçš„ç»„æˆä¸­ï¼Œæœ‰3ä¸ªéå¸¸é‡è¦çš„ä¸»å¹²ç±»ã€‚å®ƒä»¬åˆ†åˆ«æ˜¯ï¼š\nAnnotation.javaï¼š\npackage java.lang.annotation;public interface Annotation {    boolean equals(Object obj);        int hashCode();        String toString();        Class&lt;? extends Annotation&gt; annotationType();}\n\nElementType.javaï¼š\npackage java.lang.annotation;public enum ElementType {    TYPE, /*ç±»ã€æ¥å£ï¼ˆåŒ…æ‹¬æ³¨é‡Šç±»å‹ï¼‰æˆ–æšä¸¾å£°æ˜*/    FIELD, /*å­—æ®µå£°æ˜ï¼ˆåŒ…æ‹¬æšä¸¾å¸¸é‡ï¼‰*/    METHOD, /*æ–¹æ³•å£°æ˜*/    PARAMETER, /*å‚æ•°å£°æ˜*/    CONSTRUCTOR, /*æ„é€ æ–¹æ³•å£°æ˜*/    LOCAL_VARIABLE, /*å±€éƒ¨å˜é‡å£°æ˜*/    ANNOTATION_TYPE, /*æ³¨é‡Šç±»å‹ç”³æ˜*/    PACKAGE /*åŒ…å£°æ˜*/}\n\nRetentionPolicy.javaï¼š\npackage java.lang.annotation;public enum RetentionPolicy {    SOURCE, /*Annotationä¿¡æ¯ä»…å­˜åœ¨äºç¼–è¯‘å™¨å¤„ç†æœŸé—´ï¼Œç¼–è¯‘å™¨å¤„ç†å®Œä¹‹åå°±æ²¡æœ‰è¯¥Annotationä¿¡æ¯äº†*/    CLASS, /*ç¼–è¯‘å™¨Annotationå­˜å‚¨äºç±»å¯¹åº”de.classæ–‡ä»¶ä¸­ã€‚é»˜è®¤è¡Œä¸º*/    RUNTIME /*ç¼–è¯‘å™¨å°†Annotationå­˜å‚¨äºclassæ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”å¯ç”±JVMè¯»å…¥*/}\n\nè¯´æ˜ï¼š\n\nAnnotationå°±æ˜¯ä¸ªæ¥å£ã€‚\n\nâ€œæ¯1ä¸ªAnnotationâ€éƒ½ä¸â€œ1ä¸ªRetentionPolicyâ€å…³è”ï¼Œå¹¶ä¸”ä¸ â€œ1ï½n ä¸ª ElementTypeâ€ å…³è”ã€‚å¯ä»¥é€šä¿—çš„ç†è§£ä¸ºï¼šæ¯ 1 ä¸ª Annotation å¯¹è±¡ï¼Œéƒ½ä¼šæœ‰å”¯ä¸€çš„ RetentionPolicy å±æ€§ï¼›è‡³äº ElementType å±æ€§ï¼Œåˆ™æœ‰ 1~n ä¸ªã€‚\n\n\nElementType æ˜¯ Enum æšä¸¾ç±»å‹ï¼Œå®ƒç”¨æ¥æŒ‡å®š Annotation çš„ç±»å‹ã€‚\n\nâ€œæ¯ 1 ä¸ª Annotationâ€ éƒ½ä¸ â€œ1ï½n ä¸ª ElementTypeâ€ å…³è”ã€‚å½“ Annotation ä¸æŸä¸ª ElementType å…³è”æ—¶ï¼Œå°±æ„å‘³ç€ï¼šAnnotationæœ‰äº†æŸç§ç”¨é€”ã€‚ä¾‹å¦‚ï¼Œè‹¥ä¸€ä¸ª Annotation å¯¹è±¡æ˜¯ METHOD ç±»å‹ï¼Œåˆ™è¯¥ Annotation åªèƒ½ç”¨æ¥ä¿®é¥°æ–¹æ³•ã€‚\n\n\nRetentionPolicy æ˜¯ Enum æšä¸¾ç±»å‹ï¼Œå®ƒç”¨æ¥æŒ‡å®š Annotation çš„ç­–ç•¥ã€‚é€šä¿—ç‚¹è¯´ï¼Œå°±æ˜¯ä¸åŒ RetentionPolicy ç±»å‹çš„ Annotation çš„ä½œç”¨åŸŸä¸åŒã€‚\n\n\n\nâ€œæ¯ 1 ä¸ª Annotationâ€ éƒ½ä¸ â€œ1 ä¸ª RetentionPolicyâ€ å…³è”ã€‚\n\na) è‹¥ Annotation çš„ç±»å‹ä¸º SOURCEï¼Œåˆ™æ„å‘³ç€ï¼šAnnotation ä»…å­˜åœ¨äºç¼–è¯‘å™¨å¤„ç†æœŸé—´ï¼Œç¼–è¯‘å™¨å¤„ç†å®Œä¹‹åï¼Œè¯¥ Annotation å°±æ²¡ç”¨äº†ã€‚ ä¾‹å¦‚ï¼Œâ€ @Overrideâ€ æ ‡å¿—å°±æ˜¯ä¸€ä¸ª Annotationã€‚å½“å®ƒä¿®é¥°ä¸€ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œå°±æ„å‘³ç€è¯¥æ–¹æ³•è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•ï¼›å¹¶ä¸”åœ¨ç¼–è¯‘æœŸé—´ä¼šè¿›è¡Œè¯­æ³•æ£€æŸ¥ï¼ç¼–è¯‘å™¨å¤„ç†å®Œåï¼Œâ€@Overrideâ€ å°±æ²¡æœ‰ä»»ä½•ä½œç”¨äº†ã€‚\nb) è‹¥ Annotation çš„ç±»å‹ä¸º CLASSï¼Œåˆ™æ„å‘³ç€ï¼šç¼–è¯‘å™¨å°† Annotation å­˜å‚¨äºç±»å¯¹åº”çš„ .class æ–‡ä»¶ä¸­ï¼Œå®ƒæ˜¯ Annotation çš„é»˜è®¤è¡Œä¸ºã€‚\nc) è‹¥ Annotation çš„ç±»å‹ä¸º RUNTIMEï¼Œåˆ™æ„å‘³ç€ï¼šç¼–è¯‘å™¨å°† Annotation å­˜å‚¨äº class æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”å¯ç”±JVMè¯»å…¥ã€‚\n\nè¿™æ—¶ï¼Œåªéœ€è¦è®°ä½â€æ¯ 1 ä¸ª Annotationâ€ éƒ½ä¸ â€œ1 ä¸ª RetentionPolicyâ€ å…³è”ï¼Œå¹¶ä¸”ä¸ â€œ1ï½n ä¸ª ElementTypeâ€ å…³è”ã€‚å­¦å®Œåé¢çš„å†…å®¹ä¹‹åï¼Œå†å›å¤´çœ‹è¿™äº›å†…å®¹ï¼Œä¼šæ›´å®¹æ˜“ç†è§£ã€‚\n\njava è‡ªå¸¦çš„ Annotation\nç†è§£äº†ä¸Šé¢çš„ 3 ä¸ªç±»çš„ä½œç”¨ä¹‹åï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å¯ä»¥è®²è§£ Annotation å®ç°ç±»çš„è¯­æ³•å®šä¹‰äº†ã€‚\n1ï¼‰Annotationé€šç”¨å®šä¹‰\n@Documented@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)public @interface MyAnnotation1 {    }\n\nè¯´æ˜ï¼š\nä¸Šé¢çš„ä½œç”¨æ˜¯å®šä¹‰ä¸€ä¸ª Annotationï¼Œå®ƒçš„åå­—æ˜¯ MyAnnotation1ã€‚å®šä¹‰äº† MyAnnotation1 ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»£ç ä¸­é€šè¿‡ â€œ@MyAnnotation1â€ æ¥ä½¿ç”¨å®ƒã€‚ å…¶å®ƒçš„ï¼Œ@Documented, @Target, @Retention, @interface éƒ½æ˜¯æ¥ä¿®é¥° MyAnnotation1 çš„ã€‚ä¸‹é¢åˆ†åˆ«è¯´è¯´å®ƒä»¬çš„å«ä¹‰ï¼š\n(01) @interface\nä½¿ç”¨ @interface å®šä¹‰æ³¨è§£æ—¶ï¼Œæ„å‘³ç€å®ƒå®ç°äº† java.lang.annotation.Annotation æ¥å£ï¼Œå³è¯¥æ³¨è§£å°±æ˜¯ä¸€ä¸ªAnnotationã€‚\nå®šä¹‰ Annotation æ—¶ï¼Œ@interface æ˜¯å¿…é¡»çš„ã€‚\næ³¨æ„ï¼šå®ƒå’Œæˆ‘ä»¬é€šå¸¸çš„ implemented å®ç°æ¥å£çš„æ–¹æ³•ä¸åŒã€‚Annotation æ¥å£çš„å®ç°ç»†èŠ‚éƒ½ç”±ç¼–è¯‘å™¨å®Œæˆã€‚é€šè¿‡ @interface å®šä¹‰æ³¨è§£åï¼Œè¯¥æ³¨è§£ä¸èƒ½ç»§æ‰¿å…¶ä»–çš„æ³¨è§£æˆ–æ¥å£ã€‚\n(02) @Documented\nç±»å’Œæ–¹æ³•çš„ Annotation åœ¨ç¼ºçœæƒ…å†µä¸‹æ˜¯ä¸å‡ºç°åœ¨ javadoc ä¸­çš„ã€‚å¦‚æœä½¿ç”¨ @Documented ä¿®é¥°è¯¥ Annotationï¼Œåˆ™è¡¨ç¤ºå®ƒå¯ä»¥å‡ºç°åœ¨ javadoc ä¸­ã€‚\nå®šä¹‰ Annotation æ—¶ï¼Œ@Documented å¯æœ‰å¯æ— ï¼›è‹¥æ²¡æœ‰å®šä¹‰ï¼Œåˆ™ Annotation ä¸ä¼šå‡ºç°åœ¨ javadoc ä¸­ã€‚\n(03) @Target(ElementType.TYPE)\nå‰é¢æˆ‘ä»¬è¯´è¿‡ï¼ŒElementType æ˜¯ Annotation çš„ç±»å‹å±æ€§ã€‚è€Œ @Target çš„ä½œç”¨ï¼Œå°±æ˜¯æ¥æŒ‡å®š Annotation çš„ç±»å‹å±æ€§ã€‚\n@Target(ElementType.TYPE) çš„æ„æ€å°±æ˜¯æŒ‡å®šè¯¥ Annotation çš„ç±»å‹æ˜¯ ElementType.TYPEã€‚è¿™å°±æ„å‘³ç€ï¼ŒMyAnnotation1 æ˜¯æ¥ä¿®é¥°â€ç±»ã€æ¥å£ï¼ˆåŒ…æ‹¬æ³¨é‡Šç±»å‹ï¼‰æˆ–æšä¸¾å£°æ˜â€çš„æ³¨è§£ã€‚\nå®šä¹‰ Annotation æ—¶ï¼Œ@Target å¯æœ‰å¯æ— ã€‚è‹¥æœ‰ @Targetï¼Œåˆ™è¯¥ Annotation åªèƒ½ç”¨äºå®ƒæ‰€æŒ‡å®šçš„åœ°æ–¹ï¼›è‹¥æ²¡æœ‰ @Targetï¼Œåˆ™è¯¥ Annotation å¯ä»¥ç”¨äºä»»ä½•åœ°æ–¹ã€‚\n(04) @Retention(RetentionPolicy.RUNTIME)\nå‰é¢æˆ‘ä»¬è¯´è¿‡ï¼ŒRetentionPolicy æ˜¯ Annotation çš„ç­–ç•¥å±æ€§ï¼Œè€Œ @Retention çš„ä½œç”¨ï¼Œå°±æ˜¯æŒ‡å®š Annotation çš„ç­–ç•¥å±æ€§ã€‚\n@Retention(RetentionPolicy.RUNTIME) çš„æ„æ€å°±æ˜¯æŒ‡å®šè¯¥ Annotation çš„ç­–ç•¥æ˜¯ RetentionPolicy.RUNTIMEã€‚è¿™å°±æ„å‘³ç€ï¼Œç¼–è¯‘å™¨ä¼šå°†è¯¥ Annotation ä¿¡æ¯ä¿ç•™åœ¨ .class æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”èƒ½è¢«è™šæ‹Ÿæœºè¯»å–ã€‚\nå®šä¹‰ Annotation æ—¶ï¼Œ@Retention å¯æœ‰å¯æ— ã€‚è‹¥æ²¡æœ‰ @Retentionï¼Œåˆ™é»˜è®¤æ˜¯ RetentionPolicy.CLASSã€‚\n2ï¼‰javaè‡ªå¸¦çš„Annotationé€šè¿‡ä¸Šé¢çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬èƒ½ç†è§£ï¼š@interface ç”¨æ¥å£°æ˜ Annotationï¼Œ@Documented ç”¨æ¥è¡¨ç¤ºè¯¥ Annotation æ˜¯å¦ä¼šå‡ºç°åœ¨ javadoc ä¸­ï¼Œ @Target ç”¨æ¥æŒ‡å®š Annotation çš„ç±»å‹ï¼Œ@Retention ç”¨æ¥æŒ‡å®š Annotation çš„ç­–ç•¥ã€‚\nç†è§£è¿™ä¸€ç‚¹ä¹‹åï¼Œæˆ‘ä»¬å°±å¾ˆå®¹æ˜“ç†è§£ java ä¸­è‡ªå¸¦çš„ Annotation çš„å®ç°ç±»ï¼Œå³ Annotation æ¶æ„å›¾çš„å³åŠè¾¹ã€‚å¦‚ä¸‹å›¾ï¼š\n\njava å¸¸ç”¨çš„ Annotationï¼š\n@Deprecated  -- @Deprecated æ‰€æ ‡æ³¨å†…å®¹ï¼Œä¸å†è¢«å»ºè®®ä½¿ç”¨ã€‚@Override    -- @Override åªèƒ½æ ‡æ³¨æ–¹æ³•ï¼Œè¡¨ç¤ºè¯¥æ–¹æ³•è¦†ç›–çˆ¶ç±»ä¸­çš„æ–¹æ³•ã€‚@Documented  -- @Documented æ‰€æ ‡æ³¨å†…å®¹ï¼Œå¯ä»¥å‡ºç°åœ¨javadocä¸­ã€‚@Inherited   -- @Inheritedåªèƒ½è¢«ç”¨æ¥æ ‡æ³¨â€œAnnotationç±»å‹â€ï¼Œå®ƒæ‰€æ ‡æ³¨çš„Annotationå…·æœ‰ç»§æ‰¿æ€§ã€‚@Retention   -- @Retentionåªèƒ½è¢«ç”¨æ¥æ ‡æ³¨â€œAnnotationç±»å‹â€ï¼Œè€Œä¸”å®ƒè¢«ç”¨æ¥æŒ‡å®šAnnotationçš„RetentionPolicyå±æ€§ã€‚@Target      -- @Targetåªèƒ½è¢«ç”¨æ¥æ ‡æ³¨â€œAnnotationç±»å‹â€ï¼Œè€Œä¸”å®ƒè¢«ç”¨æ¥æŒ‡å®šAnnotationçš„ElementTypeå±æ€§ã€‚@SuppressWarnings -- @SuppressWarnings æ‰€æ ‡æ³¨å†…å®¹äº§ç”Ÿçš„è­¦å‘Šï¼Œç¼–è¯‘å™¨ä¼šå¯¹è¿™äº›è­¦å‘Šä¿æŒé™é»˜ã€‚\n\nç”±äº â€œ@Deprecated å’Œ @Overrideâ€ ç±»ä¼¼ï¼Œâ€@Documented, @Inherited, @Retention, @Targetâ€ ç±»ä¼¼ï¼›ä¸‹é¢ï¼Œæˆ‘ä»¬åªå¯¹ @Deprecated, @Inherited, @SuppressWarnings è¿™ 3 ä¸ª Annotation è¿›è¡Œè¯´æ˜ã€‚\n2.1) @Deprecated\n@Deprecated çš„å®šä¹‰å¦‚ä¸‹ï¼š\n@Documented@Retention(RetentionPolicy.RUNTIME)public @interface Deprecated {}\n\nè¯´æ˜ï¼š\n\n(01) @interface â€“ å®ƒçš„ç”¨æ¥ä¿®é¥° Deprecatedï¼Œæ„å‘³ç€ Deprecated å®ç°äº† java.lang.annotation.Annotation æ¥å£ï¼›å³ Deprecated å°±æ˜¯ä¸€ä¸ªæ³¨è§£ã€‚ (02) @Documented â€“ å®ƒçš„ä½œç”¨æ˜¯è¯´æ˜è¯¥æ³¨è§£èƒ½å‡ºç°åœ¨ javadoc ä¸­ã€‚\n(03) @Retention(RetentionPolicy.RUNTIME) â€“ å®ƒçš„ä½œç”¨æ˜¯æŒ‡å®š Deprecated çš„ç­–ç•¥æ˜¯ RetentionPolicy.RUNTIMEã€‚è¿™å°±æ„å‘³ç€ï¼Œç¼–è¯‘å™¨ä¼šå°†Deprecated çš„ä¿¡æ¯ä¿ç•™åœ¨ .class æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”èƒ½è¢«è™šæ‹Ÿæœºè¯»å–ã€‚\n(04) @Deprecated æ‰€æ ‡æ³¨å†…å®¹ï¼Œä¸å†è¢«å»ºè®®ä½¿ç”¨ã€‚\n\nä¾‹å¦‚ï¼Œè‹¥æŸä¸ªæ–¹æ³•è¢« @Deprecated æ ‡æ³¨ï¼Œåˆ™è¯¥æ–¹æ³•ä¸å†è¢«å»ºè®®ä½¿ç”¨ã€‚å¦‚æœæœ‰å¼€å‘äººå‘˜è¯•å›¾ä½¿ç”¨æˆ–é‡å†™è¢« @Deprecated æ ‡ç¤ºçš„æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šç»™ç›¸åº”çš„æç¤ºä¿¡æ¯ã€‚ç¤ºä¾‹å¦‚ä¸‹:\n","categories":["Java"],"tags":["Java","AOP","æ³¨è§£ç¼–ç¨‹"]},{"title":"Kafkaä½¿ç”¨","url":"/2025/02/15/learnnote/java-xue-xi-bi-ji/kafka-shi-yong/","content":"Kafkaä½¿ç”¨\nä»€ä¹ˆæ˜¯ KafkaKafka æ˜¯ç”± Linkedin å…¬å¸å¼€å‘çš„ï¼Œå®ƒæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„ï¼Œæ”¯æŒå¤šåˆ†åŒºã€å¤šå‰¯æœ¬ï¼ŒåŸºäº Zookeeper çš„åˆ†å¸ƒå¼æ¶ˆæ¯æµå¹³å°ï¼Œå®ƒåŒæ—¶ä¹Ÿæ˜¯ä¸€æ¬¾å¼€æºçš„åŸºäºå‘å¸ƒè®¢é˜…æ¨¡å¼çš„æ¶ˆæ¯å¼•æ“ç³»ç»Ÿã€‚\nKafka çš„åŸºæœ¬æœ¯è¯­\næ¶ˆæ¯ï¼šKafka ä¸­çš„æ•°æ®å•å…ƒè¢«ç§°ä¸ºæ¶ˆæ¯ï¼Œä¹Ÿè¢«ç§°ä¸ºè®°å½•ï¼Œå¯ä»¥æŠŠå®ƒçœ‹ä½œæ•°æ®åº“è¡¨ä¸­æŸä¸€è¡Œçš„è®°å½•ã€‚\n\næ‰¹æ¬¡ï¼šä¸ºäº†æé«˜æ•ˆç‡ï¼Œ æ¶ˆæ¯ä¼šåˆ†æ‰¹æ¬¡å†™å…¥ Kafkaï¼Œæ‰¹æ¬¡å°±ä»£æŒ‡çš„æ˜¯ä¸€ç»„æ¶ˆæ¯ã€‚\n\nä¸»é¢˜ï¼šæ¶ˆæ¯çš„ç§ç±»ç§°ä¸º ä¸»é¢˜ï¼ˆTopicï¼‰,å¯ä»¥è¯´ä¸€ä¸ªä¸»é¢˜ä»£è¡¨äº†ä¸€ç±»æ¶ˆæ¯ã€‚ç›¸å½“äºæ˜¯å¯¹æ¶ˆæ¯è¿›è¡Œåˆ†ç±»ã€‚ä¸»é¢˜å°±åƒæ˜¯æ•°æ®åº“ä¸­çš„è¡¨ã€‚\n\nåˆ†åŒºï¼šä¸»é¢˜å¯ä»¥è¢«åˆ†ä¸ºè‹¥å¹²ä¸ªåˆ†åŒºï¼ˆpartitionï¼‰ï¼ŒåŒä¸€ä¸ªä¸»é¢˜ä¸­çš„åˆ†åŒºå¯ä»¥ä¸åœ¨ä¸€ä¸ªæœºå™¨ä¸Šï¼Œæœ‰å¯èƒ½ä¼šéƒ¨ç½²åœ¨å¤šä¸ªæœºå™¨ä¸Šï¼Œç”±æ­¤æ¥å®ç° kafka çš„ä¼¸ç¼©æ€§ï¼Œå•ä¸€ä¸»é¢˜ä¸­çš„åˆ†åŒºæœ‰åºï¼Œä½†æ˜¯æ— æ³•ä¿è¯ä¸»é¢˜ä¸­æ‰€æœ‰çš„åˆ†åŒºæœ‰åº\n\n\nç”Ÿäº§è€…ï¼šå‘ä¸»é¢˜å‘å¸ƒæ¶ˆæ¯çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºç§°ä¸ºç”Ÿäº§è€…ï¼ˆProducerï¼‰ï¼Œç”Ÿäº§è€…ç”¨äºæŒç»­ä¸æ–­çš„å‘æŸä¸ªä¸»é¢˜å‘é€æ¶ˆæ¯ã€‚\n\næ¶ˆè´¹è€…ï¼šè®¢é˜…ä¸»é¢˜æ¶ˆæ¯çš„å®¢æˆ·ç«¯ç¨‹åºç§°ä¸ºæ¶ˆè´¹è€…ï¼ˆConsumerï¼‰ï¼Œæ¶ˆè´¹è€…ç”¨äºå¤„ç†ç”Ÿäº§è€…äº§ç”Ÿçš„æ¶ˆæ¯ã€‚\n\næ¶ˆè´¹è€…ç¾¤ç»„ï¼šç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…çš„å…³ç³»å°±å¦‚åŒé¤å…ä¸­çš„å¨å¸ˆå’Œé¡¾å®¢ä¹‹é—´çš„å…³ç³»ä¸€æ ·ï¼Œä¸€ä¸ªå¨å¸ˆå¯¹åº”å¤šä¸ªé¡¾å®¢ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç”Ÿäº§è€…å¯¹åº”å¤šä¸ªæ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹è€…ç¾¤ç»„ï¼ˆConsumer Groupï¼‰æŒ‡çš„å°±æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªæ¶ˆè´¹è€…ç»„æˆçš„ç¾¤ä½“ã€‚\n\n\nåç§»é‡ï¼šåç§»é‡ï¼ˆConsumer Offsetï¼‰æ˜¯ä¸€ç§å…ƒæ•°æ®ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸æ–­é€’å¢çš„æ•´æ•°å€¼ï¼Œç”¨æ¥è®°å½•æ¶ˆè´¹è€…å‘ç”Ÿé‡å¹³è¡¡æ—¶çš„ä½ç½®ï¼Œä»¥ä¾¿ç”¨æ¥æ¢å¤æ•°æ®ã€‚\n\nbroker: ä¸€ä¸ªç‹¬ç«‹çš„ Kafka æœåŠ¡å™¨å°±è¢«ç§°ä¸º brokerï¼Œbroker æ¥æ”¶æ¥è‡ªç”Ÿäº§è€…çš„æ¶ˆæ¯ï¼Œä¸ºæ¶ˆæ¯è®¾ç½®åç§»é‡ï¼Œå¹¶æäº¤æ¶ˆæ¯åˆ°ç£ç›˜ä¿å­˜ã€‚\n\nbroker é›†ç¾¤ï¼šbroker æ˜¯é›†ç¾¤ çš„ç»„æˆéƒ¨åˆ†ï¼Œbroker é›†ç¾¤ç”±ä¸€ä¸ªæˆ–å¤šä¸ª broker ç»„æˆï¼Œæ¯ä¸ªé›†ç¾¤éƒ½æœ‰ä¸€ä¸ª broker åŒæ—¶å……å½“äº†é›†ç¾¤æ§åˆ¶å™¨çš„è§’è‰²ï¼ˆè‡ªåŠ¨ä»é›†ç¾¤çš„æ´»è·ƒæˆå‘˜ä¸­é€‰ä¸¾å‡ºæ¥ï¼‰ã€‚\n\nå‰¯æœ¬ï¼šKafka ä¸­æ¶ˆæ¯çš„å¤‡ä»½åˆå«åš å‰¯æœ¬ï¼ˆReplicaï¼‰ï¼Œå‰¯æœ¬çš„æ•°é‡æ˜¯å¯ä»¥é…ç½®çš„ï¼ŒKafka å®šä¹‰äº†ä¸¤ç±»å‰¯æœ¬ï¼šé¢†å¯¼è€…å‰¯æœ¬ï¼ˆLeader Replicaï¼‰ å’Œ è¿½éšè€…å‰¯æœ¬ï¼ˆFollower Replicaï¼‰ï¼Œå‰è€…å¯¹å¤–æä¾›æœåŠ¡ï¼Œåè€…åªæ˜¯è¢«åŠ¨è·Ÿéšã€‚\n\né‡å¹³è¡¡ï¼šRebalanceã€‚æ¶ˆè´¹è€…ç»„å†…æŸä¸ªæ¶ˆè´¹è€…å®ä¾‹æŒ‚æ‰åï¼Œå…¶ä»–æ¶ˆè´¹è€…å®ä¾‹è‡ªåŠ¨é‡æ–°åˆ†é…è®¢é˜…ä¸»é¢˜åˆ†åŒºçš„è¿‡ç¨‹ã€‚Rebalance æ˜¯ Kafka æ¶ˆè´¹è€…ç«¯å®ç°é«˜å¯ç”¨çš„é‡è¦æ‰‹æ®µã€‚\n\n\nKafka çš„ç‰¹æ€§ï¼ˆè®¾è®¡åŸåˆ™ï¼‰\né«˜ååã€ä½å»¶è¿Ÿï¼škakfa æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯æ”¶å‘æ¶ˆæ¯éå¸¸å¿«ï¼Œkafka æ¯ç§’å¯ä»¥å¤„ç†å‡ åä¸‡æ¡æ¶ˆæ¯ï¼Œå®ƒçš„æœ€ä½å»¶è¿Ÿåªæœ‰å‡ æ¯«ç§’ã€‚\né«˜ä¼¸ç¼©æ€§ï¼šæ¯ä¸ªä¸»é¢˜(topic) åŒ…å«å¤šä¸ªåˆ†åŒº(partition)ï¼Œä¸»é¢˜ä¸­çš„åˆ†åŒºå¯ä»¥åˆ†å¸ƒåœ¨ä¸åŒçš„ä¸»æœº(broker)ä¸­ã€‚\næŒä¹…æ€§ã€å¯é æ€§ï¼šKafka èƒ½å¤Ÿå…è®¸æ•°æ®çš„æŒä¹…åŒ–å­˜å‚¨ï¼Œæ¶ˆæ¯è¢«æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œå¹¶æ”¯æŒæ•°æ®å¤‡ä»½é˜²æ­¢æ•°æ®ä¸¢å¤±ï¼ŒKafka åº•å±‚çš„æ•°æ®å­˜å‚¨æ˜¯åŸºäº Zookeeper å­˜å‚¨çš„ï¼ŒZookeeper æˆ‘ä»¬çŸ¥é“å®ƒçš„æ•°æ®èƒ½å¤ŸæŒä¹…å­˜å‚¨ã€‚\nå®¹é”™æ€§ï¼šå…è®¸é›†ç¾¤ä¸­çš„èŠ‚ç‚¹å¤±è´¥ï¼ŒæŸä¸ªèŠ‚ç‚¹å®•æœºï¼ŒKafka é›†ç¾¤èƒ½å¤Ÿæ­£å¸¸å·¥ä½œ\né«˜å¹¶å‘ï¼šæ”¯æŒæ•°åƒä¸ªå®¢æˆ·ç«¯åŒæ—¶è¯»å†™\n\nKafka çš„ä½¿ç”¨åœºæ™¯\næ´»åŠ¨è·Ÿè¸ªï¼šKafka å¯ä»¥ç”¨æ¥è·Ÿè¸ªç”¨æˆ·è¡Œä¸ºï¼Œæ¯”å¦‚æˆ‘ä»¬ç»å¸¸å›å»æ·˜å®è´­ç‰©ï¼Œä½ æ‰“å¼€æ·˜å®çš„é‚£ä¸€åˆ»ï¼Œä½ çš„ç™»é™†ä¿¡æ¯ï¼Œç™»é™†æ¬¡æ•°éƒ½ä¼šä½œä¸ºæ¶ˆæ¯ä¼ è¾“åˆ° Kafka ï¼Œå½“ä½ æµè§ˆè´­ç‰©çš„æ—¶å€™ï¼Œä½ çš„æµè§ˆä¿¡æ¯ï¼Œä½ çš„æœç´¢æŒ‡æ•°ï¼Œä½ çš„è´­ç‰©çˆ±å¥½éƒ½ä¼šä½œä¸ºä¸€ä¸ªä¸ªæ¶ˆæ¯ä¼ é€’ç»™ Kafka ï¼Œè¿™æ ·å°±å¯ä»¥ç”ŸæˆæŠ¥å‘Šï¼Œå¯ä»¥åšæ™ºèƒ½æ¨èï¼Œè´­ä¹°å–œå¥½ç­‰ã€‚\nä¼ é€’æ¶ˆæ¯ï¼šKafka å¦å¤–ä¸€ä¸ªåŸºæœ¬ç”¨é€”æ˜¯ä¼ é€’æ¶ˆæ¯ï¼Œåº”ç”¨ç¨‹åºå‘ç”¨æˆ·å‘é€é€šçŸ¥å°±æ˜¯é€šè¿‡ä¼ é€’æ¶ˆæ¯æ¥å®ç°çš„ï¼Œè¿™äº›åº”ç”¨ç»„ä»¶å¯ä»¥ç”Ÿæˆæ¶ˆæ¯ï¼Œè€Œä¸éœ€è¦å…³å¿ƒæ¶ˆæ¯çš„æ ¼å¼ï¼Œä¹Ÿä¸éœ€è¦å…³å¿ƒæ¶ˆæ¯æ˜¯å¦‚ä½•å‘é€çš„ã€‚\nåº¦é‡æŒ‡æ ‡ï¼šKafkaä¹Ÿç»å¸¸ç”¨æ¥è®°å½•è¿è¥ç›‘æ§æ•°æ®ã€‚åŒ…æ‹¬æ”¶é›†å„ç§åˆ†å¸ƒå¼åº”ç”¨çš„æ•°æ®ï¼Œç”Ÿäº§å„ç§æ“ä½œçš„é›†ä¸­åé¦ˆï¼Œæ¯”å¦‚æŠ¥è­¦å’ŒæŠ¥å‘Šã€‚\næ—¥å¿—è®°å½•ï¼šKafka çš„åŸºæœ¬æ¦‚å¿µæ¥æºäºæäº¤æ—¥å¿—ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥æŠŠæ•°æ®åº“çš„æ›´æ–°å‘é€åˆ° Kafka ä¸Šï¼Œç”¨æ¥è®°å½•æ•°æ®åº“çš„æ›´æ–°æ—¶é—´ï¼Œé€šè¿‡kafkaä»¥ç»Ÿä¸€æ¥å£æœåŠ¡çš„æ–¹å¼å¼€æ”¾ç»™å„ç§consumerï¼Œä¾‹å¦‚hadoopã€Hbaseã€Solrç­‰ã€‚\næµå¼å¤„ç†ï¼šæµå¼å¤„ç†æ˜¯æœ‰ä¸€ä¸ªèƒ½å¤Ÿæä¾›å¤šç§åº”ç”¨ç¨‹åºçš„é¢†åŸŸã€‚\né™æµå‰Šå³°ï¼šKafka å¤šç”¨äºäº’è”ç½‘é¢†åŸŸæŸä¸€æ—¶åˆ»è¯·æ±‚ç‰¹åˆ«å¤šçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥æŠŠè¯·æ±‚å†™å…¥Kafka ä¸­ï¼Œé¿å…ç›´æ¥è¯·æ±‚åç«¯ç¨‹åºå¯¼è‡´æœåŠ¡å´©æºƒã€‚\n\nKafka çš„æ¶ˆæ¯é˜Ÿåˆ—Kafka çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸€èˆ¬åˆ†ä¸ºä¸¤ç§æ¨¡å¼ï¼šç‚¹å¯¹ç‚¹æ¨¡å¼å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼\nKafka æ˜¯æ”¯æŒæ¶ˆè´¹è€…ç¾¤ç»„çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ Kafka ä¸­ä¼šæœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ¶ˆè´¹è€…ï¼Œå¦‚æœä¸€ä¸ªç”Ÿäº§è€…ç”Ÿäº§çš„æ¶ˆæ¯ç”±ä¸€ä¸ªæ¶ˆè´¹è€…è¿›è¡Œæ¶ˆè´¹çš„è¯ï¼Œé‚£ä¹ˆè¿™ç§æ¨¡å¼å°±æ˜¯ç‚¹å¯¹ç‚¹æ¨¡å¼\n\nå¦‚æœä¸€ä¸ªç”Ÿäº§è€…æˆ–è€…å¤šä¸ªç”Ÿäº§è€…äº§ç”Ÿçš„æ¶ˆæ¯èƒ½å¤Ÿè¢«å¤šä¸ªæ¶ˆè´¹è€…åŒæ—¶æ¶ˆè´¹çš„æƒ…å†µï¼Œè¿™æ ·çš„æ¶ˆæ¯é˜Ÿåˆ—æˆä¸ºå‘å¸ƒè®¢é˜…æ¨¡å¼çš„æ¶ˆæ¯é˜Ÿåˆ—\n\nKafka ç³»ç»Ÿæ¶æ„\nå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸€ä¸ªå…¸å‹çš„ Kafka é›†ç¾¤ä¸­åŒ…å«è‹¥å¹²Producerï¼ˆå¯ä»¥æ˜¯webå‰ç«¯äº§ç”Ÿçš„Page Viewï¼Œæˆ–è€…æ˜¯æœåŠ¡å™¨æ—¥å¿—ï¼Œç³»ç»ŸCPUã€Memoryç­‰ï¼‰ï¼Œè‹¥å¹²brokerï¼ˆKafkaæ”¯æŒæ°´å¹³æ‰©å±•ï¼Œä¸€èˆ¬brokeræ•°é‡è¶Šå¤šï¼Œé›†ç¾¤ååç‡è¶Šé«˜ï¼‰ï¼Œè‹¥å¹²Consumer Groupï¼Œä»¥åŠä¸€ä¸ªZookeeperé›†ç¾¤ã€‚Kafkaé€šè¿‡Zookeeperç®¡ç†é›†ç¾¤é…ç½®ï¼Œé€‰ä¸¾leaderï¼Œä»¥åŠåœ¨Consumer Groupå‘ç”Ÿå˜åŒ–æ—¶è¿›è¡Œrebalanceã€‚Producerä½¿ç”¨pushæ¨¡å¼å°†æ¶ˆæ¯å‘å¸ƒåˆ°brokerï¼ŒConsumerä½¿ç”¨pullæ¨¡å¼ä»brokerè®¢é˜…å¹¶æ¶ˆè´¹æ¶ˆæ¯ã€‚\næ ¸å¿ƒ APIKafka æœ‰å››ä¸ªæ ¸å¿ƒAPIï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯\n\nProducer APIï¼Œå®ƒå…è®¸åº”ç”¨ç¨‹åºå‘ä¸€ä¸ªæˆ–å¤šä¸ª topics ä¸Šå‘é€æ¶ˆæ¯è®°å½•\nConsumer APIï¼Œå…è®¸åº”ç”¨ç¨‹åºè®¢é˜…ä¸€ä¸ªæˆ–å¤šä¸ª topics å¹¶å¤„ç†ä¸ºå…¶ç”Ÿæˆçš„è®°å½•æµ\nStreams APIï¼Œå®ƒå…è®¸åº”ç”¨ç¨‹åºä½œä¸ºæµå¤„ç†å™¨ï¼Œä»ä¸€ä¸ªæˆ–å¤šä¸ªä¸»é¢˜ä¸­æ¶ˆè´¹è¾“å…¥æµå¹¶ä¸ºå…¶ç”Ÿæˆè¾“å‡ºæµï¼Œæœ‰æ•ˆçš„å°†è¾“å…¥æµè½¬æ¢ä¸ºè¾“å‡ºæµã€‚\nConnector APIï¼Œå®ƒå…è®¸æ„å»ºå’Œè¿è¡Œå°† Kafka ä¸»é¢˜è¿æ¥åˆ°ç°æœ‰åº”ç”¨ç¨‹åºæˆ–æ•°æ®ç³»ç»Ÿçš„å¯ç”¨ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ã€‚ä¾‹å¦‚ï¼Œå…³ç³»æ•°æ®åº“çš„è¿æ¥å™¨å¯èƒ½ä¼šæ•è·å¯¹è¡¨çš„æ‰€æœ‰æ›´æ”¹\n\n\nKafka ä¸ºä½•å¦‚æ­¤ä¹‹å¿«Kafka å®ç°äº†é›¶æ‹·è´åŸç†æ¥å¿«é€Ÿç§»åŠ¨æ•°æ®ï¼Œé¿å…äº†å†…æ ¸ä¹‹é—´çš„åˆ‡æ¢ã€‚Kafka å¯ä»¥å°†æ•°æ®è®°å½•åˆ†æ‰¹å‘é€ï¼Œä»ç”Ÿäº§è€…åˆ°æ–‡ä»¶ç³»ç»Ÿï¼ˆKafka ä¸»é¢˜æ—¥å¿—ï¼‰åˆ°æ¶ˆè´¹è€…ï¼Œå¯ä»¥ç«¯åˆ°ç«¯çš„æŸ¥çœ‹è¿™äº›æ‰¹æ¬¡çš„æ•°æ®ã€‚\næ‰¹å¤„ç†èƒ½å¤Ÿè¿›è¡Œæ›´æœ‰æ•ˆçš„æ•°æ®å‹ç¼©å¹¶å‡å°‘ I/O å»¶è¿Ÿï¼ŒKafka é‡‡å–é¡ºåºå†™å…¥ç£ç›˜çš„æ–¹å¼ï¼Œé¿å…äº†éšæœºç£ç›˜å¯»å€çš„æµªè´¹ï¼Œæ›´å¤šå…³äºç£ç›˜å¯»å€çš„äº†è§£ï¼Œè¯·å‚é˜… ç¨‹åºå‘˜éœ€è¦äº†è§£çš„ç¡¬æ ¸çŸ¥è¯†ä¹‹ç£ç›˜ ã€‚\næ€»ç»“ä¸€ä¸‹å…¶å®å°±æ˜¯å››ä¸ªè¦ç‚¹\n\né¡ºåºè¯»å†™\né›¶æ‹·è´\næ¶ˆæ¯å‹ç¼©\nåˆ†æ‰¹å‘é€\n\nKafka å®‰è£…å’Œé‡è¦é…ç½®Kafka å®‰è£…æˆ‘åœ¨ Kafka ç³»åˆ—ç¬¬ä¸€ç¯‡åº”è¯¥æ¯”è¾ƒè¯¦ç»†äº†ï¼Œè¯¦æƒ…è§å¸¦ä½ æ¶¨å§¿åŠ¿çš„è®¤è¯†ä¸€ä¸‹kafka è¿™ç¯‡æ–‡ç« ã€‚\né‚£æˆ‘ä»¬è¿˜æ˜¯ä¸»è¦æ¥è¯´ä¸€ä¸‹ Kafka ä¸­çš„é‡è¦å‚æ•°é…ç½®å§ï¼Œè¿™äº›å‚æ•°å¯¹ Kafka æ¥è¯´æ˜¯éå¸¸é‡è¦çš„ã€‚\n","categories":["Kafka"],"tags":["Kafka","æ¶ˆæ¯é˜Ÿåˆ—"]},{"title":"MyBatisæ¡†æ¶å­¦ä¹ ","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/mybatis-xue-xi/","content":"MyBatisæ¡†æ¶å­¦ä¹ 1.å¸¸ç”¨çš„æ¡†æ¶SSMï¼š\nSpringï¼šå®ƒæ˜¯æ•´åˆå…¶å®ƒæ¡†æ¶çš„æ¡†æ¶ï¼Œå®ƒçš„æ ¸å¿ƒæ˜¯IOCå’ŒAOPï¼Œå®ƒç”±20å¤šä¸ªæ¨¡å—ç»„æˆï¼Œåœ¨å¾ˆå¤šé¢†åŸŸéƒ½æä¾›äº†å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œæ˜¯ä¸€ä¸ªå¤§ä½¬çº§åˆ«çš„å­˜åœ¨ã€‚\nSpringMVCï¼šå®ƒæ˜¯Springå®¶æ—çš„ä¸€å‘˜ï¼Œä¸“é—¨ç”¨æ¥ä¼˜åŒ–æ§åˆ¶å™¨ï¼ˆServletï¼‰çš„ã€‚æä¾›äº†æç®€å•æ•°æ®æäº¤ï¼Œæ•°æ®æºå¸¦ï¼Œé¡µé¢è·³è½¬ç­‰åŠŸèƒ½ã€‚\nMyBatistaï¼šæ˜¯æŒä¹…å±‚çš„ä¸€ä¸ªæ¡†æ¶ï¼Œç”¨æ¥è¿›è¡Œæ•°æ®åº“è®¿é—®çš„ä¼˜åŒ–ï¼Œä¸“æ³¨äºSQLè¯­å¥ï¼Œæå¤§çš„ç®€åŒ–äº†JDBCçš„è®¿é—®ã€‚\n\n2.ä»€ä¹ˆæ˜¯æ¡†æ¶\nå®ƒæ˜¯ä¸€ä¸ªåŠæˆå“è½¯ä»¶ï¼Œå°†æ‰€æœ‰çš„å…¬å…±çš„ï¼Œé‡å¤çš„åŠŸèƒ½è§£å†³æ‰ï¼Œå¸®åŠ©ç¨‹åºå‘˜å¿«é€Ÿé«˜æ•ˆçš„è¿›è¡Œå¼€å‘ï¼Œå®ƒæ˜¯å¯å¤ç”¨ï¼Œå¯æ‰©å±•çš„ã€‚\n\n3.ä»€ä¹ˆæ˜¯MyBatisæ¡†æ¶\nMyBatisæœ¬æ˜¯apacheçš„ä¸€ä¸ªå¼€æºæ¡†æ¶iBatisï¼Œ2010å¹´è¿™ä¸ªé¡¹ç›®ç”±apache software foundationè¿ç§»åˆ°äº†Google code ï¼Œ å¹¶ä¸”æ”¹åä¸ºMyBatisã€‚2013å¹´11æœˆè¿ç§»åˆ°Githubï¼Œæœ€æ–°ç‰ˆæœ¬æ˜¯MyBatis 3.5.7ï¼Œå…¶å‘å¸ƒæ—¶é—´æ˜¯2021å¹´4æœˆ7æ—¥ã€‚\nMyBatiså®Œæˆæ•°æ®è®¿é—®å±‚çš„ä¼˜åŒ–ï¼Œå®ƒä¸“æ³¨äºsqlè¯­å¥ï¼Œç®€åŒ–äº†è¿‡å»JDBCç¹ççš„è®¿é—®ã€‚\n\n4.MyBatisæ¡†æ¶è§£å†³çš„ä¸»è¦é—®é¢˜\nå‡è½»ä½¿ç”¨JDBCçš„å¤æ‚æ€§ï¼Œä¸ç”¨ç¼–å†™é‡å¤çš„åˆ›å»ºConnectionï¼ŒStatementï¼›ä¸ç”¨ç¼–å†™å…³é—­èµ„æºä»£ç ã€‚ç›´æ¥ä½¿ç”¨Javaå¯¹è±¡ï¼Œè¡¨ç¤ºç»“æœæ•°æ®ã€‚è®©å¼€å‘è€…ä¸“æ³¨SQLçš„å¤„ç†ã€‚å…¶ä»–åˆ†å¿ƒçš„å·¥ä½œç”±MyBatisä»£åŠ³ã€‚\n\n5.MyBatiså¯ä»¥å®Œæˆï¼š\næ³¨å†Œæ•°æ®åº“çš„é©±åŠ¨ï¼Œä¾‹å¦‚ï¼šClass.forName(â€œcom.mysql.jdbc.Driverâ€);\nåˆ›å»ºJDBCä¸­å¿…é¡»ä½¿ç”¨çš„Connectionï¼ŒStatementï¼ŒResultSetå¯¹è±¡\nä»xmlä¸­è·å–SQLï¼Œå¹¶æ‰§è¡ŒSQLè¯­å¥ï¼ŒæŠŠResultSetç»“æœè½¬æ¢Javaå¯¹è±¡\nList&lt;Student&gt; list  = new ArrayLsit&lt;&gt;();ResultSet rs = state.executeQuery(\"select * from student\");while(rs.next){    Student student - new Student();    student.setName(rs.getString(\"name\"));    student.setAge(ts.getInt(\"age\"));    list.add(student);}\n\n\n6.MyBatisæ¡†æ¶ç»“æ„\n\n\n7.æ·»åŠ æ¡†æ¶çš„æ­¥éª¤1ï¼‰æ·»åŠ ä¾èµ–2ï¼‰æ·»åŠ é…ç½®æ–‡ä»¶å…·ä½“æ­¥éª¤ï¼š\n1.æ–°å»ºåº“å»ºè¡¨\n2.æ–°å»ºmavené¡¹ç›®ï¼Œé€‰quickstartæ¨¡æ¿\n3.ä¿®æ”¹ç›®å½•ï¼Œæ·»åŠ ç¼ºå¤±çš„ç›®å½•ï¼Œä¿®æ”¹ç›®å½•å±æ€§\n4.ä¿®æ”¹pom.xmlæ–‡ä»¶ï¼Œæ·»åŠ MyBatisçš„ä¾èµ–ï¼Œæ·»åŠ Mysqlçš„ä¾èµ–\n5.ä¿®æ”¹pom.xmlæ–‡ä»¶ï¼Œæ·»åŠ èµ„æºæ–‡ä»¶æŒ‡å®š\n6.åœ¨ideaä¸­æ·»åŠ æ•°æ®åº“çš„å¯è§†åŒ–\n7.æ·»åŠ jdbc.propertieså±æ€§æ–‡ä»¶ï¼ˆæ•°æ®åº“çš„é…ç½®ï¼‰\n8.æ·»åŠ SqlMapConfig.xmlæ–‡ä»¶ï¼ŒMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶\n9.åˆ›å»ºå®ä½“ç±»Studentï¼Œç”¨æ¥å°è£…æ•°æ®\n10.æ·»åŠ å®Œæˆå­¦ç”Ÿè¡¨çš„å¢åˆ æ”¹æŸ¥çš„åŠŸèƒ½çš„StudentMapper.xmlæ–‡ä»¶\n11.åˆ›å»ºæµ‹è¯•ç±»ï¼Œè¿›è¡ŒåŠŸèƒ½æµ‹è¯•\n\n8.æ–‡ä»¶é…ç½®ï¼šæ ¸å¿ƒæ–‡ä»¶é…ç½®ï¼š\n\n\ndefaultæ‰€å¯¹åº”å€¼è¡¨ç¤ºæ‰€å¼•ç”¨çš„æ˜¯å“ªä¸ªæ•°æ®åº“é…ç½®\n\nå…¶ä¸­ä¸ºé…ç½®äº‹åŠ¡ç®¡ç†å™¨\n\nSQLæ“ä½œ\n\nSQLæ“ä½œæ—¶åœ¨å¦å¤–ä¸€ä¸ªxmlæ–‡ä»¶å•ç‹¬å†™çš„\n\næŸ¥è¯¢Javaä»£ç å®ä¾‹ï¼š\n\n\nJavaå¯¹åº”MyBatisçš„ç±»å‹åˆ«åï¼š\n\n\nå‚æ•°è¯¦è§£ï¼š    collectionï¼šç”¨æ¥æŒ‡å®šå…¥å‚çš„ç±»å‹ï¼Œå¦‚æœæ˜¯Listé›†åˆï¼Œåˆ™ä¸ºlistï¼Œå¦‚æœæ˜¯Mapé›†åˆï¼Œåˆ™ä¸ºmapï¼Œå¦‚æœæ˜¯æ•°ç»„ï¼Œåˆ™ä¸ºarrayã€‚\nâ€‹\titemï¼šæ¯æ¬¡å¾ªç¯éå†å‡ºæ¥çš„å€¼æˆ–å¯¹è±¡ã€‚ï¼ˆæ³¨æ„é‡Œé¢çš„å€¼å¿…é¡»ä¸#{}é‡Œé¢çš„å€¼ç›¸åŒï¼‰\nâ€‹\tsepatatorï¼šå¤šä¸ªå€¼æˆ–å¯¹è±¡æˆ–è¯­å¥ä¹‹é—´çš„åˆ†å‰²ç¬¦ã€‚\nâ€‹\topenï¼šæ•´ä¸ªå¾ªç¯å¤–é¢çš„å‰æ‹¬å·ã€‚\nâ€‹\tcloseï¼šæ•´ä¸ªå¾ªç¯å¤–é¢çš„åæ‹¬å·ã€‚\n\nä»è¿™é‡Œæˆªæ–­ä¸€ã€æ‰¹é‡æ’å…¥çš„çš„ä¾‹å­ï¼šUsersMapper.javaï¼ˆæ¥å£ï¼‰\nint insertBatch(List&lt;Users&gt; list);\n\n\n\nUsersMapper.xml\n&lt;insert id=\"insertBatch\"&gt;\tinsert into users(username,birthday,sex,address) values    &lt;foreach collection=\"list\" item=\"u\" separator=\",\"&gt;    \t(#{u.userName},#{u.birthday},#{u.sex},#{u.address})    &lt;/foreach&gt;&lt;/insert&gt;\n\n\n\näºŒã€å…¥å‚æ˜¯mapï¼ˆé‡ç‚¹æŒæ¡ï¼‰\nå¦‚æœå…¥å‚è¶…è¿‡ä¸€ä¸ªä»¥ä¸Šï¼Œä½¿ç”¨mapå°è£…æŸ¥è¯¢æ¡ä»¶ï¼Œæ›´æœ‰è¯­ä¹‰ï¼ŒæŸ¥è¯¢æ¡ä»¶æ›´æ˜ç¡®\n\n1.è¿”å›å€¼æ˜¯map(ä¸€æ¡map)å¦‚æœè¿”å›çš„æ•°æ®å®ä½“ç±»æ— æ³•åŒ…å«ï¼Œå¯ä»¥ä½¿ç”¨mapè¿”å›å¤šå¼ è¡¨ä¸­çš„è‹¥å¹²æ•°æ®ï¼Œè¿”å›åè¿™äº›æ•°æ®ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œå°±æ˜¯objectç±»å‹ã€‚è¿”å›çš„mapçš„keyå°±æ˜¯åˆ—åæˆ–åˆ«åã€‚\n2.è¿”å›å€¼æ˜¯å¤šè¡Œçš„map3.æŸ¥è¯¢è¡¨åä¸å®ä½“ç±»å±æ€§åä¸ä¸€è‡´è§£å†³æ–¹æ¡ˆ\nsqlè¯­å¥ä¸­æ·»åŠ åˆ«å\nä½¿ç”¨resultMapï¼š\n&lt;!--propertyå¯¹åº”å®ä½“ç±»å±æ€§çš„å˜é‡åcolumnå¯¹åº”sqlä¸­æ‰€å¯¹åº”æŸ¥è¯¢è¡¨åæˆ–è€…è¡¨æ˜æ‰€å¯¹åº”çš„æ ‡ç­¾åé¦–å…ˆè¦keyä¸»é”®ç»‘å®šï¼Œç„¶åéä¸»é”®çš„ç»‘å®š--&gt; &lt;resultMap id=\"bookmap\" type=\"book\"&gt;&lt;!--        ä¸»é”®ç»‘å®š--&gt;        &lt;id property=\"id\" column=\"bookid\"&gt;&lt;/id&gt;&lt;!--        éä¸»é”®ç»‘å®š--&gt;        &lt;result property=\"name\" column=\"bookname\"&gt;&lt;/result&gt;    &lt;/resultMap&gt;    &lt;select id=\"getAll\" resultMap=\"bookmap\"&gt;        select username,address        from users    &lt;/select&gt;\n\n@Testpublic void test_7(){     UsersMapper uMapper = sqlSession.getMapper(UsersMapper.class);    List&lt;Book&gt; list = uMapper.getAll();    list.forEach(book-&gt;System.out.println(book));}\nä¸‰ã€è¡¨ä¹‹é—´çš„å…³è”å…³ç³»å…³è”å…³ç³»æ˜¯æœ‰æ–¹å‘çš„ã€‚ï¼ˆç”µå•†é¡¹ç›®ä¸ä¼šä½¿ç”¨å…³è”å…³ç³»ï¼Œå› ä¸ºä¼šå¤§å¤§æ‹–æ…¢é€Ÿåº¦ï¼‰\n\nä¸€å¯¹å¤šå…³è”ï¼šä¸€ä¸ªè€å¸ˆå¯ä»¥æ•™å¤šä¸ªå­¦ç”Ÿï¼Œå¤šä¸ªå­¦ç”Ÿåªæœ‰ä¸€ä¸ªè€å¸ˆæ¥æ•™ï¼Œç«™åœ¨è€å¸ˆæ–¹ï¼Œå°±æ˜¯ä¸€å¯¹å¤šå…³è”ã€‚\nå¤šå¯¹ä¸€å…³è”ï¼šä¸€ä¸ªè€å¸ˆå¯ä»¥æ•™å¤šä¸ªå­¦ç”Ÿï¼Œå¤šä¸ªå­¦ç”Ÿåªæœ‰ä¸€ä¸ªè€å¸ˆæ¥æ•™ï¼Œç«™åœ¨å­¦ç”Ÿæ–¹ï¼Œå°±æ˜¯å¤šå¯¹ä¸€å…³è”ã€‚\nä¸€å¯¹ä¸€å…³è”ï¼šä¸€ä¸ªè€å¸ˆè¾…å¯¼ä¸€ä¸ªå­¦ç”Ÿï¼Œä¸€ä¸ªå­¦ç”Ÿåªè¯·æ•™ä¸€ä¸ªè€å¸ˆã€‚å­¦ç”Ÿå’Œè€å¸ˆæ˜¯ä¸€å¯¹ä¸€ã€‚\nå¤šå¯¹å¤šå…³è”ï¼šå›­åŒºåˆ’çº¿çš„è½¦ä½å’Œå›­åŒºçš„æ¯ä¸€è¾†è½¦ã€‚ä»»æ„ä¸€ä¸ªè½¦ä½å¯ä»¥åœä»»æ„ä¸€è¾†è½¦ã€‚ä»»æ„ä¸€è¾†è½¦å¯ä»¥åœåœ¨ä»»æ„ä¸€ä¸ªè½¦ä½ä¸Šã€‚\n\n1.ä¸€å¯¹å¤šå…³è”å…³ç³»\nå®¢æˆ·å’Œè®¢å•å°±æ˜¯å…¸å‹çš„ä¸€å¯¹å¤šå…³è”å…³ç³»ã€‚\nä¸€ä¸ªå®¢æˆ·åä¸‹å¯ä»¥æœ‰å¤šä¸ªè®¢å•ã€‚\nå®¢æˆ·è¡¨æ˜¯ä¸€æ–¹ï¼Œè®¢å•è¡¨æ˜¯å¤šæ–¹ã€‚\n\nUpdateè¡¨æ›´æ–°æ“ä½œ\n1. update æ ‡ç­¾update æ ‡ç­¾æ˜¯ç”¨äºå®šä¹‰æ›´æ–° è¯­å¥çš„.\n1.1 å¸¸ç”¨å±æ€§update æœ‰å‡ ä¸ªå¸¸ç”¨çš„å±æ€§, ä½†æ˜¯é€šå¸¸åªéœ€è¦è®¾ç½®id å³å¯.\n\nid: sql ç‰‡æ®µåœ¨å‘½åç©ºé—´å†…çš„å”¯ä¸€æ ‡è¯†. å’Œmapper ä¸­æ–¹æ³•åä¿æŒä¸€è‡´\nparameterType: å‚æ•°ç±»å‹, é€šå¸¸éƒ½å¯ä»¥çœç•¥.\nflushCache: æ˜¯å¦åˆ·æ–°(æ¸…ç©º)ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜, é»˜è®¤ä¸ºtrue. ç¬”è€…å°è¯•è®¾ç½®ä¸ºfalse,å¹¶ä¸ç”Ÿæ•ˆ. æ‰€ä»¥ä½¿ç”¨é»˜è®¤å³å¯.\ntimeout: sql æ‰§è¡Œè¶…æ—¶æ—¶é—´, é»˜è®¤æœªè®¾ç½®, ç”±æ•°æ®åº“é©±åŠ¨å†³å®š.\nstatementType: æ‰§è¡Œsqlæ—¶ä½¿ç”¨çš„statementç±»å‹, é»˜è®¤ä¸ºPREPARED. å¯é€‰å€¼ä¸º:STATEMENTï¼ŒPREPARED æˆ– CALLABLE çš„ä¸€ä¸ª\n\n&lt;update id=\"deleteAuthor\" parameterType=\"domain.blog.Author\" flushCache=\"true\" statementType=\"PREPARED\" timeout=\"20\"&gt;&lt;/update&gt; \n\n1.2 è¿”å›å€¼\næˆ‘ä»¬çŸ¥é“, jdbc æ‰§è¡Œæ›´æ–°è¯­å¥æ—¶, è¿”å›çš„æ˜¯sql æ‰§è¡Œå½±å“çš„è®°å½•æ¡æ•°. Mybatis å¯å°†æ­¤è¿”å›ç»“æœè‡ªåŠ¨å°è£…ä¸ºint , long, boolean ä»¥åŠå…¶å¯¹åº”çš„åŒ…è£…ç±»å‹.\nå¯¹äºä¸åŒçš„è¿”å›ç±»å‹, sql ç‰‡æ®µçš„å†™æ³•æ˜¯å®Œå…¨ä¸€è‡´çš„\n\nMapperä¸­æ–¹æ³•å®šä¹‰:\n// è¿”å›å€¼ä¸ºç©ºvoid update(EmployeePO emp);// è¿”å›å€¼ä¸ºå¸ƒå°”ç±»å‹boolean update(EmployeePO emp);// è¿”å›å€¼ä¸ºåˆ é™¤çš„æ¡æ•°long update(EmployeePO emp);\n\nsql ç‰‡æ®µ:\n&lt;update id=\"update\"&gt;    update t_employee    set id = #{id}, name = #{name}, sex=#{sex}, entryDate =#{entryDate}    where id = #{id}&lt;/update&gt;\n\n2. update æ ‡ç­¾ä¸¾ä¾‹2.1 sql ç‰‡æ®µ&lt;!-- é€šè¿‡id åˆ é™¤ --&gt;&lt;update id=\"update\"&gt;    update t_employee    set id = #{id}, name = #{name}, sex=#{sex}, entryDate =#{entryDate}    where id = #{id}&lt;/update&gt;&lt;!-- æ›´æ–°ä¸ä¸ºç©ºçš„å±æ€§ --&gt;&lt;update id=\"updateNotNull\"&gt;    update t_employee    &lt;set &gt;        &lt;if test=\"name != null\"&gt;            name = #{name},        &lt;/if&gt;        &lt;if test=\"sex != null\"&gt;            sex = #{sex},        &lt;/if&gt;        &lt;if test=\"entryDate != null\"&gt;            entryDate = #{entryDate},        &lt;/if&gt;    &lt;/set&gt;    where id = #{id}&lt;/update&gt;\n\n2.2 mapper æ–‡ä»¶public interface EmployeeMapper {    // ä¿®æ”¹    long update(EmployeePO employeePO);    // æ›´æ–°ä¸ä¸ºç©ºçš„å±æ€§    boolean updateNotNull(EmployeePO employeePO);}\n\n2.3 æµ‹è¯•ç±»// æµ‹è¯•æ›´æ–°æ–¹æ³•@Testpublic void update(){    EmployeeMapper employeeMapper = SqlSessionUtil.getMapper(EmployeeMapper.class, true);    EmployeePO employeePO = employeeMapper.findById(1L);    employeePO.setName(employeePO.getId() + \"_\" + employeePO.getName());    long flag = employeeMapper.update(employeePO);    Assert.assertEquals(1L, flag);}// æµ‹è¯•æ›´æ–°æ–¹æ³•@Testpublic void updateNotNull(){    EmployeeMapper employeeMapper = SqlSessionUtil.getMapper(EmployeeMapper.class, true);    EmployeePO employeePO = new EmployeePO(null, 26, \"W\",LocalDate.now());    employeePO.setId(1L);    employeeMapper.updateNotNull(employeePO);}\n\n\n\n\n\nMyBatisæ¡†æ¶è‡ªåŠ¨POJOçš„Beanæ³¨å…¥è§„åˆ™ï¼š\nå½“POJOåªæœ‰ä¸€ä¸ªæœ‰å‚æ„é€ å‡½æ•°å°†ä¼šé€šè¿‡è¿™ä¸ªæ„é€ å‡½æ•°è¿›è¡Œè¾“å…¥ï¼Œå¦åˆ™å°†ç›´æ¥æŠ¥é”™ã€‚\nå½“POJOæ²¡æœ‰ä»»ä½•æ‰‹å†™çš„æ„é€ å‡½æ•°æ—¶MyBatisæ¡†æ¶å°†ä¼šä½¿ç”¨setæ³¨å…¥ã€‚\nå½“æœ‰å¤šä¸ªæ„é€ å‡½æ•°æ—¶ä¸”æ²¡æœ‰çš„æ— å‚æ„é€ é‚£ä¹ˆMyBatiså°±åªä¼šä»è¿™äº›æœ‰å‚æ„é€ è¿›è¡Œæ³¨å…¥ï¼Œå¦‚æœæ²¡æœ‰ä¸€ä¸ªèƒ½åŒ¹é…çš„ä¸Šçš„è¯å°±ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å¦‚æœæœ‰æ‰‹å†™äº†æ— å‚æ„é€ çš„è¯å¦‚æœæœ‰å‚æ„é€ æ²¡æœ‰åŒ¹é…çš„æ³¨å…¥å°†ä¼šè¿›è¡Œsetæ³¨å…¥é¿å…æŠ¥é”™ã€‚æ€»ç»“ï¼šä»ä»¥ä¸Šèƒ½å¤Ÿçœ‹å‡ºMybatisç»“åˆSpringæ¡†æ¶è‡ªåŠ¨è¿›è¡ŒPOJOæ³¨å…¥æ—¶çš„ä¼˜å…ˆé¡ºåºæ˜¯ï¼šå…ˆæ„é€ ï¼Œåsetã€‚\n\nMapperçš„xmlå’ŒMapperçš„Javaæ¥å£çš„å…³ç³»\nè¯´æ˜ï¼šMapperçš„Javaæ¥å£ä¸æ˜¯å¿…é¡»çš„ï¼Œä¹Ÿå¯ä»¥ä¸å†™Mapperå¯¹åº”çš„Javaæ¥å£ç›´æ¥ä½¿ç”¨Mapperçš„xmlï¼Œè¿™é‡Œè¦æ³¨æ„çš„æ˜¯å•çº¯çš„ä½¿ç”¨MyBatisï¼ŒMapperçš„xmlä¸­çš„namespaceå’Œå¯¹åº”çš„sqlçš„idéƒ½ä»£è¡¨çš„æ˜¯å”¯ä¸€idçš„æ„æ€æ²¡æœ‰å…¶ä»–å…³è”çš„ç”¨é€”ï¼Œé™¤éè®¾å®šç»‘å®š\n\n\nMyBatisä¸­ç‰¹æ®Šç¬¦å·è½¬ä¹‰ç¬¦1ã€è½¬è¯‘ç‰¹æ®Šç¬¦å·æ–¹å¼æ³¨é‡Šï¼šä¸¥æ ¼åœ°è®²ï¼Œåœ¨ XML ä¸­ä»…æœ‰å­—ç¬¦ â€œ&lt;â€å’Œâ€&amp;â€ æ˜¯éæ³•çš„ã€‚çœç•¥å·ã€å¼•å·å’Œå¤§äºå·æ˜¯åˆæ³•çš„ï¼Œä½†æ˜¯æŠŠå®ƒä»¬æ›¿æ¢ä¸ºå®ä½“å¼•ç”¨æ˜¯ä¸ªå¥½çš„ä¹ æƒ¯ã€‚\n\n\n\nç¬¦å·\nåŸç¬¦å·\næ›¿æ¢ç¬¦å·\n\n\n\nå°äº\n&lt;\n&amp;lt;\n\n\nå°äºç­‰äº\n&lt;=\n&amp;lt;&lt;=\n\n\nå¤§äº\n&gt;\n&amp;gt;\n\n\nå¤§äºå°äº\n&gt;=\n&amp;gt;=\n\n\nä¸ç­‰äº\n&lt;&gt;\n&amp;lt;&amp;gt;\n\n\nä¸\n&amp;\n&amp;amp;\n\n\nå•å¼•å·\nâ€™\n&amp;apos;\n\n\nåŒå¼•å·\nâ€œ\n&amp;quot;\n\n\n\nmapperæ–‡ä»¶å†™æ³•ï¼š\nselect * form tablenme t where t.code &amp;lt;&amp;gt; 1\n\n2ã€ä½¿ç”¨ CDATA åŒºæ®µæ‰€æœ‰XMLæ–‡æ¡£ä¸­çš„æ–‡æœ¬å‡ä¼šè¢«è§£æå™¨è§£æã€‚åªæœ‰CDATAåŒºæ®µï¼ˆCDATA sectionï¼‰ä¸­çš„æ–‡æœ¬ä¼šè¢«è§£æå™¨å¿½ç•¥ã€‚\nå¤§äºç­‰äº &lt;![CDATA[ &gt;= ]]&gt;  å°äºç­‰äº &lt;![CDATA[ &lt;= ]]&gt; ä¸ç­‰äº&lt;![CDATA[ &lt;&gt; ]]&gt; mapperæ–‡ä»¶å†™æ³•ï¼š select t.* form tablenme t where t.code &lt;![CDATA[&lt;&gt;]]&gt; 1\n\n\n\nWhereå’Œifæ ‡ç­¾çš„ä½¿ç”¨\n&lt;select id=\"getPerson\" resultType=\"com.lzj.bean.Employee\"&gt;    select * from tbl_employee    &lt;where&gt;        &lt;!-- testï¼šåˆ¤æ–­è¡¨è¾¾å¼ï¼ˆOGNLï¼‰        é‡è§ç‰¹æ®Šç¬¦å·åº”è¯¥å»å†™è½¬ä¹‰å­—ç¬¦ï¼š&amp;&amp;ã€''ç­‰å­—ç¬¦        --&gt;        &lt;if test=\"id!=null\"&gt;            id=#{id}        &lt;/if&gt;        &lt;if test=\"lastName!=null and lastName!=''\"&gt;            and last_name like #{lastName}        &lt;/if&gt;        &lt;if test=\"email!=null and email.trim()!=''\"&gt;            and email=#{email}        &lt;/if&gt;         &lt;!-- ognlä¼šè¿›è¡Œå­—ç¬¦ä¸²ä¸æ•°å­—çš„è½¬æ¢åˆ¤æ–­  \"0\"==0 --&gt;        &lt;if test=\"gender==0 or gender==1\"&gt;            and gender=#{gender}        &lt;/if&gt;    &lt;/where&gt; &lt;/select&gt;\n\næ³¨æ„ï¼Œ&lt;if&gt;å¤±è´¥åï¼Œ &lt;where&gt; å…³é”®å­—åªä¼šå»æ‰åº“è¡¨å­—æ®µèµ‹å€¼å‰é¢çš„andï¼Œä¸ä¼šå»æ‰è¯­å¥åé¢çš„andå…³é”®å­—ï¼Œå³æ³¨æ„ï¼Œ&lt;where&gt; åªä¼šå»æ‰&lt;if&gt; è¯­å¥ä¸­çš„æœ€å¼€å§‹çš„andå…³é”®å­—ã€‚æ‰€ä»¥ä¸‹é¢çš„å½¢å¼æ˜¯ä¸å¯å–çš„\n&lt;select id=\"getPerson\" resultType=\"com.lzj.bean.Employee\"&gt;    select * from tbl_employee    &lt;where&gt;        &lt;if test=\"id!=null\"&gt;            id=#{id} and        &lt;/if&gt;        &lt;if test=\"lastName!=null and lastName!=''\"&gt;            last_name like #{lastName} and        &lt;/if&gt;        &lt;if test=\"email!=null and email.trim()!=''\"&gt;            email=#{email} and        &lt;/if&gt;         &lt;if test=\"gender==0 or gender==1\"&gt;            gender=#{gender}        &lt;/if&gt;    &lt;/where&gt; &lt;/select&gt;\n\n","categories":["Java","MyBatis"],"tags":["Java","MyBatis"]},{"title":"MySQLå­¦ä¹ ç¬”è®°","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/mysql-xue-xi-bi-ji/","content":"MySQLå­¦ä¹ ç¬”è®°\n\nauto_increment â€”è‡ªå¢åºåˆ—\nåœ¨æ’å…¥æ—¶ï¼Œå¦‚æœä¸ç»™å®šå…·ä½“ç”¨æˆ·ç¼–å·ï¼Œæ­¤æ—¶æ ¹æ®auto_incrementçš„å€¼é€’å¢æ·»åŠ \n\nå®‰è£…Mysql8(CentOS7)ä¸€ã€æ·»åŠ MySQL Yumä»“åº“\nä¸‹è½½MySQL RPMåŒ…\nwget https://dev.mysql.com/get/mysql80-community-release-el7-9.noarch.rpm\n\nå®‰è£…MySQLä»“åº“\nsudo rpm -ivh mysql80-community-release-el7-9.noarch.rpm\n\néªŒè¯ä»“åº“æ˜¯å¦æ·»åŠ æˆåŠŸ\nyum repolist enabled | grep \"mysql.*-community.*\"\n\n\näºŒã€å®‰è£…MySQL 8\næ›´æ–°ç³»ç»Ÿå¹¶å®‰è£…MySQL\nsudo yum updatesudo yum -y install mysql-server --nogpgcheck\n\næˆ–\nsudo yum updatesudo yum -y install mysql-community-server --nogpgcheck\n\n\n\nå¯åŠ¨MySQLæœåŠ¡\nsudo systemctl start mysqld\n\nè®¾ç½®å¼€æœºè‡ªå¯\nsudo systemctl enable mysqld\n\nè·å–åˆæ¬¡å¯åŠ¨å¯†ç \n\n\ngrep 'A temporary password' /var/log/mysqld.log\n\nä¸‰ã€ç™»å½•MySQLmysql -u root -p# è¾“å…¥æ–°è®¾ç½®çš„å¯†ç \n\nå››ã€ç¬¬ä¸€æ¬¡ç™»å½•å¯èƒ½éœ€è¦ä¿®æ”¹é»˜è®¤å¯†ç æ“ä½œalter user 'root'@'localhost' IDENTIFIED BY 'ä¿®æ”¹çš„å¯†ç ';\n\n\n\n\näº”ã€é…ç½®è¿œç¨‹è®¿é—®ï¼ˆå¯é€‰ï¼‰\nç™»å½•MySQLåæ‰§è¡Œ\nCREATE USER 'ç”¨æˆ·å'@'%' IDENTIFIED BY 'å¼ºå¯†ç ';GRANT ALL PRIVILEGES ON *.* TO 'ç”¨æˆ·å'@'%' WITH GRANT OPTION;FLUSH PRIVILEGES;\n\nå®‰è£…Mysql5(CentOS7)ä¸€ã€æ·»åŠ MySQL Yumä»“åº“\nä¸‹è½½MySQL RPMåŒ…\nsudo wget wget https://dev.mysql.com/get/mysql57-community-release-el7-8.noarch.rpm\n\nå®‰è£…MySQLä»“åº“\nsudo rpm -ivh mysql57-community-release-el7-8.noarch.rpm\n\néªŒè¯ä»“åº“æ˜¯å¦æ·»åŠ æˆåŠŸ\nyum repolist enabled | grep \"mysql.*-community.*\"\n\n\näºŒã€å®‰è£…MySQL 5\næ›´æ–°ç³»ç»Ÿå¹¶å®‰è£…MySQL\nsudo yum updatesudo yum -y install mysql-server --nogpgcheck\n\næˆ–\nsudo yum updatesudo yum -y install mysql-community-server --nogpgcheck\n\n\n\nå¯åŠ¨MySQLæœåŠ¡\nsudo systemctl start mysqld\n\nè®¾ç½®å¼€æœºè‡ªå¯\nsudo systemctl enable mysqld\n\nè·å–åˆæ¬¡å¯åŠ¨å¯†ç \n\n\ngrep 'A temporary password' /var/log/mysqld.log\n\nä¸‰ã€ç™»å½•MySQLmysql -u root -p# è¾“å…¥æ–°è®¾ç½®çš„å¯†ç \n\nå››ã€ç¬¬ä¸€æ¬¡ç™»å½•å¯èƒ½éœ€è¦ä¿®æ”¹é»˜è®¤å¯†ç æ“ä½œalter user 'root'@'localhost' IDENTIFIED BY 'ä¿®æ”¹çš„å¯†ç ';\n\nè‹¥æŠ¥é”™Your password does not satisfy the current policy requirementsåˆ™è¡¨ç¤ºè¯¥ç‰ˆæœ¬Mysqlæœ‰å¯†ç å¼ºåº¦æ£€æµ‹ï¼Œä¸€èˆ¬ä¸å…è®¸è¿‡äºç®€å•çš„å¯†ç ï¼Œæ­¤æ—¶å¦‚æœä½ è¿˜æ˜¯æƒ³æç®€å•çš„å¯†ç é‚£ä¹ˆå¯ä»¥æ‰§è¡Œï¼š\nset global validate_password_policy=0;\n\n\n\n\näº”ã€é…ç½®è¿œç¨‹è®¿é—®ï¼ˆå¯é€‰ï¼‰\nç™»å½•MySQLåæ‰§è¡Œ\nCREATE USER 'ç”¨æˆ·å'@'%' IDENTIFIED BY 'å¼ºå¯†ç ';GRANT ALL PRIVILEGES ON *.* TO 'ç”¨æˆ·å'@'%' WITH GRANT OPTION;FLUSH PRIVILEGES;\n\nå½»åº•åˆ é™¤MySQL(CentOS7)1.æŸ¥è¯¢æœ¬æœºå®‰è£…çš„mysql\nrpm -qa |grep -i mysql\n\n2.ä½¿ç”¨yum remove ..åˆ é™¤æ¯ä¸€ä¸ªå®‰è£…\nåˆ é™¤ååœ¨ä½¿ç”¨rpm -qa |grep -i mysqlè¿›è¡Œæ£€éªŒ\n3.æŸ¥æ‰¾mysqlç›¸å…³ç›®å½•\nfind / -name mysql\n\n4.å¯¹è¿™äº›ç›®å½•ä¸€ä¸ªä¸ªçš„è¿›è¡Œåˆ é™¤\nrm -rf\n\n5.åˆ é™¤/etc/my.cnfæ–‡ä»¶\nrm -rf /etc/my.cnf\n\n6.åˆ é™¤/var/log/mysql/mysqld.logæ–‡ä»¶\nrm -rf /var/log/mysql/mysqld.log\n\n\n\næ·»åŠ æ•°æ®åº“ç”¨æˆ·create user ccc identified by 'pass';\n\nä¸Šé¢çš„å‘½ä»¤åˆ›å»ºäº†ç”¨æˆ·cccï¼Œå¯†ç æ˜¯passï¼Œåœ¨mysql.useré‡Œå¯ä»¥æŸ¥çœ‹åˆ°æ–°å¢ç”¨æˆ·çš„ä¿¡æ¯ï¼š\nselect User,Host from mysql.user where User= 'ccc';\n\n\n\nç»™äºˆç”¨æˆ·æ•°æ®åº“æƒé™grant all privileges on cccdb.* to ccc@'%';flush privileges; #åˆ·æ–°æƒé™\n\nä¸Šé¢çš„è¯­å¥å°†cccdbæ•°æ®åº“çš„æ‰€æœ‰æ“ä½œæƒé™éƒ½æˆæƒç»™äº†ç”¨æˆ·cccã€‚\nå¯ä»¥é€šè¿‡show grantså‘½ä»¤æŸ¥çœ‹æƒé™æˆäºˆæ‰§è¡Œçš„å‘½ä»¤ï¼š\nshow grants for 'ccc';\n\n","categories":["MySql"],"tags":["MySql"]},{"title":"MyBatisé€†å‘ç”Ÿæˆä½¿ç”¨","url":"/2025/04/09/learnnote/java-xue-xi-bi-ji/mybatis-ni-xiang-sheng-cheng-shi-yong/","content":"MyBatisé€†å‘ç”Ÿæˆä½¿ç”¨\nä¸€ã€å¯¼å…¥Mybatis-generatoré€†å‘æ’ä»¶\nåœ¨pom.xmlæ–‡ä»¶ä¸­åŠ å…¥ç›¸åº”æ’ä»¶é…ç½®\n\n&lt;plugins&gt;           &lt;!--      mybatis-generator é€†å‘å·¥å…·æ’ä»¶   --&gt;            &lt;!-- mybatisä»£ç ç”Ÿæˆæ’ä»¶ --&gt;            &lt;plugin&gt;                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;                &lt;version&gt;1.4.1&lt;/version&gt;                &lt;configuration&gt;                    &lt;!--é…ç½®æ–‡ä»¶çš„ä½ç½®--&gt;                    &lt;configurationFile&gt;src/main/resources/generatorConfig.xml&lt;/configurationFile&gt;                    &lt;verbose&gt;true&lt;/verbose&gt;                    &lt;!--å…è®¸è¦†ç›–--&gt;                    &lt;overwrite&gt;true&lt;/overwrite&gt;                &lt;/configuration&gt;                &lt;executions&gt;                    &lt;execution&gt;                        &lt;id&gt;Generate MyBatis Artifacts&lt;/id&gt;                        &lt;goals&gt;                            &lt;goal&gt;generate&lt;/goal&gt;                        &lt;/goals&gt;                    &lt;/execution&gt;                &lt;/executions&gt;               &lt;!--   æ’ä»¶çš„ä¾èµ–   --&gt;                &lt;dependencies&gt;                    &lt;dependency&gt;                        &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;                        &lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt;                        &lt;version&gt;1.4.1&lt;/version&gt;                    &lt;/dependency&gt;                    &lt;!--mysqlé©±åŠ¨ä¾èµ–--&gt;                    &lt;dependency&gt;                        &lt;groupId&gt;mysql&lt;/groupId&gt;                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;                        &lt;version&gt;8.0.33&lt;/version&gt;                    &lt;/dependency&gt;                &lt;/dependencies&gt;            &lt;/plugin&gt;      &lt;/plugins&gt;\n\nè¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹configurationFileå¯¹åº”é…ç½®ä¿¡æ¯çš„å†…å®¹ï¼Œè¿™é‡Œçš„è·¯å¾„å¯¹åº”ä¹‹åéœ€è¦ä½ åˆ›å»ºçš„é…ç½®æ–‡ä»¶è·¯å¾„ã€‚\näºŒã€åˆ›å»ºMyBatisé€†å‘é…ç½®æ–‡ä»¶ä»¥ä¸‹ä¸ºé…ç½®æ–‡ä»¶æ¨¡æ¿\ngeneratorConfig.xmlï¼šæ³¨æ„æ­¤é…ç½®æ–‡ä»¶æ‰€åœ¨åœ°æ–¹ä¸ºç¬¬ä¸€æ­¥ä¸­æ’ä»¶é…ç½®ä¸­æŒ‡å®šçš„è·¯å¾„\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;!DOCTYPE generatorConfiguration        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\"&gt;&lt;generatorConfiguration&gt;    &lt;!--mysql è¿æ¥æ•°æ®åº“jar è¿™é‡Œé€‰æ‹©è‡ªå·±æœ¬åœ°ä½ç½®;    å¦‚æœä¸çŸ¥é“mavenæœ¬åœ°ä»“åº“åœ°å€ï¼Œå¯ä»¥ä½¿ç”¨EveryThingå·¥å…·å…¨å±€æœç´¢mysql-connector-javaï¼Œæ‰¾åˆ°jaråŒ…ä½ç½®ï¼›    ä¹Ÿå¯ä»¥æ‰‹åŠ¨ä¸‹è½½ä¸€ä¸ªjaræ”¾åœ¨æŒ‡å®šä½ç½®ï¼Œè¿›è¡Œå¼•ç”¨ã€‚    --&gt;    &lt;!--    è¿™é‡Œå¦‚æœæ²¡æœ‰æ’ä»¶ä¾èµ–æ²¡æœ‰å¼•å…¥mysqlé©±åŠ¨çš„è¯å°±åŠ è¿™ä¸ªæŒ‡å®šmysqlé©±åŠ¨ä¾èµ–ä½ç½®--&gt;&lt;!--    &lt;classPathEntry location=\"D:\\Maven\\repository\\com\\mysql\\mysql-connector-j\\8.0.33\\mysql-connector-j-8.0.33.jar\"/&gt;--&gt;    &lt;!--            targetRuntimeæœ‰ä¸¤ä¸ªå€¼ï¼š                MyBatis3Simpleï¼šç”Ÿæˆçš„æ˜¯åŸºç¡€ç‰ˆï¼Œåªæœ‰åŸºæœ¬çš„å¢åˆ æ”¹æŸ¥ã€‚                MyBatis3ï¼šç”Ÿæˆçš„æ˜¯å¢å¼ºç‰ˆï¼Œé™¤äº†åŸºæœ¬çš„å¢åˆ æ”¹æŸ¥ä¹‹å¤–è¿˜æœ‰å¤æ‚çš„å¢åˆ æ”¹æŸ¥ã€‚        --&gt;    &lt;context id=\"testTables\" targetRuntime=\"MyBatis3\"&gt;        &lt;!--é˜²æ­¢ç”Ÿæˆé‡å¤ä»£ç --&gt;        &lt;plugin type=\"org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin\"/&gt;        &lt;commentGenerator&gt;            &lt;!--æ˜¯å¦å»æ‰ç”Ÿæˆæ—¥æœŸ--&gt;            &lt;property name=\"suppressDate\" value=\"true\"/&gt;            &lt;!-- æ˜¯å¦å»é™¤è‡ªåŠ¨ç”Ÿæˆçš„æ³¨é‡Š,trueï¼šæ˜¯,false:å¦ --&gt;            &lt;property name=\"suppressAllComments\" value=\"true\"/&gt;        &lt;/commentGenerator&gt;        &lt;!--æ•°æ®åº“è¿æ¥çš„ä¿¡æ¯ï¼šé©±åŠ¨ç±»ã€è¿æ¥åœ°å€ã€ç”¨æˆ·åã€å¯†ç  --&gt;        &lt;jdbcConnection driverClass=\"com.mysql.jdbc.Driver\"                        connectionURL=\"jdbc:mysql://localhost:3306/smstwo\"                        userId=\"root\"                        password=\"ht520520\"&gt;        &lt;/jdbcConnection&gt;        &lt;!-- é»˜è®¤falseï¼ŒæŠŠJDBC DECIMAL å’Œ NUMERIC ç±»å‹è§£æä¸º Integerï¼Œä¸º trueæ—¶æŠŠJDBC DECIMAL å’Œ           NUMERIC ç±»å‹è§£æä¸ºjava.math.BigDecimal --&gt;        &lt;javaTypeResolver&gt;            &lt;property name=\"forceBigDecimals\" value=\"false\"/&gt;        &lt;/javaTypeResolver&gt;        &lt;!-- æŒ‡å®šjavaBeanç”Ÿæˆçš„ä½ç½®            targetPackageï¼šç”Ÿæˆçš„ç±»è¦æ”¾çš„åŒ…ï¼ŒçœŸå®çš„åŒ…å—enableSubPackageså±æ€§æ§åˆ¶ï¼›            targetProjectï¼šç›®æ ‡é¡¹ç›®ï¼ŒæŒ‡å®šä¸€ä¸ªå­˜åœ¨çš„ç›®å½•ä¸‹ï¼Œç”Ÿæˆçš„å†…å®¹ä¼šæ”¾åˆ°æŒ‡å®šç›®å½•ä¸­ï¼Œå¦‚æœç›®å½•ä¸å­˜åœ¨ï¼ŒMBGä¸ä¼šè‡ªåŠ¨å»ºç›®å½•         --&gt;        &lt;javaModelGenerator targetPackage=\"com.SMS.domain\" targetProject=\"src/main/java\"&gt;            &lt;!-- åœ¨targetPackageçš„åŸºç¡€ä¸Šï¼Œæ ¹æ®æ•°æ®åº“çš„schemaå†ç”Ÿæˆä¸€å±‚packageï¼Œæœ€ç»ˆç”Ÿæˆçš„ç±»æ”¾åœ¨è¿™ä¸ªpackageä¸‹ï¼Œé»˜è®¤ä¸ºfalseï¼›å¦‚æœå¤šä¸ªæ•°æ®åº“æ”¹ä¸ºtrueåˆ†ç›®å½• --&gt;            &lt;property name=\"enableSubPackages\" value=\"false\"/&gt;            &lt;!-- è®¾ç½®æ˜¯å¦åœ¨getteræ–¹æ³•ä¸­ï¼Œå¯¹Stringç±»å‹å­—æ®µè°ƒç”¨trim()æ–¹æ³• --&gt;            &lt;property name=\"trimStrings\" value=\"true\"/&gt;        &lt;/javaModelGenerator&gt;        &lt;!--  æŒ‡å®šmapperæ˜ å°„æ–‡ä»¶ç”Ÿæˆçš„ä½ç½®,ä¹Ÿå°±æ˜¯mapper.xml           targetPackageã€targetProjectåŒjavaModelGeneratorä¸­ä½œç”¨ä¸€æ ·--&gt;        &lt;sqlMapGenerator targetPackage=\"com.SMS.dao\" targetProject=\"src/main/java\"&gt;            &lt;property name=\"enableSubPackages\" value=\"false\"/&gt;        &lt;/sqlMapGenerator&gt;        &lt;!--ä¹Ÿå¯è®¾ç½®åˆ°Resourceé‡Œé¢--&gt;&lt;!--        &lt;sqlMapGenerator targetPackage=\"mybatis.mapper\" targetProject=\"vhr-web\\src\\main\\resources\"/&gt;--&gt;        &lt;!-- æŒ‡å®šmapperæ¥å£ç”Ÿæˆçš„ä½ç½®         targetPackageã€targetProjectåŒjavaModelGeneratorä¸­ä½œç”¨ä¸€æ ·         --&gt;        &lt;javaClientGenerator type=\"XMLMAPPER\"                             targetPackage=\"com.SMS.dao\"                             targetProject=\"src/main/java\"&gt;            &lt;property name=\"enableSubPackages\" value=\"false\"/&gt;        &lt;/javaClientGenerator&gt;        &lt;!-- æŒ‡å®šæ•°æ®åº“è¡¨        domainObjectNameï¼šç”Ÿæˆçš„domainç±»çš„åå­—,å½“è¡¨åå’Œdomainç±»çš„åå­—æœ‰å·®å¼‚æ—¶ä¸€å®šè¦è®¾ç½®ï¼Œå¦‚æœä¸è®¾ç½®ï¼Œç›´æ¥ä½¿ç”¨è¡¨åä½œä¸ºdomainç±»çš„åå­—ï¼›        å¯ä»¥è®¾ç½®ä¸ºsomepck.domainNameï¼Œé‚£ä¹ˆä¼šè‡ªåŠ¨æŠŠdomainNameç±»å†æ”¾åˆ°somepckåŒ…é‡Œé¢ï¼›        --&gt;        &lt;table tableName=\"t_userlogin\" domainObjectName=\"User\"&gt;&lt;/table&gt;        &lt;table tableName=\"t_class\" domainObjectName=\"MyClass\"&gt;&lt;/table&gt;        &lt;table tableName=\"t_course\" domainObjectName=\"Course\"&gt;&lt;/table&gt;        &lt;table tableName=\"t_dept\" domainObjectName=\"Dept\"&gt;&lt;/table&gt;        &lt;table tableName=\"t_leave\" domainObjectName=\"Leave\"&gt;&lt;/table&gt;        &lt;table tableName=\"t_student\" domainObjectName=\"Student\"&gt;&lt;/table&gt;        &lt;table tableName=\"t_tearcher\" domainObjectName=\"Tearcher\"&gt;&lt;/table&gt;    &lt;/context&gt;&lt;/generatorConfiguration&gt;\n\n","categories":["Mybatis"],"tags":["Mybatis"]},{"title":"Native-imageæŠ€æœ¯ä¸åº”ç”¨","url":"/2023/10/27/learnnote/java-xue-xi-bi-ji/native-image-ji-zhu-yu-shi-yong/","content":"Native-imageæŠ€æœ¯ä¸åº”ç”¨\n1. èƒŒæ™¯ç›¸å…³\nä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜ï¼Œæ€»æ˜¯ä¼šåœ¨å·¥ä½œçš„æ—¶å€™å¼€å‘ä¸€äº›æ–¹ä¾¿è‡ªå·±å·¥ä½œçš„ç¨‹åºï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªJavaç¨‹åºå‘˜ï¼Œç»™è‡ªå·±æˆ–è€…æœ‹å‹å¼€å‘çš„åŠå…¬å°ç¨‹åºæ€»æ˜¯ä½¿ç”¨ä¸€ä¸ªJaråŒ…å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä½“éªŒï¼Œä¸»è¦æ˜¯ï¼š\n\nå¯åŠ¨ä¸æ–¹ä¾¿\néœ€è¦Javaç¯å¢ƒ\næœ‰æ—¶å€™æ‰“å‡ºæ¥çš„Jaræ¯”è¾ƒå¤§ï¼Œä¸ä¾¿äºåˆ†äº«ä¼ è¾“\n\nä½†æ˜¯ç°åœ¨æœ‰äº†GraalVMï¼Œè®©è¿™äº›éƒ½ä¸æ˜¯é—®é¢˜äº†ï¼Œç›´æ¥ç”Ÿæˆå¯æ‰§è¡Œç¨‹åºï¼Œä¸¢å“ªå“ªå°±èƒ½ç”¨\n2. GraalVM\nGraalVMæ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„è™šæ‹Ÿæœºï¼Œå®ƒèƒ½å¤Ÿç›´æ¥å°†Javaç¨‹åºç¼–è¯‘æˆæœ¬åœ°å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯ä»¥åœ¨ä¸å®‰è£…JVMçš„æƒ…å†µä¸‹è¿è¡Œç¨‹åºã€‚å½“ç„¶äº†å®ƒçš„ç‰¹æ€§è¿œä¸æ­¢è¿™äº›ï¼Œæ¯”å¦‚æ”¯æŒå¤šè¯­è¨€ï¼Œæ›´ä½çš„å†…å­˜å ç”¨ç­‰ç­‰ï¼Œä½†è¿™äº›å¹¶ä¸æ˜¯è¿™ç¯‡åšå®¢æ‰€æ¶‰åŠçš„ï¼Œæœ‰å…´è¶£å¯ä»¥å»ä»–ä»¬çš„å®˜ç½‘é‡Œäº†è§£ä¸€ä¸‹ã€‚\n3.å®‰è£…GraalVM JDK\nä¸‹è½½ç•Œé¢ï¼šhttps://github.com/graalvm/graalvm-ce-builds/releases/tag/vm-22.3.1\nè¿™é‡Œç”¨åˆ°çš„æ˜¯Java 17ç‰ˆæœ¬ï¼š\n\nä¸‹è½½å®Œæˆä¹‹åï¼Œæ”¾å…¥ä½ æœ¬åœ°çš„JDKç›®å½•ï¼Œä¾‹å¦‚ï¼š\n\næ¥ç€é…ç½®å˜é‡ç¯å¢ƒï¼š\n\né€šè¿‡cmdæµ‹è¯•ä¸€ä¸‹çœ‹çœ‹æ˜¯å¦é…ç½®ç¯å¢ƒæˆåŠŸï¼š\n\nå®‰è£…native-image\nNative Imageæ˜¯ä¸€ç§å°†Javaä»£ç æå‰ç¼–è¯‘ä¸ºç‹¬ç«‹å¯æ‰§è¡Œæ–‡ä»¶çš„æŠ€æœ¯ï¼Œæ­¤åˆ»æ‰§è¡Œæ–‡ä»¶åŒ…æ‹¬åº”ç”¨ç¨‹åºç±»ã€ä¾èµ–ã€è¿è¡Œæ—¶åº“ä»¥åŠJDKé™æ€è¿æ¥çš„æœ¬æœºä»£ç ã€‚ Graalvmé€šè¿‡å­æ¨¡å—SubstrateVMæ¥æ”¯æŒNative Imageï¼Œç›¸æ¯”JVMå…¶ç”Ÿæˆçš„ç¨‹åºå…·æœ‰æ›´å¿«çš„å¯åŠ¨æ—¶é—´å’Œæ›´ä½çš„è¿è¡Œæ—¶å¼€é”€ã€‚\néœ€è¦åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹æ‰“å¼€ä¸€ä¸ªcmdçª—å£ï¼Œç„¶åæ‰§è¡Œï¼š\ngu install native-image\nå®‰è£…Visual studio\nä¸ºäº†æ‰“åŒ…æˆexeå¯æ‰§è¡Œç¨‹åºï¼Œè¿™ä¸€æ­¥ä¹Ÿæ˜¯ä¸å¯é¿å…éœ€è¦åšçš„ï¼Œè¿™é‡Œæ¨èå®‰è£…2019ç‰ˆæœ¬ä¹‹åçš„ï¼Œæˆ‘å®‰è£…çš„æ˜¯visual studio 2022ï¼Œä¸‹è½½åœ°å€ï¼šhttps://visualstudio.microsoft.com\n\né…ç½®Cl.exeç¯å¢ƒ\n å®‰è£…å®Œæˆä»¥åæˆ‘ä»¬è¿˜éœ€è¦ä¸€äº›é…ç½®ï¼Œä¸ç„¶ç›´æ¥è¿›è¡Œæ‰“åŒ…ä¼šå¤±è´¥ï¼Œè¿™ä¸ªè¦æ ¹æ®ä½ VSå®‰è£…çš„è·¯å¾„æ¥ï¼Œæ¯”å¦‚ï¼š\n D:\\Microsoft Visual Studio\\2022\\BuildTools\\VC\\Tools\\MSVC\\14.34.31933\\bin\\Hostx64\\x64\n\n \n\næ·»åŠ graal-sdkçš„mavenä¾èµ–\n\n&lt;dependency&gt;    &lt;groupId&gt;org.graalvm.sdk&lt;/groupId&gt;    &lt;artifactId&gt;graal-sdk&lt;/artifactId&gt;    &lt;version&gt;21.3.0&lt;/version&gt;    &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt;\nåœ¨æ‰“åŒ…æˆjaråŒ…ä¹‹åä½ éœ€è¦åˆ©ç”¨è·Ÿè¸ªä»£ç†è¿è¡Œåº”ç”¨ç¨‹åºç”Ÿæˆå¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼š\n\næ‰§è¡Œæ­¤å‘½ä»¤å‰æ³¨æ„ä½ çš„ideaé…ç½®çš„JDKä¹Ÿéœ€è¦æ˜¯GraalVM JDK\njava -agentlib:native-image-agent=config-output-dir=[é¡¹ç›®è·¯å¾„]\\src\\main\\resources\\META-INF\\native-image -jar [ä½ çš„æ‰“åŒ…å¥½çš„jaråŒ…è·¯å¾„]\nè§£å†³æ‰¾ä¸åˆ°stdio.hç­‰æƒ…å†µ\n\nå¦‚æœå‡ºç°æ²¡æœ‰stdioç­‰åº“ç­‰åŸå› å¯èƒ½æ˜¯å› ä¸ºè¯»å–ä¸åˆ°æœ¬åœ°åº“æ–‡ä»¶å¯¼è‡´ï¼Œè¿™ä¸ªæ—¶å€™ä½ åªéœ€è¦æ·»åŠ ç›¸åº”çš„åº“å³å¯\n\né…ç½®ç¯å¢ƒå˜é‡ã€‚æ·»åŠ INCLUDEï¼š\n\n\n\næ·»åŠ LIBï¼š\n\n\n\næ¨èåŸºç¡€æ‰“åŒ…æ•™ç¨‹æ‰‹æŠŠæ‰‹å°†ä½ çš„Java mavené¡¹ç›®é€šè¿‡GraalVMæ‰“åŒ…æˆwindowså¯æ‰§è¡Œç¨‹åº - çŸ¥ä¹ (zhihu.com)\nå…³äºåå°„ç­‰é—®é¢˜graalvm ç¼–è¯‘åŸç”Ÿjava è§£å†³åå°„çš„é—®é¢˜ mavené…ç½® - æ–¹ä¸œä¿¡ - åšå®¢å›­ (cnblogs.com)\nagentlibæŒ‡ä»¤ä½¿ç”¨java -agentlib:native-image-agent=config-output-dir=E:\\AAAA_CODE\\new-eclipse-workspace\\native-netty-log4j\\src\\main\\resources\\META-INF\\native-image -jar E:\\AAAA_CODE\\new-eclipse-workspace\\native-netty-log4j\\target\\native-image-js.jar\n","categories":["Java"],"tags":["Java","Native-image"]},{"title":"OAuth2.0å…¥é—¨","url":"/2025/02/14/learnnote/java-xue-xi-bi-ji/oauth2.0-ru-men/","content":"OAuth2.0å…¥é—¨\nè¯´æ˜ï¼šOAuthå…¨ç§°ä¸ºOpen Authorizationï¼ˆå¼€æ”¾æˆæƒï¼‰ã€‚OAuthåè®®ä¸ºç”¨æˆ·èµ„æºçš„æˆæƒæä¾›äº†ä¸€ä¸ªå®‰å…¨çš„ã€å¼€æ”¾è€Œåˆç®€æ˜“çš„æ ‡å‡†ã€‚ä¸ä»¥å¾€çš„æˆæƒæ–¹å¼ä¸åŒä¹‹å¤„æ˜¯OAuthçš„æˆæƒä¸ä¼šä½¿ç¬¬ä¸‰æ–¹è§¦åŠåˆ°ç”¨æˆ·çš„å¸å·ä¿¡æ¯ï¼ˆå¦‚ç”¨æˆ·åä¸å¯†ç ï¼‰ï¼Œå³ç¬¬ä¸‰æ–¹æ— éœ€ä½¿ç”¨ç”¨æˆ·çš„ç”¨æˆ·åä¸å¯†ç å°±å¯ä»¥ç”³è¯·è·å¾—è¯¥ç”¨æˆ·èµ„æºçš„æˆæƒï¼Œå› æ­¤OAUTHæ˜¯å®‰å…¨çš„ã€‚\nä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦OAuth2.0åè®®â€‹    ç®€å•æ¥è¯´å°±æ˜¯å½“ç¬¬ä¸‰æ–¹åº”ç”¨éœ€è¦ç”¨æˆ·ä¿å­˜åœ¨å…¶ä»–åº”ç”¨ä¸Šçš„èµ„æºæ—¶ï¼Œæ¯”å¦‚ç½‘æ˜“äº‘éŸ³ä¹çš„ç¬¬ä¸‰æ–¹ç™»å½•åŠŸèƒ½ï¼Œéœ€è¦è·å–ç”¨æˆ·åœ¨å…¶ä»–åº”ç”¨ä¸Šçš„ç”¨æˆ·åå’Œå¤´åƒç­‰ä¿¡æ¯ï¼Œè¿™æ—¶é€šè¿‡OAuthå¼€æ”¾åè®®ä»¥ä¸€ç§å®‰å…¨çš„æ–¹å¼æˆæƒç¬¬ä¸‰æ–¹åº”ç”¨å»è·å–è¿™äº›èµ„æºã€‚\näºŒã€OAuth2.0 è§’è‰²Clientï¼šç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œæ¯”å¦‚ä¸Šé¢çš„ç½‘æ˜“äº‘éŸ³ä¹Resource Ownerï¼šèµ„æºæ‰€æœ‰è€…ï¼Œå³ç”¨æˆ·Authorization Serverï¼šæˆæƒæœåŠ¡å™¨ï¼Œå³æä¾›ç¬¬ä¸‰æ–¹ç™»å½•æœåŠ¡çš„æœåŠ¡å™¨ï¼Œå¦‚QQResource Serverï¼šæ‹¥æœ‰èµ„æºä¿¡æ¯çš„æœåŠ¡å™¨ï¼Œé€šå¸¸å’ŒæˆæƒæœåŠ¡å™¨å±äºåŒä¸€åº”ç”¨\nä¸‰ã€Access Token å’Œ Refresh TokenAccess Tokenæ˜¯å®¢æˆ·ç«¯è®¿é—®èµ„æºæœåŠ¡å™¨çš„ä»¤ç‰Œã€‚é€šè¿‡è¿™ä¸ªä»¤ç‰Œï¼Œå®¢æˆ·ç«¯å¯ä»¥è®¿é—®ç¬¬ä¸‰æ–¹åº”ç”¨ä¸Šå—ä¿æŠ¤çš„èµ„æºã€‚ä½†æ˜¯Access Tokenæœ‰æ•ˆæœŸä¸€èˆ¬è¾ƒçŸ­ï¼ˆè¿™å¯ä»¥é™ä½Acces Tokenæ³„æ¼è€Œå¸¦æ¥çš„é£é™©ï¼‰ï¼Œå½“Access Tokenè¿‡æœŸæ—¶ç”¨æˆ·å°±éœ€è¦é¢‘ç¹çš„æˆæƒå®¢æˆ·ç«¯è®¿é—®èµ„æºï¼Œè¿™éå¸¸å½±å“ç”¨æˆ·ä½“éªŒï¼Œå› æ­¤å¼•å…¥Refresh Tokenæ¥è·å–æ–°çš„Access Tokenã€‚\nä¸‹é¢çœ‹çœ‹OAuth2.0çš„åŸºæœ¬æµç¨‹ã€‚\n\n\nå®¢æˆ·ç«¯è¯·æ±‚è·å–è®¿é—®ä»¤ç‰Œï¼Œå¹¶å‘æˆæƒæœåŠ¡å™¨æä¾›æˆæƒè®¸å¯ï¼ˆè¿™é‡Œæœ‰å››ç§è®¤è¯æ–¹å¼ï¼‰\næˆæƒæœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯èº«ä»½è¿›è¡Œè®¤è¯ï¼Œå¹¶æ ¡éªŒæˆæƒè®¸å¯ï¼Œå¦‚æœæ ¡éªŒé€šè¿‡ï¼Œåˆ™å‘æ”¾è®¿é—®ä»¤ç‰Œå’Œåˆ·æ–°ä»¤ç‰Œ\nå®¢æˆ·ç«¯é€šè¿‡è®¿é—®ä»¤ç‰Œï¼ˆAccess Tokenï¼‰è®¿é—®å—ä¿æŠ¤çš„èµ„æº\nèµ„æºæœåŠ¡å™¨æ ¡éªŒè®¿é—®ä»¤ç‰Œï¼ˆAccess Tokenï¼‰ï¼Œå¦‚æœæ ¡éªŒé€šè¿‡ï¼Œåˆ™æä¾›æœåŠ¡ï¼Œè¿”å›èµ„æº\né‡å¤ï¼ˆ3ï¼‰å’Œï¼ˆ4ï¼‰ç›´åˆ°è®¿é—®ä»¤ç‰Œè¿‡æœŸã€‚å¦‚æœå®¢æˆ·ç«¯è®¿é—®ä»¤ç‰Œï¼ˆAccess Tokenï¼‰å·²ç»è¿‡æœŸï¼Œåˆ™è®¤è¯æœåŠ¡å™¨ä¼šè¿”å›InvalidTokenErrorå¼‚å¸¸ï¼ˆ6ï¼‰ï¼Œæ­¤æ—¶ä¸èƒ½ç»§ç»­è®¿é—®å—ä¿æŠ¤çš„èµ„æº\nå½“è®¿é—®ä»¤ç‰Œï¼ˆAccess Tokenï¼‰å¤±æ•ˆä»¥åï¼Œèµ„æºæœåŠ¡å™¨è¿”å›ä¸€ä¸ªæ— æ•ˆä»¤ç‰Œé”™è¯¯\nå®¢æˆ·ç«¯é€šè¿‡åˆ·æ–°ä»¤ç‰Œï¼ˆRefresh Tokenï¼‰è¯·æ±‚è·å–ä¸€ä¸ªæ–°çš„è®¿é—®ä»¤ç‰Œ\næˆæƒæœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯è¿›è¡Œèº«ä»½è®¤è¯å¹¶æ ¡éªŒåˆ·æ–°ä»¤ç‰Œï¼Œå¦‚æœæ ¡éªŒé€šè¿‡ï¼Œåˆ™å‘æ”¾æ–°çš„è®¿é—®ä»¤ç‰Œï¼ˆå¹¶ä¸”ï¼Œå¯ä»¥é€‰æ‹©å‘æ”¾æ–°çš„åˆ·æ–°ä»¤ç‰Œï¼‰\n\nå››ã€4ç§æˆæƒç±»å‹â€‹    ä¸ºäº†è·å¾—è®¿é—®ä»¤ç‰Œ(Token)ï¼Œå®¢æˆ·ç«¯éœ€è¦å…ˆä»èµ„æºæ‰€æœ‰è€…(ç”¨æˆ·)é‚£é‡Œè·å¾—æˆæƒã€‚æˆæƒæ˜¯ä»¥æˆæƒè®¸å¯(Grant Type)çš„å½¢å¼æ¥è¡¨ç¤ºçš„ã€‚OAuthå®šä¹‰äº†å››ç§æˆæƒç±»å‹ï¼š\n1ã€æˆæƒç æ¨¡å¼ï¼ˆAuthorization Code Grantï¼‰\n å½“ç”¨æˆ·è®¿é—®èµ„æºæ—¶ï¼Œæ¯”å¦‚åœ¨ç½‘æ˜“äº‘éŸ³ä¹ä¸­ä½¿ç”¨ç¬¬ä¸‰æ–¹ç™»å½•åŠŸèƒ½ï¼Œä¾‹å¦‚QQç™»å½•ï¼Œé‚£ä¹ˆè¿™é‡Œçš„èµ„æºå°±æ˜¯ç”¨æˆ·çš„QQæ˜µç§°å’Œå¤´åƒç­‰ä¿¡æ¯ã€‚æ­¤æ—¶ç¬¬ä¸‰æ–¹åº”ç”¨ï¼ˆç½‘æ˜“äº‘éŸ³ä¹ï¼‰å°†å‘é€è¯·æ±‚åˆ°æˆæƒæœåŠ¡å™¨ï¼ˆQQï¼‰å»è·å–æˆæƒï¼Œæ­¤æ—¶æˆæƒæœåŠ¡å™¨ï¼ˆQQï¼‰å°†è¿”å›ä¸€ä¸ªç•Œé¢ç»™ç”¨æˆ·ï¼Œç”¨æˆ·éœ€è¦ç™»å½•åˆ°QQï¼Œå¹¶åŒæ„æˆæƒç½‘æ˜“äº‘éŸ³ä¹è·å¾—æŸäº›ä¿¡æ¯ï¼ˆèµ„æºï¼‰ã€‚å½“ç”¨æˆ·åŒæ„æˆæƒåï¼ŒæˆæƒæœåŠ¡å™¨å°†è¿”å›ä¸€ä¸ªæˆæƒç ï¼ˆAuthorization Codeï¼‰ç»™ç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œæ­¤æ—¶ç¬¬ä¸‰æ–¹åº”ç”¨åœ¨é€šè¿‡client_idã€client_secretï¼ˆè¿™æ˜¯éœ€è¦ç¬¬ä¸‰æ–¹åº”ç”¨åœ¨æˆæƒæœåŠ¡å™¨å»ç”³è¯·çš„ï¼‰å’Œæˆæƒç å»è·å¾—Access Tokenå’ŒRefresh Tokenï¼Œæ­¤æ—¶æˆæƒç å°†å¤±æ•ˆã€‚ç„¶åå°±æ˜¯ç¬¬ä¸‰æ–¹åº”ç”¨é€šè¿‡Access Tokenå»èµ„æºæœåŠ¡å™¨è¯·æ±‚èµ„æºäº†ï¼Œèµ„æºæœåŠ¡å™¨æ ¡éªŒAccess TokenæˆåŠŸåå°†è¿”å›èµ„æºç»™ç¬¬ä¸‰æ–¹åº”ç”¨ã€‚\n2ã€éšå¼æˆæƒï¼ˆImplicit Grantï¼‰â€‹       éšå¼æˆæƒåˆç§°ç®€åŒ–æˆæƒæ¨¡å¼ï¼Œå®ƒå’Œæˆæƒç æ¨¡å¼ç±»ä¼¼ï¼Œåªä¸è¿‡å°‘äº†è·å–æˆæƒç çš„æ­¥éª¤ï¼Œæ˜¯ç›´æ¥è·å–ä»¤ç‰Œtokençš„ï¼Œä¸”æ²¡æœ‰Refresh Tokenï¼Œé€‚ç”¨äºå…¬å¼€çš„æµè§ˆå™¨å•é¡µåº”ç”¨ã€‚å› ä¸ºä»¤ç‰Œç›´æ¥ä»æˆæƒæœåŠ¡å™¨è¿”å›ï¼Œæ‰€ä»¥æ²¡æœ‰å®‰å…¨ä¿è¯ï¼Œä»¤ç‰Œå®¹æ˜“å› ä¸ºè¢«æ‹¦æˆªçªƒå¬è€Œæ³„éœ²ã€‚\n3ã€å¯†ç æ¨¡å¼ï¼ˆResource Owner Password Credentials Grantï¼‰\né¦–å…ˆèµ„æºæ‰€æœ‰è€…ï¼ˆç”¨æˆ·ï¼‰æä¾›è‡ªå·±çš„ç”¨æˆ·åå’Œå¯†ç ç»™å®¢æˆ·ç«¯ï¼ˆClientï¼‰ï¼Œç„¶åå®¢æˆ·ç«¯ï¼ˆClientï¼‰æºå¸¦ä»ç”¨æˆ·é‚£é‡Œè·å–çš„å‡­è¯å»æˆæƒæœåŠ¡å™¨è¯·æ±‚Tokenï¼Œ æˆæƒæœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯è¿›è¡Œèº«ä»½è®¤è¯ï¼Œå¹¶æ ¡éªŒèµ„æºæ‰€æœ‰è€…çš„å‡­è¯ï¼Œå¦‚æœéƒ½æ ¡éªŒé€šè¿‡ï¼Œåˆ™å‘æ”¾Tokenã€‚\né€‚ç”¨èŒƒå›´ï¼šåªé€‚ç”¨äºåº”ç”¨æ˜¯å—ä¿¡ä»»çš„åœºæ™¯ã€‚ä¸€ä¸ªå…¸å‹çš„ä¾‹å­æ˜¯åŒä¸€ä¸ªä¼ä¸šå†…éƒ¨çš„ä¸åŒäº§å“è¦ä½¿ç”¨æœ¬ä¼ä¸šçš„ Oauth2.0 ä½“ç³»ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”±äºæ˜¯åŒä¸ªä¼ä¸šï¼Œä¸éœ€è¦å‘ç”¨æˆ·å±•ç¤ºâ€œxxxå°†è·å–ä»¥ä¸‹æƒé™â€ç­‰å­—æ ·å¹¶è¯¢é—®ç”¨æˆ·çš„æˆæƒæ„å‘ï¼Œè€Œåªéœ€è¿›è¡Œç”¨æˆ·çš„èº«ä»½è®¤è¯å³å¯ã€‚è¿™ä¸ªæ—¶å€™ï¼Œåªéœ€è¦ç”¨æˆ·è¾“å…¥å‡­è¯å¹¶ç›´æ¥ä¼ é€’ç»™é‰´æƒæœåŠ¡å™¨è¿›è¡Œæˆæƒå³å¯ã€‚\n4ã€å®¢æˆ·ç«¯æˆæƒæ¨¡å¼ï¼ˆClient Credentials Grantï¼‰\nå®¢æˆ·ç«¯ï¼ˆClientï¼‰é€šè¿‡Client_idå’ŒClient_secretå»æˆæƒæœåŠ¡å™¨è¯·æ±‚Tokenï¼ŒæˆæƒæœåŠ¡å™¨è®¤è¯Client_idå’ŒClient_secretæ˜¯å¦æ­£ç¡®ï¼Œè‹¥æ­£ç¡®åˆ™å‘æ”¾Tokenç»™å®¢æˆ·ç«¯ï¼ˆClientï¼‰ã€‚æœ€åå®¢æˆ·ç«¯é€šè¿‡AccessTokenè¯·æ±‚èµ„æºã€‚\né€‚ç”¨èŒƒå›´ï¼šåªé€‚ç”¨äºåº”ç”¨æ˜¯å—ä¿¡ä»»çš„åœºæ™¯ã€‚\n","categories":["é‰´æƒè®¤è¯"],"tags":["OAuth"]},{"title":"RabbitMQæ¶ˆæ¯é˜Ÿåˆ—å­¦ä¹ ç¬”è®°","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/rabbitmq-xiao-xi-dui-lie-xue-xi-bi-ji/","content":"","categories":["Java","æ¶ˆæ¯é˜Ÿåˆ—"],"tags":["Java","RabbitMQ"]},{"title":"Rediså­¦ä¹ ","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/redis-xue-xi/","content":"Rediså­¦ä¹ \nRediså®‰è£…æµç¨‹\nä¸‹è½½RedisåŒ…\nwget https://download.redis.io/releases/redis-7.2.0.tar.gz\n\n\n\nè§£å‹æ–‡ä»¶\ntar -zxvf redis-7.2.0.tar.gz\n\nè¿›å…¥rediså®‰è£…ç›®å½•\ncd redis-7.2.0\n\n\n\n1.Redisæ˜¯å¼€æºçš„æ•°æ®åº“ï¼Œé¦–å…ˆå¦‚æœè¦è¿è¡Œè¯å…ˆè¦ç”¨gccç¼–è¯‘å™¨ç¼–è¯‘å¥½ä¹‹åæ‰èƒ½è¿è¡Œã€‚\nå¦‚æœæ²¡æœ‰gccç¼–è¯‘å™¨çš„å¯ä»¥ä½¿ç”¨yumæŒ‡ä»¤\nyum -y install gcc\n\n2.ç„¶åå°±å¯ä»¥åœ¨Rediså®‰è£…åŒ…çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œ\nmake\n\næŒ‡ä»¤ï¼Œè¿™æ ·å°±ä¼šè‡ªåŠ¨ç¼–è¯‘Redisçš„æºä»£ç ã€‚\nè®©åå°±å¯ä»¥åœ¨redisæ ¹ç›®å½•å’Œæ ¹ç›®å½•ä¸‹çš„srcç›®å½•ä¸‹å„æ‰§è¡Œä¸€é\nmake install\n\nè¿™æ ·å°±ä¼šå°†redisçš„æŒ‡ä»¤å…¨éƒ¨copyæ˜ å°„åˆ°Linuxçš„binç›®å½•ï¼Œåˆ°æ—¶å€™åœ¨ä»»ä½•ç›®å½•ä¸‹éƒ½å¯ä»¥ç›´æ¥æ‰§è¡Œç›¸å…³çš„æŒ‡ä»¤æ“ä½œredisäº†ã€‚\nç¼–è¯‘å®Œåå°±å¯ä»¥ç›´æ¥ä½¿ç”¨\nredis-server #è¿è¡Œredis-server &amp; #åå°è¿è¡Œredis-cli shutdown  #åœæ­¢redisredis-server -h [IPåœ°å€] -p [ç«¯å£å·] #å¯ä»¥ç”¨æ¥æŒ‡å®šå¯¹åº”çš„éé»˜è®¤rediså¯åŠ¨redis-cli -h [IPåœ°å€] -p [ç«¯å£å·] shutdown #å’Œä¸Šé¢çš„æ„æ€å·®ä¸å¤šï¼Œåªä¸è¿‡æ¢æˆäº†åœæ­¢redisredis-cli  #ä½¿ç”¨redisè‡ªå¸¦çš„å®¢æˆ·ç«¯è¿æ¥redisredis-cli -h [IPåœ°å€] -p [ç«¯å£å·]\n\n\n\nå°†Redisè®¾ç½®æˆå¼€å¯è‡ªå¯\n1.æ–°å»ºæ–‡ä»¶\nvi /etc/systemd/system/redis.service\n\n2.è¿›å…¥ä¹‹åå°†ä»¥ä¸‹ä¿¡æ¯å¤åˆ¶è¿›å»ï¼šï¼ˆæ³¨æ„ExecStartçš„å†…å®¹ä¸ºä½ ä»¬è‡ªå·±çš„redis.confæ–‡ä»¶çš„è·¯å¾„ï¼‰\n[Unit]Description=redis-serverAfter=network.target[Service]#Type=forkingExecStart=/usr/local/bin/redis-server /usr/local/redis-7.2.0/redis.confPrivateTmp=true[Install]WantedBy=multi-user.target\n\nä¹‹åä¾¿ä¿å­˜é€€å‡ºã€‚\n\né€€å‡ºä¹‹åè¦è®©æ–‡ä»¶ç”Ÿæ•ˆ\nsystemctl daemon-reloadsystemctl enable redis\n\nç„¶åé‡å¯redis\nsystemctl start redis\n\næŸ¥çœ‹redisçŠ¶æ€\nsystemctl status redis\n\nå¦‚ä½•æµ‹è¯•redisæœåŠ¡çš„æ€§èƒ½ï¼š\næ‰§è¡ŒæŒ‡ä»¤\nredis-benchmark\n\næŸ¥çœ‹redisæœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š\nping\t\tå¦‚æœæ­£å¸¸â€”â€”pongï¼ˆå‰ææ˜¯åœ¨redis-cliè¿æ¥åï¼‰\næŸ¥çœ‹redisæœåŠ¡å™¨çš„ç»Ÿè®¡ä¿¡æ¯\ninfo # æŸ¥çœ‹redisæœåŠ¡çš„æ‰€æœ‰ç»Ÿè®¡ä¿¡æ¯info [ä¿¡æ¯å­—æ®µ] # æŸ¥çœ‹redisæœåŠ¡å™¨çš„æŒ‡å®šçš„ç»Ÿè®¡ä¿¡æ¯ï¼Œå¦‚info Replication\n\nredisçš„æ•°æ®åº“å®ä¾‹ï¼š\nä½œç”¨ç±»ä¼¼äºmysqlçš„æ•°æ®åº“å®ä¾‹ï¼Œredisä¸­çš„æ•°æ®åº“å®ä¾‹åªèƒ½ç”±redisæœåŠ¡æ¥åˆ›å»ºå’Œç»´æŠ¤ï¼Œå¼€å‘äººå‘˜ä¸èƒ½ä¿®æ”¹å’Œè‡ªè¡Œåˆ›å»ºæ•°æ®åº“å®ä¾‹ï¼›é»˜è®¤æƒ…å†µä¸‹ï¼šredisä¼šè‡ªåŠ¨åˆ›å»º16ä¸ªæ•°æ®åº“å®ä¾‹ï¼Œå¹¶ä¸”ç»™è¿™äº›æ•°æ®åº“å®ä¾‹è¿›è¡Œç¼–å·ï¼Œä»0å¼€å§‹ï¼Œä¸€ç›´åˆ°15ï¼Œä½¿ç”¨æ—¶é€šè¿‡ç¼–å·æ¥ä½¿ç”¨æ•°æ®åº“ï¼›å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ï¼ŒæŒ‡å®šredisè‡ªåŠ¨åˆ›å»ºçš„æ•°æ®åº“ä¸ªæ•°ï¼šredisçš„æ¯ä¸€ä¸ªæ•°æ®åº“å®ä¾‹æœ¬èº«å ç”¨çš„å­˜å‚¨ç©ºé—´æ˜¯å¾ˆå°‘çš„ï¼Œæ‰€ä»¥ä¹Ÿä¸é€ æˆå­˜å‚¨ç©ºé—´çš„å¤ªå¤šæµªè´¹ã€‚\nâ€‹\t\té»˜è®¤æƒ…å†µä¸‹ï¼Œrediså®¢æˆ·ç«¯è¿æ¥çš„æ˜¯ç¼–å·æ˜¯0çš„æ•°æ®åº“å®ä¾‹\nRediså¸¸ç”¨æŒ‡ä»¤ï¼š\nselect [index] #indexè¡¨ç¤ºæŸä¸ªæ•°æ®åº“çš„ç¼–å·ï¼Œè¿™ä¸ªæŒ‡ä»¤ç”¨æ¥é€‰æ‹©æ•°æ®åº“set [key] [value]  #å¾€æ•°æ®åº“å†…æ·»åŠ å€¼get [key]  #è·å–å¯¹åº”keyçš„å€¼dbsize  #æŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸­keyçš„æ•°ç›®ï¼Œè¿”å›å½“å‰æ•°æ®åº“çš„keyçš„æ•°é‡keys *  #æŸ¥çœ‹å½“å‰æ•°æ®åº“å®ä¾‹æ‰€æœ‰çš„keyflushdb #æ¸…ç©ºå½“å‰åº“çš„æ‰€æœ‰æ•°æ®flushall  #æ¸…ç©ºæ‰€æœ‰æ•°æ®åº“çš„æ•°æ®ï¼ˆæ¸…ç©ºæ•´ä¸ªRedisæœåŠ¡çš„æ•°æ®ï¼‰ï¼Œè°¨æ…ä½¿ç”¨ï¼ï¼ï¼config get *  #æŸ¥çœ‹redisä¸­æ‰€æœ‰çš„é…ç½®ä¿¡æ¯config get parameter #æŸ¥çœ‹redisä¸­çš„æŒ‡å®šçš„é…ç½®ä¿¡æ¯\n\n\n\n\n\nRedisçš„ç‰¹ç‚¹\n1. æ”¯æŒæ•°æ®æŒä¹…åŒ–Redisæ”¯æŒæ•°æ®çš„æŒä¹…åŒ–ï¼Œå¯ä»¥å°†å†…å­˜ä¸­çš„æ•°æ®ä¿æŒåœ¨ç£ç›˜ä¸­ï¼Œé‡å¯çš„æ—¶å€™å¯ä»¥å†æ¬¡åŠ è½½è¿›è¡Œä½¿ç”¨ã€‚\n2. æ”¯æŒå¤šç§æ•°æ®ç»“æ„Redisä¸ä»…æ”¯æŒç®€å•çš„key-valueç±»å‹çš„æ•°æ®ï¼ŒåŒæ—¶è¿˜æä¾›listï¼Œsetï¼Œzsetï¼Œhashç­‰æ•°æ®ç»“æ„çš„å­˜å‚¨ã€‚\n3. æ”¯æŒæ•°æ®å¤‡ä»½Redisæ”¯æŒæ•°æ®çš„å¤‡ä»½ï¼Œå³master-slaveæ¨¡å¼çš„æ•°æ®å¤‡ä»½\nAã€å­—ç¬¦ä¸²ç±»å‹stringå­—ç¬¦ä¸²ç±»å‹æ˜¯Redisä¸­æœ€åŸºæœ¬çš„æ•°æ®ç»“æ„ï¼Œå®ƒèƒ½å­˜å‚¨ä»»ä½•ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬äºŒè¿›åˆ¶æ•°æ®ï¼Œåºåˆ—åŒ–åçš„æ•°æ®ï¼ŒJSONåŒ–çš„å¯¹è±¡ç”šè‡³æ˜¯ä¸€å¼ å›¾ç‰‡ã€‚æœ€å¤§512Mã€‚\n\n\n\nkey\nvalue\n\n\n\nusername\nå¼ ä¸‰å’Œæå››\n\n\nBã€åˆ—è¡¨ç±»å‹ listRedisåˆ—è¡¨æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæ’åºï¼Œå…ƒç´ å¯ä»¥é‡å¤ã€‚ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰ï¼Œåº•å±‚æ˜¯ä¸ªé“¾è¡¨ç»“æ„ã€‚\n\n\n\nkey\nvalue\n\n\n\nreqion\nåŒ—äº¬  ä¸Šæµ·  å¤©æ´¥\n\n\nCã€é›†åˆç±»å‹setRedisçš„Setæ˜¯stringç±»å‹çš„æ— åºæ— é‡å¤é›†åˆã€‚\n\n    \n        key\n        value\n    \n    \n        framework\n    \n    \n        spring\n    \n    \n        mybatis\n    \n    \n        struts\n    \n\n\n\n\nDã€å“ˆå¸Œç±»å‹hashRedis hash æ˜¯ä¸€ä¸ªstringç±»å‹çš„fieldå’Œvalueçš„æ˜ å°„è¡¨ï¼Œhashç‰¹è¡¨é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚\n\n\n\nkey\nloginuser\n\n\n\nfield\nvalue\n\n\nuname\nå¼ ä¸‰\n\n\ntimes\n5\n\n\nregion\nåŒ—äº¬\n\n\nEã€æœ‰åºé›†åˆç±»å‹zsetï¼ˆsorted setï¼‰Redisæœ‰åºé›†åˆzsetå’Œé›†åˆsetä¸€æ ·ä¹Ÿæ˜¯stringç±»å‹å…ƒç´ çš„é›†åˆï¼Œä¸”ä¸å…è®¸é‡å¤çš„æˆå‘˜ã€‚ä¸åŒçš„æ˜¯zsetçš„æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªåˆ†æ•°ï¼ˆåˆ†æ•°å¯ä»¥é‡å¤ï¼‰ï¼Œredisé€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚\n\n    \n        key\n        value score\n    \n    \n        salary\n    \n    \n        å¼ ä¸‰ 3500\n    \n    \n        æå›› 5000\n    \n    \n        å‘¨ä¸½ 8000\n    \n\n\n\n\nRedisçš„Keyçš„æ“ä½œå‘½ä»¤\nè¯­æ³•ï¼škeys patternä½œç”¨ï¼šæŸ¥æ‰¾æ‰€æœ‰ç¬¦åˆæ¨¡å¼patternçš„keyï¼Œpatternå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ã€‚\n\n*ï¼šè¡¨ç¤º0æˆ–å¤šä¸ªå­—ç¬¦ï¼Œä¾‹å¦‚ï¼škeys *æŸ¥è¯¢æ‰€æœ‰çš„keyã€‚\n?ï¼šè¡¨ç¤ºå•ä¸ªå­—ç¬¦ï¼Œä¾‹å¦‚ï¼šwo?dï¼ŒåŒ¹é… wordï¼Œwood\n[]ï¼šè¡¨ç¤ºé€‰æ‹©[]å†…çš„ä¸€ä¸ªå­—ç¬¦ï¼Œä¾‹å¦‚ wo[or]dï¼ŒåŒ¹é…wordï¼Œwoodï¼Œä¸åŒ¹é…woldï¼Œwoord\n\nè¯­æ³•ï¼šexists keyä½œç”¨ï¼šåˆ¤æ–­keyåœ¨æ•°æ®åº“ä¸­æ˜¯å¦å­˜åœ¨ã€‚\n\nexists keyï¼šå¦‚æœå­˜åœ¨è¿”å›1ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›0\nexists key [key key â€¦]ï¼šè¿”å›å€¼æ˜¯å­˜åœ¨çš„keyçš„æ•°é‡\n\nè¯­æ³•ï¼šmove key indexä½œç”¨ï¼šç§»åŠ¨æŒ‡å®škeyåˆ°æŒ‡å®šçš„æ•°æ®åº“å®ä¾‹\n\nmove key indexï¼šå°†å½“å‰åº“çš„æŒ‡å®šçš„keyç§»åŠ¨åˆ°äº†indexåº“å†…\n\nè¯­æ³•ï¼šttlä½œç”¨ï¼šæŸ¥çœ‹æŒ‡å®škeyçš„å‰©ä½™ç”Ÿå­˜æ—¶é—´ï¼Œttlä¸ºtime to liveçš„ç®€ç§°\n\nttl keyï¼šå¦‚æœkeyä¸å­˜åœ¨åˆ™è¿”å›-2ï¼Œå¦‚æœkeyæ²¡æœ‰è®¾ç½®ç”Ÿå­˜æ—¶é—´ï¼Œè¿”å›-1\n\nè¯­æ³•ï¼šexpire key secondsä½œç”¨ï¼šè®¾ç½®keyçš„æœ€å¤§ç”Ÿå­˜æ—¶é—´ï¼šexpire key seconds\n\nexpire k2 20ï¼šç»™k2è®¾ç½®20ç§’ç”Ÿå­˜æ—¶é—´ï¼Œè¶…è¿‡20ç§’k2è‡ªåŠ¨åˆ é™¤\n\nè¯­æ³•ï¼štype keyä½œç”¨ï¼šæŸ¥çœ‹æŒ‡å®škeyçš„æ•°æ®ç±»å‹\nè¯­æ³•ï¼šrename key newkeyä½œç”¨ï¼šé‡å‘½åæŒ‡å®šçš„key\nè¯­æ³•ï¼šdel key [key key â€¦]ä½œç”¨ï¼šåˆ é™¤æŒ‡å®škeyï¼Œè¿”å›å€¼æ˜¯è¿”å›å®é™…åˆ é™¤ çš„æ•°é‡ã€‚\nRedisä¸­æœ‰å…³stringç±»å‹æ•°æ®çš„æ“ä½œå‘½ä»¤ï¼š\nè¯­æ³•ï¼šset key valueä½œç”¨ï¼šæ·»åŠ ä¸€æ¡æ•°æ®\nè¯­æ³•ï¼šget keyä½œç”¨ï¼šä»Redisä¸­è·å–stringç±»å‹çš„æ•°æ®ï¼Œå¦‚æœkeyå·²ç»å­˜åœ¨äº†åˆ™åæ¥çš„valueä¼šæŠŠä»¥å‰çš„valueè¦†ç›–æ‰\nè¯­æ³•ï¼šappend key valueä½œç”¨ï¼šè¿½åŠ å­—ç¬¦ä¸²ï¼Œè¿”å›è¿½åŠ åçš„å­—ç¬¦ä¸²é•¿åº¦ï¼Œå¦‚æœkeyä¸å­˜åœ¨é‚£ä¹ˆä½œç”¨å°±ç±»ä¼¼äºsetæ–°åˆ›å»ºä¸€ä¸ªkeyå¹¶è¿½åŠ valueå€¼ã€‚ \nè¯­æ³•ï¼šstrlen keyä½œç”¨ï¼šè·å–keyå¯¹åº”valueçš„å­—ç¬¦ä¸²é•¿åº¦\nè¯­æ³•ï¼šincr keyä½œç”¨ï¼šå°†å­—ç¬¦ä¸²æ•°å€¼è¿›è¡ŒåŠ 1è¿ç®—ï¼Œè¦æ±‚keyæ‰€è¡¨ç¤ºvalueå¿…é¡»æ˜¯æ•°å€¼ï¼Œå¦åˆ™æŠ¥é”™ã€‚\n\nincr zsageï¼šè¿”å›åŠ 1è¿ç®—ä¹‹åçš„æ•°æ®ï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œé¦–å…ˆè®¾ç½®ä¸€ä¸ªkeyï¼Œå€¼åˆå§‹åŒ–ä¸º0ï¼Œç„¶åè¿›è¡Œincrè¿ç®—ã€‚\n\nè¯­æ³•ï¼šdecr keyä½œç”¨ï¼šå°†å­—ç¬¦ä¸²æ•°å€¼è¿›è¡Œå‡1è¿ç®—ï¼Œè¦æ±‚keyæ‰€è¡¨ç¤ºvalueå¿…é¡»æ˜¯æ•°å€¼ï¼Œå¦åˆ™æŠ¥é”™ã€‚\n\ndecr zsageï¼šè¿”å›å‡1è¿ç®—ä¹‹åçš„æ•°æ®ï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œé¦–å…ˆè®¾ç½®ä¸€ä¸ªkeyï¼Œå€¼åˆå§‹åŒ–ä¸º0ï¼Œç„¶åè¿›è¡Œdecrè¿ç®—ã€‚\n\nè¯­æ³•ï¼šincrby key offsetä½œç”¨ï¼šå°†å­—ç¬¦ä¸²æ•°å€¼è¿›è¡ŒåŠ offsetè¿ç®—ï¼Œè¿”å›åŠ offsetè¿ç®—ä¹‹åçš„æ•°æ®ï¼Œè¦æ±‚keyæ‰€è¡¨ç¤ºvalueå¿…é¡»æ˜¯æ•°å€¼ï¼Œå¦åˆ™æŠ¥é”™ã€‚\n\nincrby zsage 10ï¼šå¦‚æœkeyä¸å­˜åœ¨ï¼Œé¦–å…ˆè®¾ç½®ä¸€ä¸ªkeyï¼Œåˆå§‹åŒ–ä¸º0ï¼Œç„¶åè¿›è¡Œincrbyè¿ç®—ã€‚\n\nè¯­æ³•ï¼šdecrby key sffsetä½œç”¨ï¼šå°†å­—ç¬¦ä¸²æ•°å€¼è¿›è¡Œå‡offsetè¿ç®—ï¼Œè¿”å›åŠ offsetè¿ç®—ä¹‹åçš„æ•°æ®ï¼Œè¦æ±‚keyæ‰€è¡¨ç¤ºvalueå¿…é¡»æ˜¯æ•°å€¼ï¼Œå¦åˆ™æŠ¥é”™ã€‚\n\ndecrby zsage 10ï¼šå¦‚æœkeyä¸å­˜åœ¨ï¼Œé¦–å…ˆè®¾ç½®ä¸€ä¸ªkeyï¼Œåˆå§‹åŒ–ä¸º0ï¼Œç„¶åè¿›è¡Œdecrbyè¿ç®—ã€‚\n\nè¯­æ³•ï¼š getrange key startIndex endIndexä½œç”¨ï¼šè·å–å­—ç¬¦ä¸²ä¸­çš„å­å­—ç¬¦ä¸²ï¼Œä¸‹æ ‡è‡ªå·¦è‡³å³ï¼Œä»0å¼€å§‹ï¼Œä»¥åå¾€åï¼Œæœ€åä¸€ä¸ªå­—ç¬¦çš„ä¸‹æ ‡æ˜¯å­—ç¬¦ä¸²é•¿å¤š-1ï¼›å­—ç¬¦ä¸²ä¸­æ¯ä¸€ä¸ªä¸‹æ ‡ä¹Ÿå¯ä»¥æ˜¯è´Ÿæ•°ï¼Œè´Ÿä¸‹æ ‡è¡¨ç¤ºè‡ªå³è‡³å·¦ï¼Œä»-1å¼€å§‹ï¼Œä¸€æ¬¡å¾€å‰ï¼Œæœ€å³è¾¹ä¸€ä¸ªå­—ç¬¦çš„ä¸‹æ ‡æ˜¯-1ã€‚\n\ngetrange key startIndex endIndexï¼šè·å–å­—ç¬¦ä¸²keyä¸­ä»startIndexåˆ°endIndexçš„å­—ç¬¦ç»„æˆçš„å­å­—ç¬¦ä¸²\n\nè¯­æ³•ï¼šsetrange key startIndex valueä½œç”¨ï¼šç”¨valueè¦†ç›–ä»ä¸‹æ ‡ä¸ºstartIndexå¼€å§‹çš„å­—ç¬¦ä¸²\nè¯­æ³•ï¼šsetexä½œç”¨ï¼šè®¾ç½®å®ƒæœ€å¤§ç”Ÿå‘½å‘¨æœŸ\n\nsetex key seconds value\n\nè¯­æ³•ï¼šsetnx key valueä½œç”¨ï¼šè®¾ç½®stringç±»å‹çš„æ•°æ®valueåˆ°redisæ•°æ®åº“ä¸­ï¼Œå½“keyä¸å­˜åœ¨æ—¶è®¾ç½®æˆåŠŸï¼Œè´Ÿè´£å°†æ”¾å¼ƒè®¾ç½®\nè¯­æ³•ï¼šmset é”®1 å€¼1 é”®2 å€¼2 é”®3 å€¼3 â€¦ä½œç”¨ï¼šæ‰¹é‡å°†stringç±»å‹çš„æ•°æ®è®¾ç½®åˆ°redisä¸­\nè¯­æ³•ï¼šmget k1 k2 k3 k4 â€¦ä½œç”¨ï¼šæ‰¹é‡ä»redisä¸­è·å–stringç±»å‹çš„æ•°æ®\nè¯­æ³•ï¼šmsetnx k1 v1 k2 v2 k3 v3 â€¦ä½œç”¨ï¼šæ‰¹é‡è®¾ç½®stringç±»å‹çš„æ•°æ®valueåˆ°redisæ•°æ®åº“ä¸­ï¼Œå½“æ‰€æœ‰keyéƒ½ä¸å­˜åœ¨æ—¶è®¾ç½®æˆåŠŸï¼Œè´Ÿè´£ï¼ˆåªè¦æœ‰ä¸€ä¸ªå·²ç»å­˜åœ¨ï¼‰ï¼Œåˆ™å…¨éƒ¨æ”¾å¼ƒè®¾ç½®ã€‚ \nRedisä¸­æœ‰å…³åˆ—è¡¨ï¼ˆListï¼‰ç±»å‹çš„æ“ä½œæŒ‡ä»¤\nRedisåˆ—è¡¨æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§åˆå…¥é¡ºåºæ’åºï¼Œå·¦è¾¹ï¼ˆå¤´éƒ¨ï¼‰ï¼‰ã€å³è¾¹ï¼ˆå°¾éƒ¨ï¼‰æˆ–è€…ä¸­é—´éƒ½å¯ä»¥æ·»åŠ å…ƒç´ ã€‚é“¾è¡¨çš„æ“ä½œæ— è®ºæ˜¯å¤´æˆ–å°¾æ•ˆç‡éƒ½æé«˜ï¼Œä½†æ˜¯å¦‚æœå¯¹ä¸­é—´å…ƒç´ è¿›è¡Œæ“ä½œï¼Œé‚£æ•ˆç‡ä¼šå¤§å¤§é™ä½äº†ã€‚\nå¯¹è¡¨ç±»å‹çš„æ•°æ®æ“ä½œæ€»çš„æ€æƒ³æ˜¯é€šè¿‡keyå’Œä¸‹æ ‡æ“ä½œvalueï¼Œkeyæ˜¯æ•°æ®æ ‡è¯†ï¼Œä¸‹æ ‡æ˜¯æ•°æ®åœ¨åˆ—è¡¨ä¸­çš„ä½ç½®ï¼Œvalueæ˜¯æˆ‘ä»¬æ„Ÿå…´è¶£çš„ä¸šåŠ¡æ•°æ®ã€‚\nå•key-å¤šæœ‰åºvalueï¼Œä¸€ä¸ªkeyå¯¹åº”å¤šä¸ªvalueï¼Œå¤šä¸ªvalueä¹‹é—´æœ‰é¡ºåºï¼Œæœ€å·¦ä¾§æ˜¯è¡¨å¤´ï¼Œæœ€å³ä¾§æ˜¯è¡¨å°¾ï¼Œæ¯ä¸€ä¸ªå…ƒç´ éƒ½æœ‰ä¸‹æ ‡ï¼Œè¡¨å¤´å…ƒç´ çš„ä¸‹æ ‡æ˜¯0ï¼Œä¸€æ¬¡å¾€åæ’åºï¼Œæœ€åä¸€ä¸ªå…ƒç´ ä¸‹æ ‡æ˜¯åˆ—è¡¨é•¿åº¦-1ï¼›\næ¯ä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡åˆå¯ä»¥ç”¨è´Ÿæ•°è¡¨ç¤ºï¼Œè´Ÿä¸‹æ ‡è¡¨ç¤ºä»è¡¨å°¾è®¡ç®—ï¼Œæœ€åä¸€ä¸ªå…ƒç´ ä¸‹æ ‡ç”¨-1è¡¨ç¤ºï¼Œå…ƒç´ åœ¨åˆ—è¡¨ä¸­çš„é¡ºåºæˆ–è€…ä¸‹æ ‡ç”±æ”¾å…¥çš„é¡ºåºæ¥å†³å®šã€‚\nè¯­æ³•ï¼šlpush key value [value value value â€¦â€¦]ä½œç”¨ï¼šå°†ä¸€ä¸ªæˆ–è€…å¤šä¸ªå€¼ä¸€æ¬¡æ’å…¥åˆ°åˆ—è¡¨çš„è¡¨å¤´ï¼ˆå·¦ä¾§ï¼‰\n\nlpush ke vlaue [value value â€¦â€¦]\n\nè¯­æ³•ï¼šlrange key startIndex endIndexä½œç”¨ï¼šè·å–æŒ‡å®šåˆ—è¡¨ä¸­æŒ‡å®šä¸‹æ ‡åŒºé—´çš„å…ƒç´ \nè¯­æ³•ï¼šrpush key value [value value â€¦â€¦]ä½œç”¨ï¼šå°†ä¸€ä¸ªæˆ–è€…å¤šä¸ªå€¼ä¾æ¬¡æ’å…¥åˆ°åˆ—è¡¨çš„è¡¨å°¾ï¼ˆå³ä¾§ï¼‰\nè¯­æ³•ï¼šlpop keyä½œç”¨ï¼šä»æŒ‡å®šåˆ—è¡¨å¤´ä¸­ç§»é™¤å¹¶ä¸”è¿”å›è¡¨å¤´å…ƒç´ \nè¯­æ³•ï¼šrpop keyä½œç”¨ï¼šä»æŒ‡å®šåˆ—è¡¨å°¾ä¸­ç§»é™¤å¹¶ä¸”è¿”å›è¡¨å¤´å…ƒç´ \nè¯­æ³•ï¼šlindex key indexä½œç”¨ï¼šè·å–æŒ‡å®šåˆ—è¡¨ä¸­æŒ‡å®šä¸‹æ ‡çš„å…ƒç´ \nè¯­æ³•ï¼šllen keyä½œç”¨ï¼šè·å–æŒ‡å®šåˆ—è¡¨çš„é•¿åº¦\nè¯­æ³•ï¼šlrem key valueä½œç”¨ï¼šç§»é™¤åˆ—è¡¨ä¸­æŸä¸€ä½å…ƒç´ ï¼ˆvalueï¼‰ï¼Œè·Ÿvalueç›¸ç­‰çš„ã€‚\nè¯­æ³•ï¼šlrem key count valueä½œç”¨ï¼šç§»é™¤åˆ—è¡¨ä¸­æŸä¸€äº›å…ƒç´ ï¼Œæ ¹æ®countå€¼ç§»é™¤æŒ‡å®šåˆ—è¡¨ä¸­è·Ÿvalueç›¸ç­‰çš„æ•°æ®ã€‚å½“count&gt;0ï¼šä»åˆ—è¡¨çš„å·¦ä¾§ç§»é™¤countä¸ªè·Ÿvalueç›¸ç­‰çš„æ•°æ®ï¼›å½“vount&lt;0ï¼šä»åˆ—è¡¨çš„å³ä¾§ç§»é™¤countä¸ªè·Ÿvalueç›¸ç­‰çš„æ•°æ®ï¼›å½“count=0ï¼šä»åˆ—è¡¨ä¸­ç§»é™¤æ‰€æœ‰è·Ÿvalueç›¸ç­‰çš„æ•°æ®\nRedisä¸­æœ‰å…³setç±»å‹æ•°æ®çš„æ“ä½œå‘½ä»¤\nRedisçš„Setæ˜¯stringç±»å‹çš„æ— åºä¸é‡å¤é›†åˆã€‚\né›†åˆç±»å‹çš„æ•°æ®æ“ä½œæ€»çš„æ€æƒ³æ˜¯é€šè¿‡keyç¡®å®šé›†åˆï¼Œkeyæ˜¯é›†åˆæ ‡è¯†ï¼Œæ²¡æœ‰ä¸‹æ ‡ï¼Œåªæœ‰ç›´æ¥æ“ä½œä¸šåŠ¡æ•°æ®å’Œæ•°æ®çš„ä¸ªæ•°ã€‚\nè¯­æ³•ï¼šsadd key value [value value â€¦]ä½œç”¨ï¼šå°†ä¸€ä¸ªæˆ–è€…å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æŒ‡å®šçš„é›†åˆä¸­ï¼ˆæ·»åŠ é‡å¤å…ƒç´ æ—¶ä¼šè¿‡æ»¤æ‰é‡å¤å…ƒç´ ï¼‰\n\nsadd set01 a b c aï¼šè¿™é‡Œå®é™…çš„åªèƒ½åŠ å…¥ä¸‰ä¸ªå…ƒç´ ï¼Œä¹Ÿå°±æ˜¯aã€bã€cï¼ˆä¸ä¼šæœ‰é‡å¤çš„æ•°æ®ï¼‰\n\nè¯­æ³•ï¼šsmembers keyä½œç”¨ï¼šè·å–æŒ‡å®šé›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ \nè¯­æ³•ï¼šsismember  key memberä½œç”¨ï¼šåˆ¤æ–­æŒ‡å®šå…ƒç´ ï¼ˆmemberï¼‰åœ¨é›†åˆï¼ˆkeyï¼‰ä¸­æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨å°±è¿”å›1ï¼Œä¸å­˜åœ¨å°±è¿”å›0\nè¯­æ³•ï¼šsrem key member [member â€¦â€¦]ä½œç”¨ï¼šç§»é™¤æŒ‡å®šé›†åˆä¸­ä¸€ä¸ªæˆ–è€…å¤šä¸ªå…ƒç´ ï¼Œä¸å­˜åœ¨çš„å…ƒç´ ä¸è¢«å¿½ç•¥ï¼Œå¦‚æœå­˜åœ¨é‚£ä¹ˆå°±ä¼šè¿”å›æˆåŠŸç§»é™¤çš„ä¸ªæ•°ã€‚\nè¯­æ³•ï¼šsrandmember key [count]ä½œç”¨ï¼šéšæœºè·å–æŒ‡å®šé›†åˆä¸­çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªï¼ˆcountï¼‰å…ƒç´ ï¼Œå½“count&gt;0ï¼šéšæœºè·å–å¤šä¸ªå…ƒç´ ä¹‹é—´ä¸èƒ½é‡å¤ï¼›å½“count&lt;0ï¼šéšæœºè·å–çš„å¤šä¸ªå…ƒç´ ä¹‹é—´å¯èƒ½é‡å¤\nè¯­æ³•ï¼šspop key [count]ä½œç”¨ï¼šä»æŒ‡å®šé›†åˆä¸­éšæœºç§»é™¤ä¸€ä¸ªæˆ–è€…å¤šä¸ªå…ƒç´ \nè¯­æ³•ï¼šsmove source dest memberä½œç”¨ï¼šå°†æŒ‡å®šé›†åˆä¸­çš„æŒ‡å®šå…ƒç´ ç§»åŠ¨åˆ°å¦ä¸€ä¸ªå…ƒç´ \n\nsmove set1 set2 aï¼šç§»åŠ¨aå…ƒç´ åˆ°set2é›†åˆå½“ä¸­\n\nè¯­æ³•ï¼šsdiff key key [key key â€¦.]ä½œç”¨ï¼šè·å–æŒ‡å®šä¸€ä¸ªé›†åˆä¸­æœ‰ã€ä½†æ˜¯å…¶å®ƒé›†åˆä¸­éƒ½æ²¡æœ‰çš„å…ƒç´ ç»„æˆçš„æ–°é›†åˆ(å·®é›†)\n\nsdiff set1 set2 set3\n\nè¯­æ³•ï¼šsinter key key key [key key â€¦â€¦]ä½œç”¨ï¼šè·å–æ‰€æœ‰æŒ‡å®šé›†åˆä¸­éƒ½æœ‰çš„å…ƒç´ ç»„æˆçš„æ–°é›†åˆï¼ˆäº¤é›†ï¼‰\nè¯­æ³•ï¼šsunion key key [key key â€¦â€¦]ä½œç”¨ï¼šè·å–æ‰€æœ‰æŒ‡å®šé›†åˆä¸­æ‰€æœ‰å…ƒç´ ç»„æˆçš„å¤§é›†åˆ\nRedisä¸­æœ‰å…³hashç±»å‹æ•°æ®çš„æ“ä½œå‘½ä»¤\nRedisçš„hashæ˜¯ä¸€ä¸ªstringç±»å‹çš„keyå’Œvalueçš„æ˜ å°„è¡¨ï¼Œè¿™é‡Œçš„valueæ˜¯ä¸€ç³»åˆ—çš„é”®å€¼å¯¹ï¼Œhashç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚\nå“ˆå¸Œç±»å‹çš„æ•°æ®æ“ä½œæ€»çš„æ€æƒ³æ˜¯é€šè¿‡keyå’Œfieldæ“ä½œvalueï¼Œkeyæ˜¯æ•°æ®æ ‡è¯†ï¼Œfieldæ˜¯åŸŸï¼Œvalueæ˜¯æˆ‘ä»¬æ„Ÿå…´è¶£çš„ä¸šåŠ¡æ•°æ®ã€‚\nè¯­æ³•ï¼šhset key filed1 value1 [field2 value2 â€¦]ä½œç”¨ï¼šå°†ä¸€ä¸ªæˆ–è€…å¤šä¸ªfield-valueå¯¹è®¾ç½®åˆ°å“ˆå¸Œè¡¨ä¸­\n\nhset stu1001 id 1001\n\nè¯­æ³•ï¼šhget key fieldä½œç”¨ï¼šè·å–æŒ‡å®šå“ˆå¸Œè¡¨ä¸­æŒ‡å®šfieldçš„å€¼\n\nhget hash idï¼šè·å–åä¸ºhashçš„hashè¡¨ä¸­çš„idçš„å€¼\n\nè¯­æ³•ï¼šhmset key filed1 value1 [field2 value2 â€¦â€¦]ä½œç”¨ï¼šæ‰¹é‡è®¾ç½®å¤šä¸ªfiled-valueï¼Œä½œç”¨å’Œå‰é¢çš„hsetä¸€æ ·\nè¯­æ³•ï¼šhmget key field1 [field2 field3 â€¦â€¦]ä½œç”¨ï¼šæ‰¹é‡è·å–æŒ‡å®šå“ˆå¸Œè¡¨ä¸­çš„fieldçš„å€¼\nè¯­æ³•ï¼šhgetall keyä½œç”¨ï¼šè·å–æŒ‡å®šå“ˆå¸Œè¡¨ä¸­æ‰€æœ‰çš„fieldå’Œvalue\nè¯­æ³•ï¼šhdel key field1 [dield2 field3 â€¦]ä½œç”¨ï¼šä»æŒ‡å®šå“ˆå¸Œè¡¨ä¸­åˆ é™¤ä¸€ä¸ªæˆ–è€…å¤šä¸ªfield\nè¯­æ³•ï¼šhlen keyä½œç”¨ï¼šè·å–æŒ‡å®šå“ˆå¸Œè¡¨ä¸­æ‰€æœ‰çš„filedä¸ªæ•° \nhlen stu1001ï¼šè·å–keyä¸ºstu1001çš„å“ˆå¸Œè¡¨æœ‰å¤šä¸ªfieldã€‚\nè¯­æ³•ï¼šhexists key fieldä½œç”¨ï¼šåˆ¤æ–­æŒ‡å®šå“ˆå¸Œè¡¨ä¸­æ˜¯å¦å­˜åœ¨æŸä¸€ä¸ªfieldï¼Œæœ‰åˆ™è¿”å›1ï¼Œæ²¡æœ‰åˆ™0\nè¯­æ³•ï¼šhkeys keyä½œç”¨ï¼šè·å–æŒ‡å®šå“ˆå¸Œè¡¨ä¸­æ‰€æœ‰fieldåˆ—è¡¨\nè¯­æ³•ï¼šhvals keyä½œç”¨ï¼šè·å–æŒ‡å®šå“ˆå¸Œè¡¨ä¸­æ‰€æœ‰çš„valueåˆ—è¡¨\nè¯­æ³•ï¼šhincrby key field int(è¿™é‡Œçš„intåªèƒ½æ˜¯æ•´æ•°)ä½œç”¨ï¼šå¯¹æŒ‡å®šå“ˆå¸Œè¡¨ä¸­æŒ‡å®šfieldå€¼è¿›è¡ŒåŠ æ³•è¿ç®—\nè¯­æ³•ï¼šhincrbyfloat key field floatä½œç”¨ï¼šå¯¹æŒ‡å®šå“ˆå¸Œè¡¨ä¸­æŒ‡å®šfieldå€¼è¿›è¡Œæµ®ç‚¹æ•°åŠ æ³•è¿ç®—\nè¯­æ³•ï¼šhsetnx key field valueä½œç”¨ï¼šå°†ä¸€ä¸ªfield-valueå¯¹è®¾ç½®åˆ°å“ˆå¸Œè¡¨ä¸­ï¼Œå½“key-fieldå·²ç»å­˜åœ¨æ—¶ï¼Œåˆ™æ”¾å¼ƒè®¾ç½®ï¼Œå¦åˆ™ç»§ç»­è®¾ç½®ã€‚\nRedisä¸­æœ‰å…³zsetç±»å‹æ•°æ®çš„æ“ä½œå‘½ä»¤\nRedisæœ‰åºé›†åˆzsetå’Œé›†åˆsetä¸€æ ·ä¹Ÿæ˜¯stringç±»å‹å…ƒç´ çš„é›†åˆï¼Œä¸”ä¸å…è®¸é‡å¤çš„æˆå‘˜\nä¸åŒçš„æ˜¯zsetçš„æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªåˆ†æ•°ï¼ˆåˆ†æ•°å¯ä»¥é‡å¤ï¼‰ï¼Œredisé€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚\næœ¬è´¨ä¸Šæ˜¯é›†åˆï¼Œæ‰€æœ‰å…ƒç´ ä¸èƒ½é‡å¤ã€‚æ—¢ç„¶æœ‰åºé›†åˆä¸­æ¯ä¸€ä¸ªå…ƒç´ éƒ½æœ‰é¡ºåºï¼Œé‚£ä¹ˆä¹Ÿéƒ½æœ‰ä¸‹æ ‡ï¼›æœ‰åºé›†åˆä¸­å…ƒç´ çš„æ’åºè§„åˆ™ç”±åˆ—è¡¨ä¸­å…ƒç´ çš„æ’åºè§„åˆ™ä¸ä¸€æ ·ã€‚\nè¯­æ³•ï¼šzadd key score member [score member â€¦]ä½œç”¨ï¼šå°†ä¸€ä¸ªæˆ–å¤šä¸ªmemberåŠå…¶scoreå€¼åŠ å…¥æœ‰åºé›†åˆ\n\nzadd zset01 20 z1 z2 50 z3 40 z4\n\nè¯­æ³•ï¼šzrange key startIndex endIndex [withscores]ä½œç”¨ï¼šè·å–æŒ‡å®šæœ‰åºé›†åˆä¸­æŒ‡å®šä¸‹æ ‡åŒºé—´çš„å…ƒç´ ï¼Œå¦‚æœåŠ ä¸Šwithscoresé‚£ä¹ˆå°±ä¼šæ˜¾ç¤ºåé¢çš„åˆ†æ•°ã€‚\n\nzrange zset01 0 -1\n\nè¯­æ³•ï¼šzrangebyscore key min max [withscores]ä½œç”¨ï¼šè·å–æŒ‡å®šæœ‰åºé›†åˆä¸­æŒ‡å®šåˆ†æ•°åŒºé—´ï¼ˆé—­åŒºé—´ï¼‰çš„å…ƒç´ \nè¯­æ³•ï¼šzrem key member [member â€¦â€¦]ä½œç”¨ï¼šåˆ é™¤æœ‰æŒ‡å®šæœ‰åºé›†åˆä¸­ä¸€ä¸ªæˆ–è€…å¤šä¸ªå…ƒç´ \n\nzrem zset z3 z4\n\nè¯­æ³•ï¼šzcard keyä½œç”¨ï¼šè·å–æŒ‡å®šæœ‰åºé›†åˆä¸­æ‰€æœ‰å…ƒç´ çš„ä¸ªæ•°\nè¯­æ³•ï¼šzrank key memberä½œç”¨ï¼šè·å–æŒ‡å®šæœ‰åºé›†åˆä¸­æŒ‡å®šå…ƒç´ çš„æ’åï¼ˆé—­åŒºé—´ï¼‰\nè¯­æ³•ï¼šzcount key min maxä½œç”¨ï¼šè·å–æŒ‡å®šæœ‰åºé›†åˆä¸­åˆ†æ•°åœ¨æŒ‡å®šåŒºé—´å†…çš„å…ƒç´ çš„ä¸ªæ•°\nè¯­æ³•ï¼šzscore key memberä½œç”¨ï¼šè·å–æŒ‡å®šæœ‰åºé›†åˆä¸­æŒ‡å®šå…ƒç´ çš„åˆ†æ•°\nè¯­æ³•ï¼šzrevrank key memberä½œç”¨ï¼šè·å–æŒ‡å®šæœ‰åºé›†åˆä¸­æŒ‡å®šå…ƒç´ çš„æ’åï¼ˆæŒ‰ç…§åˆ†æ•°ä»å¤§åˆ°å°çš„æ’åï¼‰\nè¯­æ³•ï¼šzrevrange key startIndex endIndex [WITHSCORES]ä½œç”¨ï¼šæŸ¥è¯¢æœ‰åºé›†åˆï¼ŒæŒ‡å®šåŒºé—´å†…çš„å…ƒç´ ã€‚é›†åˆæˆå‘˜æŒ‰scoreå€¼ä»å¤§åˆ°å°æ¥æ’åºï¼›startIndexå’ŒendIndexéƒ½æ˜¯ä»0å¼€å§‹è¡¨ç¤ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œ1è¡¨ç¤ºç¬¬äºŒä¸ªå…ƒç´ ï¼Œä»¥æ­¤ç±»æ¨ï¼›startIndexå’Œ endIndexéƒ½å¯ä»¥å–è´Ÿæ•°ï¼Œè¡¨ç¤ºä»åå¾€å‰å–ï¼Œè¿”å›å€¼ï¼šæŒ‡å®šåŒºé—´çš„æˆå‘˜ç»„æˆçš„é›†åˆã€‚\nRedisçš„é…ç½®æ–‡ä»¶\nåœ¨redisæ ¹ç›®å½•ä¸‹æä¾›redis.confé…ç½®æ–‡ä»¶ï¼›å¯ä»¥é…ç½®ä¸€äº›redisæœåŠ¡ç«¯è¿è¡Œæ—¶çš„ä¸€äº›å‚æ•°ï¼›å¦‚æœä¸é€‚ç”¨é…ç½®æ–‡ä»¶ï¼Œé‚£ä¹ˆredisä¼šæŒ‰ç…§é»˜è®¤çš„å‚æ•°è¿è¡Œï¼›å¦‚æœä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œåœ¨å¯åŠ¨redisæœåŠ¡æ—¶å€™å¿…é¡»è¦æŒ‡å®šredisæ‰€ä½¿ç”¨çš„é…ç½®æ–‡ä»¶\nredis-server redis.conf  #åƒè¿™æ ·\n\n\n\nRedisé…ç½®æ–‡ä»¶ä¸­å…³äºç½‘ç»œçš„é…ç½®ï¼športï¼šæŒ‡å®šredisæœåŠ¡æ‰€ä½¿ç”¨çš„ç«¯å£ï¼Œé»˜è®¤ä½¿ç”¨6379\nbindï¼šé…ç½®å®¢æˆ·ç«¯è¿æ¥redisæœåŠ¡æ—¶ï¼Œæ‰€èƒ½ä½¿ç”¨çš„ipåœ°å€ï¼Œé»˜è®¤å¯ä»¥ä½¿ç”¨redisæœåŠ¡æ‰€åœ¨ä¸»æœºä¸Šä»»ä½•ä¸€ä¸ªipéƒ½å¯ä»¥ï¼›ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œéƒ½ä¼šé…ç½®ä¸€ä¸ªipï¼Œè€Œä¸”é€šå¸¸æ˜¯ä¸€ä¸ªçœŸå®çš„ç½‘å¡ä¸Šçš„IPã€‚\ntcp-keepaliveï¼šTCPè¿æ¥ä¿æ´»ç­–ç•¥ ï¼Œå¯ä»¥é€šè¿‡tcp-keepaliveé…ç½®é¡¹æ¥è¿›è¡Œè®¾ç½®ï¼Œå•ä½ä¸ºç§’ï¼Œå‡å¦‚è®¾ç½®ä¸º60ç§’ï¼Œåˆ™serverç«¯ä¼š60ç§’å‘è¿æ¥ç©ºé—²çš„å®¢æˆ·ç«¯å‘èµ·ä¸€æ¬¡ACKè¯·æ±‚ï¼Œä»¥æ£€æŸ¥å®¢æˆ·ç«¯æ˜¯å¦å·²ç»æŒ‚æ‰ï¼Œå¯¹äºæ— å“åº”çš„å®¢æˆ·ç«¯åˆ™ä¼šå…³é—­å…¶è¿æ¥ã€‚å¦‚æœè®¾ç½®ä¸º0ï¼Œåˆ™ä¸ä¼šè¿›è¡Œä¿æ´»æ£€æµ‹ã€‚\nRediså¸¸è§„é…ç½®ï¼šloglevelï¼šé…ç½®æ—¥å¿—çº§åˆ«ï¼Œå¼€å‘é˜¶æ®µå¯ä»¥è®¾ç½®æˆdebugï¼Œç”Ÿæˆé˜¶æ®µé€šå¸¸è®¾ç½®ä¸ºnoticeæˆ–è€…warningã€‚\nlogfileï¼šæŒ‡å®šæ—¥å¿—æ–‡ä»¶ã€‚redisåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šè¾“å‡ºä¸€äº›æ—¥å¿—ä¿¡æ¯ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº›æ—¥å¿—ä¿¡æ¯ä¼šè¾“å‡ºåˆ°æ§åˆ¶å°ï¼šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨logfileé…ç½®æ—¥å¿—æ–‡ä»¶ï¼Œä½¿redisæŠŠæ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ°æ–‡ä»¶é‡Œé¢ã€‚è¦ä¿è¯æ—¥å¿—æ–‡ä»¶æ‰€åœ¨ç›®å½•å¿…é¡»å­˜åœ¨ï¼Œæ–‡ä»¶å¯ä»¥ä¸å­˜åœ¨ã€‚è¿˜è¦åœ¨rediså¯åŠ¨æ—¶æŒ‡å®šæ‰€ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ï¼Œå¦åˆ™é…ç½®ä¸èµ·ä½œç”¨ã€‚\ndatabasesï¼šé…ç½®redisæœåŠ¡é»˜è®¤åˆ›å»ºçš„æ•°æ®åº“å®ä¾‹ä¸ªæ•°ï¼Œé»˜è®¤å€¼æ˜¯16\nRedisçš„å®‰å…¨é…ç½®requirepassï¼šé…ç½®Redisçš„è®¿é—®å¯†ç ã€‚é»˜è®¤ä¸é…ç½®å¯†ç ï¼Œå³è®¿é—®ä¸éœ€è¦å¯†ç éªŒè¯ã€‚æ­¤é…ç½®é¡¹éœ€è¦åœ¨prorected-mode=yesæ—¶èµ·ä½œç”¨ã€‚ä½¿ç”¨å¯†ç ç™»å½•å®¢æˆ·ç«¯ï¼š\nredis-cli -h ip -p 6379 -a pwd\n\nredisçš„æŒä¹…åŒ–ï¼šredisæä¾›æŒä¹…åŒ–ç­–ç•¥ï¼Œåœ¨é€‚å½“çš„æ—¶æœºé‡‡ç”¨é€‚å½“æ‰‹æ®µæŠŠå†…å­˜ä¸­çš„æ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜ä¸­ï¼Œæ¯æ¬¡redisæœåŠ¡å¯åŠ¨æ—¶éƒ½å¯ä»¥æŠŠç£ç›˜ä¸Šçš„æ•°æ®å†æ¬¡åŠ è½½å†…å­˜ä¸­ä½¿ç”¨ã€‚\nRedisçš„RDBé…ç½®RDBç­–ç•¥ ï¼šåœ¨æŒ‡å®šæ—¶é—´é—´éš”å†…ï¼ŒredisæœåŠ¡æ‰§è¡ŒæŒ‡å®šæ¬¡æ•°çš„å†™æ“ä½œï¼Œä¼šè‡ªåŠ¨è§¦å‘ä¸€æ¬¡æŒä¹…åŒ–æ“ä½œã€‚\n1ã€save  ï¼šé…ç½®å¤åˆçš„å¿«ç…§è§¦å‘æ¡ä»¶ï¼Œå³Redisåœ¨secondsç§’å†…keyæ”¹å˜changesæ¬¡ï¼ŒRedisæŠŠå¿«ç…§å†…çš„æ•°æ®ä¿å­˜åˆ°äº†ç£ç›˜ä¸­ä¸€æ¬¡ã€‚é»˜è®¤çš„ç­–ç•¥æ˜¯ï¼š\n1åˆ†é’Ÿå†…æ”¹å˜1ä¸‡æ¬¡\næˆ–è€…5åˆ†é’Ÿå†…æ”¹å˜äº†10æ¬¡\næˆ–è€…15åˆ†é’Ÿå†…æ”¹å˜äº†1æ¬¡\nå¦‚æœè¦ç¦æ­¢Redisçš„æŒä¹…åŒ–åŠŸèƒ½ï¼Œåˆ™æŠŠæ‰€æœ‰çš„saveé…ç½®éƒ½æ³¨é‡Šæ‰ã€‚\n2ã€stop-writes-on-bgsave-errorï¼šå½“bgsaveå¿«ç…§æ“ä½œå‡ºé”™æ—¶åœæ­¢å†™æ•°æ®åˆ°ç£ç›˜ï¼Œè¿™æ ·èƒ½ä¿è¯å†…å­˜çŠç‘šæ©˜å’Œç£ç›˜æ•°æ®çš„ä¸€è‡´æ€§ï¼Œä½†å¦‚æœä¸åœ¨ä¹è¿™ç§ä¸€è‡´æ€§ï¼Œè¦åœ¨bgsaveå¿«ç…§æ“ä½œå‡ºé”™æ—¶ç»§ç»­å†™æ“ä½œï¼Œè¿™é‡Œéœ€è¦é…ç½®ä¸ºnoã€‚\n3ã€rdbcompressionï¼šè®¾ç½®å¯¹äºå­˜å‚¨åˆ°ç£ç›˜ä¸­çš„å¿«ç…§æ˜¯å¦è¿›è¡Œå‹ç¼©ï¼Œè®¾ç½®ä¸ºyesæ—¶ï¼ŒRedisä¼šé‡‡ç”¨LZFç®—æ³•è¿›è¡Œå‹ç¼©ï¼›å¦‚æœä¸æƒ³æ¶ˆè€—CPUè¿›è¡Œå‹ç¼©çš„è¯ï¼Œå¯ä»¥è®¾ç½®ä¸ºnoï¼Œå…³é—­æ­¤åŠŸèƒ½ã€‚\n4ã€rdbchecksumï¼šåœ¨å­˜å‚¨å¿«ç…§ä»¥åï¼Œè¿˜å¯ä»¥è®©Redisä½¿ç”¨CRC4ç®—æ³•æ¥è¿›è¡Œæ•°æ®æ ¡éªŒï¼Œä½†è¿™æ ·ä¼šæ¶ˆè€—ä¸€å®šçš„æ€§èƒ½ï¼Œå¦‚æœç³»ç»Ÿæ¯”è¾ƒåœ¨æ„æ€§èƒ½çš„æå‡ï¼Œå¯ä»¥è®¾ç½®ä¸ºnoï¼Œå…³é—­æ­¤åŠŸèƒ½ã€‚\n5ã€dbfilenameï¼šRedisæŒä¹…åŒ–æ•°æ®ç”Ÿæˆçš„æ–‡ä»¶åï¼Œé»˜è®¤æ˜¯dump.rdbï¼Œä¹Ÿå¯ä»¥è‡ªå·±é…ç½®ã€‚\n6ã€dirï¼šRedisæŒä¹…åŒ–æ•°æ®ç”Ÿæˆæ–‡ä»¶ä¿å­˜çš„ç›®å½•ï¼Œé»˜è®¤æ˜¯./å³redisçš„å¯åŠ¨ç›®å½•ï¼Œä¹Ÿå¯ä»¥è‡ªå·±é…ç½®ã€‚\nRedisçš„AOFç­–ç•¥ï¼šAOFç­–ç•¥ï¼šé‡‡ç”¨æ“ä½œæ—¥å¿—æ¥è®°å½•è¿›è¡Œæ¯ä¸€æ¬¡å†™æ“ä½œï¼Œæ¯æ¬¡redisæœåŠ¡å¯åŠ¨æ—¶ï¼Œéƒ½ä¼šé‡æ–°æ‰§è¡Œä¸€éæ“ä½œæ—¥å¿—ä¸­çš„æŒ‡ä»¤ã€‚redisé»˜è®¤ä¸å¼€å¯ï¼Œæ•ˆç‡ä½ã€‚\nappendonlyï¼šé…ç½®æ˜¯å¦å¼€å¯AOFç­–ç•¥ï¼Œé»˜è®¤ä¸ºnoå³ä¸ºå…³é—­\nappendfilenameï¼šé…ç½®æ“ä½œæ—¥å¿—æ–‡ä»¶\nå°ç»“ï¼šæ ¹æ®æ•°æ®çš„ç‰¹ç‚¹å†³å®šå¼€å¯å“ªç§æŒä¹…åŒ–ç­–ç•¥ï¼›ä¸€èˆ¬æƒ…å†µï¼Œå¼€å¯RDBè¶³å¤Ÿäº†ã€‚\nRedisçš„äº‹åŠ¡ï¼šäº‹åŠ¡ï¼šæŠŠä¸€ç»„æ•°æ®åº“å‘½ä»¤æ”¾åœ¨ä¸€èµ·æ‰§è¡Œï¼Œä¿è¯æ“ä½œçš„åŸå­æ€§ï¼Œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ã€‚\nRedisçš„äº‹åŠ¡ï¼šå…è®¸åœ¨æŠŠä¸€ç»„redisæ•°æ®åº“å‘½ä»¤æ”¾åœ¨ä¸€èµ·æ‰§è¡Œï¼ŒæŠŠå‘½ä»¤è¿›è¡Œåºåˆ—åŒ–ï¼Œç„¶åä¸€èµ·æ‰§è¡Œï¼Œä¿è¯éƒ¨åˆ†åŸå­æ€§\n1ã€å•ç‹¬çš„éš”ç¦»æ“ä½œï¼šäº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¼šåºåˆ—åŒ–ã€é¡ºåºåœ°æ‰§è¡Œã€äº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸ä¼šè¢«å…¶å®ƒå®¢æˆ·ç«¯å‘æ¥çš„å‘½ä»¤è¯·æ±‚æ‰€æ‰“æ–­ï¼Œé™¤éä½¿ç”¨watchå‘½ä»¤ç›‘æ§æŸäº›é”®ã€‚\n2ã€ä¸ä¿è¯äº‹åŠ¡çš„åŸå­æ€§ï¼šredisåŒä¸€äº‹åŠ¡ä¸­å¦‚æœä¸€æ¡å‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼Œå…¶åçš„å‘½ä»¤ä»ç„¶å¯èƒ½ä¼šè¢«æ‰§è¡Œï¼Œredisçš„äº‹åŠ¡æ²¡æœ‰å›æ»šã€‚Rediså·²ç»åœ¨ç³»ç»Ÿå†…éƒ¨è¿›è¡ŒåŠŸèƒ½ç®€åŒ–ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿æ›´å¿«çš„è¿è¡Œé€Ÿåº¦ï¼Œå› ä¸ºRedisä¸éœ€è¦äº‹åŠ¡å›æ»šçš„èƒ½åŠ›ã€‚\n1ï¼‰multiï¼šç”¨æ¥æ ‡è®°ä¸€ä¸ªäº‹åŠ¡çš„å¼€å§‹ã€‚2ï¼‰execï¼šç”¨æ¥æ‰§è¡Œäº‹åŠ¡é˜Ÿåˆ—ä¸­æ‰€æœ‰çš„å‘½ä»¤ã€‚3ï¼‰redisçš„äº‹åŠ¡åªèƒ½ä¿è¯éƒ¨åˆ†åŸå­æ€§ï¼šâ€‹\taï¼‰å¦‚æœä¸€ç»„å‘½ä»¤ä¸­ï¼Œæœ‰åœ¨åŠ å…¥äº‹åŠ¡é˜Ÿåˆ—è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯çš„å‘½ä»¤ï¼Œåˆ™æœ¬äº‹åŠ¡ä¸­æ‰€æœ‰çš„å‘½ä»¤éƒ½ä¸æ‰§è¡Œï¼Œèƒ½å¤Ÿä¿è¯äº‹åŠ¡çš„åŸå­æ€§ã€‚\nmultiseta kk vvset k4 v4exec#è¿™é‡Œä¸Šé¢æ‰€æœ‰çš„å‘½ä»¤éƒ½ä¸ä¼šå‡‘æ•ˆ\n\n bï¼‰å¦‚æœä¸€ç»„å‘½ä»¤ä¸­ï¼Œåœ¨å‹å…¥é˜Ÿåˆ—è¿‡ç¨‹ä¸­æ­£å¸¸ï¼Œä½†æ˜¯åœ¨æ‰§è¡Œäº‹åŠ¡ é˜Ÿåˆ—å‘½ä»¤æ—¶å‘ç”Ÿäº†é”™è¯¯ï¼Œåˆ™åªä¼šå½±å“å‘ç”Ÿé”™è¯¯çš„å‘½ä»¤ï¼Œä¸ä¼šå½±å“å…¶ä»–å‘½ä»¤çš„æ‰§è¡Œï¼Œè¿™æ—¶å°±ä¸èƒ½ä¿è¯äº‹åŠ¡çš„åŸå­æ€§ã€‚\nmultiset k3 v3incr k1set k4 v4exec#å‹å…¥é˜Ÿåˆ—çš„æ—¶å€™è¿™äº›æŒ‡ä»¤å¹¶æ²¡æœ‰æ‰§è¡Œï¼Œæ‰§è¡Œçš„æ—¶å€™ä¼šæŠ¥é”™ï¼Œè¿™ä¸ªæ—¶å€™å°±åªä¼šå¿½ç•¥æŠ¥é”™çš„æŒ‡ä»¤å…¶ä»–æŒ‡ä»¤ç…§å¸¸ï¼Œè¿™æ—¶å€™å°±ä¸èƒ½ä¿è¯äº‹åŠ¡çš„åŸå­æ€§äº†ï¼Œåªèƒ½è¯´éƒ¨åˆ†åŸå­æ€§ã€‚\n\n4ï¼‰discardï¼šæ¸…æ¥šæ‰€æœ‰å·²ç»å‹å…¥é˜Ÿåˆ—ä¸­çš„å‘½ä»¤ï¼Œå¹¶ä¸”ç»“æŸæ•´ä¸ªäº‹åŠ¡ã€‚set k5 v5set k6 v6discard\n\n5ï¼‰ watch:ç›‘æ§æŸä¸€ä¸ªé”®ï¼Œå½“äº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ­¤é”®ä»£è¡¨çš„å€¼å‘ç”Ÿäº†å˜åŒ–ï¼Œåˆ™æœ¬äº‹åŠ¡æ”¾å¼ƒæ‰§è¡Œï¼Œå¦åˆ™æ­£å¸¸æ‰§è¡Œã€‚set balance 100set balance2 1000set version 1watch versionmultidecrby balance 50incrby balance2 50exec\n\n6ï¼‰unwatchï¼šæ”¾å¼ƒç›‘æ§æ‰€æœ‰çš„é”®ã€‚Redisæ¶ˆæ¯çš„å‘å¸ƒä¸è®¢é˜…\nrediså®¢æˆ·ç«¯è®¢é˜…é¢‘é“ï¼Œæ¶ˆæ¯çš„å‘å¸ƒè€…å¾€é¢‘é“ä¸Šå‘å¸ƒæ¶ˆæ¯ï¼Œæ‰€æœ‰è®¢é˜…æ­¤é¢‘é“çš„å®¢æˆ·ç«¯éƒ½èƒ½å¤Ÿæ¥å—åˆ°\n1ï¼‰subscribe ch1 ch2 [ch3 ch4 â€¦]ï¼šå®šä¹‰é¢‘é“2ï¼‰publish ch1 messageï¼šå‘å¸ƒæ¶ˆæ¯ï¼Œè¿™é‡Œæ˜¯å¾€ch1å‘é€message3ï¼‰psubcribeï¼šè®¢é˜…ä¸€ä¸ªæˆ–è€…å¤šä¸ªé¢‘é“çš„æ¶ˆæ¯ï¼Œé¢‘é“åæ”¯æŒé€šé…ç¬¦ã€‚\nsubscribe news.*\n\nRedisçš„ä¸»ä»å¤åˆ¶","categories":["Redis"],"tags":["Redis"]},{"title":"RocketMQå­¦ä¹ ","url":"/2023/09/20/learnnote/java-xue-xi-bi-ji/rocketmq-bi-ji/","content":"RocketMQå­¦ä¹ \n1.\tå®šä¹‰\nä¸­é—´ä»¶ï¼ˆç¼“å­˜ä¸­é—´ä»¶  redis memcache  æ•°æ®åº“ä¸­é—´ä»¶ mycat  canal  æ¶ˆæ¯ä¸­é—´ä»¶mq ï¼‰\né¢å‘æ¶ˆæ¯çš„ä¸­é—´ä»¶(message-oriented middleware) MOMèƒ½å¤Ÿå¾ˆå¥½çš„è§£å†³ä»¥ä¸Šçš„é—®é¢˜ã€‚\næ˜¯æŒ‡åˆ©ç”¨é«˜æ•ˆå¯é çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶è¿›è¡Œä¸å¹³å°æ— å…³ï¼ˆè·¨å¹³å°ï¼‰çš„æ•°æ®äº¤æµï¼Œå¹¶åŸºäºæ•°æ®é€šä¿¡æ¥è¿›è¡Œåˆ†å¸ƒå¼ç³»ç»Ÿçš„é›†æˆã€‚\né€šè¿‡æä¾›æ¶ˆæ¯ä¼ é€’å’Œæ¶ˆæ¯æ’é˜Ÿæ¨¡å‹åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹æä¾›åº”ç”¨è§£è€¦ï¼Œå¼¹æ€§ä¼¸ç¼©ï¼Œå†—ä½™å­˜å‚¨ï¼Œæµé‡å‰Šå³°ï¼Œå¼‚æ­¥é€šä¿¡ï¼Œæ•°æ®åŒæ­¥ç­‰\n1.1\tå¤§è‡´æµç¨‹å‘é€è€…æŠŠæ¶ˆæ¯å‘ç»™æ¶ˆæ¯æœåŠ¡å™¨[MQ]ï¼Œæ¶ˆæ¯æœåŠ¡å™¨æŠŠæ¶ˆæ¯å­˜æ”¾åœ¨è‹¥å¹²ä¸»é¢˜ä¸­ï¼Œåœ¨åˆé€‚çš„æ—¶å€™ï¼Œæ¶ˆæ¯æœåŠ¡å™¨ä¼šæŠŠæ¶ˆæ¯è½¬å‘ç»™æ¥å—è€…ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå‘é€å’Œæ¥å—æ˜¯å¼‚æ­¥çš„,ä¹Ÿå°±æ˜¯å‘é€æ— éœ€ç­‰å¾…ï¼Œå‘é€è€…å’Œæ¥å—è€…çš„ç”Ÿå‘½å‘¨æœŸä¹Ÿæ²¡æœ‰å¿…ç„¶å…³ç³»åœ¨å‘å¸ƒpub/è®¢é˜…subæ¨¡å¼ä¸‹ï¼Œä¹Ÿå¯ä»¥å®Œæˆä¸€å¯¹å¤šçš„é€šä¿¡ï¼Œå¯ä»¥è®©ä¸€ä¸ªæ¶ˆæ¯æœ‰å¤šä¸ªæ¥å—è€…[å¾®ä¿¡è®¢é˜…å·å°±æ˜¯è¿™æ ·çš„]\n\n2.\tä¸ºä»€ä¹ˆç”¨MQï¼š\n1ï¼Œè¦åšåˆ°ç³»ç»Ÿè§£è€¦ï¼Œå½“æ–°çš„æ¨¡å—è¿›æ¥æ—¶ï¼Œå¯ä»¥åšåˆ°ä»£ç æ”¹åŠ¨æœ€å°;  èƒ½å¤Ÿè§£è€¦\n2ï¼Œè®¾ç½®æµç¨‹ç¼“å†²æ± ï¼Œå¯ä»¥è®©åç«¯ç³»ç»ŸæŒ‰è‡ªèº«ååèƒ½åŠ›è¿›è¡Œæ¶ˆè´¹ï¼Œä¸è¢«å†²å®; èƒ½å¤Ÿå‰Šå³°ï¼Œé™æµ\n3ï¼Œå¼ºå¼±ä¾èµ–æ¢³ç†èƒ½æŠŠéå…³é”®è°ƒç”¨é“¾è·¯çš„æ“ä½œå¼‚æ­¥åŒ–å¹¶æå‡æ•´ä½“ç³»ç»Ÿçš„ååèƒ½åŠ›;èƒ½å¤Ÿå¼‚æ­¥\nMqçš„ä½œç”¨  å‰Šå³°é™æµ å¼‚æ­¥ è§£è€¦åˆ\n\n3.\tç°å®ä¸­çš„ä¸šåŠ¡\n\n4.\tå¸¸è§çš„MQäº§å“ï¼š\nactiveMQï¼šJavaå†™çš„ï¼ˆjmsåè®®ï¼‰ï¼Œæ€§èƒ½ä¸€èˆ¬ï¼Œå‡ºç°æ—©ï¼ŒåŠŸèƒ½å•ä¸€ï¼Œååé‡ä½\nRabbitMQï¼šerlangï¼ˆamqpåè®®ï¼‰ï¼Œæ€§èƒ½å¥½ï¼ŒåŠŸèƒ½ä¸°å¯Œï¼Œååé‡ä¸€èˆ¬\nRocketMQï¼šJavaï¼ˆé˜¿é‡Œï¼‰ï¼Œæ€§èƒ½å¥½ï¼ŒåŠŸèƒ½æœ€ä¸°å¯Œï¼Œååé‡é«˜\nKafkaï¼šscalaå†™çš„ï¼Œååé‡å¤§ï¼ŒåŠŸèƒ½å•ä¸€ï¼Œå¤§æ•°æ®é¢†åŸŸ\n\n4.1\tå¸¸è§MQäº§å“æ¯”è¾ƒï¼š\n5.\tRocketMQä»‹ç»ï¼š\nRocketMQæ˜¯é˜¿é‡Œå·´å·´2016å¹´MQä¸­é—´ä»¶ï¼Œä½¿ç”¨Javaè¯­è¨€å¼€å‘ï¼ŒRocketMQæ˜¯ä¸€æ¬¾å¼€æºçš„åˆ†å¸ƒå¼æ¶ˆæ¯ç³»ç»Ÿï¼ŒåŸºäºé«˜å¯ç”¨åˆ†å¸ƒå¼é›†ç¾¤æŠ€æœ¯ï¼Œæä¾›ä½å»¶æ—¶çš„ã€é«˜å¯é çš„æ™“æºªå‘å¸ƒä¸è®¢é˜…æœåŠ¡ã€‚åŒæ—¶å¹¿æ³›åº”ç”¨äºå¤šä¸ªé¢†åŸŸï¼ŒåŒ…æ‹¬å¼‚æ­¥é€šè®¯è§£è€¦ã€ä¼ä¸šè§£å†³æ–¹æ¡ˆã€é‡‘èæ”¯ä»˜ã€ç”µä¿¡ã€ç”µå­å•†åŠ¡ã€å¿«é€’ç‰©æµã€å¹¿å‘Šè¥é”€ã€ç¤¾äº¤ã€å³æ—¶é€šä¿¡ã€ç§»åŠ¨åº”ç”¨ã€æ‰‹æ¸¸ã€è§†å±ã€ç‰©è”ç½‘ã€è½¦è”ç½‘ç­‰\n\n5.1\tå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š\n1ã€èƒ½å¤Ÿä¿è¯ä¸¥æ ¼çš„æ¶ˆæ¯é¡ºåº\n2ã€æä¾›ä¸°å¯Œçš„æ¶ˆæ¯æ‹‰å–æ¨¡å¼\n3ã€é«˜æ•ˆçš„è®¢é˜…è€…æ°´å¹³æ‹“å±•èƒ½åŠ›\n4ã€å®æ—¶çš„ä¿¡æ¯è®¢é˜…æœºåˆ¶\n5ã€äº¿çº§æ¶ˆæ¯å †ç§¯èƒ½åŠ›\n\n5.2\tRocketMQé‡è¦æ¦‚å¿µï¼ˆé‡ç‚¹ï¼‰\nProducerï¼šæ¶ˆæ¯çš„å‘é€è€…ï¼Œç”Ÿäº§è€…ï¼›ä¸¾ä¾‹ï¼šå‘ä»¶äºº\nConsumerï¼šæ¶ˆæ¯æ¥æ”¶è€…ï¼Œæ¶ˆè´¹è€…ï¼›ä¸¾ä¾‹ï¼šæ”¶ä»¶äºº\nBrokerï¼šæš‚å­˜å’Œä¼ è¾“æ¶ˆæ¯çš„é€šé“**ï¼›ä¸¾ä¾‹ï¼š**å¿«é€’\nNameServerï¼šç®¡ç†Brokerï¼›ä¸¾ä¾‹ï¼šå„ä¸ªå¿«é€’å…¬å¸çš„ç®¡ç†æœºæ„ ç›¸å½“äºbrokerçš„æ³¨å†Œä¸­å¿ƒï¼Œä¿ç•™äº†brokerçš„ä¿¡æ¯\nQueueï¼šé˜Ÿåˆ—ï¼Œæ¶ˆæ¯å­˜æ”¾çš„ä½ç½®ï¼Œä¸€ä¸ªBrokerä¸­å¯ä»¥æœ‰å¤šä¸ªé˜Ÿåˆ—\nTopicï¼šä¸»é¢˜ï¼Œæ¶ˆæ¯çš„åˆ†ç±»\nProducerGroupï¼šç”Ÿäº§è€…ç»„ \nConsumerGroupï¼šæ¶ˆè´¹è€…ç»„ï¼Œå¤šä¸ªæ¶ˆè´¹è€…ç»„å¯ä»¥åŒæ—¶æ¶ˆè´¹ä¸€ä¸ªä¸»é¢˜çš„æ¶ˆæ¯\næ¶ˆæ¯å‘é€çš„æµç¨‹æ˜¯ï¼ŒProducerè¯¢é—®NameServerï¼ŒNameServeråˆ†é…ä¸€ä¸ªbroker ç„¶åConsumerä¹Ÿè¦è¯¢é—®NameServerï¼Œå¾—åˆ°ä¸€ä¸ªå…·ä½“çš„brokerï¼Œç„¶åæ¶ˆè´¹æ¶ˆæ¯\n\n\n6.\tç”Ÿäº§å’Œæ¶ˆè´¹ç†è§£ï¼ˆé‡ç‚¹ï¼‰\n\n7.\tä¸‹è½½å¹¶é…ç½®rocketMQ\n7.1\tè§£å‹unzip rocketmq-all-4.9.2-bin-release.zip\n\nå¦‚æœæœåŠ¡å™¨æ²¡æœ‰unzipæŒ‡ä»¤ï¼Œå°±ä¸‹è½½å®‰è£…ä¸€ä¸ª\nyum install unzip\n\nç›®å½•åˆ†æï¼š\n\n\nbenchmarkï¼šåŒ…å«ä¸€äº›æ€§èƒ½æµ‹è¯•çš„è„šæœ¬ï¼›\nbinï¼šå¯æ‰§è¡Œæ–‡ä»¶ç›®å½•ï¼›\nconfï¼šé…ç½®æ–‡ä»¶ç›®å½•\nlibï¼šç¬¬ä¸‰æ–¹ä¾èµ–ï¼›\nLICENSEï¼šæˆæƒä¿¡æ¯ï¼›\nNOTICEï¼šç‰ˆæœ¬å…¬å‘Šï¼›\n\n7.2\té…ç½®ç¯å¢ƒå˜é‡vim /etc/profile\n\nåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ \nexport NAMESRV_ADDR=é˜¿é‡Œäº‘å…¬ç½‘IP:9876\n\n7.3\tä¿®æ”¹nameServerçš„è¿è¡Œè„šæœ¬è¿›å…¥binç›®å½•ä¸‹ï¼Œä¿®æ”¹runserver.shæ–‡ä»¶ï¼Œå°†71è¡Œå’Œ76è¡Œçš„Xmså’ŒXmxç­‰æ”¹ä¸‹å°ä¸€ç‚¹\nvim runserver.sh\n\n\nä¿å­˜é€€å‡º\n7.4\tä¿®æ”¹brokerçš„è¿è¡Œè„šæœ¬è¿›å…¥binç›®å½•ä¸‹ï¼Œä¿®æ”¹runbroker.shï¼Œä¿®æ”¹67è¡Œ\n\nä¿å­˜é€€å‡º\n7.5\tä¿®æ”¹brokerçš„é…ç½®æ–‡ä»¶è¿›å…¥confç›®å½•ä¸‹ï¼Œä¿®æ”¹broker.confæ–‡ä»¶\nbrokerClusterName = DefaultClusterbrokerName = broker-abrokerId = 0deleteWhen = 04fileReservedTime = 48brokerRole = ASYNC_MASTERflushDiskType = ASYNC_FLUSHnamesrvAddr=localhost:9876autoCreateTopicEnable=truebrokerIP1=é˜¿é‡Œäº‘å…¬ç½‘IP\n\næ·»åŠ å‚æ•°è§£é‡Š\nnamesrvAddrï¼šnameSrvåœ°å€å¯ä»¥å†™localhostå› ä¸ºnameSrvå’Œbrokeråœ¨ä¸€ä¸ªæœåŠ¡å™¨\nautoCreateTopicEnableï¼šè‡ªåŠ¨åˆ›å»ºä¸»é¢˜ï¼Œä¸ç„¶éœ€è¦æ‰‹åŠ¨åˆ›å»ºå‡ºæ¥\nbrokerIP1ï¼šbrokerä¹Ÿéœ€è¦ä¸€ä¸ªå…¬ç½‘IPï¼Œå¦‚æœä¸æŒ‡å®šï¼Œé‚£ä¹ˆæ˜¯é˜¿é‡Œäº‘çš„å†…ç½‘åœ°å€ï¼Œæˆ‘ä»¬å†æœ¬åœ°æ— æ³•è¿æ¥ä½¿ç”¨\n7.6\tå¯åŠ¨é¦–å…ˆåœ¨å®‰è£…ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªlogsæ–‡ä»¶å¤¹ï¼Œç”¨äºå­˜æ”¾æ—¥å¿—\nmkdir logs\n\nä¸€æ¬¡è¿è¡Œä¸¤æ¡å‘½ä»¤\nå¯åŠ¨nameSrv\nnohup sh bin/mqnamesrv &gt; ./logs/namesrv.log &amp;\n\nå¯åŠ¨brokerè¿™é‡Œçš„-cæ˜¯æŒ‡å®šä½¿ç”¨çš„é…ç½®æ–‡ä»¶\nnohup sh bin/mqbroker -c conf/broker.conf &gt; ./logs/broker.log &amp;\n\næŸ¥çœ‹å¯åŠ¨ç»“æœ\n\n7.8\tRocketMQæ§åˆ¶å°çš„å®‰è£…RockerMQ-ConsoleRocketmq æ§åˆ¶å°å¯ä»¥å¯è§†åŒ–MQçš„æ¶ˆæ¯å‘é€ï¼\næ—§ç‰ˆæœ¬æºç æ˜¯åœ¨rocketmq-externalé‡Œçš„rocketmq-consoleï¼Œæ–°ç‰ˆæœ¬å·²ç»å•ç‹¬æ‹†åˆ†æˆdashboard\nç½‘å€ï¼š https://github.com/apache/rocketmq-dashboard \nä¸‹è½½åœ°å€ï¼š\nhttps://github.com/apache/rocketmq-dashboard/archive/refs/tags/rocketmq-dashboard-1.0.0.zip \nä¸‹è½½åè§£å‹å‡ºæ¥ï¼Œåœ¨è·Ÿç›®å½•ä¸‹æ‰§è¡Œ\nmvn clean package -Dmaven.test.skip=true\n\n\n\nå°†jaråŒ…ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šå»\nç„¶åè¿è¡Œ\nnohup java -jar ./rocket-dashboard-1.0.0.jar rocketmq.config.namesrvAddr=127.0.0.1:9876 &gt; ./rocketmq-4.9.3/logs/dashboard.log &amp;\n\nå‘½ä»¤æ‹“å±•ï¼šâ€“server.portæŒ‡å®šè¿çš„ç«¯å£\n æŒ‡å®šnamesrvåœ°å€\n--rocketmq.config.namesrvAddr=127.0.0.1:9876\n\nè®¿é—®ï¼š  http://localhost:8001 \nè¿è¡Œè®¿é—®ç«¯å£æ˜¯8001ï¼Œå¦‚æœä»å®˜ç½‘æ‹‰ä¸‹æ¥æ‰“åŒ…çš„è¯ï¼Œé»˜è®¤ç«¯å£æ˜¯8080\n\n8\tRocketMQå®‰è£…ä¹‹docker\n8.1\tä¸‹è½½RocketMQéœ€è¦çš„é•œåƒdocker pull rocketmqinc/rocketmq\n\ndocker pull styletang/rocketmq-console-ng\n\n8.2\tå¯åŠ¨NameServeræœåŠ¡8.2.1\tåˆ›å»ºNameServeræ•°æ®å­˜å‚¨è·¯å¾„mkdir -p /home/rocketmq/data/namesrv/logs /home/rocketmq/data/namesrv/store\n\n8.2.2\tå¯åŠ¨NameServerå®¹å™¨docker run -d --name rmqnamesrv -p 9876:9876 -v /home/rocketmq/data/namesrv/logs:/root/logs -v /home/rocketmq/data/namesrv/store:/root/store -e \"MAX_POSSIBLE_HEAP=100000000\" rocketmqinc/rocketmq sh mqnamesrv\n\n8.3\tå¯åŠ¨BrokeræœåŠ¡8.3.1\tåˆ›å»ºBrokeræ•°æ®å­˜å‚¨è·¯å¾„mkdir -p /home/rocketmq/data/broker/logs /home/rocketmq/data/broker/store\n\n8.3.2\tåˆ›å»ºconfé…ç½®æ–‡ä»¶ç›®å½•mkdir /home/rocketmq/conf\n\n8.3.3\tåœ¨é…ç½®æ–‡ä»¶ç›®å½•ä¸‹åˆ›å»ºbroker.confé…ç½®æ–‡ä»¶# æ‰€å±é›†ç¾¤åç§°ï¼Œå¦‚æœèŠ‚ç‚¹è¾ƒå¤šå¯ä»¥é…ç½®å¤šä¸ªbrokerClusterName = DefaultCluster#brokeråç§°ï¼Œmasterå’Œslaveä½¿ç”¨ç›¸åŒçš„åç§°ï¼Œè¡¨æ˜ä»–ä»¬çš„ä¸»ä»å…³ç³»brokerName = broker-a#0è¡¨ç¤ºMasterï¼Œå¤§äº0è¡¨ç¤ºä¸åŒçš„slavebrokerId = 0#è¡¨ç¤ºå‡ ç‚¹åšæ¶ˆæ¯åˆ é™¤åŠ¨ä½œï¼Œé»˜è®¤æ˜¯å‡Œæ™¨4ç‚¹deleteWhen = 04#åœ¨ç£ç›˜ä¸Šä¿ç•™æ¶ˆæ¯çš„æ—¶é•¿ï¼Œå•ä½æ˜¯å°æ—¶fileReservedTime = 48#æœ‰ä¸‰ä¸ªå€¼ï¼šSYNC_MASTERï¼ŒASYNC_MASTERï¼ŒSLAVEï¼›åŒæ­¥å’Œå¼‚æ­¥è¡¨ç¤ºMasterå’ŒSlaveä¹‹é—´åŒæ­¥æ•°æ®çš„æœºåˆ¶ï¼›brokerRole = ASYNC_MASTER#åˆ·ç›˜ç­–ç•¥ï¼Œå–å€¼ä¸ºï¼šASYNC_FLUSHï¼ŒSYNC_FLUSHè¡¨ç¤ºåŒæ­¥åˆ·ç›˜å’Œå¼‚æ­¥åˆ·ç›˜ï¼›SYNC_FLUSHæ¶ˆæ¯å†™å…¥ç£ç›˜åæ‰è¿”å›æˆåŠŸçŠ¶æ€ï¼ŒASYNC_FLUSHä¸éœ€è¦ï¼›flushDiskType = ASYNC_FLUSH# è®¾ç½®brokerèŠ‚ç‚¹æ‰€åœ¨æœåŠ¡å™¨çš„ipåœ°å€brokerIP1 = ä½ æœåŠ¡å™¨å¤–ç½‘ip\n\n8.3.4\tå¯åŠ¨Brokerå®¹å™¨docker run -d  --name rmqbroker --link rmqnamesrv:namesrv -p 10911:10911 -p 10909:10909 -v  /home/rocketmq/data/broker/logs:/root/logs -v /home/rocketmq/data/broker/store:/root/store -v /home/rocketmq/conf/broker.conf:/opt/rocketmq-4.4.0/conf/broker.conf --privileged=true -e \"NAMESRV_ADDR=namesrv:9876\" -e \"MAX_POSSIBLE_HEAP=200000000\" rocketmqinc/rocketmq sh mqbroker -c /opt/rocketmq-4.4.0/conf/broker.conf\n\n8.4\tå¯åŠ¨æ§åˆ¶å°docker run -d --name rmqadmin -e \"JAVA_OPTS=-Drocketmq.namesrv.addr=ä½ çš„å¤–ç½‘åœ°å€:9876 \\-Dcom.rocketmq.sendMessageWithVIPChannel=false \\-Duser.timezone='Asia/Shanghai'\" -v /etc/localtime:/etc/localtime -p 9999:8080 styletang/rocketmq-console-ng\n\n8.5\tæ­£å¸¸å¯åŠ¨åçš„docker ps\n8.6\tè®¿é—®æ§åˆ¶å°http://ä½ çš„æœåŠ¡å™¨å¤–ç½‘ip:9999/\n\n\n","categories":["Java","æ¶ˆæ¯é˜Ÿåˆ—"],"tags":["Java","RocketMQ"]},{"title":"SSMå¼€å‘é…ç½®æ–‡æ¡£","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/ssm-jia-gou-kai-fa-wen-dang/","content":"SSMå¼€å‘é…ç½®æ–‡æ¡£\nä¸€ã€å¼€å‘æ­¥éª¤\n\næ–°å»ºé¡¹ç›®ï¼Œé€‰æ‹©webappæ¨¡æ¿ï¼›\nä¿®æ”¹ç›®å½•ï¼Œæ·»åŠ ç¼ºå¤±çš„testï¼Œjavaï¼Œresourcesï¼ˆä¸¤å¥—ï¼‰ï¼Œå¦‚æœç›®å½•æ²¡æœ‰å±æ€§æ ‡è¯†è®°å¾—ä¿®æ”¹å±æ€§ï¼›\nä¿®æ”¹pom.xmlæ–‡ä»¶ï¼Œæ·»åŠ Springå¥—ä»¶å’ŒMyBatiså¥—ä»¶çš„ä¾èµ–ç­‰ç­‰ï¼›\nåˆ é™¤ç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºçš„web.xmlæ–‡ä»¶ï¼Œæ–°å»ºweb.xmlï¼›\næ·»åŠ Sqlè¯­å¥çš„æ—¥å¿—è¾“å‡ºé…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šSqlMapConfig.xmlï¼›\næ·»åŠ æœåŠ¡å™¨è¿æ¥é…ç½®ï¼Œä¾‹å¦‚ï¼šjdbc.propertiesï¼›\næ·»åŠ æ•°æ®è®¿é—®å±‚çš„é…ç½®ï¼ˆMapperï¼‰ï¼Œä¾‹å¦‚ï¼šApplicationContext_mapper.xmlï¼›\næ·»åŠ ä¸šåŠ¡é€»è¾‘å±‚çš„é…ç½®ï¼ˆServiceï¼‰ï¼Œä¾‹å¦‚ï¼šApplicationContext_service.xmlï¼›\næ·»åŠ SpringMVCçš„é…ç½®ï¼ŒæŒ‡å®šåŒ…æ‰«æï¼ˆå› ä¸ºè¦åŸºäºæ³¨è§£å¼€å‘ï¼‰ï¼Œæ·»åŠ è§†å›¾è§£æå™¨(å¦‚æœæ˜¯åŸºäºajaxå¼€å‘é‚£ä¹ˆå¯ä»¥å¿½ç•¥è¿™ä¸€æ­¥ï¼Œå¦‚æœjspé‚£ä¹ˆå°±éœ€è¦)ã€‚ä¾‹å¦‚ï¼šspringmvc.xmlï¼›\nåœ¨web.xmlæ–‡ä»¶ä¸­è®¾å®šå¥½å­—ç¬¦è¿‡æ»¤å™¨æ¥ä¸è®©å…¶å‡ºç°ä¹±ç ç°è±¡ï¼Œæ³¨å†ŒSpringæ¡†æ¶ã€SpringMVCæ¡†æ¶ï¼ˆæ‰€æœ‰çš„webè¯·æ±‚éƒ½æ˜¯åŸºäºservletçš„ï¼‰ã€‚\n\n\n1.æ–°å»ºé¡¹ç›®ï¼Œé€‰æ‹©webappæ¨¡æ¿\n\n\n2.ä¿®æ”¹ç›®å½•ï¼Œæ·»åŠ ç¼ºå¤±çš„testï¼Œjavaï¼Œresourcesï¼ˆä¸¤å¥—ï¼‰ï¼Œå¦‚æœç›®å½•æ²¡æœ‰å±æ€§æ ‡è¯†è®°å¾—ä¿®æ”¹å±æ€§\n\n\n3.ä¿®æ”¹pom.xmlæ–‡ä»¶ï¼Œæ·»åŠ Springå¥—ä»¶å’ŒMyBatiså¥—ä»¶çš„ä¾èµ–ç­‰ç­‰pom.xmlæ–‡ä»¶æ¨¡æ¿ï¼š\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;  &lt;groupId&gt;org.example&lt;/groupId&gt;  &lt;artifactId&gt;SSM_Study_1&lt;/artifactId&gt;  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;  &lt;packaging&gt;war&lt;/packaging&gt;  &lt;properties&gt;    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;&lt;!--    junitç‰ˆæœ¬ç®¡ç†ï¼Œæ³¨æ„4.12æˆ–ä»¥ä¸Šçš„ç‰ˆæœ¬æ‰èƒ½æ¥ç®¡spring--&gt;    &lt;junit.version&gt;4.12&lt;/junit.version&gt;&lt;!--    sprinç‰ˆæœ¬ç®¡ç†--&gt;    &lt;spring.version&gt;5.2.5.RELEASE&lt;/spring.version&gt;&lt;!--    mybatisç‰ˆæœ¬ç®¡ç†--&gt;    &lt;mybatis.version&gt;3.5.6&lt;/mybatis.version&gt;&lt;!--mysqlç‰ˆæœ¬ç®¡ç†--&gt;    &lt;mysql.version&gt;8.0.27&lt;/mysql.version&gt;&lt;!--    mybatisä¸springæ•´åˆçš„ä¾èµ–--&gt;    &lt;mybatis.spring.version&gt;1.3.1&lt;/mybatis.spring.version&gt;&lt;!--é˜¿é‡Œçš„æ•°æ®åº“è¿æ¥æ± --&gt;    &lt;druid.version&gt;1.1.12&lt;/druid.version&gt;&lt;!--    servletç‰ˆæœ¬ç®¡ç†--&gt;    &lt;servlet.version&gt;2.5&lt;/servlet.version&gt;&lt;!-- jacksonçš„ä¾èµ–--&gt;    &lt;jackson.version&gt;2.9.6&lt;/jackson.version&gt;&lt;!--    fastjsonç‰ˆæœ¬ç®¡ç†--&gt;    &lt;fastjson.version&gt;1.2.59&lt;/fastjson.version&gt;&lt;!--      jacksonä¾èµ–ç®¡ç†--&gt;      &lt;jackson.version&gt;2.9.6&lt;/jackson.version&gt;&lt;!--      jspç›¸å…³ç‰ˆæœ¬ç®¡ç†--&gt;      &lt;jsp-api.version&gt;2.0&lt;/jsp-api.version&gt;  &lt;/properties&gt;  &lt;dependencies&gt;&lt;!--    springç›¸å…³ä¾èµ–--&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework&lt;/groupId&gt;      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;      &lt;version&gt;${spring.version}&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework&lt;/groupId&gt;      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;      &lt;version&gt;${spring.version}&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework&lt;/groupId&gt;      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;      &lt;version&gt;${spring.version}&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework&lt;/groupId&gt;      &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;      &lt;version&gt;${spring.version}&lt;/version&gt;    &lt;/dependency&gt;&lt;!--    äº‹åŠ¡ç®¡ç†éœ€è¦çš„spring--&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework&lt;/groupId&gt;      &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;      &lt;version&gt;${spring.version}&lt;/version&gt;    &lt;/dependency&gt;&lt;!--    é‚®ä»¶å¤„ç†--&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework&lt;/groupId&gt;      &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;      &lt;version&gt;${spring.version}&lt;/version&gt;    &lt;/dependency&gt;&lt;!--    ä¸Šä¸‹æ–‡å…³è”å¤„ç†--&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework&lt;/groupId&gt;      &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;      &lt;version&gt;${spring.version}&lt;/version&gt;    &lt;/dependency&gt;&lt;!--    springå•å…ƒæµ‹è¯•--&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework&lt;/groupId&gt;      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;      &lt;version&gt;${spring.version}&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.mybatis&lt;/groupId&gt;      &lt;artifactId&gt;mybatis&lt;/artifactId&gt;      &lt;version&gt;${mybatis.version}&lt;/version&gt;    &lt;/dependency&gt;&lt;!--mybatisä¸springæ•´åˆçš„--&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.mybatis&lt;/groupId&gt;      &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;      &lt;version&gt;1.3.2&lt;/version&gt;    &lt;/dependency&gt;&lt;!--    mybatisæ”¯æŒåˆ†é¡µæ’ä»¶--&gt;    &lt;dependency&gt;      &lt;groupId&gt;com.github.miemiedev&lt;/groupId&gt;      &lt;artifactId&gt;mybatis-paginator&lt;/artifactId&gt;      &lt;version&gt;1.2.15&lt;/version&gt;    &lt;/dependency&gt;&lt;!--    åˆ†é¡µæ’ä»¶æœ¬èº«--&gt;    &lt;dependency&gt;      &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;      &lt;artifactId&gt;pagehelper&lt;/artifactId&gt;      &lt;version&gt;5.3.0&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;mysql&lt;/groupId&gt;      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;      &lt;version&gt;${mysql.version}&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;      &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;      &lt;version&gt;${servlet.version}&lt;/version&gt;    &lt;/dependency&gt;&lt;!--    é˜¿é‡Œå·´å·´çš„æ•°æ®åº“è¿æ¥æ± --&gt;    &lt;dependency&gt;      &lt;groupId&gt;com.alibaba&lt;/groupId&gt;      &lt;artifactId&gt;druid&lt;/artifactId&gt;      &lt;version&gt;${druid.version}&lt;/version&gt;    &lt;/dependency&gt;&lt;!--    &lt;dependency&gt;--&gt;&lt;!--      &lt;groupId&gt;com.alibaba&lt;/groupId&gt;--&gt;&lt;!--      &lt;artifactId&gt;fastjson&lt;/artifactId&gt;--&gt;&lt;!--      &lt;version&gt;${fastjson.version}&lt;/version&gt;--&gt;&lt;!--    &lt;/dependency&gt;--&gt;    &lt;!--    å•å…ƒæµ‹è¯•ä¾èµ–--&gt;    &lt;dependency&gt;      &lt;groupId&gt;junit&lt;/groupId&gt;      &lt;artifactId&gt;junit&lt;/artifactId&gt;      &lt;version&gt;${junit.version}&lt;/version&gt;      &lt;scope&gt;test&lt;/scope&gt;    &lt;/dependency&gt;      &lt;dependency&gt;          &lt;groupId&gt;jstl&lt;/groupId&gt;          &lt;artifactId&gt;jstl&lt;/artifactId&gt;          &lt;version&gt;1.2&lt;/version&gt;      &lt;/dependency&gt;      &lt;dependency&gt;          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;          &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;          &lt;scope&gt;provided&lt;/scope&gt;          &lt;version&gt;${jsp-api.version}&lt;/version&gt;      &lt;/dependency&gt;      &lt;dependency&gt;          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;          &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;          &lt;version&gt;4.0.1&lt;/version&gt;          &lt;scope&gt;provided&lt;/scope&gt;&lt;!--ä½¿ç”¨åˆ«äººæä¾›çš„--&gt;      &lt;/dependency&gt;      &lt;dependency&gt;          &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;          &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;          &lt;version&gt;${jackson.version}&lt;/version&gt;      &lt;/dependency&gt;      &lt;dependency&gt;          &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;          &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;          &lt;version&gt;${jackson.version}&lt;/version&gt;      &lt;/dependency&gt;      &lt;dependency&gt;          &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;          &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;          &lt;version&gt;${jackson.version}&lt;/version&gt;      &lt;/dependency&gt;      &lt;dependency&gt;          &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;          &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;          &lt;version&gt;${jackson.version}&lt;/version&gt;      &lt;/dependency&gt;      &lt;dependency&gt;          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;          &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;          &lt;version&gt;1.7.21&lt;/version&gt;      &lt;/dependency&gt;&lt;!--      æ–‡ä»¶ä¸Šä¼ ä½¿ç”¨çš„ä¾èµ–--&gt;      &lt;dependency&gt;          &lt;groupId&gt;commons-io&lt;/groupId&gt;          &lt;artifactId&gt;commons-io&lt;/artifactId&gt;          &lt;version&gt;2.4&lt;/version&gt;      &lt;/dependency&gt;      &lt;dependency&gt;          &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;          &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;          &lt;version&gt;1.3.1&lt;/version&gt;      &lt;/dependency&gt;  &lt;/dependencies&gt;  &lt;build&gt;&lt;!--    è¯†åˆ«æ‰€æœ‰é…ç½®æ–‡ä»¶--&gt;    &lt;resources&gt;      &lt;resource&gt;        &lt;directory&gt;src/main/java&lt;/directory&gt;        &lt;includes&gt;          &lt;include&gt;**/*.properties&lt;/include&gt;          &lt;include&gt;**/*.xml&lt;/include&gt;        &lt;/includes&gt;        &lt;filtering&gt;false&lt;/filtering&gt;      &lt;/resource&gt;      &lt;resource&gt;        &lt;directory&gt;src/main/resources&lt;/directory&gt;        &lt;includes&gt;          &lt;include&gt;**/*.properties&lt;/include&gt;          &lt;include&gt;**/*.xml&lt;/include&gt;        &lt;/includes&gt;        &lt;filtering&gt;false&lt;/filtering&gt;      &lt;/resource&gt;    &lt;/resources&gt;  &lt;/build&gt;&lt;/project&gt;\n\n\n4.åˆ é™¤ç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºçš„web.xmlæ–‡ä»¶ï¼Œæ–°å»ºweb.xml\n\n\n5.æ·»åŠ Sqlè¯­å¥çš„æ—¥å¿—è¾“å‡ºé…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šSqlMapConfig.xml\nè¿™é‡Œå°±ç›´æ¥ä½¿ç”¨æ¨¡æ¿è‡ªå·±åŸæœ¬é…ç½®çš„æ¨¡æ¿\n\nSqlMapConfig.xml\n&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;&lt;!DOCTYPE configuration PUBLIC \"-//mybatis.org//DTD config 3.0//EN\"        \"http://mybatis.org/dtd/mybatis-3-config.dtd\"&gt;&lt;configuration&gt;    &lt;!--    è®¾ç½®æ—¥å¿—è¾“å‡ºè¯­å¥ï¼Œæ˜¾ç¤ºç›¸åº”æ“ä½œçš„sqlè¯­å--&gt;    &lt;settings&gt;        &lt;setting name=\"logImpl\" value=\"STDOUT_LOGGING\"/&gt;    &lt;/settings&gt;&lt;/configuration&gt;\n\n\n6.æ·»åŠ æœåŠ¡å™¨è¿æ¥é…ç½®ï¼Œä¾‹å¦‚ï¼šjdbc.properties\n\njdbc.properties\njdbc.driverClassName=com.mysql.cj.jdbc.Driverjdbc.url=jdbc:mysql://localhost:3306/testjdbc.username=rootjdbc.password=12345678\n7. æ·»åŠ æ•°æ®è®¿é—®å±‚çš„é…ç½®ï¼ˆMapperï¼‰ï¼Œä¾‹å¦‚ï¼šApplicationContext_mapper.xml\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"       xmlns:context=\"http://www.springframework.org/schema/context\"       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd\"&gt;&lt;!--    è¯»å–å±æ€§æ–‡ä»¶--&gt;    &lt;context:property-placeholder location=\"classpath:jdbc.properties\"/&gt;&lt;!--    é…ç½®æ•°æ®æº--&gt;    &lt;bean id=\"dataSource\" class=\"com.alibaba.druid.pool.DruidDataSource\"&gt;        &lt;property name=\"driverClassName\" value=\"${jdbc.driverClassName}\"/&gt;        &lt;property name=\"url\" value=\"${jdbc.url}\"/&gt;        &lt;property name=\"username\" value=\"${jdbc.username}\"/&gt;        &lt;property name=\"password\" value=\"${jdbc.password}\"/&gt;    &lt;/bean&gt;&lt;!--    é…ç½®SQLSessionFactoryBean--&gt;    &lt;bean class=\"org.mybatis.spring.SqlSessionFactoryBean\"&gt;&lt;!--        é…ç½®æ•°æ®æº--&gt;        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;&lt;!--        é…ç½®SqlMapConfig.xml--&gt;        &lt;property name=\"configLocation\" value=\"classpath:SqlMapConfig.xml\"/&gt;&lt;!--        æ³¨å†Œå®ä½“ç±»--&gt;        &lt;property name=\"typeAliasesPackage\" value=\"com.study.pojo\"/&gt;    &lt;/bean&gt;&lt;!--    æ³¨å†Œmapper--&gt;    &lt;bean class=\"org.mybatis.spring.mapper.MapperScannerConfigurer\"&gt;        &lt;property name=\"basePackage\" value=\"com.study.mapper\"/&gt;    &lt;/bean&gt;&lt;/beans&gt;\n\n\n8.æ·»åŠ ä¸šåŠ¡é€»è¾‘å±‚çš„é…ç½®ï¼ˆServiceï¼‰ï¼Œä¾‹å¦‚ï¼šApplicationContext_service.xml\n\n&gt;&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&gt;&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"      xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"      xmlns:context=\"http://www.springframework.org/schema/context\" xmlns:tx=\"http://www.springframework.org/schema/tx\"      xmlns:aop=\"http://www.springframework.org/schema/aop\"      xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/aop https://www.springframework.org/schema/aop/spring-aop.xsd\"&gt;&gt;&lt;!--    æ‰«åŒ…--&gt;   &lt;context:component-scan base-package=\"com.study.service\"/&gt;&gt;&lt;!--    æ·»åŠ äº‹åŠ¡ç®¡ç†å™¨--&gt;   &lt;bean id=\"transactionManager\" class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\"&gt;&gt;&lt;!--        åˆ‡è®°åˆ‡è®°ï¼Œé…ç½®æ•°æ®æº--&gt;       &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;   &lt;/bean&gt;&gt;&lt;!--    é…ç½®åˆ‡å…¥ç‚¹,æ³¨æ„è¿™é‡Œå¯¼å…¥çš„æ˜¯åç¼€å¸¦txçš„springæ¡†æ¶xmlns--&gt;   &lt;tx:advice id=\"myadvice\" transaction-manager=\"transactionManager\"&gt;       &lt;tx:attributes&gt;           &lt;tx:method name=\"*select*\" read-only=\"true\"/&gt;           &lt;tx:method name=\"*find*\" read-only=\"true\"/&gt;           &lt;tx:method name=\"*search*\" read-only=\"true\"/&gt;           &lt;tx:method name=\"*get*\" read-only=\"true\"/&gt;           &lt;tx:method name=\"*add*\" propagation=\"REQUIRED\"/&gt;           &lt;tx:method name=\"*save*\" propagation=\"REQUIRED\"/&gt;           &lt;tx:method name=\"*set*\" propagation=\"REQUIRED\"/&gt;           &lt;tx:method name=\"*update*\" propagation=\"REQUIRED\"/&gt;           &lt;tx:method name=\"*change*\" propagation=\"REQUIRED\"/&gt;           &lt;tx:method name=\"*modify*\" propagation=\"REQUIRED\"/&gt;           &lt;tx:method name=\"*delete*\" propagation=\"REQUIRED\"/&gt;           &lt;tx:method name=\"*drop*\" propagation=\"REQUIRED\"/&gt;           &lt;tx:method name=\"*clear*\" propagation=\"REQUIRED\"/&gt;           &lt;tx:method name=\"*\" propagation=\"SUPPORTS\"/&gt;       &lt;/tx:attributes&gt;   &lt;/tx:advice&gt;&gt;&lt;!--    é…ç½®åˆ‡å…¥ç‚¹+ç»‘å®š--&gt;   &lt;aop:config&gt;       &lt;aop:pointcut id=\"mycut\" expression=\"execution(* com.study.service..impl.*.*(..))\"/&gt;       &lt;aop:advisor advice-ref=\"myadvice\" pointcut-ref=\"mycut\"/&gt;   &lt;/aop:config&gt;&gt;&lt;/beans&gt;\n\n\n9.æ·»åŠ SpringMVCçš„é…ç½®ï¼ŒæŒ‡å®šåŒ…æ‰«æï¼ˆå› ä¸ºè¦åŸºäºæ³¨è§£å¼€å‘ï¼‰ï¼Œæ·»åŠ è§†å›¾è§£æå™¨(å¦‚æœæ˜¯åŸºäºajaxå¼€å‘é‚£ä¹ˆå¯ä»¥å¿½ç•¥è¿™ä¸€æ­¥ï¼Œå¦‚æœjspé‚£ä¹ˆå°±éœ€è¦)ã€‚ä¾‹å¦‚ï¼šspringmvc.xml\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"       xmlns:context=\"http://www.springframework.org/schema/context\"       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd\"&gt;&lt;!--    æ·»åŠ åŒ…æ‰«æ--&gt;    &lt;context:component-scan base-package=\"com.study.controller\"/&gt;&lt;!--    æ·»åŠ mvcæ³¨è§£é©±åŠ¨--&gt;    &lt;context:annotation-config&gt;&lt;/context:annotation-config&gt;   &lt;!--è¿™ä¸€æ­¥æ ¹æ®æƒ…å†µæ¥ï¼Œå¦‚æœä¸æ˜¯jspå¼€å‘å¯ä»¥æŠŠè¿™ä¸ªè§†å›¾è§£æå™¨ç»™å¿½ç•¥æ‰--&gt;     &lt;!--    æ·»åŠ è§†å›¾è§£æå™¨--&gt;    &lt;bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;        &lt;property name=\"prefix\" value=\"/admin/\"&gt;&lt;/property&gt;        &lt;property name=\"suffix\" value=\".jsp\"&gt;&lt;/property&gt;    &lt;/bean&gt;        &lt;/beans&gt;\n\n\n10.åœ¨web.xmlæ–‡ä»¶ä¸­è®¾å®šå¥½å­—ç¬¦è¿‡æ»¤å™¨æ¥ä¸è®©å…¶å‡ºç°ä¹±ç ç°è±¡ï¼Œæ³¨å†ŒSpringæ¡†æ¶ã€SpringMVCæ¡†æ¶ï¼ˆæ‰€æœ‰çš„webè¯·æ±‚éƒ½æ˜¯åŸºäºservletçš„ï¼‰\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\"         version=\"4.0\"&gt;&lt;!--    æ·»åŠ ç¼–ç è¿‡æ»¤private String encoding;\tprivate boolean forceRequestEncoding = false;\tprivate boolean forceResponseEncoding = false;--&gt;    &lt;filter&gt;        &lt;filter-name&gt;encode&lt;/filter-name&gt;        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;        &lt;init-param&gt;            &lt;param-name&gt;encoding&lt;/param-name&gt;            &lt;param-value&gt;UTF-8&lt;/param-value&gt;        &lt;/init-param&gt;        &lt;init-param&gt;            &lt;param-name&gt;forceRequestEncoding&lt;/param-name&gt;            &lt;param-value&gt;true&lt;/param-value&gt;        &lt;/init-param&gt;        &lt;init-param&gt;            &lt;param-name&gt;forceResponseEncoding&lt;/param-name&gt;            &lt;param-value&gt;true&lt;/param-value&gt;        &lt;/init-param&gt;    &lt;/filter&gt;    &lt;filter-mapping&gt;        &lt;filter-name&gt;encode&lt;/filter-name&gt;        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;    &lt;/filter-mapping&gt;&lt;!--    æ·»åŠ springmvc--&gt;    &lt;servlet&gt;        &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;        &lt;init-param&gt;            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;            &lt;param-value&gt;classpath:springmvc.xml&lt;/param-value&gt;        &lt;/init-param&gt;    &lt;/servlet&gt;    &lt;servlet-mapping&gt;        &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;        &lt;url-pattern&gt;/&lt;/url-pattern&gt;    &lt;/servlet-mapping&gt;&lt;!--    æ·»åŠ spring--&gt;    &lt;listener&gt;        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;    &lt;/listener&gt;    &lt;context-param&gt;        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;        &lt;param-value&gt;classpath:ApplicationContext_*.xml&lt;/param-value&gt;    &lt;/context-param&gt;&lt;/web-app&gt;\n\n\näºŒã€å¼€å‘æ³¨æ„äº‹é¡¹POJOå®ä½“ç±»å¼€å‘æ³¨æ„äº‹é¡¹ï¼š1. è‡ªåŠ¨æ³¨å…¥æ—¶ï¼Œå¦‚æœæœ‰ä¸»é”®çš„çš„æ³¨å…¥é‚£ä¹ˆPOJOä¸­æ„é€ ä½“ä¸­å‚æ•°çš„ä¸»é”®æ³¨å…¥å½¢å‚å¿…é¡»ä¸SQLè¯­å¥ä¸­ä¸»é”®æ‰€åœ¨ä½ç½®ç›¸åŒä¸ç„¶å°±ä¼šæŠ¥é”™ã€‚   ä¾‹å¦‚ï¼š\n\n &lt;sql id=\"allColumns\"&gt;        user_id&lt;!--è¿™ä¸ªæ˜¯ä¸»é”®--&gt;,user_name,user_sex,user_age,user_uid,user_password    &lt;/sql&gt;    &lt;sql id=\"testColumns\"&gt;        user_name,user_sex,user_age,user_uid,user_password    &lt;/sql&gt;&lt;!--User login(            @Param(\"userAccount\")            String userAccount,            @Param(\"userPassword\")            String userPassword    );--&gt;    &lt;select id=\"login\" resultType=\"user\"&gt;        select &lt;include refid=\"allColumns\"/&gt;        from user        &lt;choose&gt;            &lt;when test=\"userAccount!=null and userAccount!='' and userPassword!=null and userPassword!=''\"&gt;                where user_uid=#{userAccount} and user_password=#{userPassword}            &lt;/when&gt;            &lt;otherwise&gt;                where false            &lt;/otherwise&gt;        &lt;/choose&gt;    &lt;/select&gt;\n\npublic User(Integer userId/*è¿™ä¸ªæ˜¯ä¸»é”®*/,String userName, String userSex, Integer userAge, String userUid, String userPassword) {    this.userName = userName;    this.userSex = userSex;    this.userAge = userAge;    this.userUid = userUid;    this.userPassword = userPassword;    this.userId = userId;  }\n\nå†æ¯”å¦‚ï¼š\n &lt;sql id=\"allColumns\"&gt;        user_name,user_sex,user_age,user_id&lt;!--è¿™ä¸ªæ˜¯ä¸»é”®--&gt;,user_uid,user_password    &lt;/sql&gt;    &lt;sql id=\"testColumns\"&gt;        user_name,user_sex,user_age,user_uid,user_password    &lt;/sql&gt;&lt;!--User login(            @Param(\"userAccount\")            String userAccount,            @Param(\"userPassword\")            String userPassword    );--&gt;    &lt;select id=\"login\" resultType=\"user\"&gt;        select &lt;include refid=\"allColumns\"/&gt;        from user        &lt;choose&gt;            &lt;when test=\"userAccount!=null and userAccount!='' and userPassword!=null and userPassword!=''\"&gt;                where user_uid=#{userAccount} and user_password=#{userPassword}            &lt;/when&gt;            &lt;otherwise&gt;                where false            &lt;/otherwise&gt;        &lt;/choose&gt;    &lt;/select&gt;\n\npublic User(String userName, String userSex, Integer userAge, Integer userId/*è¿™ä¸ªæ˜¯ä¸»é”®*/,String userUid, String userPassword) {    this.userName = userName;    this.userSex = userSex;    this.userAge = userAge;    this.userUid = userUid;    this.userPassword = userPassword;    this.userId = userId;  }\n\n\n","categories":["Java","Spring"],"tags":["Java","SpringMVC","Spring","MyBatis","SSM"]},{"title":"SpringBootä¸­AOPç¼–ç¨‹","url":"/2025/04/08/learnnote/java-xue-xi-bi-ji/springboot-zhong-aop-bian-cheng/","content":"SpringBootä¸­AOPç¼–ç¨‹ä¸€ã€AOPæ˜¯ä»€ä¹ˆAOPï¼šAspect Oriented Programmingï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯â€œé¢ç›¸åˆ‡é¢ç¼–ç¨‹â€ï¼Œå®ƒæ˜¯å¯¹é¢ç›¸å¯¹è±¡çš„ä¸€ç§è¡¥å……å’Œå®Œå–„ã€‚\nAOPçš„ä½¿ç”¨åœºæ™¯ï¼š\n\næ•°æ®æºåˆ‡æ¢\näº‹åŠ¡ç®¡ç†\næƒé™æ§åˆ¶\næ—¥å¿—æ‰“å°\n\næ ¹æ®å…¶ä½¿ç”¨åœºæ™¯æˆ‘èƒ½çŸ¥é“èµ·å§‹AOPçš„å®ç°å¾ˆåƒæˆ‘ä»¬ç°å®ä¸­éœ€è¦å¯¹ä¸šåŠ¡ä»£ç éƒ¨åˆ†è¿›è¡Œåˆ‡å…¥ä¸šåŠ¡å®ç°é€»è¾‘ã€‚\nå®ƒæœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š\n\nä¾µå…¥æ€§å°ï¼Œå‡ ä¹å¯ä»¥ä¸æ”¹åŠ¨åŸæ¥é€»è¾‘çš„æƒ…å†µä¸‹æŠŠæ–°çš„é€»è¾‘åŠ å…¥ä¸šåŠ¡ã€‚\nå®ç°æ–¹ä¾¿ï¼Œä½¿ç”¨å‡ ä¸ªæ³¨è§£å°±å¯ä»¥å®ç°ï¼Œä½¿ç³»ç»Ÿæ›´å®¹æ˜“æ‹“å±•ã€‚\næ›´å¥½çš„å¤ç”¨ä»£ç ï¼Œæ¯”å¦‚äº‹åŠ¡æ—¥å¿—æ‰“å°ï¼Œç®€å•é€»è¾‘é€‚åˆæ‰€æœ‰æƒ…å†µã€‚\n\näºŒã€AOPä¸­æ³¨è§£çš„å«ä¹‰@Aspectï¼šåˆ‡é¢ã€‚è¡¨ç¤ºä¸€ä¸ªæ¨ªåˆ‡è¿›ä¸šåŠ¡çš„ä¸€ä¸ªå¯¹è±¡ã€‚ä»–é‡Œé¢åŒ…å«åˆ‡å…¥ç‚¹ï¼ˆPointcutï¼‰å’ŒAdviceï¼ˆé€šçŸ¥ï¼‰ã€‚\n@Pointcutï¼šåˆ‡å…¥ç‚¹ã€‚è¡¨ç¤ºéœ€è¦åˆ‡å…¥çš„ä½ç½®ï¼Œæ¯”å¦‚æŸäº›ç±»æˆ–è€…æŸäº›æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å…ˆå®šä¸€ä¸ªèŒƒå›´ã€‚\n@Beforeï¼šAdviceï¼ˆé€šçŸ¥ï¼‰çš„ä¸€ç§ï¼Œåˆ‡å…¥ç‚¹çš„æ–¹æ³•ä½“æ‰§è¡Œä¹‹å‰æ‰§è¡Œã€‚\n@Aroundï¼šAdviceï¼ˆé€šçŸ¥ï¼‰çš„ä¸€ç§ï¼Œç¯ç»•åˆ‡å…¥ç‚¹æ‰§è¡Œä¹Ÿå°±æ˜¯æŠŠåˆ‡å…¥ç‚¹åŒ…è£¹èµ·æ¥æ‰§è¡Œã€‚@Afterï¼šAdviceï¼ˆé€šçŸ¥ï¼‰çš„ä¸€ç§ï¼Œåœ¨åˆ‡å…¥ç‚¹æ­£å¸¸è¿è¡Œç»“æŸåæ‰§è¡Œã€‚@AfterReturningï¼šAdviceï¼ˆé€šçŸ¥ï¼‰çš„ä¸€ç§ï¼Œåœ¨åˆ‡å…¥ç‚¹æ­£å¸¸è¿è¡Œç»“æŸåæ‰§è¡Œï¼Œå¼‚å¸¸åˆ™ä¸æ‰§è¡Œ@AfterThrowingï¼šAdviceï¼ˆé€šçŸ¥ï¼‰çš„ä¸€ç§ï¼Œåœ¨åˆ‡å…¥ç‚¹è¿è¡Œå¼‚å¸¸æ—¶æ‰§è¡Œã€‚\nä¸‰ã€Pointcutåˆ‡å…¥ç‚¹çš„è¯­æ³•/** * 1ã€ä½¿ç”¨withinè¡¨è¾¾å¼åŒ¹é… * ä¸‹é¢ç¤ºä¾‹è¡¨ç¤ºåŒ¹é…com.leo.controlleråŒ…ä¸‹æ‰€æœ‰çš„ç±»çš„æ–¹æ³• */@Pointcut(\"within(com.leo.controller..*)\")public void pointcutWithin(){}/** * 2ã€thisåŒ¹é…ç›®æ ‡æŒ‡å®šçš„æ–¹æ³•ï¼Œæ­¤å¤„å°±æ˜¯HelloControllerçš„æ–¹æ³• */@Pointcut(\"this(com.leo.controller.HelloController)\")public void pointcutThis(){}/** * 3ã€targetåŒ¹é…å®ç°UserInfoServiceæ¥å£çš„ç›®æ ‡å¯¹è±¡ */@Pointcut(\"target(com.leo.service.UserInfoService)\")public void pointcutTarge(){}/** * 4ã€beanåŒ¹é…æ‰€æœ‰ä»¥Serviceç»“å°¾çš„beané‡Œé¢çš„æ–¹æ³•ï¼Œ * æ³¨æ„ï¼šä½¿ç”¨è‡ªåŠ¨æ³¨å…¥çš„æ—¶å€™é»˜è®¤å®ç°ç±»é¦–å­—æ¯å°å†™ä¸ºbeançš„id */@Pointcut(\"bean(*ServiceImpl)\")public void pointcutBean(){}/** * 5ã€argsåŒ¹é…ç¬¬ä¸€ä¸ªå…¥å‚æ˜¯Stringç±»å‹çš„æ–¹æ³• */@Pointcut(\"args(String, ..)\")public void pointcutArgs(){}/** * 6ã€@annotationåŒ¹é…æ˜¯@Controllerç±»å‹çš„æ–¹æ³• */@Pointcut(\"@annotation(org.springframework.stereotype.Controller)\")public void pointcutAnnocation(){}/** * 7ã€@withinåŒ¹é…@Controlleræ³¨è§£ä¸‹çš„æ–¹æ³•ï¼Œè¦æ±‚æ³¨è§£çš„@Controllerçº§åˆ«ä¸º@Retention(RetentionPolicy.CLASS) */@Pointcut(\"@within(org.springframework.stereotype.Controller)\")public void pointcutWithinAnno(){}/** * 8ã€@targetåŒ¹é…çš„æ˜¯@Controllerçš„ç±»ä¸‹é¢çš„æ–¹æ³•ï¼Œè¦æ±‚æ³¨è§£çš„@Controllerçº§åˆ«ä¸º@Retention(RetentionPolicy.RUNTIME) */@Pointcut(\"@target(org.springframework.stereotype.Controller)\")public void pointcutTargetAnno(){}/** * 9ã€@argsåŒ¹é…å‚æ•°ä¸­æ ‡æ³¨ä¸º@Seviceçš„æ³¨è§£çš„æ–¹æ³• */@Pointcut(\"@args(org.springframework.stereotype.Service)\")public void pointcutArgsAnno(){}/** * 10ã€ä½¿ç”¨excutionè¡¨è¾¾å¼ * execution( *  modifier-pattern?           //ç”¨äºåŒ¹é…publicã€privateç­‰è®¿é—®ä¿®é¥°ç¬¦ *  ret-type-pattern            //ç”¨äºåŒ¹é…è¿”å›å€¼ç±»å‹ï¼Œä¸å¯çœç•¥ *  declaring-type-pattern?     //ç”¨äºåŒ¹é…åŒ…ç±»å‹ *  name-pattern(param-pattern) //ç”¨äºåŒ¹é…ç±»ä¸­çš„æ–¹æ³•ï¼Œä¸å¯çœç•¥ *  throws-pattern?             //ç”¨äºåŒ¹é…æŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³• * ) * * ä¸‹é¢çš„è¡¨è¾¾å¼è§£é‡Šä¸ºï¼šåŒ¹é…com.leo.controller.HelloControllerç±»ä¸­ä»¥helloå¼€å¤´çš„ä¿®é¥°ç¬¦ä¸ºpublicè¿”å›ç±»å‹ä»»æ„çš„æ–¹æ³• */@Pointcut(value = \"execution(public * com.leo.controller.HelloController.hello*(..))\")public void pointCut() {}\n\néœ€è¦æ³¨æ„ï¼šä¸Šé¢çš„åŒ¹é…çš„ç±»å‹ä¸­æ”¯æŒæˆ–(||)ä¸(&amp;&amp;)é(!)è¿ç®—ã€‚\nå››ã€AOPä»£ç å®ç°é¦–å…ˆé…ç½®pom.xmlè¿›è¡Œæ³¨è§£jaråŒ…çš„æ”¯æŒ\n&lt;!-- aop aspectæ³¨è§£å¯¼åŒ…--&gt;&lt;dependency&gt;    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;    &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;    &lt;version&gt;1.8.9&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;    &lt;version&gt;1.8.9&lt;/version&gt;&lt;/dependency&gt;\n\nç„¶ååœ¨é…ç½®æ–‡ä»¶ä¸­å¯åŠ¨æ³¨è§£æ”¯æŒï¼Œä¾‹å¦‚æˆ‘çš„æ˜¯myspringmvc-servlet.xmlæ–‡ä»¶ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯æ³¨è§£è¦è·Ÿé…ç½®æ–‡ä»¶åœ¨ä¸€å—ï¼Œä¸¾ä¸ªä¾‹å­ï¼šå¦‚æœéœ€è¦åˆ‡å…¥Controllerçš„é…ç½®å°±éœ€è¦åœ¨myspringmvc-servlet.xmlä¸­æ·»åŠ ï¼Œå¦‚æœæ˜¯åˆ‡å…¥åº”ç”¨çš„é…ç½®å¦‚Serviceåˆ™éœ€è¦åœ¨applicationContext.xmlä¸­æ·»åŠ ã€‚\n&lt;!-- å¼€å¯Aopæ³¨è§£ --&gt;&lt;aop:aspectj-autoproxy  proxy-target-class=\"true\"&gt;&lt;/aop:aspectj-autoproxy&gt;\n\n\n\nAOPæ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š\nThreadLocal&lt;Long&gt; startTime = new ThreadLocal&lt;&gt;();/** * 10ã€ä½¿ç”¨excutionè¡¨è¾¾å¼ * execution( *  modifier-pattern?           //ç”¨äºåŒ¹é…publicã€privateç­‰è®¿é—®ä¿®é¥°ç¬¦ *  ret-type-pattern            //ç”¨äºåŒ¹é…è¿”å›å€¼ç±»å‹ï¼Œä¸å¯çœç•¥ *  declaring-type-pattern?     //ç”¨äºåŒ¹é…åŒ…ç±»å‹ *  name-pattern(param-pattern) //ç”¨äºåŒ¹é…ç±»ä¸­çš„æ–¹æ³•ï¼Œä¸å¯çœç•¥ *  throws-pattern?             //ç”¨äºåŒ¹é…æŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³• * ) * * ä¸‹é¢çš„è¡¨è¾¾å¼è§£é‡Šä¸ºï¼šåŒ¹é…com.leo.controller.HelloControllerç±»ä¸­ä»¥helloå¼€å¤´çš„ä¿®é¥°ç¬¦ä¸ºpublicè¿”å›ç±»å‹ä»»æ„çš„æ–¹æ³• */@Pointcut(value = \"execution(public * com.leo.controller.HelloController.hello*(..))\")public void pointCut() {}/** * åœ¨æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œ * * @param joinPoint */@Before(value = \"pointCut()\")public void beforeLog(JoinPoint joinPoint) {    System.out.println(\"è¿›å…¥LogAopçš„beforeLogger\");    startTime.set(System.currentTimeMillis());}/** * åœ¨è¿›å…¥ç±»ä¹‹å‰æ‰§è¡Œï¼Œç„¶åè¿”å›pjp.proceed()ä¹‹å‰æ‰§è¡Œbeforeï¼Œå†æ‰§è¡Œæ–¹æ³•ä½“ï¼Œåœ¨åˆ°after * * @param */@Around(value = \"pointCut()\")public Object aroundLog(ProceedingJoinPoint pjp) throws Throwable {    System.out.println(\"è¿›å…¥LogAopçš„aroundLogger\");    return pjp.proceed();}/** * åœ¨æ–¹æ³•æ‰§è¡Œè¿”å›ä¹‹åæ‰§è¡Œ */@After(value = \"pointCut()\")public void afterLog() {    System.out.println(\"è¿›å…¥LogAopçš„afterLogger\");    long start = startTime.get();    System.out.println(\"æ–¹æ³•ä½“æ‰§è¡Œè€—æ—¶ï¼š\" + (System.currentTimeMillis() - start) + \"ms\");    startTime.remove();}/** * åœ¨è¿”å›ä¹‹åæ‰§è¡Œ * @param o */@AfterReturning(value = \"pointCut()\",returning = \"o\")public void afterRunningLog(Object o){    System.out.println(\"è¿›å…¥LogAopçš„afterRunningLog\");    System.out.println(o.getClass());}/** * åœ¨äº§ç”Ÿå¼‚å¸¸æ—¶æ‰§è¡Œ */@AfterThrowing(value = \"pointCut()\")public void afterThrowingLog(){    System.out.println(\"è¿›å…¥LogAopçš„afterThrowingLog\");}\n\n\n\næ‰§è¡Œé¡ºåºï¼š\n\nå…ˆè¿›å…¥@Around\n\n\n\næ‰§è¡Œå®Œpjp.proceed()ä¹‹åï¼Œå¼€å§‹è¿›å…¥@Beforeæ–¹æ³•\n\n\n\næ‰§è¡Œå®Œ@Beforeä¸­çš„æ–¹æ³•åè¿›å…¥ä¸»æ–¹æ³•\n\n\n\næ‰§è¡Œå®Œä¸»æ–¹æ³•ä½“ï¼Œåˆå›åˆ°äº†@Aroundçš„è¿”å›å€¼\n\n\n\nç„¶åå¼€å§‹æ‰§è¡Œ@Afterä¸­å†…å®¹\n\n\n\næœ€ååˆ°äº†@AfterReturningæ–¹æ³•ä½“ä¸­\n\n\næ‰€ä»¥ï¼Œæ­£å¸¸çš„æ‰§è¡Œé¡ºåºæ˜¯ï¼š@Around -&gt;@Before-&gt;ä¸»æ–¹æ³•ä½“-&gt;@Aroundä¸­pjp.proceed()-&gt;@After-&gt;@AfterReturning\nå¦‚æœå­˜ä¸‹å¼‚å¸¸é‚£æ‰§è¡Œé¡ºåºæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä»¥ä¸‹æ¨¡æ‹Ÿäº†ä¸€ä¸ªå¼‚å¸¸ã€‚\n\né¦–å…ˆè¿›å…¥äº†@Aroundçš„æ–¹æ³•\n\n\n\nè¿›å…¥äº†@Afterçš„æ–¹æ³•\n\n\n\næœ€åè¿›å…¥äº†@AfterThrowingçš„æ–¹æ³•\n\n\nå› æ­¤å¦‚æœå¼‚å¸¸åœ¨Aroundä¸­pjp.proceed()ä¹‹å‰ï¼Œåˆ™æ‰§è¡Œé¡ºåºä¸ºï¼š@Around -&gt; @After -&gt; @AfterThrowing\nåŒç†ï¼Œå¦‚æœå¼‚å¸¸åœ¨Aroundä¸­pjp.proceed()ä¹‹åï¼Œåˆ™æ‰§è¡Œé¡ºåºä¸ºï¼š@Around -&gt;@Before-&gt;ä¸»æ–¹æ³•ä½“-&gt;@Aroundä¸­pjp.proceed()-&gt;@After-&gt;@AfterThrowing\n","categories":["Java","Spring"],"tags":["Java","AOP","SpringBoot"]},{"title":"SpringBoot","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/springboot-xue-xi-bi-ji/","content":"SpringBoot\nç¬¬ä¸€ç« \n\nä¸ºä»€ä¹ˆè¦ä½¿ç”¨SpringBoot\nå› ä¸ºSpringï¼ŒSpringMVCéœ€è¦ä½¿ç”¨çš„å¤§é‡çš„é…ç½®æ–‡ä»¶ï¼ˆxmlæ–‡ä»¶ï¼‰\nè¿˜éœ€è¦é…ç½®å„ç§å¯¹è±¡ï¼ŒæŠŠä½¿ç”¨çš„å¯¹è±¡æ”¾å…¥åˆ°springå®¹å™¨ä¸­æ‰èƒ½ä½¿ç”¨å¯¹è±¡\néœ€è¦äº†è§£å…¶ä»–æ¡†æ¶é…ç½®è§„åˆ™ã€‚\n\nSpringBootå°±ç›¸å½“äºä¸éœ€è¦é…ç½®æ–‡ä»¶çš„Spring+SpringMVCã€‚å¸¸ç”¨çš„æ¡†æ¶å’Œç¬¬ä¸‰æ–¹åº“éƒ½å·²ç»é…ç½®å¥½äº†ã€‚\næ‹¿æ¥å°±å¯ä»¥ä½¿ç”¨ äº†ã€‚\n\nSpringBootå¼€å‘æ•ˆç‡é«˜ï¼Œä½¿ç”¨æ–¹ä¾¿å¤šäº†ã€‚\n\n\n1.1ä»€ä¹ˆæ˜¯JavaConfig\n\nJavaConfigï¼šæ˜¯Springæä¾›çš„è¯•éŸ³Javaç±»é…ç½®å®¹å™¨ã€‚é…ç½®SpringIOCå®¹å™¨çš„çº¯Javaæ–¹æ³•ã€‚åœ¨è¿™ä¸ªJavaç±»è¿™å¯ä»¥åˆ›å»ºJavaå¯¹è±¡ï¼ŒæŠŠå¯¹è±¡æ”¾å…¥Springå®¹å™¨ä¸­ï¼ˆæ³¨å…¥åˆ°å®¹å™¨ï¼‰\n\nä¼˜ç‚¹ï¼š\n\n\nå¯ä»¥ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ–¹å¼ï¼Œä¸€ä¸ªé…ç½®ç±»å¯ä»¥ç»§æ‰¿é…ç½®ç±»ï¼Œå¯ä»¥é‡å†™æ–¹æ³•\né¿å…ç¹ççš„xmlé…ç½®\n\n\nä½¿ç”¨ä¸¤ä¸ªæ³¨è§£ï¼š\n\n@Configurationï¼šæ”¾åœ¨ä¸€ä¸ªç±»çš„ä¸Šé¢ï¼Œè¡¨ç¤ºè¿™ä¸ªç±»æ˜¯ä½œä¸ºé…ç½®æ–‡ä»¶ä½¿ç”¨çš„ã€‚\n@Beanï¼šç”³æ˜å¯¹è±¡ï¼ŒæŠŠå¯¹è±¡æ³¨å…¥åˆ°å®¹å™¨ä¸­\n\n\nMyTest.java\npackage com.study.config;import com.study.vo.Student;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;/** * Configuration:è¡¨ç¤ºå½“å‰ç±»æ˜¯ä½œä¸ºé…ç½®æ–‡ä»¶ä½¿ç”¨çš„ã€‚å°±æ˜¯ç”¨æ¥é…ç½®å®¹å™¨çš„ * ä½ç½®ï¼šåœ¨ç±»çš„ä¸Šé¢ * SpringConfigè¿™ä¸ªç±»ç›¸å½“äºbeans.xml */@Configurationpublic class SpringConfig {    /**     * åˆ›å»ºæ–¹æ³•ï¼Œæ–¹æ³•çš„è¿”å›å€¼æ˜¯å¯¹è±¡ã€‚åœ¨æ–¹æ³•çš„ä¸Šé¢åŠ å…¥@Bean     * æ–¹æ³•çš„è¿”å›å€¼ç‹¬äº«å°±æ³¨å…¥åˆ°å®¹å™¨ä¸­     * @Beanï¼šæŠŠç‹¬äº«æ³¨å…¥åˆ°Springå®¹å™¨ä¸­ã€‚ä½œç”¨ç›¸å½“äº&lt;bean&gt;     *     ä½ç½®ï¼šæ–¹æ³•çš„ä¸Šé¢     *     *     è¯´æ˜ï¼š@Beanï¼Œä¸æŒ‡å®šå¯¹è±¡çš„åç§°ï¼Œé»˜è®¤æ˜¯æ–¹æ³•åæ˜¯  id     */    @Bean    public Student createStudent(){        Student s1 = new Student();        s1.setName(\"å¼ ä¸‰\");        s1.setAge(26);        s1.setSex(\"ç”·\");        return s1;    }    /**     * æŒ‡å®šå¯¹è±¡åœ¨å®¹å™¨ä¸­çš„åç§°ï¼ˆæŒ‡å®š&lt;bean&gt;&lt;/bean&gt;çš„idå±æ€§ï¼‰     * @Beançš„nameå±æ€§ï¼ŒæŒ‡å®šå¯¹è±¡çš„åç§°ï¼ˆidï¼‰     */    @Bean(name = \"lisiStudent\")    public Student makeStudent(){        Student s1 = new Student();        s1.setName(\"æå››\");        s1.setAge(22);        s1.setSex(\"ç”·\");        return s1;    }}\n\nSpringConfig.java\npackage com.study.config;import com.study.vo.Student;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;/** * Configuration:è¡¨ç¤ºå½“å‰ç±»æ˜¯ä½œä¸ºé…ç½®æ–‡ä»¶ä½¿ç”¨çš„ã€‚å°±æ˜¯ç”¨æ¥é…ç½®å®¹å™¨çš„ * ä½ç½®ï¼šåœ¨ç±»çš„ä¸Šé¢ * SpringConfigè¿™ä¸ªç±»ç›¸å½“äºbeans.xml */@Configurationpublic class SpringConfig {    /**     * åˆ›å»ºæ–¹æ³•ï¼Œæ–¹æ³•çš„è¿”å›å€¼æ˜¯å¯¹è±¡ã€‚åœ¨æ–¹æ³•çš„ä¸Šé¢åŠ å…¥@Bean     * æ–¹æ³•çš„è¿”å›å€¼ç‹¬äº«å°±æ³¨å…¥åˆ°å®¹å™¨ä¸­     * @Beanï¼šæŠŠç‹¬äº«æ³¨å…¥åˆ°Springå®¹å™¨ä¸­ã€‚ä½œç”¨ç›¸å½“äº&lt;bean&gt;     *     ä½ç½®ï¼šæ–¹æ³•çš„ä¸Šé¢     *     *     è¯´æ˜ï¼š@Beanï¼Œä¸æŒ‡å®šå¯¹è±¡çš„åç§°ï¼Œé»˜è®¤æ˜¯æ–¹æ³•åæ˜¯  id     */    @Bean    public Student createStudent(){        Student s1 = new Student();        s1.setName(\"å¼ ä¸‰\");        s1.setAge(26);        s1.setSex(\"ç”·\");        return s1;    }    /**     * æŒ‡å®šå¯¹è±¡åœ¨å®¹å™¨ä¸­çš„åç§°ï¼ˆæŒ‡å®š&lt;bean&gt;&lt;/bean&gt;çš„idå±æ€§ï¼‰     * @Beançš„nameå±æ€§ï¼ŒæŒ‡å®šå¯¹è±¡çš„åç§°ï¼ˆidï¼‰     */    @Bean(name = \"lisiStudent\")    public Student makeStudent(){        Student s1 = new Student();        s1.setName(\"æå››\");        s1.setAge(22);        s1.setSex(\"ç”·\");        return s1;    }}\n1.2@ImporResource\n@ImportResourceä½œç”¨å¯¼å…¥å…¶ä»–çš„xmlé…ç½®æ–‡ä»¶ï¼Œç­‰äºåœ¨xml\n&lt;import resources=\"å…¶ä»–é…ç½®æ–‡ä»¶\"/&gt;\n\nä¾‹å¦‚ï¼š\n@Configuration@ImportResource(value = \"classpath:applicationContext.xml\")public class SpringConfig {//......}\n\n1.3@PropertyResource\n@PropertyResource:è¯»å–propertieså±æ€§é…ç½®æ–‡ä»¶ã€‚ä½¿ç”¨å±æ€§é…ç½®æ–‡ä»¶å¯ä»¥å®ç°å¤–éƒ¨åŒ–é…ç½®ï¼Œ\nåœ¨ç¨‹åºä»£ç ä¹‹å¤–æä¾›æ•°æ®ã€‚\næ­¥éª¤ï¼š\n\nåœ¨resourcesç›®å½•ä¸‹ï¼Œåˆ›å»ºpropertiesæ–‡ä»¶ï¼Œä½¿ç”¨k=vçš„æ ¼å¼æä¾›æ•°æ®\nåœ¨PropertyResourceæŒ‡å®špropertiesæ–‡ä»¶çš„ä½ç½®\nä½¿ç”¨@Value(value=â€${key}â€)\n\n@Configuration@ImportResource(value = \"classpath:applicationContext.xml\")@PropertySource(value = \"classpath:config.properties\")@ComponentScan(basePackages = \"com.study.vo\")public class SpringConfig {//......}\n\nç¬¬äºŒç« \n2.1ä»‹ç»\nSpringBootæ˜¯Springä¸­çš„ä¸€ä¸ªæˆå‘˜ï¼Œå¯ä»¥ç®€åŒ–Springï¼ŒSpringMVCçš„ä½¿ç”¨ã€‚ä»–çš„æ ¸å¿ƒè¿˜æ˜¯IOCå®¹å™¨ã€‚\nç‰¹ç‚¹ï¼š\n\nCreate stand-alone Spring applications\nåˆ›å»ºSpringåº”ç”¨\n\nEmbed Tomcat,Jetty or Undertow directly (no need to deploy WAR files)\nå†…åµŒçš„tomcatï¼Œjettyï¼ŒUndertow\n\nProvide opinionated â€˜starterâ€™ dependencies to simplify your build configuration\næä¾›äº†starterèµ·æ­¥ä¾èµ–ï¼Œç®€åŒ–åº”ç”¨çš„é…ç½®ã€‚\næ¯”å¦‚ä½¿ç”¨MyBatisæ¡†æ¶ï¼Œéœ€è¦åœ¨Springé¡¹ç›®ä¸­ï¼Œé…ç½®MyBatisçš„å¯¹è±¡SqlSessionFactoryï¼ŒDaoçš„ä»£ç†å¯¹è±¡\nåœ¨SpringBooté¡¹ç›®ä¸­ï¼Œåœ¨pom.xmlé‡ŒåŠ å…¥ï¼ŒåŠ å…¥ä¸€ä¸ªmybatis-spring-boot-starterä¾èµ–\n\nAutomatically configure Spring and 3rd party libraries whenever possible\nå°½å¯èƒ½å»é…ç½®springçš„ç¬¬ä¸‰æ–¹åº“ã€‚å«åšè‡ªåŠ¨é…ç½®ï¼ˆå°±æ˜¯æŠŠSpringä¸­çš„ï¼Œç¬¬ä¸‰æ–¹åº“ä¸­çš„å¯¹è±¡éƒ½åˆ›å»ºå¥½ï¼Œç¿»åˆ°å®¹å™¨ä¸­ï¼Œå¼€å‘äººå‘˜å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼‰\n\nProvide production-ready features such as metrics,health checks,and externalized configuration\næä¾›äº†å¥åº·æ£€æŸ¥ï¼Œç»Ÿè®¡ï¼Œå¤–è§‚åŒ–é…ç½®\n\nAbsolutely no code generation and no requirement for XML configuration\nä¸ç”¨ç”Ÿæˆä»£ç ï¼Œä¸é€‚ç”¨xmlï¼Œåšé…ç½®\n\n\n2.2åˆ›å»ºSpring Booté¡¹ç›®\n2.2.1ç¬¬ä¸€ç§æ–¹å¼ï¼Œä½¿ç”¨Springæä¾›çš„åˆå§‹åŒ–å™¨ï¼Œå°±æ˜¯å‘å¯¼åˆ›å»ºSpringBootåº”ç”¨ä½¿ç”¨çš„åœ°å€ï¼šhttps://start.spring.io\nå¦‚æœå›½å¤–çš„ä¸‹è½½æ…¢æˆ–è€…ä¸‹è½½ä¸äº†å¯ä»¥æ”¹æˆé•œåƒä¸‹è½½ï¼šhttps://start.springboot.io\nSpringBooté¡¹ç›®çš„ç»“æ„ï¼š\n\n\n\n2.3 æ³¨è§£ä½¿ç”¨\n@SpringBootApplicationå¤åˆæ³¨è§£ï¼šç”±    @SpringBootConfiguration    @EnableAutoConfiguration    @ComponentScan            1.@SpringBootConfiguration    @Configuration    @Indexedpublic @interface SpringBootConfiguration {    @AliasFor(        annotation = Configuration.class    )    boolean proxyBeanMethods() default true;}è¯´æ˜ï¼šä½¿ç”¨äº†@SpringBootConfigurationæ³¨è§£æ ‡æ³¨çš„ç±»ï¼Œå¯ä»¥ä½œä¸ºé…ç½®æ–‡ä»¶ä½¿ç”¨çš„ï¼Œ    å¯ä»¥ä½¿ç”¨Beanç”³æ˜å¯¹è±¡ï¼Œæ³¨å…¥åˆ°å®¹å™¨\n\n2.@EnableAutoConfiguration\nå¯ç”¨è‡ªåŠ¨é…ç½®ï¼ŒæŠŠjavaå¯¹è±¡é…ç½®å¥½ï¼Œæ³¨å…¥åˆ°Springå®¹å™¨ä¸­ã€‚ä¾‹å¦‚å¯ä»¥æŠŠmybatisçš„å¯¹è±¡åˆ›å»ºå¥½ï¼Œæ”¾å…¥åˆ°å®¹å™¨ä¸­\n3.@ComponentScan\n@ComponentScan æ‰«æå™¨ï¼Œæ‰¾åˆ°æ³¨è§£ï¼Œæ ¹æ®æ³¨è§£çš„åŠŸèƒ½åˆ›å»ºå¯¹è±¡ï¼Œç»™å±æ€§èµ‹å€¼ç­‰ç­‰ã€‚    é»˜è®¤æ‰«æçš„åŒ…ï¼š@ComponentScanæ‰€åœ¨çš„ç±»æ‰€åœ¨çš„åŒ…å’Œå­åŒ…ã€‚\n\n2.4SpringBootçš„é…ç½®æ–‡ä»¶\né…ç½®æ–‡ä»¶åç§°ï¼šapplication\næ‰©å±•åæœ‰ï¼šproperties(k=v)ï¼›yml(k: v)\nä½¿ç”¨application.propertiesï¼Œapplication.yml\nä¾‹1ï¼šapplication.propertiesè®¾ç½® ç«¯å£å’Œä¸Šä¸‹æ–‡\n#è®¾ç½®ç«¯å£å·server.port=8081#è®¾ç½®è®¿é—®åº”ç”¨ä¸Šä¸‹æ–‡è·¯å¾„ï¼Œcontextpathserver.servlet.context-path=/myboot\n\nä¾‹2ï¼šapplication.yml\nserver:  port: 8083  servlet:    context-path: /myboot2\n\n@PropetySourceæ³¨è§£ï¼ˆåŠ è½½å¤–éƒ¨é…ç½®æ–‡ä»¶ä»¥åŠè§£å†³SpringBooté»˜è®¤è¯»å–ä¸äº†å¤–éƒ¨é…ç½®æ–‡ä»¶é—®é¢˜ï¼‰\nPropertySourceä¸ä»…æ”¯æŒåŠ è½½ç±»è·¯å¾„ä¸‹çš„æ–‡ä»¶ï¼Œè¿˜æ”¯æŒåŠ è½½æœ¬åœ°ç£ç›˜ä¸Šçš„æ–‡ä»¶ã€‚\n/** * ç”¨æˆ·Â·Â·Â·å®ä½“â€”â€”â€”â€”è¯»å–æœ¬åœ°ç£ç›˜ä¸Šçš„é…ç½®æ–‡ä»¶ * * @Component  å°†æœ¬æ¥æ ‡è¯†ä¸ºä¸€ä¸ª Spring ç»„ä»¶ï¼Œå› ä¸ºåªæœ‰æ˜¯å®¹å™¨ä¸­çš„ç»„ä»¶ï¼Œå®¹å™¨æ‰ä¼šä¸º @ConfigurationProperties æä¾›æ­¤æ³¨å…¥åŠŸèƒ½ * * @PropertySource æŒ‡æ˜åŠ è½½ç±»è·¯å¾„ä¸‹çš„å“ªä¸ªé…ç½®æ–‡ä»¶æ¥æ³¨å…¥å€¼ï¼Œæ—¢å¯ä»¥æ˜¯ç±»è·¯å¾„ä¸‹ï¼Œä¹Ÿå¯ä»¥ä¸Šç£ç›˜ä¸Š * * @ConfigurationProperties è¡¨ç¤º å‘Šè¯‰ SpringBoot å°†æœ¬ç±»ä¸­çš„æ‰€æœ‰å±æ€§å’Œé…ç½®æ–‡ä»¶ä¸­ç›¸å…³çš„é…ç½®è¿›è¡Œç»‘å®šï¼› * * * prefix = \"user1\" è¡¨ç¤º å°†é…ç½®æ–‡ä»¶ä¸­ key ä¸º user çš„ä¸‹é¢æ‰€æœ‰çš„å±æ€§ä¸æœ¬ç±»å±æ€§è¿›è¡Œä¸€ä¸€æ˜ å°„æ³¨å…¥å€¼ï¼Œå¦‚æœé…ç½®æ–‡ä»¶ä¸­- * * * ä¸å­˜åœ¨ \"user1\" çš„ keyï¼Œåˆ™ä¸ä¼šä¸º POJO æ³¨å…¥å€¼ï¼Œå±æ€§å€¼ä»ç„¶ä¸ºé»˜è®¤å€¼ * &lt;p&gt; * ç£ç›˜è·¯å¾„å¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç³»ç»Ÿå±æ€§å€¼æŒ‡å®šå˜é‡ * * ç›¸å¯¹è·¯å¾„ï¼Œæ–‡ä»¶åœ¨åº”ç”¨æ ¹ç›®å½•ä¸‹ï¼š@PropertySource(value = {\"file:userDisk.properties\"}) * * ç›¸å¯¹è·¯å¾„ï¼Œæ–‡ä»¶åœ¨åº”ç”¨æ ¹ç›®å½•ä¸‹ï¼š@PropertySource(value = {\"file:./userDisk.properties\"}) * * ç»å¯¹è·¯å¾„ï¼Œåœ¨æŒ‡å®šçš„è·¯å¾„ä¸‹ï¼š@PropertySource(value = {\"file:D:\\\\project\\\\IDEA_project\\\\yuanyuan\\\\userDisk.properties\"}) * * é€šè¿‡ç³»ç»Ÿå±æ€§å€¼æŒ‡å®šå˜é‡ï¼š@PropertySource(value = {\"file:${user.dir}/userDisk.properties\"}) * * * user.dirï¼šç”¨æˆ·çš„å½“å‰å·¥ä½œç›®å½• * * @author wangmaoxiong * Created by Administrator on 2018/7/11 0011. */@Component@PropertySource(value = {\"file:${user.dir}/userDisk.properties\"})@ConfigurationProperties(prefix = \"user2\")public class UserDisk {    private Integer id;    private String lastName;    private Integer age;    private Date birthday;    private List&lt;String&gt; colorList;    private Map&lt;String, String&gt; cityMap;    private Dog dog;\n\nPropertySourceæ³¨è§£è¯»å–ä¸äº†å¤–éƒ¨ymlé…ç½®æ–‡ä»¶é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ\nPropertySourceé»˜è®¤åªè§£æpropertiesé…ç½®æ–‡ä»¶è§£æä¸äº†ymlçš„å¤–éƒ¨é…ç½®æ–‡ä»¶ï¼Œå¦‚æœè¦è¯»å–åˆ™å¿…é¡»è¦é‡å†™é…ç½®è¯»å–é…ç½®æ–‡ä»¶çš„æ¥å£\nè§£å†³æ–¹æ¡ˆï¼š\nå¦‚æœè¦è§£æymlæ–‡ä»¶ï¼Œéœ€è¦æŒ‡å®šfactoryåªéœ€è¦å®ç°org.springframework.coreä¸‹çš„ PropertySourceFactory æ¥å£å°±OKäº†ã€‚\nYamlPropertySourceFactory.java\nimport org.springframework.beans.factory.config.YamlPropertiesFactoryBean;import org.springframework.core.env.PropertiesPropertySource;import org.springframework.core.env.PropertySource;import org.springframework.core.io.support.EncodedResource;import org.springframework.core.io.support.PropertySourceFactory;import java.io.IOException;import java.util.Properties;public class YamlPropertySourceFactory implements PropertySourceFactory {    @Override    public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource resource) throws IOException {        YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();        factory.setResources(resource.getResource());        factory.afterPropertiesSet();        Properties ymlProperties = factory.getObject();        String propertyName = name != null ? name : resource.getResource().getFilename();        return new PropertiesPropertySource(propertyName,ymlProperties);    }}\n\nç„¶ååœ¨æˆ‘ä»¬çš„applicationå¯åŠ¨ç±»ä¸Šæ·»åŠ @propertySourcesæ³¨è§£å¼•å…¥æˆ‘ä»¬çš„å¤–éƒ¨æ–‡ä»¶ï¼š\n@PropertySources({        @PropertySource(\"file:config/jdbc-db.properties\"),        @PropertySource(value = \"file:config/redis.yml\",factory = YamlPropertySourceFactory.class)})\n\n@ImportResourceå¯¼å…¥Springé…ç½®æ–‡ä»¶   1ã€@ImportResource æ³¨ è§£ç”¨æ¥å¯¼å…¥ Spring çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æ ¸å¿ƒé…ç½®æ–‡ä»¶ â€œbeans.xmlâ€ï¼Œä»è€Œè®©é…ç½®æ–‡ä»¶é‡Œé¢çš„å†…å®¹ç”Ÿæ•ˆï¼›\n   2ã€å¦‚æœåº”ç”¨ä¸­ä»ç„¶æƒ³é‡‡ç”¨ä»¥å‰ xml æ–‡ä»¶çš„é…ç½®æ–¹å¼ï¼Œå¦‚ â€œbeans.xmlâ€ ï¼Œåˆ™ä½¿ç”¨ â€œ@ImportResourceâ€ æ³¨è§£è½»æ¾æå®šã€‚\n   3ã€å°† @ImportResource æ ‡æ³¨åœ¨ä¸€ä¸ªé…ç½®ç±»ä¸Šï¼Œé€šå¸¸ç›´æ¥æ”¾ç½®åœ¨åº”ç”¨å¯åŠ¨ç±»ä¸Šï¼Œå’Œ @SpringBootApplication ä¸€èµ·å³å¯ã€‚\n   import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.context.annotation.ImportResource;/** * åº”ç”¨å¯åŠ¨ç±» * * @ImportResource å¿…é¡»æ”¾ç½®åœ¨é…ç½®ç±»ä¸Šï¼Œé€šå¸¸æ”¾åœ¨å¯åŠ¨ç±»å³å¯ï¼Œç”¨ value æŒ‡æ˜å¯¼å…¥ç±»è·¯å¾„ä¸‹çš„é‚£ä¸ª Spring é…ç½®æ–‡ä»¶ */@ImportResource(value = {\"classpath:beans.xml\"})@SpringBootApplicationpublic class CocoApplication {    public static void main(String[] args) {        SpringApplication.run(CocoApplication.class, args);    }}\n\n   4ã€ç„¶åå°±å¯ä»¥åœ¨ç±»è·¯å¾„ä¸‹æä¾›åŸå§‹çš„ beans.xml é…ç½®æ–‡ä»¶ï¼š\n   &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;&lt;!-- æ”¾å…¥åˆ°Spingå®¹å™¨ä¸­ï¼Œè¿™æ˜¯ä»¥å‰Springçš„å†…å®¹ï¼Œä¸å†ç´¯è¿°--&gt;&lt;bean id=\"userService\" class=\"com.lct.service.UserService\"/&gt;&lt;/beans&gt;\n\n   5ã€å¯åŠ¨åº”ç”¨æ§åˆ¶å°ä¼šæ‰“å°ï¼šloading XML bean definitions from class path resource [beans. xml] è¡¨ç¤ºåŠ è½½æˆåŠŸã€‚\n2.5å¤šç¯å¢ƒé…ç½®\næœ‰å¼€å‘ç¯å¢ƒï¼Œæµ‹è¯•ç¯å¢ƒï¼Œä¸Šçº¿çš„ç¯å¢ƒã€‚\næ¯ä¸ªç¯å¢ƒæœ‰ä¸åŒçš„é…ç½®ä¿¡æ¯ï¼Œä¾‹å¦‚ç«¯å£ï¼Œä¸Šä¸‹æ–‡ä»¶ï¼Œæ•°æ®åº“urlï¼Œç”¨æˆ·åï¼Œå¯†ç ç­‰ç­‰\nä½¿ç”¨å¤šç¯å¢ƒé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥æ–¹ä¾¿çš„åˆ‡æ¢ä¸åŒçš„é…ç½®ã€‚\nä½¿ç”¨æ–¹å¼ï¼šåˆ›å»ºå¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œåç§°è§„åˆ™ï¼šapplication-ç¯å¢ƒmingcheng.properties(yml)\nåˆ›å»ºå¼€å‘ç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼šapplication-dev.properties(application-dev.yml)\nåˆ›å»ºæµ‹è¯•è€…ä½¿ç”¨çš„é…ç½®ï¼šapplication-test.properties\napplication.yml ç¤ºä¾‹ï¼šæ³¨æ„ï¼šé…ç½®å¤šç¯å¢ƒyml æ–‡ä»¶å¿…é¡»æ˜¯applicationå¼€å¤´æ–‡ä»¶\nspring:\tprofiles:\t \tactive: @spring.profiles.active@\n\n\n\n2.6\n2.7ä½¿ç”¨JspSpringBootä¸æ¨èä½¿ç”¨jspï¼Œè€Œæ˜¯ä½¿ç”¨æ¨¡æ¿æŠ€æœ¯ä»£æ›¿jsp\nä½¿ç”¨jspéœ€è¦é…ç½®ï¼š\n\nåŠ å…¥ä¸€ä¸ªå¤„ç†jspçš„ä¾èµ–ã€‚è´Ÿè´£ç¼–è¯‘jspæ–‡ä»¶\n&lt;dependency&gt;    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;&lt;/dependency&gt;\n\nå¦‚æœéœ€è¦ä½¿ç”¨servletï¼Œjspçš„åŠŸèƒ½\nå¦‚ï¼šservletçš„ä¾èµ–ã€jspçš„ä¾èµ–ã€jstlçš„ä¾èµ–ã€‚\n\nåˆ›å»ºä¸€ä¸ªå­˜æ”¾jspçš„ç›®å½•ï¼Œä¸€èˆ¬å«åšwebapp\nindex.jsp\n\néœ€è¦åœ¨pox.xmlæŒ‡å®šjspæ–‡ä»¶ç¼–è¯‘åçš„å­˜æ”¾ç›®å½•ã€‚\nMETA-INF/resources\n\nåˆ›å»ºControllerï¼Œè®¿é—®jsp\n\nåœ¨application.propertisæ–‡ä»¶ä¸­é…ç½®è§†å›¾è§£æå™¨\n\n\n2.8ä½¿ç”¨å®¹å™¨\nä½ æƒ³é€šè¿‡ä»£ç ï¼Œä»å®¹å™¨ä¸­è·å–å¯¹è±¡ã€‚\né€šè¿‡SpringApplication.run(Application.class,args);è¿”å›å€¼è·å–å®¹å™¨ã€‚\n public static ConfigurableApplicationContext run(Class&lt;?&gt; primarySource, String... args) {        return run(new Class[]{primarySource}, args);    }ConfigurableApplicationContextï¼šæ¥å£ï¼Œæ˜¯ApplicationContextçš„å­æ¥å£    public interface ConfigurableApplicationContext extends ApplicationContext, Lifecycle, Closeable\n\nCommandLineRunneræ¥å£\nâ€‹\tå¼€å‘ä¸­å¯èƒ½ä¼šæœ‰è¿™æ ·çš„æƒ…æ™¯ã€‚éœ€è¦åœ¨å®¹å™¨å¯åŠ¨åæ‰§è¡Œä¸€äº›å†…å®¹ã€‚æ¯”å¦‚è¯»å–é…ç½®æ–‡ä»¶ï¼Œæ•°æ®åº“è¿æ¥ä¹‹ç±»çš„ã€‚SpringBootç»™æˆ‘ä»¬æä¾›äº†ä¸¤ä¸ªæ¥å£æ¥å¸®åŠ©æˆ‘ä»¬å®ç°è¿™ç§éœ€æ±‚ã€‚è¿™ä¸¤ä¸ªæ¥å£åˆ†åˆ«æ˜¯CommandLineRunnerå’ŒApplicationRunnerã€‚ä»–ä»¬çš„å®è¡Œæ—¶æœºä¸ºå®¹å™¨å¯åŠ¨å®Œæˆçš„æ—¶å€™ã€‚è¿™ä¸¤ä¸ªæ¥å£ä¸­æœ‰ä¸€ä¸ªrunæ–¹æ³•ï¼Œæˆ‘ä»¬åªéœ€è¦å®ç°è¿™ä¸ªæ–¹æ³•è®¡ç§‘ã€‚è¿™ä¸¤ä¸ªæ¥å£çš„ä¸åŒä¹‹å¤„åœ¨äºï¼šApplicationRunnerä¸­runæ–¹æ³•çš„å‚æ•°ä¸ºApplicationArgumentsï¼Œè€ŒCommandLineRunneræ¥å£ä¸­runæ–¹æ³•çš„å‚æ•°ä¸ºStringæ•°ç»„\n2.9ComnandLineRunneræ¥å£ã€ApplicationRunneræ¥å£\nè¿™ä¸ªä¸¤ä¸ªæ¥å£éƒ½æœ‰ä¸€ä¸ªrunæ–¹æ³•ï¼Œæ‰§è¡Œæ—¶é—´åœ¨å®¹å™¨(SpringApplication.run(â€¦))å¯¹è±¡åˆ›å»ºå¥½åï¼Œè‡ªåŠ¨æ‰§è¡Œrun()æ–¹æ³•ã€‚\nå¯ä»¥å®Œæˆè‡ªå®šä¹‰çš„åœ¨å®¹å™¨å¯¹è±¡åˆ›å»ºå¥½çš„ä¸€äº›æ“ä½œã€‚\n@FunctionalTnterfacepublic interface CommandLineRunner{    void run(String... args) throws Exception;}@FunctionalInterfacepublic interface Application{    void run(ApplicationArguments args) throws Exception;}\n\nç¬¬ä¸‰ç« \nè®²ä¸‰ä¸ªå†…å®¹ï¼šæ‹¦æˆªå™¨ï¼ŒServletï¼ŒFilter\n3.1 æ‹¦æˆªå™¨\næ‹¦æˆªå™¨æ˜¯SpringMVCä¸­ä¸€ç§å¯¹è±¡ï¼Œèƒ½æ‹¦æˆªå¯¹Controllerçš„è¯·æ±‚ã€‚\næ‹¦æˆªå™¨æ¡†æ¶ä¸­æœ‰ç³»ç»Ÿçš„æ‹¦æˆªå™¨ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰æ‹¦æˆªå™¨ã€‚å®ç°å¯¹è¯·æ±‚é¢„å…ˆå¤„ç†ã€‚\nå®ç°è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼š\n\nåˆ›å»ºç±»å®ç°SpringMVCæ¡†æ¶çš„HandlerInterceptoræ¥å£\n\npublic interface HandlerInterceptor {    default boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {        return true;    }    default void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable ModelAndView modelAndView) throws Exception {    }    default void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable Exception ex) throws Exception {    }}\n\n\néœ€åœ¨SpringMVCçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œç”³æ˜æ‹¦æˆªå™¨\n\n&lt;mvc:interceptors&gt;\t&lt;mvc:interceptor&gt;    \t&lt;mvc:path=\"url\"/&gt;        &lt;bean class=\"æ‹¦æˆªå™¨ç±»å…¨é™å®šåç§°\"/&gt;    &lt;/mvc:interceptor&gt;&lt;/mvc:interceptors&gt;\n\n   SpringBootä¸­æ³¨å†Œæ‹¦æˆªå™¨ï¼š\n@Configurationpublic class MyAppConfig implements WebMvcConfigurer {    //æ·»åŠ æ‹¦æˆªå™¨å¯¹è±¡ï¼Œæ³¨å…¥åˆ°å®¹å™¨ä¸­    @Override    public void addInterceptors(InterceptorRegistry registry) {        //åˆ›å»ºæ‹¦æˆªå™¨å¯¹è±¡        HandlerInterceptor interceptor = new LoginInterceptor();        //æŒ‡å®šæ‹¦æˆªçš„è¯·æ±‚uriåœ°å€        String path[] = {\"/user/**\"};        //æŒ‡å®šä¸æ‹¦æˆªçš„åœ°å€        String excludePath[] = {\"/user/login\"};        registry.addInterceptor(interceptor).addPathPatterns(path).excludePathPatterns(excludePath);    }}\n\nHandlerInterceptor.java\npublic class HandlerInteerceptor implements HandlerInterceptor {    @Override    public boolean preHandle(HttpServletRequest request,                             HttpServletResponse response,                             Object handler) throws Exception {        return false;    }}\n\n\n\n3.2 Servlet\nåœ¨SpringBootæ¡†æ¶ä¸­ä½¿ç”¨Servletå¯¹è±¡ã€‚\nä½¿ç”¨æ­¥éª¤ï¼š\n\nåˆ›å»ºServletç±»ã€‚åˆ›å»ºç±»ç»§æ‰¿HttpServlet\næ³¨å†ŒServletï¼Œè®©æ¡†æ¶èƒ½æ‰¾åˆ°Servlet\n\nä¾‹å­ï¼š\n\nåˆ›å»ºè‡ªå®šä¹‰çš„Servlet\n//åˆ›å»ºServletç±»public class Myservlet extends HttpServlet{    @Override    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {        doPost(req,resp);    }            @Override    protected void doPost(HttpServletRequest req,HttpServletResponse resp) throws ServletException, IOException {        //ä½¿ç”¨HttpServletResponseè¾“å‡ºæ•°æ®ï¼Œåº”ç­”ç»“æœ        resp.setContentType(\"text/html;charset=utf-8\");        PrintWriter out = resp.getWriter();        out.println(\"===æ‰§è¡Œçš„æ˜¯Servlet===\");        out.flush();        out.close();    }    }\n\næ³¨å†ŒServlet\n@Configurationpublic class WebApplictionConfig {        //å®šä¹‰æ–¹æ³•ï¼Œæ³¨å†ŒServletå¯¹è±¡    @Bean    public ServletRegistrationBean servletRegistrationBean(){                //public ServletRegistrationBean(T servlet, String... urlMapping)        //ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ Servletå¯¹è±¡ï¼Œç¬¬äºŒä¸ªæ˜¯urlåœ°å€                //ServletRegistrationBean bean =         \t\t//new ServletRegistrationBean( new MyServlet(),\"/myservlet\");                ServletRegistrationBean bean = new ServletRegistrationBean();        bean.setServlet(new MyServlet());        bean.addUrlMappings(\"/login\",\"/test\");   //&lt;url-pattern&gt;                return bean;            }}\n\n3.3è¿‡æ»¤å™¨Filter\nFilteræ˜¯Servletè§„èŒƒä¸­çš„è¿‡æ»¤å™¨ï¼Œå¯ä»¥å¤„ç†è¯·æ±‚ï¼Œå¯¹è¯·æ±‚çš„å‚æ•°ï¼Œå±æ€§è¿›è¡Œè°ƒæ•´ï¼Œå¸¸å¸¸åœ¨è¿‡æ»¤å™¨ä¸­å¤„ç†å­—ç¬¦ç¼–ç åœ¨æ¡†æ¶ä¸­ä½¿ç”¨è¿‡æ»¤å™¨ï¼š\n\nåˆ›å»ºè‡ªå®šä¹‰è¿‡æ»¤å™¨\næ³¨å†ŒFilterè¿‡æ»¤å™¨å¯¹è±¡\n\nä¾‹å­ï¼š\n//è‡ªå®šä¹‰è¿‡æ»¤å™¨public class MyFilter implements Filter {    @Override    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {        System.out.println(\"æ‰§è¡Œäº†MyFilterï¼ŒdoFilter\");        filterChain.doFilter(servletRequest,servletResponse);    }}\n\næ³¨å†ŒFilterï¼š\n@Configurationpublic class WebApplicationConfig {    @Bean    public FilterRegistrationBean filterRegistrationBean(){        FilterRegistrationBean bean = new FilterRegistrationBean();        bean.setFilter(new MyFilter());        bean.addUrlPatterns(\"/user/*\");        return bean;    }}\n\n3.4å­—ç¬¦é›†è¿‡æ»¤å™¨\nCharacterEncodingFilterï¼šè§£å†³postè¯·æ±‚ä¸­ä¹±ç é—®é¢˜\nåœ¨SpringMVCæ¡†æ¶ï¼Œåœ¨web.xmlæ³¨å†Œè¿‡æ»¤å™¨ã€‚é…ç½®ä»–çš„å±æ€§ã€‚\nç¬¬ä¸€ç§æ–¹å¼ï¼š\nä½¿ç”¨æ­¥éª¤ï¼š\n\né…ç½®å­—ç¬¦é›†è¿‡æ»¤å™¨\n@Configurationpublic class WebSystemConfig {    //æ³¨å†ŒServlet    @Bean    public ServletRegistrationBean servletRegistrationBean(){        MyServlet myServlet = new MyServlet();        ServletRegistrationBean reg = new ServletRegistrationBean(myServlet,\"/myservlet\");        return reg;    }    //æ³¨å†ŒFilter    @Bean    public FilterRegistrationBean filterRegistrationBean(){        FilterRegistrationBean reg = new FilterRegistrationBean();        //ä½¿ç”¨æ¡†æ¶ä¸­çš„è¿‡æ»¤å™¨ç±»        CharacterEncodingFilter filter = new CharacterEncodingFilter();        filter.setEncoding(\"utf-8\");        //æŒ‡å®šrequestï¼Œresponseéƒ½ä½¿ç”¨encodingçš„å€¼        filter.setForceEncoding(true);        reg.setFilter(filter);        reg.addUrlPatterns(\"/*\");        return reg;    }}\n\nä¿®æ”¹application.propertiesæ–‡ä»¶ï¼Œè®©è‡ªå®šä¹‰çš„è¿‡æ»¤å™¨èµ·ä½œç”¨\n#SpringBootä¸­é»˜è®¤å·²ç»é…ç½®äº†CharacterEncodingFilterã€‚ç¼–ç é»˜è®¤ISO-8859-1#è®¾ç½®enabled=false ä½œç”¨æ˜¯å…³é—­ç³»ç»Ÿä¸­é…ç½®å¥½çš„è¿‡æ»¤å™¨ï¼Œä½¿ç”¨è‡ªå®šä¹‰çš„CharacterEncodingFilterserver.servlet.encoding.enabled=false\n\nç¬¬äºŒç§æ–¹å¼ï¼š\nä¿®æ”¹application.propertiesæ–‡ä»¶\n#è®©ç³»ç»Ÿçš„CharacterEncodingFilterç”Ÿæ•ˆserver.servlet.encoding.enabled=true#æŒ‡å®šä½¿ç”¨ç¼–ç çš„æ–¹å¼server.servlet.encoding.charset=utf-8#å¼ºåˆ¶requestï¼Œresponseéƒ½ä½¿ç”¨charsetå±æ€§çš„å€¼server.servlet.encoding.force=true\n\nç¬¬å››ç« \nä½¿ç”¨MyBatisæ¡†æ¶æ“ä½œæ•°æ®ï¼Œåœ¨SpringBootæ¡†æ¶é›†æˆMyBatisä½¿ç”¨æ­¥éª¤ï¼š\n\nmybatisèµ·æ­¥ä¾èµ–ï¼šå®Œæˆmybatiså¯¹è±¡è‡ªåŠ¨é…ç½®ï¼Œå¯¹è±¡æ”¾åœ¨å®¹å™¨ä¸­\n\npom.xmlæŒ‡å®šæŠŠsrc/main/javaç›®å½•ä¸­çš„xmlæ–‡ä»¶åŒ…å«åˆ°classpathä¸­\n\nåˆ›å»ºå®ä½“ç±»Student\n\nåˆ›å»ºDaoæ¥å£StudentMapperï¼ˆStudentDaoï¼‰ï¼Œåˆ›å»ºä¸€ä¸ªæŸ¥è¯¢å­¦ç”Ÿçš„æ–¹æ³•\n\nåˆ›å»ºMapperï¼ˆDaoï¼‰æ¥å£å¯¹åº”çš„Mapperæ–‡ä»¶ï¼Œxmlæ–‡ä»¶ï¼Œå†™sqlè¯­å¥\n\nåˆ›å»ºServiceå±‚å¯¹è±¡ï¼Œåˆ›å»ºStudentServiceæ¥å£å’Œä»–çš„å®ç°ç±»ã€‚å»daoå¯¹è±¡çš„æ–¹æ³•ã€‚å®Œæˆæ•°æ®åº“çš„æ“ä½œ\n\nåˆ›å»ºControllerå¯¹è±¡ï¼Œè®¿é—®Serviceã€‚\n\nå†™application.propertiesæ–‡ä»¶\né…ç½®æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ã€‚\n\n\nç¬¬ä¸€ç§æ–¹å¼ï¼š@Mapper@Mapperï¼šæ”¾åœ¨daoæ¥å£çš„ä¸Šé¢ï¼Œæ¯ä¸€ä¸ªæ¥å£éƒ½éœ€è¦ä½¿ç”¨è¿™ä¸ªæ³¨è§£\n/** * å‘Šè¯‰MyBatisè¿™æ˜¯daoæ¥å£ï¼Œåˆ›å»ºæ­¤æ¥å£çš„ä»£ç†å¯¹è±¡ã€‚ */@Mapperpublic interface UserMapper {    User selectById(@Param(\"userId\") Integer id);}\n\nç¬¬äºŒç§æ–¹å¼ @MapperScan@SpringBootApplication@MapperScan(basePackages = \"com.study4.springboot_4.mapper\")public class SpringBoot4Application {}\n\nç¬¬ä¸‰ç§æ–¹å¼ï¼šMapperæ–‡ä»¶å’ŒDaoæ¥å£åˆ†å¼€ç®¡ç†ç°åœ¨Mapperæ–‡ä»¶æ”¾åœ¨resourcesç›®å½•ä¸‹\n\nåœ¨resourcesç›®å½•ä¸­åˆ›å»ºå­ç›®å½•ï¼ˆè‡ªå®šä¹‰çš„ï¼‰ï¼Œä¾‹å¦‚mapper\næŠŠmapperæ–‡ä»¶æ”¾åˆ°mapperç›®å½•ä¸­\nåœ¨application.propertiesæ–‡ä»¶ä¸­ï¼ŒæŒ‡å®šmapperæ–‡ä»¶çš„ç›®å½•\n\n#æŒ‡å®šmapperæ–‡ä»¶çš„ä½ç½®mybatis.mapper-locations=classpath:mapper/*.xml#mybatisæ—¥å¿—è¾“å‡ºmybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl\n\n\nåœ¨pom.xmlä¸­æŒ‡å®šæŠŠresourcesç›®å½•ä¸­\n\n&lt;resource&gt;    &lt;directory&gt;src/main/resources&lt;/directory&gt;    &lt;includes&gt;        &lt;include&gt;**/*.properties&lt;/include&gt;        &lt;include&gt;**/*.xml&lt;/include&gt;    &lt;/includes&gt;&lt;/resource&gt;\n\nç¬¬å››ä¸ª äº‹åŠ¡Springæ¡†æ¶ä¸­çš„äº‹åŠ¡ï¼š\n\nç®¡ç†äº‹åŠ¡çš„å¯¹è±¡ï¼šäº‹åŠ¡ç®¡ç†å™¨ï¼ˆæ¥å£ï¼Œæ¥å£æœ‰å¾ˆå¤šçš„å®ç°ç±»ï¼‰\nä¾‹å¦‚ï¼šä½¿ç”¨JDBCæˆ–MyBatisè®¿é—®æ•°æ®åº“ï¼Œä½¿ç”¨çš„äº‹åŠ¡ç®¡ç†å™¨ï¼šDataSourceTransactionManager\n\nå£°æ˜å¼äº‹åŠ¡ï¼šåœ¨xmlé…ç½®æ–‡ä»¶æˆ–è€…ä½¿ç”¨æ³¨è§£è¯´æ˜äº‹åŠ¡æ§åˆ¶çš„å†…å®¹\næ§åˆ¶äº‹åŠ¡ï¼šéš”ç¦»çº§åˆ«ï¼Œä¼ æ’­è¡Œä¸ºï¼Œè¶…æ—¶æ—¶é—´\n\näº‹åŠ¡å¤„ç†æ–¹å¼ï¼š\n\nspringæ¡†æ¶ä¸­çš„@Transactional\naspectjæ¡†æ¶å¯ä»¥åœ¨xmlé…ç½®æ–‡ä»¶ä¸­ï¼Œå£°æ˜äº‹åŠ¡æ§åˆ¶çš„å†…å®¹\n\n\n\nSpringBootä¸­ä½¿ç”¨äº‹åŠ¡ï¼šä¸Šé¢çš„ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥ã€‚\n\nåœ¨ä¸šåŠ¡æ–¹æ³•çš„ä¸Šé¢åŠ å…¥@Transactionalï¼ŒåŠ å…¥æ³¨è§£åï¼Œæ–¹æ³•æœ‰äº‹åŠ¡åŠŸèƒ½äº†ã€‚\næ˜ç¡®çš„åœ¨ä¸»å¯åŠ¨ç±»çš„ä¸Šé¢ï¼ŒåŠ å…¥@EnableTransactionManager\n\nä¾‹å­ï¼š\n/*** @Transactionalï¼šè¡¨ç¤ºæ–¹æ³•çš„æœ‰äº‹åŠ¡æ”¯æŒ* \t\té»˜è®¤ï¼šä½¿ç”¨åº“çš„éš”ç¦»çº§åˆ«ï¼ŒREQUIRED ä¼ æ’­è¡Œä¸ºï¼›è¶…æ—¶æ—¶é—´ -1* \t\tæŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ï¼Œå›æ»šäº‹åŠ¡*/@Transactional@Overridepublic int addUser(User user) {    System.out.println(\"ä¸šåŠ¡æ–¹æ³•addUser\");    int rows = userMapper.insert(user);    System.out.println(\"æ‰§è¡Œsqlè¯­å¥\");    //æŠ›å‡ºä¸€ä¸ªè¿è¡Œæ—¶å¼‚å¸¸ï¼Œç›®çš„æ˜¯å›æ»šäº‹åŠ¡    //int m = 10/0;    return rows;}\n\n\n\nMyBatisä»£ç è‡ªåŠ¨ç”Ÿæˆæ’ä»¶&lt;!--            mybatisä»£ç è‡ªåŠ¨ç”Ÿæˆæ’ä»¶--&gt;            &lt;plugin&gt;                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;                &lt;version&gt;1.3.6&lt;/version&gt;                &lt;configuration&gt;&lt;!--                    é…ç½®æ–‡ä»¶çš„ä½ç½®:åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œå’Œsrcæ˜¯å¹³çº§çš„--&gt;                    &lt;configurationFile&gt;GeneratorMapper.xml&lt;/configurationFile&gt;                    &lt;verbose&gt;true&lt;/verbose&gt;                    &lt;overwrite&gt;true&lt;/overwrite&gt;                &lt;/configuration&gt;            &lt;/plugin&gt;\n\nç¬¬äº”ç«  æ¥å£æ¶æ„é£æ ¼â€”â€”RESTful\nAPIä¹‹ä¸»è¦ç›®çš„æ˜¯æä¾›åº”ç”¨ç¨‹åºä¸å¼€å‘äººå‘˜ä»¥è®¿é—®ä¸€ç»„ä¾‹ç¨‹çš„èƒ½åŠ›ï¼Œè€Œåˆæ— éœ€è®¿é—®æºç ï¼Œæˆ–ç†è§£å†…éƒ¨å·¥ä½œæœºåˆ¶çš„ç»†èŠ‚ã€‚æä¾›APIæ‰€å®šä¹‰çš„åŠŸèƒ½çš„è½¯ä»¶ç§°ä½œæ­¤APIçš„å®ç°ã€‚APIæ˜¯ä¸€ç§æ¥å£ï¼Œæ•…è€Œæ˜¯ä¸€ç§æŠ½è±¡ã€‚\nåº”ç”¨ç¨‹åºæ¥å£ï¼ˆè‹±è¯­ï¼šApplication Programming Interfaceï¼Œç®€ç§°ï¼šAPIï¼‰ï¼Œåˆç§°ä¸ºåº”ç”¨ç¼–ç¨‹æ¥å£ï¼Œå°±æ˜¯è½¯ä»¶ç³»ç»Ÿä¸åŒç»„æˆéƒ¨åˆ†è¡”æ¥çš„çº¦å®šã€‚ç”±äºè¿‘å¹´æ¥è½¯ä»¶çš„è§„æ¨¡æ—¥ç›Šåºå¤§ï¼Œå¸¸å¸¸éœ€è¦æŠŠå¤æ‚çš„ç³»ç»Ÿåˆ’åˆ†æˆå°çš„ç»„æˆéƒ¨åˆ†ï¼Œç¼–ç¨‹æ¥å£çš„è®¾è®¡ååˆ†é‡è¦ã€‚ç¨‹åºè®¾è®¡çš„å®è·µä¸­ï¼Œç¼–ç¨‹æ¥å£çš„è®¾è®¡é¦–å…ˆè¦ä½¿è½¯ä»¶ç³»ç»Ÿçš„èŒè´£å¾—åˆ°åˆç†åˆ’åˆ†ã€‚è‰¯å¥½çš„æ¥å£è®¾è®¡å¯ä»¥é™ä½ç³»ç»Ÿå„éƒ¨åˆ†çš„ç›¸äº’ä¾èµ–ï¼Œæé«˜ç»„æˆå•å…ƒçš„å†…èšæ€§ï¼Œé™ä½ç»„æˆå•å…ƒé—´çš„è€¦åˆç¨‹åº¦ï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚\næ¥å£ï¼ˆAPIï¼‰ï¼šå¯ä»¥æŒ‡è®¿é—®Servletï¼Œcontrollerçš„urlï¼Œè°ƒç”¨å…¶ä»–ç¨‹åºçš„ å‡½æ•°\næ¶æ„é£æ ¼ï¼šapiç»„ç»‡æ–¹å¼ï¼ˆæ ·å­ï¼‰\nå°±æ˜¯ä¸€ä¸ªä¼ ç»Ÿçš„ï¼šhttp://localhost:9001/study/addUser?name=ç™½å§¬&amp;age=12\nâ€‹\t\t\t\t\t\t\tåœ¨åœ°å€ä¸Šæä¾›äº†è®¿é—®çš„èµ„æºåç§°addUserï¼Œåœ¨å…¶åä½¿ç”¨äº†getæ–¹å¼ä¼ é€’å‚æ•°ã€‚\nRESTfulæ¶æ„é£æ ¼\n\nRESTï¼ˆä¸­æ–‡ï¼šè¡¨ç°å±‚çŠ¶æ€è½¬ç§»ï¼‰\nRESTï¼ˆè‹±æ–‡ï¼šRepresentational State Transferï¼Œç®€ç§°RESTï¼‰\nä¸€ç§äº’è”ç½‘è½¯ä»¶æ¶æ„è®¾è®¡çš„é£æ ¼ï¼Œä½†å®ƒå¹¶ä¸æ˜¯æ ‡å‡†ï¼Œå®ƒåªæ˜¯æå‡ºäº†ä¸€ç»„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯äº¤äº’æ—¶çš„æ¶æ„å†å¹´å’Œè®¾è®¡åŸåˆ™ï¼ŒåŸºäºè¿™ç§ç†å¿µå’ŒåŸåˆ™è®¾è®¡çš„æ¥å£å¯ä»¥æ›´ç®€æ´ï¼Œæ›´æœ‰å±‚æ¬¡ï¼ŒRESTè¿™ä¸ªè¯ï¼Œæ˜¯Roy Fieldingåœ¨ä»–2000å¹´çš„åšå£«è®ºæ–‡ä¸­æå‡ºçš„ã€‚\nâ€‹        ä»»ä½•çš„æŠ€æœ¯éƒ½å¯ä»¥å®ç°è¿™ç§ç†å¿µï¼Œå¦‚æœä¸€ä¸ªæ¶æ„ç¬¦åˆRESTåŸåˆ™ï¼Œå°±ç§°å®ƒä¸ºRESTFulæ¶æ„\nâ€‹        æ¯”å¦‚æˆ‘ä»¬è¦è®¿é—®ä¸€ä¸ªhttpæ¥å£ï¼šhttp://localhost:8080/boot/order?id=1021&amp;status=1\nâ€‹        é‡‡ç”¨RESTFulé£æ ¼åˆ™httpåœ°å€ä¸ºï¼šhttp://localhost:8080/boot/order/1021/1\n\n\nâ€‹\t\tè¡¨ç°å±‚çŠ¶æ€è½¬ç§»ï¼š\nâ€‹\t\t\t\tè¡¨ç°å±‚å°±æ˜¯è§†å›¾å±‚ï¼Œæ˜¾ç¤ºèµ„æºçš„ï¼Œé€šè¿‡è§†å›¾é¡µé¢ï¼Œjspç­‰ç­‰æ˜¾ç¤ºæ“ä½œèµ„æºçš„ç»“æœã€‚\nâ€‹\t\t\t\tçŠ¶æ€ï¼šèµ„æºå˜åŒ–\nâ€‹\t\t\t\tè½¬ç§»ï¼šèµ„æºå¯ä»¥å˜åŒ–çš„ã€‚èµ„æºèƒ½åˆ›å»ºï¼ŒnewçŠ¶æ€ï¼Œèµ„æºåˆ›å»ºåå¯ä»¥æŸ¥è¯¢èµ„æºï¼Œèƒ½çœ‹åˆ°èµ„æºçš„å†…å®¹ï¼Œè¿™ä¸ªèµ„æºå†…å®¹ï¼Œå¯ä»¥è¢«ä¿®æ”¹ï¼Œä¿®æ”¹åèµ„æºå’Œä¹‹å‰çš„ä¸ä¸€æ ·ã€‚\n\nRESTä¸­çš„è¦ç´ ï¼š\nç”¨RESTè¡¨ç¤ºèµ„æºå’Œå¯¹èµ„æºçš„æ“ä½œã€‚åœ¨äº’è”ç½‘ä¸­ï¼Œè¡¨ç¤ºä¸€ä¸ªèµ„æºæˆ–è€…ä¸€ä¸ªæ“ä½œã€‚\nèµ„æºä½¿ç”¨urlè¡¨ç¤ºçš„ï¼Œåœ¨äº’è”ç½‘ï¼Œä½¿ç”¨çš„å›¾ç‰‡ï¼Œè§†å±ï¼Œæ–‡æœ¬ï¼Œç½‘é¡µç­‰ç­‰éƒ½æ˜¯èµ„æºã€‚\nèµ„æºæ˜¯ç”¨åè¯è¡¨ç¤ºã€‚\n\n\nâ€‹\t\tå¯¹èµ„æºï¼š\nâ€‹\t\t\t\tæŸ¥è¯¢èµ„æºï¼šçœ‹ï¼Œé€šè¿‡urlæ‰¾åˆ°èµ„æºã€‚\nâ€‹\t\t\t\tåˆ›å»ºèµ„æºï¼šæ·»åŠ èµ„æº\nâ€‹\t\t\t\tæ›´æ–°èµ„æºï¼šæ›´æ–°èµ„æºï¼Œç¼–è¾‘\nâ€‹\t\t\t\tåˆ é™¤èµ„æºï¼šå»é™¤\nâ€‹\t\tèµ„æºä½¿ç”¨urlè¡¨ç¤ºï¼Œé€šè¿‡åè¯è¡¨ç¤ºèµ„æºã€‚\nâ€‹\t\t\tåœ¨urlä¸­ä½¿ç”¨åè¯è¡¨ç¤ºèµ„æºï¼Œä»¥åŠè®¿é—®èµ„æºçš„ä¿¡æ¯ï¼Œåœ¨urlä¸­ï¼Œä½¿ç”¨â€œ/â€åˆ†éš”èµ„æºçš„ä¿¡æ¯\nâ€‹\t\t\thttp://localhost:8080/myboot/student/1001\nâ€‹\t\tä½¿ç”¨httpä¸­çš„åŠ¨ä½œï¼ˆè¯·æ±‚æ–¹å¼ï¼‰ï¼Œè¡¨ç¤ºå¯¹èµ„æºçš„æ“ä½œï¼ˆCURDï¼‰\nâ€‹\t\t\t       GETï¼šæŸ¥è¯¢èµ„æº\nâ€‹\t\t\t\t\t\t\thttp://localhost:8080/myboot/student/1001\nâ€‹\t\t\t\t\t\t\thttp://localhost:8080/myboot/student/1001/1\nâ€‹\t\t\t\t\t\t\tå¤„ç†å¤šä¸ªèµ„æºï¼šä½¿ç”¨å¤æ•°å½¢å¼\nâ€‹\t\t\t\t\t\t\thttp://localhost:8080/myboot/students/1001/1002\nâ€‹\t\t    \tPOSTï¼šåˆ›å»ºèµ„æº â€“sql insert\nâ€‹\t\t\t\t\t\t\thttp://localhost:8080/myboot/student\nâ€‹\t\t\t\t\t\t\tåœ¨postè¯·æ±‚ä¸­ä¼ é€’æ•°æ®\n&lt;form action=\"http://localhost:8080/myboot/student\" method=\"post\"&gt;    å§“åï¼š&lt;input type=\"test\" name=\"name\"/&gt;    å¹´é¾„ï¼š&lt;input type=\"text\" name=\"age\"/&gt;&lt;/form&gt;\n\nâ€‹\t\t\t       PUTï¼šæ›´æ–°èµ„æº â€“sql update\n&lt;form action=\"http://localhost:8080/myboot/student/1\" method=\"post\"&gt;    å§“åï¼š&lt;input type=\"test\" name=\"name\"/&gt;    å¹´é¾„ï¼š&lt;input type=\"text\" name=\"age\"/&gt;    \t &lt;input type=\"hidden\" name=\"_method\" value=\"PUT\"/&gt;&lt;/form&gt;\n\n\n\nâ€‹\t\t\tDELETEï¼šåˆ é™¤èµ„æº â€“sql delete\n&lt;a href=\"http://localhost:8080/myboot/student/1\"&gt;åˆ é™¤1çš„æ•°æ®&lt;/a&gt;\n\néœ€è¦çš„åˆ†é¡µï¼Œæ’åºç­‰å‚æ•°ï¼Œä¾ç„¶æ”¾åœ¨urlçš„åé¢ï¼Œä¾‹å¦‚ï¼š\nhttp://localhost:8080/myboot/student?page=1&amp;pageSize=20\n\nä¸€å¥è¯è¯´æ˜RESTï¼š\nä½¿ç”¨urlè¡¨ç¤ºèµ„æºï¼Œä½¿ç”¨httpåŠ¨ä½œæ“ä½œèµ„æºã€‚\n\næ³¨è§£\n@PathVariableï¼šä»urlä¸­è·å–æ•°æ®\n@GetMappingï¼šæ”¯æŒçš„getè¯·æ±‚æ–¹å¼ï¼Œç­‰åŒäº@RequestMapping(method=RequestMethod.GET)\n@PostMappingï¼šæ”¯æŒpostè¯·æ±‚æ–¹å¼ï¼Œç­‰åŒäº@RequestMapping(method=RequestMethod.POST)\n@PutMappingï¼šæ”¯æŒputè¯·æ±‚æ–¹å¼ï¼Œç­‰åŒäº@RequestMapping(method=RequestMethod.PUT)\n@DeleteMappingï¼šæ”¯æŒdeleteè¯·æ±‚æ–¹å¼ï¼Œç­‰åŒäº@RequestMapping(method=RequestMethod.DELETE)\n\n\nâ€‹\t\t@RestControllerï¼šå¤åˆæ³¨è§£ï¼Œæ˜¯@Controllerå’Œ@ResponseBodyç»„åˆã€‚\nâ€‹\t\t\t\t\tåœ¨ç±»çš„ä¸Šé¢ä½¿ç”¨@RestControllerï¼Œè¡¨ç¤ºå½“å‰ç±»è€…çš„æ‰€æœ‰æ–¹æ³•éƒ½åŠ å…¥äº†@ResponseBody \n\nPostmanï¼šæµ‹è¯•å·¥å…·\næ˜¯å“ŸPostmanï¼šå¯ä»¥æµ‹è¯•getï¼Œpostï¼Œputï¼Œdeleteç­‰è¯·æ±‚\n\n\nå¸¸è§é—®é¢˜è§£å†³\n1. Mapper.xmlä¸­å‡ºç°å¤šåµŒå¥—ç±»çš„æ³¨å…¥è§£å†³ &lt;resultMap id=\"usermap\" type=\"com.xiaobei.xiaobei_server.pojo.User\"&gt;        &lt;id property=\"id\" column=\"id\"/&gt;        &lt;result property=\"userName\" column=\"user_name\"/&gt;        &lt;result property=\"userAccount\" column=\"user_account\"/&gt;        &lt;result property=\"userPassword\" column=\"user_password\"/&gt;        &lt;result property=\"health_startTime\" column=\"health_startTime\"/&gt;        &lt;result property=\"health_endTime\" column=\"health_endTime\"/&gt;        &lt;result property=\"health_playTime\" column=\"health_playTime\"/&gt;        &lt;association property=\"playCardMessage\" javaType=\"com.xiaobei.xiaobei_server.pojo.PlayCardMessage\" resultMap=\"playCardMessage\"/&gt;    &lt;/resultMap&gt;&lt;resultMap id=\"playCardMessage\" type=\"com.xiaobei.xiaobei_server.pojo.PlayCardMessage\"&gt;        &lt;result property=\"temperature\" column=\"health_temperature\"/&gt;        &lt;result property=\"coordinates\" column=\"health_coordinates\" /&gt;        &lt;result property=\"location\" column=\"health_location\"/&gt;        &lt;result property=\"healthState\" column=\"health_healthState\"/&gt;        &lt;result property=\"dangerousRegion\" column=\"health_dangerousRegion\"/&gt;        &lt;result property=\"dangerousRegionRemark\" column=\"health_dangerousRegionRemark\"/&gt;        &lt;result property=\"contactSituation\" column=\"health_contactSituation\"/&gt;        &lt;result property=\"goOut\" column=\"health_goOut\"/&gt;        &lt;result property=\"goOutRemark\" column=\"health_goOutRemark\"/&gt;        &lt;result property=\"remark\" column=\"health_remark\"/&gt;        &lt;result property=\"familySituation\" column=\"health_familySituation\"/&gt;    &lt;/resultMap&gt;\n\nå®šä¹‰å¥½ä¹‹åç„¶åä½¿ç”¨resultMapå®šä¹‰è¿”å›å€¼å°±è¡Œï¼Œ==ä¸ç®¡æ•°ç»„è¿˜æ˜¯å•ä¸ªå¯¹è±¡çš„è¿”å›éƒ½ç”¨resultMap==ï¼Œå› ä¸ºè¿™é‡Œæœ‰å¤šé‡åµŒå¥—çš„ç±»ã€‚\n2. å„ç§æ³¨å…¥ç±»æ³¨è§£ä½¿ç”¨è§„èŒƒ\n@Controller æ§åˆ¶å™¨ï¼ˆæ³¨å…¥æœåŠ¡ï¼‰\nç”¨äºæ ‡æ³¨æ§åˆ¶å±‚ï¼Œç›¸å½“äºstrutsä¸­çš„actionå±‚\n\n@Service æœåŠ¡ï¼ˆæ³¨å…¥daoï¼‰\nç”¨äºæ ‡æ³¨æœåŠ¡å±‚ï¼Œä¸»è¦ç”¨æ¥è¿›è¡Œä¸šåŠ¡çš„é€»è¾‘å¤„ç†\n\n@Repositoryï¼ˆå®ç°daoè®¿é—®ï¼‰\nç”¨äºæ ‡æ³¨æ•°æ®è®¿é—®å±‚ï¼Œä¹Ÿå¯ä»¥è¯´ç”¨äºæ ‡æ³¨æ•°æ®è®¿é—®ç»„ä»¶ï¼Œå³DAOç»„ä»¶\n\n@Component ï¼ˆæŠŠæ™®é€špojoå®ä¾‹åŒ–åˆ°springå®¹å™¨ä¸­ï¼Œç›¸å½“äºé…ç½®æ–‡ä»¶ä¸­çš„ ï¼‰\næ³›æŒ‡å„ç§ç»„ä»¶ï¼Œå°±æ˜¯è¯´å½“æˆ‘ä»¬çš„ç±»ä¸å±äºå„ç§å½’ç±»çš„æ—¶å€™ï¼ˆä¸å±äº@Controllerã€@Servicesç­‰çš„æ—¶å€™ï¼‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨@Componentæ¥æ ‡æ³¨è¿™ä¸ªç±»ã€‚Componentæ³¨è§£ä¹Ÿä¼šå½“åšé…ç½®ç±»ï¼Œä½†æ˜¯å¹¶ä¸ä¼šä¸ºå…¶ç”ŸæˆCGLIBä»£ç†Classï¼Œæ‰€ä»¥åœ¨ç”ŸæˆDriverå¯¹è±¡æ—¶å’Œç”ŸæˆCarå¯¹è±¡æ—¶è°ƒç”¨car()æ–¹æ³•æ‰§è¡Œäº†ä¸¤æ¬¡newæ“ä½œï¼Œæ‰€ä»¥æ˜¯ä¸åŒçš„å¯¹è±¡ã€‚å½“æ—¶Configurationæ³¨è§£æ—¶ï¼Œç”Ÿæˆå½“å‰å¯¹è±¡çš„å­ç±»Classï¼Œå¹¶å¯¹æ–¹æ³•æ‹¦æˆªï¼Œç¬¬äºŒæ¬¡è°ƒç”¨car()æ–¹æ³•æ—¶ç›´æ¥ä»BeanFactoryä¹‹ä¸­è·å–å¯¹è±¡ï¼Œæ‰€ä»¥å¾—åˆ°çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚ä¸€èˆ¬ç”¨@Configgurationæ˜¯æ›´ä¼˜çš„\n\n3. å‰ç«¯ä¼ å…¥æ—¶å¦‚ä½•è·å–ä»¥åŠæ ¼å¼åŒ–é—®é¢˜1.é—®é¢˜æè¿°1.æ•°æ®åº“é‡Œçš„æ—¥æœŸä¸ºdateç±»å‹ï¼Œjavaå¦‚ä½•è¿›è¡Œæ¥æ”¶ï¼Ÿ2.å‰ç«¯ä¼ è¿‡æ¥çš„æ—¶é—´ï¼Œåç«¯å¦‚ä½•æ¥æ”¶ï¼Ÿ3.åç«¯å¦‚ä½•å°†æ—¶é—´å­˜å…¥æ•°æ®åº“ï¼Ÿ4.å†™å…¥æ•°æ®åº“çš„æ—¶é—´ä¼šæ¯”ä¼ å…¥çš„æ—¶é—´æå‰ä¸€å¤©ï¼Ÿ2.è§£å†³æ–¹æ³•2.1ä¸¤ä¸ªæ³¨è§£è§£å†³æ¥æ”¶é—®é¢˜@DateTimeFormat(pattern = \"yyyy-MM-dd\")@JsonFormat(pattern=\"yyyy-MM-dd\",timezone=\"GMT+8\")private Date award_date;//è¿™é‡Œæ˜¯ä½ è‡ªå·±çš„æ—¶é—´ç±»å‹çš„å­—æ®µï¼Œåœ¨å®ƒä¸Šé¢åŠ ä¸Šè¿™ä¸¤ä¸ªæ³¨è§£å³å¯\n\n\n\n@DateTimeFormatå…¥å‚æ³¨è§£ï¼›æ ¼å¼åŒ–æ¥æ”¶å‰ç«¯çš„æ—¶é—´å­—ç¬¦ä¸²ä¸ºæ­£ç¡®æ ¼å¼\n@JsonFormatå‡ºå‚æ³¨è§£ï¼›æ ¼å¼åŒ–ä»æ•°æ®åº“åº“é‡Œé¢æŸ¥è¯¢å‡ºæ¥çš„æ—¶é—´ä¸ºæ­£ç¡®æ ¼å¼\npatternå‚æ•°å¯ä»¥è‡ªç”±å®šåˆ¶ã€‚\ntimezoneå‚æ•°ç”¨äºè°ƒæ•´æ—¶åŒº\n\n2.2ä¸€ä¸ªå‚æ•°è§£å†³æ—¶é—´æå‰é—®é¢˜  è¿™åªè¦æ˜¯ç”±äºæ—¶åŒºçš„é—®é¢˜ï¼Œæ‰€ä»¥æ—¶é—´ä¸Šé¢ä¼šæå‰8å°æ—¶ï¼Œè‡ªå·±æŠŠå®ƒåŠ ä¸Šå»å°±å¥½äº†ã€‚å¯ä»¥ç›´æ¥åœ¨è¿æ¥æ•°æ®åº“çš„è¯­å¥åé¢æ·»åŠ å‚æ•°serverTimezone=GMT%2B8  æˆ‘è¿™é‡ŒåŠ è½½åœ¨æœ«å°¾ï¼Œæ‹¼æ¥å®Œæ•´çš„å¦‚ä¸‹æ‰€ç¤ºï¼š\nurl: jdbc:mysql://127.0.0.1:3308/stusystem?characterEncoding=utf8&amp;allowMultiQueries=true&amp;useSSL=false&amp;serverTimezone=GMT%2B8\n\nå‚æ•°é‡Œçš„GMT%2B8å®é™…ä¸Šå°±æ˜¯GMT+8,åªä¸è¿‡åœ¨æ‹¼æ¥çš„æ—¶å€™å¾—ç”¨%2Bæ‰è¡Œã€‚\næ³¨å…¥æ³¨è§£ä½¿ç”¨é—®é¢˜\næ³¨æ„ï¼šåœ¨ä½¿ç”¨å¯¹åº”çš„ç±»çš„æ—¶å€™ä¸èƒ½ä½¿ç”¨newçš„å½¢å¼åˆ›å»ºï¼Œå¦åˆ™å¯¹åº”ç±»å†…éƒ¨çš„æ³¨å…¥æ³¨è§£å°†ä¼šå…¨éƒ¨å¤±æ•ˆã€‚\nå¸¸è§SpringBooté…ç½®\nspring:  application:    name: security6 #é…ç½®åº”ç”¨åç§°  datasource:    url: jdbc:mysql://localhost:3306/security6?useUnicode=true&amp;characterEncoding=UTF-8 #é…ç½®æ•°æ®æºurl    driver-class-name: com.mysql.cj.jdbc.Driver #é…ç½®æ•°æ®æºçš„æ•°æ®åº“é©±åŠ¨    username: root #æ•°æ®åº“çš„è´¦å·    password: 12345678 #æ•°æ®åº“çš„å¯†ç server:  port: 8080 #æœåŠ¡å™¨çš„ç«¯å£  tomcat: #Tomcatç›¸å…³é…ç½®    max-connections: 8192 #æœ€å¤§è¿æ¥æ•°    accept-count: 100 #ç­‰å¾…é˜Ÿåˆ—é•¿åº¦    threads:      max: 500 #æœ€å¤§å·¥ä½œçº¿ç¨‹æ•°      min-spare: 10 #æœ€å°ç©ºé—²çº¿ç¨‹æ•°\n\né’ˆå¯¹4C8Gçš„Tomcaté…ç½®ï¼Œå¯ä»¥å‚è€ƒå»ºè®®å€¼ï¼štomcat:accept-count: 1000max-connections: 10000max-threads: 800min-spare-threads: 100\n\n\n\n\n\n","categories":["Java","Spring"],"tags":["Java","SpringBoot"]},{"title":"SpringCloudå­¦ä¹ ç¬”è®°","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/springcloud-xue-xi-bi-ji/","content":"SpringCloudå­¦ä¹ ç¬”è®°\n1.Spring Cloud Eurekaç®€ä»‹æ³¨å†Œå‘ç°ä¸­å¿ƒ\nEurekaæ¥æºäºå¤å¸Œè…Šè¯æ±‡ï¼Œæ„ä¸ºâ€œå‘ç°äº†â€ã€‚åœ¨è½¯ä»¶é¢†åŸŸï¼ŒEurekaæ˜¯Netflixåœ¨çº¿å½±ç‰‡å…¬å¸å¼€æºçš„ä¸€ä¸ªæœåŠ¡æ³¨å†Œä¸å‘ç°çš„ ç»„ä»¶ï¼Œå’Œå…¶ä»–Netflixå…¬å¸çš„æœåŠ¡ç»„ä»¶ï¼ˆä¾‹å¦‚è´Ÿè½½å‡è¡¡ã€ç†”æ–­å™¨ã€ç½‘å…³ç­‰ï¼‰ä¸€èµ·ï¼Œè¢«Spring Cloudç¤¾åŒºæ•´åˆä¸º Spring Cloud Netflixæ¨¡å—ã€‚\nEurekaæ˜¯Netflixè´¡çŒ®ç»™Spring Cloudçš„ä¸€ä¸ªæ¡†æ¶ï¼Netflixç»™Spring Cloudè´¡çŒ®äº†å¾ˆå¤šæ¡†æ¶ï¼Œåé¢æˆ‘ä»¬ä¼šå­¦ä¹ åˆ°ï¼\n2.Spring Cloud Eurekaå’ŒZookeeperçš„åŒºåˆ«2.1ä»€ä¹ˆæ˜¯CAPåŸåˆ™ï¼ˆé¢è¯•ï¼‰\nåœ¨åˆ†å¸ƒå¼ å¾®æœåŠ¡é‡Œé¢CAPå®šç†\né—®ï¼šä¸ºä»€ä¹ˆzookeeperä¸é€‚åˆåšæ³¨å†Œä¸­å¿ƒï¼Ÿ\nCAPåŸåˆ™åˆç§°CAPå®šç†ï¼ŒæŒ‡çš„æ˜¯åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œ\nä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šä¸‰ä¸ªæœºå™¨ä¸­æ•°æ®ä¸­ä¸€è‡´çš„\nå¯ç”¨æ€§ï¼ˆAvailabilityï¼‰ï¼šå½“æœ‰ä¸€ä¸ªèŠ‚ç‚¹æŒ‚æ‰äº†æ•´ä¸ªé›†ç¾¤å¯ä»¥ç»§ç»­å¯¹å¤–æä¾›æœåŠ¡\nåˆ†åŒºå®¹é”™æ€§ï¼ˆPartition toleranceï¼‰ ï¼ˆè¿™ä¸ªç‰¹æ€§æ˜¯ä¸å¯é¿å…çš„ï¼‰ï¼šç”±äºæœºæˆ¿æˆ–è€…åˆ†åŒºç­‰åŸå› ä¼šå¯¼è‡´å„ä¸ªæœºå™¨ä¸­çš„æ•°æ®çŸ­æš‚ä¸ä¸€è‡´\nCAPåŸåˆ™æŒ‡çš„æ˜¯ï¼Œè¿™ä¸‰ä¸ªè¦ç´ æœ€å¤šåªèƒ½åŒæ—¶å®ç°ä¸¤ç‚¹ï¼Œä¸å¯èƒ½ä¸‰è€…å…¼é¡¾ã€‚\nCPã€AP\nzkéµå¾ªCPåŸåˆ™\neurekaæ³¨é‡APé«˜å¯ç”¨\neurekaé»˜è®¤ç«¯å£å·ä¸º8761\n\n@EnableEurekaServeræ³¨è§£ï¼šå¼€å¯eurekaçš„æ³¨å†Œä¸­å¿ƒçš„åŠŸèƒ½ï¼ˆåœ¨SpringBootå¯åŠ¨å‡½æ•°ä¸Šé¢æ·»åŠ ï¼‰\n\nDS replicasï¼šé›†ç¾¤ç›¸å…³ä¿¡æ¯\nIndtances currently registered with Eurekaï¼šå½“å‰åœ¨eurekaé‡Œé¢æ³¨å†Œå“ªäº›å®ä¾‹ çœŸå®çš„ä¾‹å­ å…·ä½“çš„ä¸œè¥¿ class new Object\nStatusï¼šå®ä¾‹ çš„çŠ¶æ€å’ŒID\nSpringCloudä¸­çš„å¸¸ç”¨é…ç½®\n\n\né›†ç¾¤çš„æ·±å…¥ç†è§£\nå¦‚æœæ˜¯ä¸»ä»æ¨¡å¼ ä¸»æœºè¯¥æ€ä¹ˆé€‰æ‹©ï¼Ÿ\nå¦‚æœæ˜¯ä¸»ä»æ¨¡å¼ æ•°æ®æ˜¯æ€ä¹ˆåŒæ­¥çš„ï¼Ÿ  \n\nåˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§åè®®ï¼š Paxos raft\nEurekaæ¦‚å¿µçš„ç†è§£\næœåŠ¡çš„æ³¨å†Œ\nå½“é¡¹ç›®å¯åŠ¨æ—¶ï¼ˆeurekaçš„å®¢æˆ·ç«¯â€”â€”ï¼Œå°±ä¼šå‘eureka-serverå‘é€è‡ªå·±çš„å…ƒæ•°æ®ï¼ˆåŸå§‹æ•°æ®ï¼‰ï¼ˆè¿è¡Œçš„ipï¼Œç«¯å£portï¼Œå¥åº·çš„çŠ¶æ€ç›‘æ§ç­‰ï¼Œå› ä¸ºä½¿ç”¨çš„æ˜¯http/Restfulè¯·æ±‚é£æ ¼ï¼‰ï¼Œeureka-serverä¼šåœ¨è‡ªå·±å†…éƒ¨ä¿ç•™è¿™äº›å…ƒæ•°æ®ï¼ˆå†…å­˜ä¸­ï¼‰ã€‚ï¼ˆæœ‰ä¸€ä¸ªæœåŠ¡åˆ—è¡¨ï¼‰ï¼ˆrestfulé£æ ¼ï¼Œä»¥httpåŠ¨è¯çš„è¯·æ±‚æ–¹å¼ï¼Œå®Œæˆå¯¹urlèµ„æºçš„æ“ä½œï¼‰\n\næœåŠ¡çš„ç»­çº¦\né¡¹ç›®å¯åŠ¨æˆåŠŸäº†ï¼Œé™¤äº†å‘eureka-serveræ³¨å†Œè‡ªå·±æˆåŠŸï¼Œè¿˜ä¼šå®šæ—¶çš„å‘eureka-serveræ±‡æŠ¥è‡ªå·±ï¼Œå¿ƒè·³ï¼Œè¡¨ç¤ºè‡ªå·±è¿˜æ´»ç€ã€‚ï¼ˆä¿®æ”¹ä¸€ä¸ªæ—¶é—´ï¼‰\n\næœåŠ¡çš„ä¸‹çº¿ï¼ˆä¸»åŠ¨ä¸‹çº¿ï¼‰\nå½“é¡¹ç›®å…³é—­æ—¶ï¼Œä¼šç»™eureka-serveræŠ¥å‘Šï¼Œè¯´æ˜è‡ªå·±è¦ä¸‹æœºäº†ã€‚\n\næœåŠ¡çš„å‰”é™¤ï¼ˆè¢«åŠ¨ä¸‹çº¿ï¼Œä¸»åŠ¨å‰”é™¤ï¼‰\n\nå½“é¡¹ç›®è¶…è¿‡äº†æŒ‡å®šæ—¶é—´æ²¡æœ‰å‘eureka-serveræ±‡æŠ¥è‡ªå·±ï¼Œé‚£ä¹ˆeureka0serverå°±ä¼šè®¤ä¸ºæ­¤èŠ‚ç‚¹æ­»æ‰äº†ï¼Œä¼šæŠŠå®ƒå‰”é™¤æ‰ï¼Œä¹Ÿä¸ä¼šæ”¾æµé‡å’Œè¯·æ±‚åˆ°æ­¤èŠ‚ç‚¹ äº†ã€‚\n\nEurekaè¿ä½œåŸç†çš„ç‰¹ç‚¹\nEureka-serverå¯¹å¤–æä¾›çš„æ˜¯restfulé£æ ¼çš„æœåŠ¡\nä»¥httpåŠ¨è¯çš„å½¢å¼å¯¹urlèµ„æºè¿›è¡Œæ“ä½œ getã€postã€putã€delete\nhttpæœåŠ¡+ç‰¹å®šçš„è¯·æ±‚æ–¹å¼urlåœ°å€\nåªè¦åˆ©ç”¨è¿™äº›restfulæˆ‘ä»¬å°±èƒ½å¯¹é¡¹ç›®å®ç°æ³¨å†Œå’Œå‘ç°\nåªä¸è¿‡ï¼Œeurekaå·²ç»å¸®æˆ‘ä»¬ä½¿ç”¨javaè¯­è¨€å†™äº†clientï¼Œè®©æˆ‘ä»¬çš„é¡¹ç›®åªè¦ä¾èµ–clientå°±èƒ½å®ç°æ³¨å†Œå’Œå‘ç°ï¼\nåªè¦ä½ ä¼šå‘èµ·Httpè¯·æ±‚ï¼Œé‚£ä½ å°±æœ‰å¯èƒ½è‡ªå·±å®ç°æœåŠ¡çš„æ³¨å†Œå’Œå‘ç°ã€‚ä¸ç®¡ä½ æ˜¯ä»€ä¹ˆè¯­è¨€ï¼\n\nEurekaçš„ymlé…ç½®æ–‡ä»¶ï¼š\nserver:\tport: 8761  #eurekaçš„é»˜è®¤ç«¯å£8761spring:\tapplication:\t\tname: eureka-server #åº”ç”¨åç§° ä¸è¦ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼ˆå¿…é¡»è¦å†™åº”ç”¨åç§°ï¼‰eureka: #eurekaçš„é…ç½®åˆ†ä¸ºä¸‰ç±» sever client å®ä¾‹çš„ eureka-serveræ—¢æ˜¯æœåŠ¡ç«¯æœ‰äº‹å®¢æˆ·ç«¯\tserver:\t\teviction-interval-timer-in-ms: 10000 #æœåŠ¡ç«¯é—´éš”å¤šå°‘æ¯«ç§’åšå®šæœŸåˆ é™¤çš„æ“ä½œ\t\trenewal-percent-threshold: 0.85  #ç»­çº¦ç™¾åˆ†æ¯” è¶…è¿‡85%çš„åº”ç”¨æ²¡æœ‰å’Œä½ ç»­çº¦ é‚£ä¹ˆeurekaä¼šä¿æŠ¤æœåŠ¡ ä¸ä¼šå‰”é™¤\tinstance: #å®ä¾‹çš„é…ç½®\t\tinstance-id: ${eureka.instance.hostname}:${spring.application.name}:${server.port} \t\thostname: locahost #ä¸»æœºåç§°æˆ–è€…æœåŠ¡çš„ip\t\tprefer-ip-address: true # ä»¥ipçš„å½¢å¼æ˜¾ç¤ºå…·ä½“çš„æœåŠ¡ä¿¡æ¯\t\tlease-renerwal-interval-in-seconds: 5 #æœåŠ¡å®ä¾‹çš„ç»­çº¦çš„æ—¶é—´é—´éš”\tclient:\t\tservice-url:\t\t\tdefaultZone: http://localhost:8761/eureka,...(å¯ä»¥æ³¨å†Œå¤šä¸ªï¼Œç”¨â€œ,â€éš”å¼€)\t\tregister-with-eureka: false  #å…ˆå°†serverè‡ªå·±æ³¨å†Œè‡ªå·±çš„å¼€å…³ï¼ˆç›®å‰ä¸ºå…³æ‰ï¼Œé»˜è®¤ä¸ºtrue  ï¼‰\t\tfetch-registry: true #è¦ä¸è¦å»æ³¨å†Œä¸­å¿ƒé‡Œè·å–å…¶ä»–æœåŠ¡åœ°å€\t\t\n\nymlä½¿ç”¨æŠ€å·§ï¼š\n æ¯”å¦‚defaulZoneé‡Œé¢\n#å¦‚æœEUREKA_SERVER_URLèƒ½è·å–åˆ°å€¼å°±é‡‡ç”¨è¿™ä¸ªï¼Œå¦åˆ™å°±ä½¿ç”¨â€œ:â€åé¢çš„é»˜è®¤è®¾å®šdefaultZone: ${EUREKA_SERVER_URL:http://localhost:8761}\n\n\nSpring Cloud RibbonRibbonæ¦‚è¿°\nSpring Cloud Ribbon æ˜¯ä¸€ä¸ªåŸºäºHTTPå’ŒTCPçš„å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡å·¥å…·ï¼Œå®ƒåŸºäºNetflix Ribbonå®ç°ã€‚é€šè¿‡Spring Cloudçš„å°è£…ï¼Œå¯ä»¥è®©æˆ‘ä»¬è½»æ¾åœ°å°†é¢å‘æœåŠ¡çš„RESTæ¨¡æ¿è¯·æ±‚è‡ªåŠ¨è½¬æ¢æˆå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡çš„æœåŠ¡è°ƒç”¨ã€‚è½®è¯¢hashæƒé‡â€¦\nç®€å•çš„è¯´Ribbonå°±æ˜¯netfixå…¬å¸çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œä¸»è¦åŠŸèƒ½æ˜¯æä¾›å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ç®—æ³•å’ŒæœåŠ¡ è°ƒç”¨ã€‚Ribbonå®¢æˆ·ç«¯ç»„ä»¶æä¾›äº†ä¸€å¥—å®Œå–„çš„é…ç½®é¡¹ï¼Œæ¯”å¦‚è¿æ¥è¶…æ—¶ï¼Œé‡è¯•ç­‰ã€‚\nåœ¨Spring Cloudæ„å»ºçš„å¾®æœåŠ¡ç³»ç»Ÿä¸­ï¼ŒRibbonä½œä¸ºæœåŠ¡ æ¶ˆè´¹è€…çš„ è´Ÿè½½å‡è¡¡å™¨ï¼Œæœ‰ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼Œä¸€ç§æ˜¯å’ŒRestTemplateç›¸ç»“åˆï¼Œå¦ä¸€ç§æ˜¯å’ŒOpenFeignç›¸ç»“åˆã€‚OpenFeignå·²ç»é»˜è®¤é›†æˆäº†Ribbonï¼Œå…³äºOpenFeignçš„å†…å®¹å°†ä¼šåœ¨ä¸‹ä¸€ç« è¿›è¡Œè¯¦ç»†è®²è§£ã€‚Ribbonæœ‰å¾ˆå¤šå­æ¨¡å—ï¼Œä½†å¾ˆå¤šæ¨¡å—æ²¡æœ‰ç”¨äºç”Ÿäº§ç¯å¢ƒï¼\n\nribbon:\teager-load:\t\tenabled: true #ribbon å€ŸåŠ©eurekaæ‹‰å–æœåŠ¡åˆ—è¡¨\teureka:\t\tenabled: true\thttp:  #  æˆ‘ä»¬ä½¿ç”¨ribbon ç”¨çš„restTemplateå‘è¯·æ±‚ java.net.HttpUrlConnection å‘çš„è¯·æ±‚  å¾ˆæ–¹ä¾¿  ä½†æ˜¯å®ƒä¸æ”¯æŒè¿æ¥æ± \t\tclient: false  #å‘è¯·æ±‚çš„å·¥å…·å¾ˆå¤š httpClient å®ƒæ”¯æŒè¿æ¥æ±  æ•ˆç‡å¥½ å¦‚æœä½ æƒ³æ”¹è¯·æ±‚çš„å·¥å…· è®°å¾—åŠ ä¸Šè¿™ä¸ªä¾èµ–å³å¯\tokhttp: # è¿™ä¸ªä¹Ÿæ˜¯è¯·æ±‚å·¥å…· ç§»åŠ¨ç«¯ç”¨çš„æ¯”è¾ƒå¤š è½»é‡ çš„è¯·æ±‚\t\tenabled: false\n\n\n\n\n\n\n\nè´Ÿè½½å‡è¡¡\nè´Ÿè½½å‡è¡¡ï¼Œè‹±æ–‡åç§°ä¸ºLoad Balanceï¼ˆLBï¼‰http://  lb://ï¼ˆè´Ÿè½½å‡è¡¡åè®®ï¼‰ï¼Œå…¶å«ä¹‰å°±æ˜¯æŒ‡å°†è´Ÿè½½ï¼ˆå·¥ä½œä»»åŠ¡ï¼‰è¿›è¡Œå¹³è¡¡ã€åˆ†æ‘Šåˆ°å¤šä¸ªæ“ä½œå•å…ƒä¸Šè¿›è¡Œè¿è¡Œï¼Œä¾‹å¦‚WebæœåŠ¡å™¨ã€ä¼ä¸šæ ¸å¿ƒåº”ç”¨æœåŠ¡å™¨å’Œ å…¶å®ƒä¸»è¦ä»»åŠ¡æœåŠ¡å™¨ç­‰ï¼Œä»è€ŒååŒå®Œæˆå·¥ä½œä»»åŠ¡ã€‚\nè´Ÿè½½å‡è¡¡æ„å»ºåœ¨åŸæœ‰ç½‘ç»œç»“æ„ä¹‹ä¸Šï¼Œå®ƒæä¾›äº†ä¸€ç§é€æ˜ä¸”å»‰ä»·æœ‰æ•ˆçš„æ–¹æ³•æ‰©å±•æœåŠ¡å™¨å’Œç½‘ç»œè®¾å¤‡çš„å¸¦å®½ã€åŠ å¼ºç½‘ç»œæ•°æ®å¤„ç†èƒ½åŠ›ã€å¢åŠ ååé‡ã€æé«˜ç½‘ç»œçš„å¯ç”¨æ€§å’Œçµæ´»æ€§ã€‚\n\n@LoadBalancedæ³¨è§£(å¦‚æœåŠ äº†Eurekaç»„ä»¶å°±æˆ·éœ€è¦å•ç‹¬å¯¼å…¥Ribbonäº†ï¼ŒEurekaè‡ªå¸¦)\nä½¿ç”¨è¿™ä¸ªæ³¨è§£åŠ åœ¨RestTemplate();é‚£ä¹ˆRestTemplateçš„ æ“ä½œéƒ½ä¼šç”±ribbonæ¥ æ“ä½œ\n@Bean @LoadBalanced public RestTemplate restTemplate(){     return new RestTemplate(); }\n\næ€è€ƒribbonæ˜¯è¿™ä¹ˆå°†http://provider/hello è·¯å¾„è¯·æ±‚æˆåŠŸçš„http://127.0.0.1:8080/hello1.æ‹¦æˆªè¿™ä¸ªè¯·æ±‚2.æˆªå–ä¸»æœºåç§°3.å€ŸåŠ©eurekaæ¥åšæœåŠ¡å‘ç°list&lt;&gt;4.é€šè¿‡è´Ÿè½½å‡è¡¡ç®—æ³• æ‹¿åˆ°ä¸€ä¸ªæœåŠ¡ip port5.reConstructURL6.å‘èµ·è¯·æ±‚\nåªè¦ä½ ç»™restTemplateåŠ äº†ribbonçš„æ³¨è§£ é¡¹ç›®ä¸­è¿™ä¸ªå¯¹è±¡å‘èµ·çš„è¯·æ±‚ éƒ½ä¼šèµ°ribbonçš„ä»£ç†\nå¦‚æœä½ æƒ³ä½¿ç”¨åŸç”Ÿçš„restTemplate å°±éœ€è¦é‡æ–°åˆ›å»ºä¸€ä¸ªå¯¹è±¡\n\næŒ‰ä»€ä¹ˆé¡ºåºå¯åŠ¨æœåŠ¡å¥½\n\næœ€å¥½å…ˆå¯åŠ¨æœåŠ¡ï¼Œå†å¯åŠ¨æ³¨å†Œä¸­å¿ƒï¼Œç„¶åå†å¯åŠ¨å®¢æˆ·ç«¯ï¼ˆconsumerï¼‰\nå› ä¸ºconsumerä¼šæ¯éš”ä¸€æ®µæ—¶é—´æ‹‰å–æ³¨å†Œä¸­å¿ƒçš„æœåŠ¡åˆ—è¡¨ï¼Œè€Œæ³¨å†Œä¸­å¿ƒä¸€ä¸‹ä¸ä¼šæ›´åˆ—è¡¨ï¼Œå¦‚æœå…ˆå¯åŠ¨consumeré‚£ä¹ˆå°±ä¼šä¸€å¼€å§‹æ‹‰å–ä¸åˆ°åé¢çš„æœåŠ¡ï¼ˆå› ä¸ºæœåŠ¡æœªå¼€å¯æ³¨å†Œä¸­å¿ƒçš„åˆ—è¡¨ä¸­æ²¡æœ‰ä»»ä½•æœåŠ¡ï¼‰\n\nFeign(é‡Œé¢é»˜è®¤è‡ªå¸¦äº†Ribbonï¼ï¼ï¼ä¸ç”¨å¯¼)Feignæ˜¯ç”³æ˜æ€§ï¼ˆæ³¨è§£ï¼‰WebæœåŠ¡å®¢æˆ·ç«¯ã€‚å®ƒä½¿ç¼–å†™WebæœåŠ¡å®¢æˆ·ç«¯æ›´åŠ å®¹æ˜“ã€‚è¦ä½¿ç”¨Feignï¼Œè¯·åˆ›å»ºä¸€ä¸ªæ¥å£å¹¶å¯¹å…¶è¿›è¡Œæ³¨è§£ã€‚å®ƒå…·æœ‰å¯æ’å…¥æ³¨è§£æ”¯æŒï¼ŒåŒ…æ‹¬Feignæ³¨è§£å’ŒJAX-RSæ³¨è§£ã€‚Feignè¿˜è‡´è¾å¯æ’æ‹”ç¼–ç å™¨å’Œè§£ç å™¨ã€‚Spring Cloudæ·»åŠ äº†å¯¹SpringMVCæ³¨è§£çš„æ”¯æŒï¼Œå¹¶æ”¯æŒä½¿ç”¨HttpMessageConvertersï¼ŒSpringWebä¸­é»˜è®¤ä½¿ç”¨çš„æ³¨è§£ã€‚SpringCloudé›†æˆäº†Ribbonå’ŒEurekaä»¥åŠSpringCloud LoadBalancerï¼Œä»¥åœ¨ä½¿ç”¨Feignæ—¶æä¾›è´Ÿè½½å¹³è¡¡çš„httpå®¢æˆ·ç«¯ã€‚\nFeignæ˜¯ä¸€ä¸ªè¿œç¨‹è°ƒç”¨çš„ç»„ä»¶ï¼ˆæ¥å£ï¼Œæ³¨è§£ï¼‰httpè°ƒç”¨çš„\nFeigné›†æˆäº†Ribbon Ribboné‡Œé¢é›†æˆäº†eureka\nFeignä¸­ymlé…ç½®\n# feignåªæ˜¯å¸®ä½ å°è£…äº†è¿œç¨‹è°ƒç”¨çš„åŠŸèƒ½  åº•å±‚è¿˜æ˜¯ribbon  æ‰€ä»¥æˆ‘ä»¬éœ€è¦å»ä¿®æ”¹ribbonçš„æ—¶é—´ribbon:  ReadTimeout: 3000 # ç»™3sè¶…æ—¶æ—¶é—´  ConnectTimeout: 3000 # é“¾æ¥æœåŠ¡çš„è¶…æ—¶æ—¶é—´\n\n\nFeignè°ƒç”¨å‚æ•°å¤„ç†ï¼ˆå¼€å‘é‡ç‚¹ï¼‰è¯´åœ¨å‰é¢\nFeignä¼ å‚ç¡®ä¿æ¶ˆè´¹è€…å’Œæä¾›è€…çš„å‚æ•°åˆ—è¡¨ä¸€è‡´ åŒ…æ‹¬è¿”å›å€¼ æ–¹æ³•ç­¾åè¦ä¸€è‡´\n1.é€šè¿‡URLä¼ å‚æ•°ï¼ŒGETè¯·æ±‚ï¼Œå‚æ•°åˆ—è¡¨ä½¿ç”¨@PathVariable(â€œâ€)\n2.å¦‚æœGETè¯·æ±‚ ï¼Œæ¯ä¸ªç»§æ‰¿å‚æ•°å¿…é¡»åŠ @RequestParam(â€œâ€)\n3.å¦‚æœæ˜¯POSTè¯·æ±‚ï¼Œè€Œä¸”æ˜¯å¯¹è±¡é›†åˆç­‰å‚æ•°ï¼Œå¿…é¡»åŠ @RequestBodyæˆ–è€…@RequestParam\n\nFeignæ—¥å¿—æ‰“å°\nåœ¨SpringBootå¯åŠ¨ä¸­æ·»åŠ æ‰“å°æ—¥å¿—è¾“å‡ºBean\n@SpringBootApplication@EnableEurekaClient@EnableFeignClients  //å¼€å¯feignçš„å®¢æˆ·ç«¯åŠŸèƒ½ æ‰å¯ä»¥å¸®åŠ©æˆ‘ä»¬å‘èµ·è°ƒç”¨public class Study41Application { public static void main(String[] args) {     SpringApplication.run(Study41Application.class, args); } /**     * æ‰“å°feignæ—¥å¿—ä¿¡æ¯ çº§åˆ«     * @return     */    @Bean    public Logger.Level level(){        return Logger.Level.FULL;    }}\n\nåœ¨yamlæ–‡ä»¶ä¸­é…ç½®ï¼š\nlogging:  level:    com.study4_1.study4_1.feign.UserOrderFeign: debug  #æˆ‘éœ€è¦æ‰“å°è¿™ä¸ªæ¥å£ä¸‹é¢çš„æ—¥å¿—            \nSpring Cloud Hystrixä»€ä¹ˆå«æœåŠ¡é›ªå´©ï¼š\n\nåœ¨ä¸€ä¸ªåˆ†å¸ƒå¼çš„ç³»ç»Ÿä¸­å¦‚æœAæœåŠ¡è¯·æ±‚BæœåŠ¡Bå¯èƒ½è¦è°ƒç”¨CæœåŠ¡ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšé“¾å¼è°ƒç”¨\nABCæ˜¯ä¸‰ä¸ªä¸åŒçš„Tomcatã€‚\n1.ç”¨æˆ·å»è¯·æ±‚AæœåŠ¡ï¼ŒAçš„tomcatä¼šåˆ†é…ä¸€ä¸ªçº¿ç¨‹æ”¯æŒç”¨æˆ·çš„è®¿é—®\nAå‘ç°éœ€è¦å®Œæˆç”¨æˆ·çš„æ“ä½œï¼Œéœ€è¦å»è°ƒç”¨B\n2.Aå»è¯·æ±‚Bï¼ŒBçš„tomcatä¹Ÿä¼šåˆ†é…ä¸€ä¸ªçº¿ç¨‹æ”¯æŒAçš„è®¿é—®ã€‚Bå‘ç°éœ€è¦å®ŒæˆAçš„æ“ä½œéœ€è¦è°ƒç”¨Cã€‚\n3.Bå»è°ƒç”¨Cï¼Œä½†æ˜¯Cå®•æœºäº†ï¼ŒBå¹¶ä¸çŸ¥é“è¿˜æ˜¯ä¸€å¦‚æ—¢å¾€çš„å»è®¿é—®Cã€‚å¯¼è‡´Aå’ŒBçš„çº¿ç¨‹éƒ½æ²¡æœ‰å›æ”¶ï¼Œæ­¤æ—¶æœ‰å¤§é‡è¯·æ±‚è¿›å…¥AæœåŠ¡æˆ–è€…BæœåŠ¡ã€‚ABä¼šæŠ¥é”™503 Service Unavailableã€‚\nåœ¨åˆ†å¸ƒå¼çš„é“¾è·¯ä¸­åªè¦æœ‰ä¸€ä¸ªæœåŠ¡å®•æœºé‚£ä¹ˆå°±å¯èƒ½å¯¼è‡´ä¸€æ•´ä¸ªæœåŠ¡é“¾ç˜«ç—ª\næœåŠ¡é›ªå´©çš„æ ¸å¿ƒæœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ\nçº¿ç¨‹æ²¡æœ‰åŠæ—¶å›æ”¶\nç†”æ–­ï¼Œç†”æ–­ï¼\nç›´æ¥returnï¼Œä¸šåŠ¡æ˜¯ä¸èƒ½å®Œæˆã€‚ä½†æ˜¯å¯ä»¥ç¼“è§£æœåŠ¡å™¨å‹åŠ›\n1.è°ƒæ•´ç­‰å¾…æ—¶é—´è¿™æ ·å¯ä»¥ç¼“è§£å‹åŠ›ï¼Œä½†æ˜¯å¾ˆæœ‰å±€é™æ€§ä¸çµæ´»ï¼Œæœ‰çš„æœåŠ¡å¯èƒ½éœ€è¦å¤šçš„æ—¶é—´å»æ‰§è¡Œ\n2.åœ¨ä¸Šæ¸¸æœåŠ¡ä¸­ç›´åˆ°ä¸‹ä¸€ä¸ªæœåŠ¡çš„çŠ¶æ€å¦‚æœæ˜¯okçš„ å°±æ­£å¸¸è®¿é—®ï¼Œå¦‚æœæ˜¯å®•æœºäº†ï¼Œé‚£ä¹ˆå°±returnã€‚è¿™æ ·å°±å¯ä»¥ç¼“è§£æœåŠ¡é›ªå´©ã€‚\næˆ‘ä»¬å¯ä»¥å®¹å¿æœåŠ¡æŒ‚æ‰ï¼Œæˆ‘ä»¬éœ€è¦åšå¯¹åº”çš„è°ƒæ•´ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªè¢«é€‰æ–¹æ¡ˆï¼ˆå¤‡èƒï¼‰\n\nç†”æ–­å™¨ï¼Œä¹Ÿå«æ–­è·¯å™¨ï¼ï¼ˆæ­£å¸¸æƒ…å†µä¸‹ æ–­è·¯å™¨æ˜¯å…³çš„ åªæœ‰å‡ºäº†é—®é¢˜æ‰æ‰“å¼€ï¼‰ç”¨æ¥ä¿æŠ¤å¾®æœåŠ¡ä¸é›ªå´©çš„æ–¹æ³•ã€‚æ€æƒ³å’Œæˆ‘ä»¬ä¸Šé¢ç”»çš„æ‹¦æˆªå™¨ä¸€æ ·ã€‚\nHystrixæ˜¯Netfixå…¬å¸å¼€æºçš„ä¸€ä¸ªé¡¹ç›®ï¼Œå®ƒæä¾›äº†ç†”æ–­å™¨åŠŸèƒ½ï¼Œèƒ½å¤Ÿé˜»æ­¢åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å‡ºç°è”åŠ¨æ•…éšœã€‚Hystrixæ˜¯é€šè¿‡éš”ç¦»æœåŠ¡çš„è®¿é—®ç‚¹é˜»æ­¢è”åŠ¨æ•…éšœçš„ï¼Œå¹¶æä¾›äº†æ•…éšœçš„è§£å†³æ–¹æ¡ˆï¼Œä»è€Œæé«˜äº†æ•´ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿçš„å¼¹æ€§ã€‚å¾®åš å¼¹æ€§äº‘æ‰©å®¹ Docker K8s\nHystrixå¿«é€Ÿå…¥é—¨è®¾ç½®æ‹¦æˆªå™¨ï¼š\n\nå¦‚ä½•å¼€å¯Hystrixï¼š\n2.0ç‰ˆæœ¬å‰åªè¦å¯¼å…¥Hystrixç„¶ååœ¨ymlç”¨å¦‚ä¸‹é…ç½®å°±è¡Œ\nfeign:  hystrix:    enabled: true\n\nä½†æ˜¯è¶…è¿‡2.0åæ­¤yamlé…ç½®æ”¹ä¸ºäº†ï¼š\nfeign:  circuitbreaker:    enabled: true\n\nç„¶åæ³¨æ„åœ¨SpringBootå¯åŠ¨ç±»ä¸­åŠ å…¥ï¼š\n@EnableHystrixå¯åŠ¨æ³¨è§£\n\n\nHystrixå¸¸ç”¨yamlé…ç½®ï¼šhystrix:\tcommand:  #defaultæ˜¯å…¨å±€æ§åˆ¶ï¼Œä¹Ÿå¯ä»¥æ¢æˆå•ä¸ªæ–¹æ³•æ§åˆ¶ï¼ŒæŠŠdefaultæ¢æˆæ–¹æ³•åå³å¯\t\tcircuitBreaker:\t\t\tenabled: true  #å¼€å¯æ–­è·¯å™¨\t\t\trequestVolumeThreshold: 3 #å¤±è´¥æ¬¡æ•°(é˜ˆå€¼) 10æ¬¡\t\t\tsleepWindowInMilliseconds: 20000 #çª—å£æ—¶é—´\t\t\terrorThesholdPerventage: 60 #å¤±è´¥ç‡\t\texecution:\t\t\tisolation:\t\t\t\tStrategy: thread #éš”ç¦»æ–¹å¼threadçº¿ç¨‹éš”ç¦»é›†åˆ å’ŒSEMAPHOREä¿¡å·é‡éš”ç¦»çº§åˆ«\t\t\t\tthread:\t\t\t\t\ttimeoutInMilliseconds: 3000 #è°ƒç”¨è¶…æ—¶æ—¶é•¿\t\tfallback:\t\t\tisolation:\t\t\t\tsemaphore:\t\t\t\t\tmaxConcurrentRequests: 1000 #ä¿¡å·é‡éš”ç¦»çº§åˆ«æœ€å¤§å¹¶å‘æ•°ribbon:\tReadTiemout: 5000 #è¦ç»“åˆfeignçš„åº•å±‚ribbonè°ƒç”¨çš„æ—¶é•¿\tConnectTimeout: 5000\t#éš”ç¦»æ–¹æ³• ä¸¤ç§éš”ç¦»æ–¹å¼ threadçº¿ç¨‹æ±  æŒ‰ç…§group(10ä¸ªçº¿ç¨‹)åˆ’åˆ†æœåŠ¡æä¾›è€…ï¼Œç”¨æˆ·è¯·æ±‚çš„çº¿ç¨‹å’Œåšè¿œç¨‹çš„çº¿ç¨‹ä¸ä¸€æ ·#å¥½å¤„ å½“BæœåŠ¡è°ƒç”¨å¤±è´¥äº† æˆ–è€…è¯·æ±‚BæœåŠ¡çš„é‡å¤ªå¤§äº† ä¸ä¼šå¯¹CæœåŠ¡é€ æˆå½±å“ ç”¨æˆ·è®¿é—®æ¯”è¾ƒå¤§çš„æƒ…å†µä¸‹ä½¿ç”¨æ¯”è¾ƒå¥½ å¼‚æ­¥çš„æ–¹å¼# ç¼ºç‚¹ çº¿ç¨‹é—´å¼€é”€å¤§ï¼Œå¯¹æœºå™¨æ€§èƒ½å½±å“# åº”ç”¨åœºæ™¯ è°ƒç”¨ç¬¬ä¸‰æ–¹æœåŠ¡ å¹¶å‘é‡å¤§çš„æƒ…å†µä¸‹# SEMAPHORE ä¿¡å·é‡éš”ç¦» æ¯æ¬¡è¯·æ±‚è¿›æ¥ æœ‰ä¸€ä¸ªåŸå­è®¡æ•°å™¨ åšè¯·æ±‚æ¬¡æ•°çš„++ å½“è¯·æ±‚å®Œæˆä»¥å --\n\nhystrixæœ¬è´¨æ˜¯ä»£ç†çš„feignçš„è¯·æ±‚æ‰èƒ½å®Œæˆç†”æ–­çš„æ•ˆæœ\né“¾è·¯è¿½è¸ªçš„ç”±æ¥\nåœ¨å¾®æœåŠ¡æ¡†æ¶ä¸­ï¼Œä¸€ä¸ªç”±å®¢æˆ·ç«¯å‘èµ·çš„è¯·æ±‚åœ¨åç«¯ç³»ç»Ÿä¸­ä¼šç»è¿‡å¤šä¸ªä¸åŒçš„æœåŠ¡èŠ‚ç‚¹è°ƒç”¨æ¥ååŒç”Ÿäº§æœ€åçš„è¯·æ±‚ç»“æœï¼Œæ¯ä¸€ä¸ªè¯·æ±‚éƒ½ä¼šå¼€æˆä¸€æ¡å¤æ‚çš„åˆ†å¸ƒå¼æœåŠ¡è°ƒç”¨é“¾è·¯ï¼Œé“¾è·¯ä¸­çš„ä»»ä½•ä¸€ç¯å‡ºç°é«˜å»¶æ—¶æˆ–é”™è¯¯éƒ½ä¼šå¼•å¯¼èµ·æ•´ä¸ªè¯·æ±‚æœ€åçš„å¤±è´¥ã€‚ï¼ˆä¸å»ºè®®å¾®æœåŠ¡ä¸­é“¾è·¯è°ƒç”¨è¶…è¿‡3æ¬¡ï¼‰\n\nåˆ†å¸ƒå¼é“¾è·¯è°ƒç”¨çš„ç›‘æ§\nsleuth+zipkin(zipkinå°±æ˜¯ä¸€ä¸ªå¯è§†åŒ–çš„ç›‘æ§æ§åˆ¶å°)\nZipkinæ˜¯Twitterçš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå…è®¸å¼€å‘è€…æ”¶é›†Twitterå„ä¸ªæœåŠ¡ä¸Šçš„ç›‘æ§æ•°æ®ï¼Œå¹¶æä¾›æŸ¥è¯¢æ¥å£ã€‚\nè¯¥ç³»ç»Ÿè®©å¼€å‘è€…å¯é€šè¿‡ä¸€ä¸ªWebå‰ç«¯è½»æ¾çš„æ”¶é›†å’Œåˆ†ææ•°æ®ï¼Œä¾‹å¦‚ç”¨æˆ·æ¯æ¬¡è¯·æ±‚æœåŠ¡çš„å¤„ç†æ—¶é—´ç­‰ å¯æ–¹ä¾¿çš„ç›‘æµ‹ç³»ç»Ÿä¸­å­˜åœ¨çš„ç“¶é¢ˆ\n\nZipkin(å¯è§†åŒ–å¹³å°)\nSpringCloudä»Fç‰ˆä»¥åå·²ç»ä¸éœ€è¦è‡ªå·±æ„å»ºZipkon serveräº†ï¼Œåªéœ€è¦è°ƒç”¨jaråŒ…å³å¯\nhttps://dl.bintray.com/openzipkin/maven/io/zipkin/java/zipkon-server/\nhttps://dl.bintray.com/openzipkin/maven/io/zipkin/java/zipkon-server/2.12.9/\n\n\nSleuthå¿«é€Ÿå…¥é—¨eureka-server\nconsumer-user-service\nprovider-order-service\n1.æ·»åŠ ä¾èµ–consumer-user-serviceå’Œprovider-order-serviceéƒ½è¦åŠ \n&lt;dependency&gt;    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;    &lt;artifactId&gt;spring-cloud-starter-zipkin&lt;/artifactId&gt;&lt;/dependency&gt;\n\n2.ä¿®æ”¹é…ç½®æ–‡ä»¶consumer-user-serviceå’Œprovider-order-serviceéƒ½è¦è¯¥é…ç½®æ–‡ä»¶\nspring:\tzipkin:\t\tbase-url: http://localhost:9411\tsleuth:\t\tsampler:\t\t\tprobability: 1  #é…ç½®é‡‡æ ·ç‡ é»˜è®¤çš„é‡‡æ ·æ¯”ä¾‹ä¸ºï¼š0.1 å³10%ï¼Œæ‰€è®¾ç½®çš„å€¼ä»‹äº0åˆ°1ä¹‹é—´ï¼Œ1åˆ™è¡¨ç¤ºå…¨éƒ¨é‡‡é›†\t\t\trate: 10 #ä¸ºäº†ä½¿ç”¨é€Ÿç‡é™åˆ¶é‡‡æ ·å™¨ï¼Œé€‰æ‹©æ¯ç§’é—´éš”æ¥å—çš„ traceé‡ï¼Œæœ€å°æ•°å­—ä¸º0ï¼Œæœ€å¤§å€¼ä¸º2,147,483,647ï¼ˆintï¼‰é»˜è®¤ä¸º10ã€‚\n\n\n\n\n\nAdminç›‘æ§\nå¯¼åŒ…ä¹‹åè®°å¾—åœ¨SpringBootå¯åŠ¨ä¸Šé¢åŠ ä¸Šæ³¨è§£ï¼š\n@EnableAdminServer//è¦é…åˆEnableEurekaClientä½¿ç”¨ï¼Œå› ä¸ºè¦EnableClientæ‹‰å–EnableServer(æ³¨å†Œç«¯)çš„æœåŠ¡åˆ—è¡¨\n\nç›‘æ§ç«¯éœ€è¦åŠ å…¥çš„ä¾èµ–ï¼š\n\n&lt;dependency&gt;    &lt;groupId&gt;de.codecentric&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-admin-starter-server&lt;/artifactId&gt;&lt;/dependency&gt;\nç›‘æ§ç«¯å¦‚æœæƒ³ç›‘æ§è‡ªå·±å®é™…è¯¦ç»†å†…å®¹ymlé…ç½®\n\nmanagement:  endpoints:    web:      exposure:        include: '*'   #æš´éœ²æ‰€æœ‰çš„ç›‘æ§ç«¯ç‚¹ï¼ˆå°±æ˜¯æš´éœ²Adminçš„æ‰€æœ‰è¯¦ç»†çš„å†…å®¹ï¼‰ï¼Œå¦‚æœä¸€ä¸ªæœåŠ¡éœ€è¦è¢«å°†ç©º é‚£ä¹ˆå°±è¦å°†è‡ªèº«çš„ä¸€äº›æƒ…å†µï¼ˆä¸€äº›ä¿¡æ¯æ¥å£ï¼‰æš´éœ²å‡ºå»\n\n\nè¢«ç›‘æ§ç«¯éœ€è¦åŠ å…¥actuatorä¾èµ–ï¼ˆä¸åŠ çš„ç›‘æ§ç«¯ç‚¹æ˜¾ç¤ºç¦»çº¿ç›‘æ§ï¼Œä½†æ˜¯èƒ½çŸ¥é“ç«¯ç‚¹å­˜æ´»ï¼‰ï¼š\n\n&lt;!--        æš´éœ²è‡ªèº«æ£€æŸ¥ç«¯ç‚¹ endpoints--&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;        &lt;/dependency&gt;\næƒ³è¦è¢«ç›‘æ§ç«¯å±•ç¤ºå®é™…è¯¦ç»†å†…å®¹ymlé…ç½®ï¼š\n\nmanagement:  endpoints:    web:      exposure:        include: '*'   #æš´éœ²æ‰€æœ‰çš„ç›‘æ§ç«¯ç‚¹ï¼ˆå°±æ˜¯æš´éœ²Adminçš„æ‰€æœ‰è¯¦ç»†çš„å†…å®¹ï¼‰ï¼Œå¦‚æœä¸€ä¸ªæœåŠ¡éœ€è¦è¢«å°†ç©º é‚£ä¹ˆå°±è¦å°†è‡ªèº«çš„ä¸€äº›æƒ…å†µï¼ˆä¸€äº›ä¿¡æ¯æ¥å£ï¼‰æš´éœ²å‡ºå»\n\n\nSpring Cloud Gateway(ç½‘å…³)\nå…ˆè¯´ä»€ä¹ˆæ˜¯æµ·å…³ï¼Ÿ\nä½ å‡ºå›½æˆ–è€…å›å›½éƒ½å¾—ç»è¿‡æµ·å…³æ‰èƒ½è¿›å‡ºè‡ªå·±çš„å›½å®¶å¦åˆ™ä¸å‡†ï¼Œç½‘å…³ä¹Ÿæ˜¯è¿™ä¸ªæ„æ€ã€‚\n\nç½‘å…³å¯ä»¥æ‰¿æ‹…çš„ä½œç”¨ï¼š \n1.è·¯ç”±è½¬å‘\n2.å®‰å…¨æ§åˆ¶ ä¿æŠ¤æ¯ä¸ªæœåŠ¡ ä¸éœ€è¦å°†æ¯ä¸ªæœåŠ¡æš´éœ²å‡ºå»\n3.è´Ÿè½½å‡è¡¡\nä»€ä¹ˆæ˜¯ç½‘å…³ç½‘å…³æ˜¯å¾®æœåŠ¡æœ€è¾¹ç¼˜çš„æœåŠ¡ï¼Œç›´æ¥æš´éœ²ç»™ç”¨æˆ·ï¼Œç”¨æ¥åšç”¨æˆ·å’Œå¾®æœåŠ¡çš„æ¡¥æ¢\n1.æ²¡æœ‰ç½‘å…³ï¼šå®¢æˆ·ç«¯ç›´æ¥è®¿é—®æˆ‘ä»¬çš„å¾®æœåŠ¡ï¼Œä¼šéœ€è¦åœ¨å®¢æˆ·ç«¯é…ç½®å¾ˆå¤šçš„ipï¼športï¼Œå¦‚æœuser-servieå¹¶å‘æ¯”è¾ƒå¤§ï¼Œåˆ™æ— æ³•å®Œæˆè´Ÿè½½å‡è¡¡\n2.æœ‰ç½‘å…³ï¼šå®¢æˆ·è®¿é—®ç½‘å…³ï¼Œç½‘å…³æ¥è®¿é—®å¾®æœåŠ¡ï¼Œï¼ˆç½‘å…³å¯ä»¥å’Œæ³¨å†Œä¸­å¿ƒæ•´åˆï¼Œé€šè¿‡æœåŠ¡åç§°æ‰¾åˆ°ç›®æ ‡çš„ipï¼športï¼‰è¿™æ ·åªéœ€è¦ä½¿ç”¨æœåŠ¡åç§°å³å¯è®¿é—®å¾®æœåŠ¡ï¼Œå¯ä»¥å®ç°è´Ÿè½½å‡è¡¡ ï¼Œå¯ä»¥å®ç°tokenæ‹¦æˆªï¼Œæƒé™éªŒè¯ï¼Œé™æµç­‰æ“ä½œ\nä½ ä»¬é¡¹ç›®é‡Œé¢ ç”¨çš„ä»€ä¹ˆç½‘å…³ï¼Ÿ gateway(SpringCloudå®˜æ–¹ç½‘å…³)  zuulä»–æ˜¯Spring Cloudå®˜æ–¹æä¾›çš„ç”¨æ¥å–ä»£zuul(netflix)çš„æ–°ä¸€ä»£ç½‘å…³ç»„ä»¶\nï¼ˆzuulï¼š1.0ï¼Œ,2.0ï¼Œzuulçš„æœ¬è´¨ï¼Œä¸€ç»„è¿‡æ»¤å™¨ï¼Œæ ¹æ®è‡ªå®šä¹‰çš„è¿‡æ»¤å™¨ï¼Œæ ¹æ®è‡ªå®šä¹‰çš„è¿‡æ»¤å™¨é¡ºåºæ¥æ‰§è¡Œï¼Œæœ¬è´¨å°±æ˜¯webç»„ä»¶ webä¸‰å¤§ç»„ä»¶ï¼ˆç›‘å¬å™¨ è¿‡æ»¤å™¨ servletï¼‰  æ‹¦æˆª springmvcï¼‰\nZuul1.0  ä½¿ç”¨çš„æ˜¯BIOï¼ˆBlocking  IOï¼‰ tomcat7.0ä»¥å‰éƒ½æ˜¯BIOæ€§èƒ½ä¸€èˆ¬\nZuul12.0 æ€§èƒ½å¥½NIO\nAIO  å¼‚æ­¥éé˜»å¡io  a+nio = aio = async + no blocking  io\nGatewayçš„æ ¸å¿ƒæ˜¯è¿‡æ»¤å™¨ï¼ŒæŒ‰ç…§å…ˆåæ‰§è¡Œé¡ºåºæ¥æ‰§è¡Œè¿‡æ»¤æ“ä½œ order 0 1 2\nwebä¸‰å¤§ç»„ä»¶servlet\nlistener\nfilterè¿‡æ»¤å™¨ï¼ˆå•¥éƒ½æ‹¦æˆª ï¼‰\ninterceptor æ‹¦æˆªå™¨ ä»–æ˜¯springmvcçš„ï¼Œä¸»è¦æ‹¦æˆªè¿›å…¥controllerçš„è¯·æ±‚çš„\næ€»ç»“ï¼šGatewayçš„æ ¸å¿ƒé€»è¾‘ä¹Ÿå°±æ˜¯  è·¯ç”±è½¬å‘+æ‰§è¡Œè¿‡æ»¤å™¨é“¾\nSpring Cloud Gatewayä¸‰å¤§æ ¸å¿ƒæ¦‚å¿µRouteï¼ˆè·¯ç”±ï¼‰ï¼ˆé‡ç‚¹  å’Œ eurekaç»“åˆåšåŠ¨æ€è·¯ç”±ï¼‰è·¯ç”±ä¿¡æ¯çš„ç»„æˆï¼š\nç”±ä¸€ä¸ªIDã€ä¸€ä¸ªç›®çš„URLã€ä¸€ç»„æ–­è¨€å·¥å‚ã€ä¸€ç»„Filterç»„æˆã€\nå¦‚æœè·¯ç”±æ–­è¨€ä¸ºçœŸï¼Œè¯´æ˜è¯·æ±‚URLå’Œé…ç½®è·¯ç”±åŒ¹é…ã€‚\nPredicateï¼ˆæ–­è¨€ï¼‰ï¼ˆå°±æ˜¯ä¸€ä¸ªè¿”å›boolçš„è¡¨è¾¾å¼ï¼‰Java8ä¸­çš„æ–­è¨€å‡½æ•°ã€‚lambdaå››å¤§æ¥å£ ä¾›ç»™å‹ï¼Œæ¶ˆè´¹å‹ï¼Œå‡½æ•°å‹ï¼Œæ–­è¨€å‹\nSpring Cloud Gateway ä¸­çš„æ–­è¨€å‡½æ•°è¾“å…¥ç±»å‹æ˜¯Spring5.0æ¡†æ¶ä¸­çš„SererWebExchangeã€‚Spring Cloud Gatewayçš„æ–­è¨€å‡½æ•°å…è®¸å¼€å‘è€…å»å®šä¹‰åŒ¹é…æ¥è‡ªäºHttp Requestä¸­çš„ä»»ä½•ä¿¡æ¯æ¯”å¦‚è¯·æ±‚å¤´ å’Œå‚æ•°ã€‚\nFilterï¼ˆè¿‡æ»¤ï¼‰ï¼ˆé‡ç‚¹ï¼‰ä¸€ä¸ªæ ‡å‡†çš„Spring WebFilterã€‚ webä¸‰å¤§ç»„ä»¶ï¼ˆservler listener filterï¼‰mvc interceptor\nSpring Cloud Gateway ä¸­çš„Filteråˆ†ä¸ºä¸¤ç§ç±»å‹çš„Filterï¼Œåˆ†åˆ«æ˜¯Gareway Filterå’ŒGlobal Filterã€‚è¿‡æ»¤å™¨Filterå°†ä¼šå¯¹è¯·æ±‚å’Œç›¸åº”è¿›è¡Œä¿®æ”¹å¤„ç†ã€‚\nä¸€ä¸ªæ˜¯é’ˆå¯¹æŸä¸€ä¸ªè·¯ç”±çš„filter  å¯¹æŸä¸€ä¸ªæ¥å£åšé™æµ\nä¸€ä¸ªæ˜¯é’ˆå¯¹å…¨å±€filter    token   ipé»‘åå•\nGatewayå¿«é€Ÿå…¥é—¨1.ä¸ç”¨é€‰æ‹©SpringWebï¼ŒGarewayç”¨çš„è‡ªå¸¦çš„Nettyï¼ï¼ï¼ï¼ï¼ˆåªè¦åŠ å…¥garewayä¾èµ–å°±è¡Œï¼Œå…¶ä»–éƒ½ä¸ç”¨åŠ ï¼‰ï¼ï¼ï¼ï¼ï¼ï¼\né…ç½®ç½‘å…³åªè¦åœ¨application.ymlæˆ–è€…propertiesé‡Œé¢è®¾ç½®å°±è¡Œ\nGatewayç½‘å…³ymlé…ç½®æ–‡ä»¶æ–¹å¼é…ç½®è·¯ç”±cloud:  gateway:    enabled: true   # åªè¦åŠ äº†ä¾èµ–  é»˜è®¤å¼€å¯    routes:      - id: login-service-route  #  è¿™ä¸ªæ˜¯è·¯ç”±çš„id ä¿æŒå”¯ä¸€å³å¯        uri: http://localhost:8081  # uriç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦  urlç»Ÿä¸€èµ„æºå®šä½ç¬¦        predicates:          - Path=/doLogin  #  åŒ¹é…è§„åˆ™  åªè¦ä½ åŒ¹é…ä¸Šäº†/doLogin å°±å¾€uriè½¬å‘ å¹¶ä¸”å°†è·¯å¾„å¸¦ä¸Š\t\t  #- Path=/doLogin/**  \n\nGatewayç½‘å…³ä»£ç æ–¹å¼é…ç½®è·¯ç”±@Configurationpublic class RouteConfig {    @Bean    public RouteLocator customRouteLocator(RouteLocatorBuilder builder){        return builder.routes()                .route(\"login_service\",r-&gt; r.path(\"/guochuang\").uri(\"http://www.bilibili.com/\"))                .build();    }}\n\nymlé…ç½®æ–‡ä»¶æ–¹å¼ä¸javaä»£ç é…ç½®æ–¹å¼ä¸å†²çªï¼Œä¸¤è€…å¯ä»¥ä¸€èµ·ç”¨\nå¦‚æœä½ çš„uriåé¢ç»™äº†ä¸€ä¸ªè®¿é—®åœ°å€  å’ŒåŒ¹é…åœ°å€ç›¸åŒ  é‚£ä¹ˆå°±ä¸ä¼šå†æ‹¼æ¥ \nåŠ¨æ€è·¯ç”±\nåŠ¨æ€è·¯ç”±éœ€è¦ç»“åˆæ³¨å†Œå‘ç°ä¸­å¿ƒï¼ˆEurekaï¼‰\n\nåŠ¨æ€è·¯ç”±å…ˆè¦åœ¨Gatewayä¸­ä½¿ç”¨EurekaClientæ‹‰å–EurekaServerçš„æœåŠ¡æ³¨å†Œè¡¨ï¼Œç„¶åä»¥åè®¿é—®å°±å¯ä»¥ä½¿ç”¨http://â€¦/[æœåŠ¡åç§°]/urlç¡®åˆ‡æ‹¼æ¥è·¯å¾„å\ncloud:  gateway:    enabled: true   # åªè¦åŠ äº†ä¾èµ–  é»˜è®¤å¼€å¯    discovery:      locator:        enabled: true  # å¼€å¯åŠ¨æ€è·¯ç”± å¼€å¯é€šç”¨åº”ç”¨åç§° æ‰¾åˆ°æœåŠ¡çš„åŠŸèƒ½        lower-case-service-id: true #å¼€å¯æœåŠ¡åç§°å°å†™\n\nç¬¬äºŒç§åŠ¨æ€è·¯ç”±å†™æ³•æ–¹å¼ï¼ˆæ¨èè¿™ç§ï¼Œè¿™ç§ä¸éœ€è¦åœ¨è®¿é—®è·¯å¾„åŠ æœåŠ¡åç§°å°±å¯ä»¥ç›´æ¥è®¿é—®ï¼‰cloud:  gateway:    enabled: true   # åªè¦åŠ äº†ä¾èµ–  é»˜è®¤å¼€å¯    routes:      - id: login-service-route  #  è¿™ä¸ªæ˜¯è·¯ç”±çš„id ä¿æŒå”¯ä¸€å³å¯        #uri: http://localhost:8081  # uriç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦  urlç»Ÿä¸€èµ„æºå®šä½ç¬¦        uri: lb://login-service        predicates:          - Path=/doLogin  #  åŒ¹é…è§„åˆ™  åªè¦ä½ åŒ¹é…ä¸Šäº†/doLogin å°±å¾€uriè½¬å‘ å¹¶ä¸”å°†è·¯å¾„å¸¦ä¸Š\t\t  #- Path=/doLogin/**  \n\n\n\n\n\nPredicate æ–­è¨€å·¥å‚çš„ä½¿ç”¨ã€äº†è§£ã€‘åœ¨gatewayå¯åŠ¨æ—¶ä¼šå»åŠ è½½ä¸€äº›è·¯ç”±æ–­è¨€å·¥å‚ï¼ˆåˆ¤æ–­ä¸€å¥è¯æ˜¯å¦æ­£ç¡® ä¸€ä¸ªbooleanè¡¨è¾¾å¼ï¼‰\næ–­è¨€æ˜¯ç»™æŸä¸€ä¸ªè·¯ç”±æ¥è®¾å®šçš„ï¼Œæ¯”å¦‚ï¼š\ncloud:  gateway:    enabled: true   # åªè¦åŠ äº†ä¾èµ–  é»˜è®¤å¼€å¯    routes:      - id: login-service-route  #  è¿™ä¸ªæ˜¯è·¯ç”±çš„id ä¿æŒå”¯ä¸€å³å¯        #uri: http://localhost:8081  # uriç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦  urlç»Ÿä¸€èµ„æºå®šä½ç¬¦        uri: lb://login-service        predicates:          - Path=/doLogin  #  åŒ¹é…è§„åˆ™  åªè¦ä½ åŒ¹é…ä¸Šäº†/doLogin å°±å¾€uriè½¬å‘ å¹¶ä¸”å°†è·¯å¾„å¸¦ä¸Š\t\t  #- Path=/doLogin/**            - After=2022-03-22T09:42:59.521+08:00[Asua/Shanghai] #è®¾å®šè¿™ä¸ªæ¡ä»¶ï¼Œå°±æ˜¯è¯´è¿™ä¸ªæ—¶é—´ä¹‹åæ‰å¯ä»¥è®¿é—®è¿™ä¸ªè·¯ç”±ï¼Œè¿™å°±æ˜¯æ–­è¨€çš„ä¸€ç§ä½“ç°\n\nèƒ½å¤Ÿæ·»åŠ æ–­è¨€æ¡ä»¶çš„æœ‰è¿™äº›\næ¯”å¦‚ï¼š\n\né»˜è®¤ä¸èƒ½ä½œç”¨åœ¨åŠ¨æ€è·¯ç”±ä¸Š\nFilterè¿‡æ»¤å™¨å·¥å‚ï¼ˆé‡ç‚¹ï¼‰\næ¦‚è¿°gatewayé‡Œé¢çš„è¿‡æ»¤å™¨å’ŒServleté‡Œé¢çš„è¿‡æ»¤å™¨ï¼ŒåŠŸèƒ½å·®ä¸å¤šï¼Œè·¯ç”±è¿‡æ»¤å™¨å¯ä»¥ç”¨äºä¿®æ”¹è¿›å…¥Httpè¯·æ±‚çš„è¿”å›Httpå“åº”\n\nåˆ†ç±»æŒ‰ç”Ÿå‘½å‘¨æœŸåˆ†ä¸¤ç§pre  åœ¨ä¸šåŠ¡é€»è¾‘ä¹‹å‰\npost  åœ¨ä¸šåŠ¡é€»è¾‘ä¹‹å\næŒ‰ç§ç±»åˆ†ä¹Ÿæ˜¯ä¸¤ç§GatewayFilter  éœ€è¦é…ç½®æŸä¸ªè·¯ç”±ï¼Œæ‰èƒ½è¿‡æ»¤ã€‚å¦‚æœéœ€è¦ä½¿ç”¨å…¨å±€è·¯ç”±ï¼Œéœ€è¦é…ç½®Default Filtersã€‚\nå¯ä»¥è®°å½•æ¥å£çš„è®¿é—®æ¬¡æ•°ï¼Œé™æµæ“ä½œ\nGlobalFilter  å…¨å±€è¿‡æ»¤å™¨ï¼Œä¸éœ€è¦é…ç½®è·¯ç”±ï¼Œç³»ç»Ÿåˆå§‹åŒ–ä½œç”¨åˆ°æ‰€æœ‰è·¯ç”±ä¸Š\nå…¨å±€è¿‡æ»¤å™¨  ç»Ÿè®¡è¯·æ±‚æ¬¡æ•°  é™æµ  tokençš„æ ¡éªŒ  ipé»‘åå•æ‹¦æˆª   è·¨åŸŸæœ¬è´¨ï¼ˆfilterï¼‰\n144  å¼€å¤´çš„ç”µè¯  é™åˆ¶ä¸€äº›ipçš„è®¿é—®\nGlobalFilterè¿‡æ»¤å™¨ä½¿ç”¨ï¼š\n/** * å®šä¹‰äº†ä¸€ä¸ªè¿‡æ»¤å™¨ * å¦‚æœæœ‰å¤šä¸ªè¿‡æ»¤å™¨é‚£ä¹ˆæˆ‘ä»¬è¿˜è¦å®šä¹‰é¡ºåºï¼Œ */@Componentpublic class MyGlobalFilter implements GlobalFilter, Ordered {    /**     * è¿™ä¸ªå°±æ˜¯è¿‡æ»¤çš„æ–¹æ³•     * è´£ä»»é“¾æ¨¡å¼     * ç½‘å…³é‡Œé¢æœ‰ä½¿ç”¨   mybatisçš„ äºŒçº§ç¼“å­˜å˜ç§è´£ä»»é“¾æ¨¡å¼     * @param exchange     * @param chain     * @return     */    @Override    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {        //é’ˆå¯¹ è¯·æ±‚çš„è¿‡æ»¤ æ‹¿åˆ°è¯·æ±‚  header  url   å‚æ•°   ......         ServerHttpRequest request = exchange.getRequest();         // HttpServletRequest   è¿™ä¸ªæ˜¯webé‡Œé¢çš„        //ServerHttpRequest  webFluxé‡Œé¢ å“åº”å¼é‡Œé¢çš„         String path = request.getURI().getPath();        System.out.println(path);        HttpHeaders headers = request.getHeaders();        System.out.println(headers);        String methodName = request.getMethod().name();        System.out.println(methodName);        String hostName = request.getRemoteAddress().getHostName();        String ipv4 = request.getHeaders().getHost().getHostString();        System.out.println(hostName);        //å“åº”ç›¸å…³çš„æ•°æ®        ServerHttpResponse response = exchange.getResponse();        //ç”¨äº†å¾®æœåŠ¡ è‚¯å®šæ˜¯å‰åç«¯åˆ†ç¦»çš„  å‰åç«¯åˆ†ç¦»  ä¸€èˆ¬å‰åé€šè¿‡json        //{\"code\":200,\"msg\":\"ok\"}        // è®¾ç½®ç¼–ç   å“åº”å¤´é‡Œé¢ç½®        response.getHeaders().set(\"content-type\",\"application/json;charset=utf-8\");        // ç»„è£…ä¸šåŠ¡è¿”å›å€¼        HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;(4);        map.put(\"code\", HttpStatus.UNAUTHORIZED.value());        map.put(\"msg\",\"ä½ æœªæˆæƒ\");        ObjectMapper objectMapper = new ObjectMapper();        //æŠŠä¸€ä¸ªmapè½¬æˆyigeå­—èŠ‚        byte[] bytes = new byte[0];        try {            bytes = objectMapper.writeValueAsBytes(map);        } catch (JsonProcessingException e) {            e.printStackTrace();        }        //é€šè¿‡bufferå·¥å‚å°†å­—èŠ‚æ•°ç»„åŒ…è£…æˆä¸€ä¸ªæ•°æ®åŒ…        DataBuffer wrap = response.bufferFactory().wrap(bytes);        return response.writeWith(Mono.just(wrap));        //æ”¾è¡Œ  åˆ°ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨äº†        //return chain.filter(exchange);    }    /**     * æŒ‡å®šé¡ºåº çš„æ–¹æ³•     * è¶Šå°è¶Šå…ˆæ‰§è¡Œ     * @return     */    @Override    public int getOrder() {        return 0;    }}\n\nIPåœ°å€è®¿é—®è¿‡æ»¤å™¨å®ä¾‹ï¼š/** * ç½‘å…³é‡Œé¢ è¿‡æ»¤å™¨ * ipæ‹¦æˆª * è¯·æ±‚éƒ½æœ‰ä¸€ä¸ªæºå¤´ * ç”µè¯ 144  027  010 * è¯·æ±‚-------&gt;gateway------&gt;service * é»‘åå• black_list * ç™½åå• * æ ¹æ®æ•°é‡ * åƒä¸šåŠ¡çš„æœåŠ¡  ä¸€èˆ¬é»‘åå• * ä¸€èˆ¬åƒæ•°æ®åº“ ç”¨ç™½åå• */@Componentpublic class IPCheckFilter implements GlobalFilter, Ordered {    /**     * ç½‘å…³çš„å¹¶å‘æ¯”è¾ƒé«˜  ä¸è¦åœ¨ç½‘å…³é‡Œé¢ç›´æ¥æ“ä½œmysql     * åå°ç³»ç»Ÿå¯ä»¥æŸ¥è¯¢æ•°æ®åº“  ç”¨æˆ·é‡  å¹¶å‘é‡ä¸å¤§     * å¦‚æœå¹¶å‘é‡å¤§  å¯ä»¥æŸ¥redis æˆ–è€…  åœ¨å†…å­˜ä¸­å†™å¥½     *     */    public static final List&lt;String&gt; BLACK_LIST = Arrays.asList(\"127.0.0.1\",\"144.128.232.147\");    /**     * æ‹¿åˆ°ip     * 2.æ ¡éªŒipæ˜¯å¦å’Œæœè§„èŒƒ     * 3.æ”¾è¡Œ/æ‹¦æˆª     *     * @param exchange     * @param chain     * @return     */    @Override    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {        ServerHttpRequest request = exchange.getRequest();        String ip = request.getHeaders().getHost().getHostString();        //æŸ¥è¯¢æ•°æ®åº“   çœ‹è¿™ä¸ªipæ˜¯å¦å­˜åœ¨é»‘åå•é‡Œé¢   mysqlç­‰æ•°æ®åº“çš„å¹¶å‘        // åªè¦æ˜¯èƒ½å­˜å‚¨æ•°æ®åœ°æ–¹éƒ½å«æ•°æ®åº“  redis   mysql        if(!BLACK_LIST.contains(ip)){            return chain.filter(exchange);        }        //æ‹¦æˆª        ServerHttpResponse response = exchange.getResponse();        response.getHeaders().set(\"content-type\",\"application/json;charset=utf-8\");        HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;(4);        map.put(\"code\", 438);        map.put(\"msg\",\"ä½ æ˜¯é»‘åå•\");        ObjectMapper objectMapper = new ObjectMapper();        byte[] bytes = new byte[0];        try {            bytes = objectMapper.writeValueAsBytes(map);        } catch (JsonProcessingException e) {            e.printStackTrace();        }        DataBuffer wrap = response.bufferFactory().wrap(bytes);        return response.writeWith(Mono.just(wrap));    }    @Override    public int getOrder() {        return -5;    }}\n\nå› ä¸ºHttpæ˜¯æ— çŠ¶æ€çš„ï¼Œæ‰€ä»¥å¦‚æœè¦åˆ†å¸ƒå¼å¾®æœåŠ¡åˆ™éœ€è¦å»ºç«‹tokenã€‚\nç”¨æˆ·ç™»å½•tokenæ³¨å†Œä¾‹å­ï¼š\n@RestControllerpublic class LoginController {    @Autowired    public StringRedisTemplate redisTemplate;        @GetMapping(\"doLogin\")    public String doLogin(String name, String pwd){        System.out.println(name);        System.out.println(pwd);        //è¿™é‡Œå‡è®¾å»åšäº†ç™»å½•        User user = new User(1, name, pwd, 18);        //token        String token = UUID.randomUUID().toString();        //å­˜èµ·æ¥        redisTemplate.opsForValue().set(token,user.toString(),Duration.ofSeconds(7200))        return token;    }}\n\nä¸€èˆ¬æ”¾åœ¨è¯·æ±‚å¤´é‡Œé¢  ä¸€èˆ¬key  Authorization        value  bearer token\nTokenæ‹¦æˆªï¼ˆTokenä¿å­˜åœ¨Redisé‡Œé¢ï¼‰ï¼š\npublic class TokenCheckFilter implements GlobalFilter, Ordered {    /**     * æŒ‡å®šå¥½æ”¾è¡Œçš„è·¯å¾„     */    public static final List&lt;String&gt; ALLOW_URL = Arrays.asList(\"/login-service/doLogin\",\"/myUrl\");    @Autowired    private StringRedisTemplate redisTemplate;    /**     * å‰ææ˜¯ï¼Ÿ å’Œå‰ç«¯çº¦å®šå¥½  ä¸€èˆ¬æ”¾åœ¨è¯·æ±‚å¤´é‡Œé¢  ä¸€èˆ¬key   Authorization   value  beare token     * 1.æ‹¿åˆ°è¯·æ±‚url     * 2.åˆ¤æ–­æ”¾è¡Œ     * 3.æ‹¿åˆ°è¯·æ±‚å¤´     * 4.æ‹¿åˆ°token     * 5.æ ¡éªŒ     * 6.æ”¾è¡Œ/æ‹¦æˆª     *     * @param exchange     * @param chain     * @return     */    @Override    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {        ServerHttpRequest request = exchange.getRequest();        String path = request.getURI().getPath();        if(!ALLOW_URL.contains(path)){            return chain.filter(exchange);        }        // æ£€æŸ¥        HttpHeaders headers = request.getHeaders();        List&lt;String&gt; authorization = headers.get(\"Authorization\");        if(!CollectionUtils.isEmpty(authorization)){            String token = authorization.get(0);            if(StringUtils.hasText(token)){                //  çº¦å®šå¥½çš„æœ‰å‰ç¼€çš„  bearer token                String realToken = token.replaceFirst(\"bearer\", \"\");                if(StringUtils.hasText(realToken)&amp;&amp;redisTemplate.hasKey(token)){                    return chain.filter(exchange);                }            }        }        //æ‹¦æˆª        ServerHttpResponse response = exchange.getResponse();        response.getHeaders().set(\"content-type\",\"application/json;charset=utf-8\");        HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();        //è¿”å›401        map.put(\"code\", HttpStatus.UNAUTHORIZED.value());        map.put(\"msg\",\"æœªæˆæƒ\");        ObjectMapper objectMapper = new ObjectMapper();        byte[] bytes = new byte[0];        try {            bytes = objectMapper.writeValueAsBytes(map);        } catch (JsonProcessingException e) {            e.printStackTrace();        }        DataBuffer wrap = response.bufferFactory().wrap(bytes);        return response.writeWith(Mono.just(wrap));    }    @Override    public int getOrder() {        return 0;    }}\n\nå…³äºé™æµï¼Œé¢è¯•ä¸ä¼šç›´æ¥é—®ï¼Œè€Œæ˜¯é—´æ¥æ¥é—®  é—®  ä¸å–è¶…æ¯”å¦‚ï¼šå¦‚æœåœ¨æŠ¢è´­è¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·é‡è¯·æ±‚éå¸¸å¤§ï¼Œæ€ä¹ˆç¡®ä¿å•†å“ä¸ä¼šå–è¶…\nRediså•çº¿ç¨‹ï¼ˆIOä¸ºä»€ä¹ˆå¿«ï¼Œå› ä¸ºæˆ‘ä»¬ç°åœ¨çš„å¤„ç†å™¨æ˜¯å¤šæ ¸å¿ƒæ•°çš„ï¼Œredisåº•å±‚ä½¿ç”¨çš„æ˜¯IOçš„å¤šè·¯å¤ç”¨ï¼‰\nä¸€èˆ¬äººåªä¼šåœ¨æ„å•†å“å–è¶…ï¼Œè€Œå¿˜è®°äº†é™æµçš„é‡è¦æ€§\nMqï¼ˆé™æµï¼Œå‰Šå³°ï¼Œå¼‚æ­¥ï¼Œè§£è€¦åˆï¼‰\nMq+Redis+åˆ†å¸ƒå¼é”\nSpring Cloud Alibaba\né¡¹ç›®ä»‹ç»Spring Cloud Alibaba è‡´åŠ›äºæä¾›å¾®æœåŠ¡å¼€å‘çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆã€‚æ­¤é¡¹ç›®åŒ…å«å¼€å‘åˆ†å¸ƒå¼åº”ç”¨å¾®æœåŠ¡çš„å¿…é¡»ç»„ä»¶ï¼Œæ–¹ä¾¿å¼€å‘è€…é€šè¿‡Spring Cloudç¼–ç¨‹æ¨¡å‹è½»æ¾ä½¿ç”¨è¿™äº›ç»„ä»¶æ¥å¼€å‘åˆ†å¸ƒå¼åº”ç”¨æœåŠ¡ã€‚\nä¾æ‰˜Spring Cloud Alibabaï¼Œæ‚¨åªéœ€è¦æ·»åŠ ä¸€äº›æ³¨è§£å’Œå°‘é‡é…ç½®ï¼Œå°±å¯ä»¥å°†Spring Cloudåº”ç”¨æ¥å…¥é˜¿é‡Œå¾®æœåŠ¡è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡é˜¿é‡Œä¸­é—´ä»¶æ¥è¿…é€Ÿæ­å»ºåˆ†å¸ƒå¼åº”ç”¨ç³»ç»Ÿã€‚\nç»„ä»¶\nNacosä¸€ä¸ªæ›´æ˜“äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç†å¹³å°ã€‚\nNacosè‡´åŠ›äºå‘ç°ã€é…ç½®å’Œç®¡ç†å¾®æœåŠ¡ã€‚Nacosæä¾›äº†ä¸€ç»„ç®€å•æ˜“ç”¨çš„ç‰¹å¾é›†ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿå®ç°åŠ¨æ€æœåŠ¡å‘ç°ã€æœåŠ¡é…ç½®ã€æœåŠ¡å…ƒæ•°æ®åŠæµé‡ç®¡ç†ã€‚\nNacoså¸®åŠ©æ‚¨æ›´æ•æ·å’Œå®¹æ˜“åœ°æ„å»ºã€äº¤ä»˜å’Œç®¡ç†å¾®æœåŠ¡å¹³å°ã€Nacosæ˜¯æ„å»ºä»¥â€œæœåŠ¡â€ä¸ºä¸­å¿ƒçš„ç°ä»£åº”ç”¨æ¶æ„ï¼ˆä¾‹å¦‚å¾®æœåŠ¡èŒƒå¼ã€äº‘åŸç”Ÿ èŒƒå¼ï¼‰çš„æœåŠ¡åŸºç¡€è®¾æ–½ã€‚\nNacosçš„æ ¸å¿ƒæ¦‚å¿µ\næœåŠ¡ï¼ˆServiceï¼‰æœåŠ¡æ˜¯æŒ‡ä¸€ä¸ªæˆ–ä¸€ç»„è½¯ä»¶åŠŸèƒ½ï¼ˆä¾‹å¦‚ç‰¹å®šä¿¡æ¯çš„æ£€ç´¢æˆ–ä¸€ç»„æ“ä½œçš„æ‰§è¡Œï¼‰ï¼Œå…¶ç›®çš„æ˜¯ä¸åŒçš„å®¢æˆ·ç«¯å¯ä»¥ä¸ºä¸åŒçš„ç›®çš„é‡ç”¨ï¼ˆä¾‹å¦‚é€šè¿‡è·¨è¿›ç¨‹çš„ç½‘ç»œè°ƒç”¨ï¼‰ã€‚Nacosæ”¯æŒä¸»æµçš„æœåŠ¡ç”Ÿæ€ï¼Œå¦‚Kubernetes Serviceã€gRPC|Dubbo RPC Service æˆ–è€… Spring Cloud  RESTful Serviceã€‚\næœåŠ¡æ³¨å†Œä¸­å¿ƒï¼ˆService Registryï¼‰æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œå®ƒæ˜¯æœåŠ¡å®ä¾‹åŠå…ƒæ•°æ®çš„æ•°æ®åº“ã€‚æœåŠ¡å®ä¾‹åœ¨å¯åŠ¨æ—¶æ³¨å†Œåˆ°æœåŠ¡æ³¨å†Œè¡¨ï¼Œå¹¶åœ¨å…³é—­æ—¶æ³¨é”€ã€‚æœåŠ¡å’Œè·¯ç”±å™¨çš„å®¢æˆ·ç«¯æŸ¥è¯¢æœåŠ¡æ³¨å†Œè¡¨ä»¥æŸ¥æ‰¾æœåŠ¡çš„å¯ç”¨å®ä¾‹ã€‚æœåŠ¡æ³¨å†Œä¸­å¿ƒå¯èƒ½ä¼šè°ƒç”¨æœåŠ¡å®ä¾‹çš„å¥åº·æ£€æŸ¥APIæ¥éªŒè¯å®ƒæ˜¯å¦èƒ½å¤Ÿå¤„ç†è¯·æ±‚ã€‚\næœåŠ¡å…ƒæ•°æ®ï¼ˆService Metadataï¼‰æœåŠ¡å…ƒæ•°æ®æ˜¯æŒ‡åŒ…æ‹¬æœåŠ¡ç«¯ç‚¹ï¼ˆendpointsï¼‰ã€æœåŠ¡æ ‡ç­¾ã€æœåŠ¡ç‰ˆæœ¬å·ã€æœåŠ¡å®ä¾‹æƒé‡ã€è·¯ç”±è§„åˆ™ã€å®‰å…¨ç­–ç•¥ç­‰æè¿°æœåŠ¡çš„æ•°æ®\næœåŠ¡æä¾›æ–¹ï¼ˆService Providerï¼‰æ˜¯æŒ‡æä¾›å¯å¤ç”¨å’Œå¯è°ƒç”¨æœåŠ¡çš„åº”ç”¨æ–¹\næœåŠ¡æ¶ˆè´¹æ–¹ï¼ˆService Consumerï¼‰æ˜¯æŒ‡ä¼šå‘èµ·å¯¹æŸä¸ªæœåŠ¡è°ƒç”¨çš„åº”ç”¨æ–¹\né…ç½®ï¼ˆConfigurationï¼‰â€”é…ç½®æ–‡ä»¶ä¸­å¿ƒåœ¨ç³»ç»Ÿå¼€å‘è¿‡ç¨‹ä¸­é€šå¸¸ä¼šå°†ä¸€äº›éœ€è¦å˜æ›´çš„å‚æ•°ã€å˜é‡ç­‰ä»ä»£ç ä¸­åˆ†ç¦»å‡ºæ¥ç‹¬ç«‹ç®¡ç†ï¼Œä»¥ç‹¬ç«‹çš„é…ç½®æ–‡ä»¶çš„å½¢å¼å­˜åœ¨ã€ç›®çš„æ˜¯è®©é™æ€çš„ç³»ç»Ÿå·¥ä»¶æˆ–è€…äº¤ä»˜ç‰©ï¼ˆå¦‚WARï¼ŒJARåŒ…ç­‰ï¼‰æ›´å¥½åœ°å’Œå®é™…çš„ç‰©ç†è¿è¡Œç¯å¢ƒè¿›è¡Œé€‚é…ã€é…ç½®ç®¡ç†ä¸€èˆ¬åŒ…å«åœ¨ç³»ç»Ÿéƒ¨ç½²çš„è¿‡ç¨‹ä¸­ï¼Œç”±ç³»ç»Ÿç®¡ç†å‘˜æˆ–è€…è¿ç»´äººå‘˜å®Œæˆè¿™ä¸ªæ­¥éª¤ã€‚é…ç½®å˜æ›´æ˜¯è°ƒæ•´ç³»ç»Ÿè¿è¡Œæ—¶çš„è¡Œä¸ºçš„æœ‰æ•ˆæ‰‹æ®µä¹‹ä¸€ã€‚\né…ç½®ç®¡ç†ï¼ˆConfiguretion Managementï¼‰åœ¨æ•°æ®ä¸­å¿ƒä¸­ï¼Œç³»ç»Ÿä¸­æ‰€æœ‰é…ç½®çš„ç¼–è¾‘ã€å­˜å‚¨ã€åˆ†å‘ã€å˜æ›´ç®¡ç†ã€å†å²ç‰ˆæœ¬ç®¡ç†ã€å˜æ›´å®¡è®¡ç­‰æ‰€æœ‰ä¸é…ç½®ç›¸å…³çš„æ´»åŠ¨ç»Ÿç§°ä¸ºé…ç½®ç®¡ç†ã€‚\nåå­—æœåŠ¡ï¼ˆNaming Serviceï¼‰æä¾›åˆ†å¸ƒå¼ç³»ç»Ÿä¸­æ‰€æœ‰å¯¹è±¡ï¼ˆObjectï¼‰ã€å®ä½“ï¼ˆEntityï¼‰çš„â€œåç§°â€åˆ°å…³è”çš„å…ƒæ•°æ®ä¹‹é—´çš„æ˜ å°„ç®¡ç†æœåŠ¡ï¼Œä¾‹å¦‚ServiceName -&gt; Endpoints Infoï¼ŒDistributed Lock Name -&gt; Lock Owner/Status Infoï¼ŒDNS Domain Name -&gt; IP ListæœåŠ¡å‘ç°å’ŒDNSå°±æ˜¯åå­—æœåŠ¡çš„2å¤§åœºæ™¯ã€‚\né…ç½®æœåŠ¡ï¼ˆConfiguration Serviceï¼‰åœ¨æœåŠ¡æˆ–è€…åº”ç”¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæä¾›åŠ¨æ€é…ç½®æˆ–è€…å…ƒæ•°æ®ä»¥åŠé…ç½®ç®¡ç†çš„æœåŠ¡æä¾›è€…ã€‚\nNacosServerçš„å®‰è£…å’Œå¯åŠ¨NacosServerç›¸å¯¹äºEurekaServerï¼Œåªä¸è¿‡EurekaServerä½¿æˆ‘ä»¬è‡ªå·±æ­å»ºçš„ä¸€ä¸ªé¡¹ç›®ï¼Œè€ŒNacosServeræ˜¯åˆ«äººå·²ç»æä¾›å¥½äº†ã€‚\nå®‰è£…ï¼šå…ˆåœ¨å®˜ç½‘ä¸‹è½½å¥½Nacosï¼ŒNacosæ˜¯ä¸€ä¸ªjaråŒ…ï¼Œç›´æ¥å¯åŠ¨å³å¯ã€‚ç„¶åå°±æ˜¯é…ç½®å¥½é‡Œé¢çš„é…ç½®æ–‡ä»¶ï¼Œç°åœ¨confæ–‡ä»¶é‡Œé¢ä¿®æ”¹propertieså†…çš„æ•°æ®åº“è¿æ¥è¿™äº›ï¼š\n\n\nNacosé»˜è®¤ä¸ºé›†ç¾¤é…ç½®ï¼Œå¦‚æœæ˜¯æƒ³è®¾ç½®æˆå•ä¸ªè‹¥æ²¡æœ‰æ”¹å¯åŠ¨æ¨¡å¼ä¸ºå•ä¸ªé‚£ä¹ˆä¼šæŠ¥é”™ï¼Œä¿®æ”¹çš„åœ°æ–¹ç›´æ¥åœ¨startæ–‡ä»¶é‡Œé¢æ”¹å°±è¡Œï¼š\n\nJavaç¼–å†™é…ç½®ï¼šé¦–å…ˆè¦å¯¼å…¥Nacosçš„ä¾èµ–ï¼ŒSpringå®˜æ–¹å¯èƒ½æ²¡æœ‰ä¾èµ–çš„ç›´æ¥é€‰æ‹©é¡¹ï¼Œå¯ä»¥åˆ‡æ¢ä¾èµ–æ¥æºç½‘ç«™ä¸ºï¼šhttp://www.start.alibaba.com\n\nç„¶åè¿›è¡ŒNacosä¾èµ–é€‰æ‹©ï¼š\n\nNacosçš„åŸºæœ¬ymlé…ç½®ï¼šserver:  port: 8081spring:  application:    name: nacos-client-b  cloud:    nacos:      server-addr: localhost:8848      username: nacos      password: nacos      discovery:  # è¿™é‡Œæ˜¯å’Œæ³¨å†Œç›¸å…³çš„é…ç½®        namespace: 2666d147-6a14-403f-bc7e-1bf7faae7bff        group: A_GROUP  # å¾€å“ªä¸ªç»„é‡Œé¢æ³¨å†Œ        service: user-service  # è¿™ä¸ªæ‰æ˜¯æ³¨å†Œåˆ—è¡¨çš„åå­— å¦‚æœä¸å†™ é»˜è®¤æ˜¯å–${spring.application.name}\n\nnamespaceæ˜¯æœ€é‡è¦çš„ï¼Œè¿™ä¸ªç”¨æ¥åŒºåˆ†é¡¹ç›®é¡¹ï¼Œgroupå¯ä»¥è¯¦ç»†å¯¹é¡¹ç›®ä¸‹è¿›è¡Œåˆ†ç»„\nNacosæ•´åˆGatewayç½‘å…³Gatewayè¦ä¾èµ–SpringCloudï¼Œæ‰€ä»¥ä¸€å®šè¦ç¡®è®¤SpringCloudå’ŒSpringBootå’ŒSpringCloudAlibabaä¹‹é—´çš„ç‰ˆæœ¬å…³ç³»ï¼ï¼ï¼ï¼ï¼ï¼\nè¿™é‡Œä½¿ç”¨æ–¹æ³•æ˜¯å·®ä¸å¤šçš„ï¼Œé¦–å…ˆåŠ ä¸Šåˆé€‚çš„ä¾èµ–åï¼š\nymlç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼š\nserver:  port: 80spring:  application:    name: gateway  cloud:    nacos:      server-addr: localhost:8848      username: nacos      password: nacos      discovery:        namespace: 2666d147-6a14-403f-bc7e-1bf7faae7bff        group: A_GROUP        username: gateway    gateway:      discovery:        locator:          enabled: true #å¼€å¯åŠ¨æ€è·¯ç”±          lower-case-service-id: true\n\nç„¶åå°±æ˜¯å¯åŠ¨ç±»åŠ ä¸Šç½‘å…³å¼€å¯çš„é…ç½®ï¼š\n@SpringBootApplication@EnableDiscoveryClientpublic class NacosGatewayApplication {    public static void main(String[] args) {        SpringApplication.run(NacosGatewayApplication.class, args);    }}\n\nå®Œæˆ~ã€‚\nå¸¸ç”¨Nacosä¸­yamlæ–‡ä»¶é…ç½®ä»£ç ï¼š\n\nNacosé…ç½®æ–‡ä»¶ä¸­å¿ƒé…ç½®æ–‡ä»¶ä¸­å¿ƒä½œç”¨ \nå¦‚æœç”Ÿæˆç¯å¢ƒä¿®æ”¹äº†é…ç½®æ–‡ä»¶é¡¹ç›®å­¦éœ€è¦ä¸‹æ¶é‡æ–°æ‰“åŒ…ï¼Œé‡æ–°å‘å¸ƒã€‚\næ–¹ä¾¿ç®¡ç†ï¼Œä»¥åŠé…ç½®æ–‡ä»¶ä¸­å¿ƒä¿®æ”¹åå¯ä»¥åŠæ—¶æ›´æ–°è€Œä¸”é¡¹ç›®æœ¬æºä¸ç”¨é‡å¯(ç±»ä¼¼äºçƒ­éƒ¨ç½²æ›´æ–°)ï¼Œçˆ½ï¼ï¼ï¼\nåªè¦é…ç½®æ–‡ä»¶ä¿®æ”¹äº†å¯¹åº”çš„æœåŠ¡å°±å¯ä»¥åŠ¨æ€æ„ŸçŸ¥åˆ°ä¸éœ€è¦é‡å¯\n\né…ç½®æ–‡ä»¶ä¸­å¿ƒé…ç½®æ–¹å¼Nacosç«¯éœ€è¦å…ˆåœ¨Nacosç«¯åˆ›å»ºå¥½é…ç½®æ–‡ä»¶çš„ç»„ï¼š\n\nData idï¼šå¯¹åº”çš„å­˜å‚¨id\nGroupï¼šå¯¹åº”çš„ç»„åˆ«\nJavaç«¯ï¼š\nserver:  port: 8082spring:  application:    name: nacos-config-a  cloud:    nacos:      server-addr: localhost:8848      username: nacos      password: nacos      config:        prefix: nacos-config-a  # è¯»å“ªä¸ªé…ç½®æ–‡ä»¶        file-extension: yml  #  æ–‡ä»¶ç±»å‹#      config:#        namespace:#        group:# é¡¹ç›®åœ¨å¯åŠ¨çš„æ—¶å€™å»å“ªé‡Œæ‰¾å®ƒå¯¹åº”çš„é…ç½®æ–‡ä»¶å‘¢ï¼Ÿ# æ–°ç‰ˆæœ¬çš„çš„Cloudé»˜è®¤ç¦æ­¢bootstrapï¼Œéœ€è¦åœ¨ä¾èµ–ä¸­åŠ å…¥ spring-cloud-starter-bootstrap\n\nè¿™é‡Œå¦‚æœbootstrapæ— æ•ˆï¼Œå¯èƒ½æ˜¯ä½ SpringBootä¸SpringBootCloud Alibabaçš„ç‰ˆæœ¬å¯¹åº”æœ‰é—®é¢˜ã€‚\nSpringBootçš„2.4ç‰ˆæœ¬åstrapä¸åŸæœ¬çš„SpringBootåˆ†ç¦»äº†ï¼Œæ‰€ä»¥éœ€è¦é‡æ–°åŠ å…¥ä¸€ä¸ªä¾èµ–\n&lt;dependency&gt;    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;    &lt;version&gt;3.0.2&lt;/version&gt;&lt;/dependency&gt;\n\nç„¶åå°±æ˜¯Javaå†…å®¹çš„å¼•ç”¨ï¼š\n\n@RefreshScopeæ³¨è§£çš„ä½œç”¨æ˜¯è®©è¿™ä¸ªç±»é‡Œé¢çš„æ‰€æœ‰Valueæ³¨è§£éƒ½èƒ½éšç€é…ç½®æ–‡ä»¶ä¸­å¿ƒçš„å±æ€§è€Œå˜åŒ–ã€‚\né…ç½®æ–‡ä»¶çš„è¯»å–æ–¹å¼ï¼ˆé‡ç‚¹ï¼‰Nacosé…ç½®ä¸­å¿ƒé€šè¿‡namespaceã€dataIdå’Œgroupæ¥å”¯ä¸€ç¡®å®šä¸€æ¡é…ç½®ã€‚\n\nNamespaceï¼šå³å‘½åç©ºé—´ã€‚é»˜è®¤çš„å‘½åç©ºé—´ä¸ºpublicï¼Œæˆ‘ä»¬å¯ä»¥åœ¨Nacosæ§åˆ¶å°ä¸­æ–°å»ºå‘½åç©ºé—´ï¼›\n\ndataIdï¼šå³é…ç½®æ–‡ä»¶åç§°\n\nGroupï¼šå³é…ç½®åˆ†ç»„ï¼Œé»˜è®¤ä¸ºDEFAULT_GROUPï¼Œå¯ä»¥é€šè¿‡å…¶ä¸­ï¼šdataIdæ˜¯æœ€å…³é”®çš„é…ç½®å­—æ®µï¼šæ ¼å¼å¦‚ä¸‹ï¼š\n${prefix}           -    ${spring.profiles.active}\n${file-extension}\nè¯´æ˜ï¼š\n\nprefixé»˜è®¤ä¸ºspring.application.nameçš„å€¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é…ç½®é¡¹spring.cloud.nacos.config.prefixæ¥é…ç½®ï¼›\n\nspring.profiles.activeå³ä¸ºå½“å‰ç¯å¢ƒå¯¹åº”çš„profileã€‚æ³¨æ„ï¼Œå½“spring.profiles.activeä¸ºç©ºæ—¶ï¼Œå¯¹åº”çš„è¿æ¥ç¬¦-ä¹Ÿå°†ä¸å­˜åœ¨ï¼ŒdataIdçš„æ‹¼æ¥æ ¼å¼å˜æˆ${prefix}.${file-extension};\n\nfile-extensionä¸ºé…ç½®å†…å®¹çš„æ•°æ®æ ¼å¼ï¼Œå¯ä»¥é€šè¿‡é…ç½®é¡¹spring.cloud.nacos.config.file-extensionæ¥é…ç½®\nè¿™å°±æ˜¯ä¸Šé¢æˆ‘ä»¬ä¸ºä»€ä¹ˆèƒ½è·å¾—åˆ°é…ç½®çš„åŸå› äº†ã€‚\næ³¨æ„ï¼šåœ¨å†™dataIdçš„æ—¶å€™ä¸€å®šè¦æ·»åŠ æ–‡ä»¶ç±»å‹åç¼€\nEgï¼šnacos-config-dev.yml\n\n\nå¤šé…ç½®æ–‡ä»¶è¯»å–ï¼šserver:  port: 8083spring:  application:    name: nacos-config-test  cloud:    nacos:      config:        server-addr: localhost:8848        username: nacos        password: nacos        namespace: dcc36983-39b3-485a-b2f5-5f27bb6f1744  # ç›®å‰è¯»å–å¤šé…ç½®æ–‡ä»¶çš„æ–¹å¼åªæ”¯æŒåœ¨åŒä¸€ä¸ªå‘½åç©ºé—´ä¸‹        file-extension: yml        extension-configs: #  å¯ä»¥è¯»å¤šä¸ªé…ç½®æ–‡ä»¶  éœ€è¦åœ¨åŒä¸€ä¸ªå‘½åç©ºé—´ä¸‹é¢  å¯ä»¥æ˜¯ä¸åŒçš„ç»„          - dataId: user-center-dev.yml            group: A_GROUP            refresh: true  #æ˜¯å¦æ”¯æŒåˆ·æ–°  è¿™é‡Œæ”¯æŒåŠ¨æ€åˆ·æ–°          - dataId: member-center-dev.yml            group: B_GROUP            regresh: false # æ˜¯å¦æ”¯æŒåˆ·æ–°  è¿™é‡Œä¸å»åŠ¨æ€ åˆ·æ–°\n\n\nå…¬å…±é…ç½®æ–‡ä»¶é…ç½®ï¼šserver:  port: 8083spring:  application:    name: nacos-config-test  cloud:    nacos:      config:        server-addr: localhost:8848        username: nacos        password: nacos        namespace: dcc36983-39b3-485a-b2f5-5f27bb6f1744  # ç›®å‰è¯»å–å¤šé…ç½®æ–‡ä»¶çš„æ–¹å¼åªæ”¯æŒåœ¨åŒä¸€ä¸ªå‘½åç©ºé—´ä¸‹        file-extension: yml        prefix: user-center        shared-configs:    #  å…±äº«é…ç½®æ–‡ä»¶          #- application-dev.yml   # è¿™é‡Œå¯ä»¥å†™å…±äº«çš„æ–‡ä»¶åç§°  åªèƒ½åœ¨DEFAULT_GROUP          - dataId: application-dev.yml  #  è¿™ä¸¤ç§å†™æ³•éƒ½å¯ä»¥            grou: C_GROUP            refresh: true\n\n\nNacoså¸¸ç”¨é…ç½®ï¼š\n\n\nä¸¤ç«¯çš„é…ç½®æ–‡ä»¶å†™ä»€ä¹ˆå†…å®¹æœ¬åœ°çš„bootstrap.ymlï¼ˆåº”ç”¨åç§°ï¼Œé…ç½®æ–‡ä»¶ä¸­å¿ƒï¼ˆæ³¨å†Œä¸­å¿ƒåœ°å€ï¼‰ï¼Œè¯»å–çš„é…ç½®æ–‡ä»¶åç§°ä¿¡æ¯ï¼‰\nè¿œç«¯çš„é…ç½®æ–‡ä»¶ï¼ˆç«¯å£ï¼Œæ•°æ®æºï¼Œredisï¼Œmqï¼Œmybatisï¼ŒSwaggerâ€¦ï¼‰\nä¸ºäº†æ–¹ä¾¿å»åŠ¨æ€åˆ·æ–°å’Œä¿®æ”¹\né¡¹ç›®ç»“æ„å•ä½“ç»“æ„ï¼š\n\n\nåˆ†å¸ƒå¼èšåˆé¡¹ç›®ï¼š\n\n\nåˆ†å¸ƒå¼èšåˆé¡¹ç›®ä¼˜åŒ–æ–¹æ¡ˆ1ï¼š\n\nå…¶ä¸­å°†åŸæœ¬çš„mapperã€serviceã€webæ•´åˆæˆäº†coreæˆ–è€…enterã€‚\næ¨¡å—æ¸…æ™°ï¼Œè½»è€¦åˆ\n\nåˆ†å¸ƒå¼èšåˆé¡¹ç›®ä¼˜åŒ–æ–¹æ¡ˆ2ï¼š\n\n\nä¹‹é—´çš„ä¾èµ–å…³ç³»æ˜æ˜¾æ¯”æ–¹æ¡ˆä¸€å°‘ï¼Œæ¸…æ™°ã€‚\n\nåˆ†å¸ƒå¼å¾®æœåŠ¡çˆ¶é¡¹ç›®é…ç½®æ¡ˆä¾‹&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;    &lt;packaging&gt;pom&lt;/packaging&gt;    &lt;modules&gt;    &lt;/modules&gt;    &lt;parent&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;        &lt;version&gt;2.3.7.RELEASE&lt;/version&gt;        &lt;relativePath/&gt; &lt;!--lookup parent from repository--&gt;    &lt;/parent&gt;    &lt;groupId&gt;org.example&lt;/groupId&gt;    &lt;artifactId&gt;nnlg-server&lt;/artifactId&gt;    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;    &lt;properties&gt;        &lt;project&gt;pom&lt;/project&gt;        &lt;java.version&gt;1.8&lt;/java.version&gt;        &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;    &lt;/properties&gt;    &lt;dependencies&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;            &lt;artifactId&gt;lombok&lt;/artifactId&gt;        &lt;/dependency&gt;    &lt;/dependencies&gt;    &lt;dependencyManagement&gt;        &lt;dependencies&gt;            &lt;dependency&gt;                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;                &lt;type&gt;pom&lt;/type&gt;                &lt;scope&gt;import&lt;/scope&gt;            &lt;/dependency&gt;        &lt;/dependencies&gt;    &lt;/dependencyManagement&gt;    &lt;build&gt;    &lt;/build&gt;&lt;/project&gt;\n\n","categories":["Java","Spring"],"tags":["Java","SpringCloud"]},{"title":"Spring Securityæ¡†æ¶","url":"/2023/05/14/learnnote/java-xue-xi-bi-ji/springsecurity-xue-xi/","content":"Spring Securityæ¡†æ¶\nç¬¬ä¸€ç« äº†è§£Spring Security\nSpring Securityæ˜¯åŸºäºSpringçš„å®‰å…¨æ¡†æ¶ã€‚å®ƒæä¾›å…¨é¢çš„å®‰å…¨æ€§è§£å†³æ–¹æ¡ˆï¼ŒåŒæ—¶åœ¨Webè¯·æ±‚å’Œæ–¹æ³•è°ƒç”¨çº§å¤„ç†èº«ä»½ç¡®è®¤å’Œæˆæƒã€‚åœ¨Spring FrameworkåŸºç¡€ä¸Šï¼ŒSpring Securityå……åˆ†åˆ©ç”¨äº†ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰å’Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰åŠŸèƒ½ï¼Œä¸ºåº”ç”¨ç³»ç»Ÿæä¾›å£°æ˜å¼çš„å®‰å…¨è®¿é—®æ§åˆ¶åŠŸèƒ½ï¼Œå‡å°‘äº†ä¸ºä¼ä¸šç³»ç»Ÿå®‰å…¨æ§åˆ¶ç¼–å†™å¤§é‡é‡å¤ä»£ç çš„å·¥ä½œã€‚æ˜¯ä¸€ä¸ªè½»é‡çº§çš„å®‰å…¨æ¡†æ¶ã€‚ä»–ä¸SpringMVCæœ‰å¾ˆå¥½åœ°é›†æˆã€‚\n1.1Spring Security æ ¸å¿ƒåŠŸèƒ½ï¼ˆ1ï¼‰è®¤è¯ï¼ˆä½ æ˜¯è°ï¼Œç”¨æˆ·/è®¾å¤‡/ç³»ç»Ÿï¼‰\nï¼ˆ2ï¼‰éªŒè¯ï¼ˆä½ èƒ½å¹²ä»€ä¹ˆï¼Œä¹Ÿå«æƒé™æ§åˆ¶/æˆæƒï¼Œå…è®¸æ‰§è¡Œçš„æ“ä½œï¼‰\n1.2Spring Security åŸç†åŸºäº Filterï¼ŒServletï¼ŒAOPå®ç°èº«ä»½è®¤è¯å’Œæƒé™éªŒè¯\nç¬¬äºŒç«  å®ä¾‹é©±åŠ¨å­¦ä¹ \nå¯¼å…¥ä¾èµ–ï¼š&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;&lt;/dependency&gt;\n\nSpringSecurityå®Œæ•´æµç¨‹SpringSecurityçš„åŸç†å…¶å®å°±æ˜¯ä¸€ä¸ªè¿‡æ»¤é“¾ï¼Œå†…éƒ¨åŒ…å«äº†æä¾›å„ç§åŠŸèƒ½çš„è¿‡æ»¤å™¨ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹çœ‹å…¥é—¨æ¡ˆä¾‹ä¸­çš„è¿‡æ»¤å™¨ã€‚\nå›¾ä¸­åªå±•ç¤ºäº†æ ¸å¿ƒè¿‡æ»¤å™¨ï¼Œå…¶ä»–çš„éæ ¸å¿ƒè¿‡æ»¤å™¨å¹¶æ²¡æœ‰åœ¨å›¾ä¸­å±•ç¤ºã€‚\nUsernamePasswordAuthenticationFilterï¼šè´Ÿè´£å¤„ç†æˆ‘ä»¬ç™»å½•é¡µé¢å¡«å†™äº†ç”¨æˆ·åå¯†ç åçš„ç™»å½•è¯·æ±‚ã€‚å…¥é—¨æ¡ˆä¾‹çš„è®¤è¯å·¥ä½œä¸»è¦æœ‰å®ƒè´Ÿè´£ã€‚\nExceptionTranslationFilterï¼šå¤„ç†è¿‡æ»¤å™¨ä¸­æŠ›å‡ºçš„ä»»ä½•AccessDeniedExceptionå’ŒAuthenticationExceptionã€‚\nFilterSecurityInterceptorï¼šè´Ÿè´£æƒé™çš„è¿‡æ»¤å™¨ã€‚\n=\nåˆå§‹é»˜è®¤å¯†ç ç™»å½•åœ¨åˆæ¬¡å¯¼å…¥æ¡†æ¶ä½¿ç”¨çš„æ—¶å€™ï¼ŒSecurityä¼šé»˜è®¤ç”Ÿæˆä¸€ä¸ªå¯†ç ï¼š\n\nè¿™ä¸ªå¯†ç åœ¨é»˜è®¤è®¿é—®ä»»æ„æ¥å£çš„æ—¶å€™éƒ½éœ€è¦ä½ è¿›è¡Œç™»å½•æ“ä½œï¼Œç™»å½•æ—¶è´¦å·å°±ä¸ºï¼šuserï¼Œå¯†ç å°±æ˜¯ä¸Šé¢ç”Ÿæˆçš„éšæœºå¯†ç ã€‚\nä¿®æ”¹é»˜è®¤å¯†ç ä¿®æ”¹é»˜è®¤å¯†ç åå°±ä¸ä¼šå†éšæœºç”Ÿæˆå¯†ç äº†ï¼Œå¹¶ä¸”ä¹Ÿä¸ä¼šå±•ç¤ºï¼Œä¿®æ”¹å¯†ç éœ€è¦åœ¨applicationé…ç½®æ–‡ä»¶é‡Œé¢è®¾ç½®ï¼š\nspring:  security:    user:      name: cbq  #è´¦å·      password: cbq  #å¯†ç \n\n\n\nå…³é—­éªŒè¯å…³é—­éªŒè¯åªéœ€è¦åœ¨SpringBootå¯åŠ¨ç±»æ³¨è§£é‡Œé¢æ·»åŠ æ’é™¤é¡¹å³å¯ï¼š\n//æ’é™¤Securityçš„é…ç½®ï¼Œè®©ä»–ä¸å¯ç”¨@SpringBootApplication(exclude = {SecurityAutoConfiguration.class})public class SecurityStudyApplication {    public static void main(String[] args) {        SpringApplication.run(SecurityStudyApplication.class, args);    }}\n\n\n\nä½¿ç”¨å†…å­˜ä¸­çš„ç”¨æˆ·ä¿¡æ¯è¿™é‡Œä¸€å®šè¦æ³¨æ„ï¼ï¼ï¼ï¼\n\nåœ¨Spring Security 5.7.0-M2ï¼Œæˆ‘ä»¬å¼ƒç”¨äº† WebSecurityConfigurerAdapter ï¼Œå› ä¸ºæˆ‘ä»¬é¼“åŠ±ç”¨æˆ·è½¬å‘ä½¿ç”¨åŸºäºç»„ä»¶çš„å®‰å…¨é…ç½®ã€‚\n\nå¦‚æœæ˜¯ä½¿ç”¨äº†5.7ä»¥ä¸‹çš„é‚£ä¹ˆå°±æŒ‰ç…§ä»¥ä¸‹æ–¹æ³•æ¥ï¼ï¼ï¼\nä½¿ç”¨ï¼šWebSecurityConfigurerAdapteræ§åˆ¶å®‰å…¨ç®¡ç†çš„å†…å®¹ã€‚\néœ€è¦åšçš„ä½¿ç”¨ï¼šç»§æ‰¿WebSecurityConfigurerAdapterï¼Œé‡æ–°æ–¹æ³•ã€‚å®ç°è‡ªå®šä¹‰çš„è®¤è¯ä¿¡æ¯ã€‚\næ³¨è§£ï¼š\n1ã€@Configurationï¼šè¡¨ç¤ºå½“å‰ç±»æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼ˆç›¸å½“äºæ˜¯Springçš„xmlé…ç½®æ–‡ä»¶ï¼‰ï¼Œåœ¨è¿™ä¸ªç±»æ–¹æ³•çš„è¿”å›å€¼æ˜¯Javaå¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡æ”¾å…¥åˆ°Springå®¹å™¨ä¸­ã€‚\n2ã€@EnableWebSecurityï¼šè¡¨ç¤ºå¯åŠ¨Spring Securityå®‰å…¨æ¡†æ¶çš„åŠŸèƒ½ã€‚\n3/@Beanï¼šæŠŠæ–¹æ³•è¿”å›å€¼çš„å¯¹è±¡ï¼Œæ”¾å…¥åˆ°Springå®¹å™¨ä¸­ã€‚\nè¿™é‡Œæ³¨æ„Security5ä¸­å¯†ç å¿…é¡»è¦åŠ å¯†ï¼Œä¸ç„¶æŠ¥é”™ã€‚\n\njava.lang.IllegalArgumentException: There is no PasswordEncoder mapped foor the id \"null\"\n\n\n\n\nå¦‚æœä½¿ç”¨äº†æ–°ç‰ˆSecurityé‚£ä¹ˆï¼š\n@Configurationpublic class SecurityConfiguration {       @Bean    public UserDetailsService userDetailsService(){        UserDetails user1 = User.builder().                username(\"cbq1\").                password(\"123456\")                .roles(\"student\")                .build();        UserDetails user2 = User.builder()                .username(\"cbq2\")                .password(\"123456\")                .roles(\"teacher\")                .build();        InMemoryUserDetailsManager memoryUserDetailsManager = new InMemoryUserDetailsManager();        memoryUserDetailsManager.createUser(user1);        memoryUserDetailsManager.createUser(user2);        return memoryUserDetailsManager;    }}\n\næ³¨æ„ï¼šåœ¨è¿™äº›ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¸ºäº†å¯è¯»æ€§ä½¿ç”¨äº†User.withDefaultPasswordEncoder()ã€‚è¿™ä¸é€‚åˆç”Ÿäº§é¡¹ç›®ï¼Œæˆ‘ä»¬å»ºè®®åœ¨ç”Ÿäº§é¡¹ç›®ä¸­ä½¿ç”¨æ•£åˆ—å¯†ç ã€‚è¯·æŒ‰ç…§å‚è€ƒæ–‡æ¡£æ‰€è¯´çš„ç”¨Spring Bootå‘½ä»¤è¡Œå·¥å…·æ¥åšã€‚\nåŸºäºè§’è‰²Roleçš„èº«ä»½è®¤è¯ï¼ŒåŒä¸€ä¸ªç”¨æˆ·å¯ä»¥æœ‰ä¸åŒçš„è§’è‰²ã€‚åŒæ—¶å¯ä»¥å¼€å¯å¯¹æ–¹æ³•çº§åˆ«çš„è®¤è¯ã€‚ä»¥ä¸‹æ˜¯WebSecurity.javaé…ç½®æ–‡ä»¶ï¼š\nimport org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;import org.springframework.security.core.userdetails.User;import org.springframework.security.core.userdetails.UserDetails;import org.springframework.security.provisioning.InMemoryUserDetailsManager;@Configuration@EnableWebSecurity@EnableMethodSecurity(prePostEnabled = true) //è¿™ä¸ªä½œç”¨æ˜¯ç”¨äºå¼€å¯åŸºäºè§’è‰²è®¿é—®ï¼Œä¸ç„¶çš„è¯æ— æ•ˆpublic class MyWebSecurityConfig {    //åœ¨æ–¹æ³•ä¸­é…ç½® ç”¨æˆ·å’Œå¯†ç çš„ä¿¡æ¯ï¼Œä½œä¸ºç™»å½•çš„æ•°æ®    @Bean    public InMemoryUserDetailsManager userDetailsManager(){        UserDetails user1 = User.withDefaultPasswordEncoder()                .username(\"cbq\")                .password(\"cbq\")                .roles(\"normal\")                .build();        UserDetails user2 = User.withDefaultPasswordEncoder()                .username(\"cbq1\")                .password(\"cbq1\")                .roles(\"normal\")                .build();        UserDetails user3 = User.withDefaultPasswordEncoder()                .username(\"cbq2\")                .password(\"cbq2\")                .roles(\"normal\",\"admin\")                .build();        return new InMemoryUserDetailsManager(user1,user2,user3);    }}\n\nè¿™é‡Œå¼€äº†ä¸‰ä¸ªç”¨æˆ·ï¼Œä¸€å…±ä¸¤ä¸ªè§’è‰²ï¼Œä¸€ä¸ªnormalï¼Œä¸€ä¸ªadminã€‚ä¸€ä¸ªç”¨æˆ·å¯ä»¥æ‹¥æœ‰å¤šä¸ªè§’è‰²ã€‚åŸºäºè§’è‰²çš„è®¿é—®éœ€è¦é…åˆ@PreAuthorizeæ³¨è§£ä½¿ç”¨ï¼Œè¯¦ç»†å¦‚ä¸‹ï¼Œè¿™é‡Œ@PreAuthorizeæ³¨è§£æ ‡æ³¨äº†å“ªä¸ªæ¥å£åªèƒ½å“ªå‡ ä¸ªè§’è‰²èƒ½è®¿é—®ã€‚\nimport org.springframework.security.access.prepost.PreAuthorize;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;@RestController@RequestMapping(\"hello\")public class HelloSecurityController {    @RequestMapping(\"world\")    @PreAuthorize(value = \"hasAnyRole('admin','normal')\")    public Object sayHello(){        return \"æ‹¥æœ‰adminå’Œnormal\";    }    @RequestMapping(\"hhh\")    @PreAuthorize(value = \"hasAnyRole('admin')\")    public Object hhh(){        return \"adminè§’è‰²æ‰å¯ä»¥è®¿é—®\";    }}\n\n\n\nå…³äºauthoritiesè®¾ç½®æƒé™ä¸rolesè®¾ç½®è§’è‰²çš„å‘\nåœ¨å®éªŒä¸­å‘ç°ï¼Œå¦‚æœåŒæ—¶ä½¿ç”¨rolesè®¾ç½®ç”¨æˆ·çš„è§’è‰²ï¼Œç”¨authorititesè®¾ç½®ç”¨æˆ·çš„æƒé™ï¼Œè°å†™åœ¨æœ€åé‚£ä¹ˆå°±ç”¨è°ä½œä¸ºæœ€ç»ˆçš„æƒé™æ ‡å¿—ã€‚æ¯”å¦‚ä»¥ä¸‹ä¾‹å­ï¼š\n\n@Beanpublic UserDetailsService userDetailsService(){    UserDetails user1 = User.builder().            username(\"cbq1\").            password(passwordBCryptEncoder().encode(\"123456\"))            .roles(\"student\")            .authorities(\"student:add\",\"student:delete\")            .build();    UserDetails user2 = User.builder()            .username(\"cbq2\")            .password(passwordBCryptEncoder().encode(\"123456\"))        \t.authorities(\"student:add\",\"student:delete\")            .roles(\"teacher\")            .build();    InMemoryUserDetailsManager memoryUserDetailsManager = new InMemoryUserDetailsManager();    memoryUserDetailsManager.createUser(user1);    memoryUserDetailsManager.createUser(user2);    return memoryUserDetailsManager;}\n\nåœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œuser1è§’è‰²çš„æƒé™æœ€ç»ˆä¸ºstudent:addä¸student:deleteã€‚user2è§’è‰²çš„æƒé™æœ€ç»ˆä¸ºROLE_teacherè§’è‰²æ ‡å¿—ã€‚\nåŸºäºJDBCçš„ç”¨æˆ·è®¤è¯ä»æ•°æ®åº“Mysqlä¸­è·å–ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯ï¼ˆç”¨æˆ·åç§°ï¼Œå¯†ç ï¼Œè§’è‰²ï¼‰\nåœ¨Spring Securityæ¡†æ¶å¯¹è±¡ç”¨æˆ·ä¿¡æ¯çš„è¡¨ç¤ºç±»æ˜¯UserDetails.\nUserDetailsæ˜¯ä¸€ä¸ªæ¥å£ï¼Œé«˜åº¦æŠ½è±¡çš„ç”¨æˆ·ä¿¡æ¯ç±»(ç›¸å½“äºé¡¹ç›®ä¸­çš„Userç±»)\nUserç±»ï¼šæ˜¯UserDetailsæ¥å£çš„å®ç°ç±»ï¼Œæ„é€ æ–¹æ³•æœ‰ä¸‰ä¸ªå‚æ•°ï¼š\nusernameï¼Œpasswordï¼Œauthorities\néœ€è¦å‘Spring Securityæä¾›Userå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡çš„æ•°æ®æ¥è‡ªæ•°æ®åº“ä¸­çš„æŸ¥è¯¢ã€‚\nå®ç°UserDetailsServiceæ¥å£ï¼Œé‡å†™UserDetails loadUserByUsername(String var1)åœ¨æ–¹æ³•ä¸­è·å–æ•°æ®åº“ä¸­çš„ç”¨æˆ·ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œæ•°æ®åº“çš„æŸ¥è¯¢ï¼Œæ¡ä»¶æ˜¯ç”¨æˆ·åç§°ã€‚\nå¯†ç åŠ å¯†å­˜å‚¨å®é™…é¡¹ç›®ä¸­æˆ‘ä»¬ä¸ä¼šæŠŠå¯†ç æ˜æ–‡å­˜å‚¨åœ¨æ•°æ®åº“è¡¨ä¸­ã€‚\nåœ¨SpringSecurityä¸­æ˜æ–‡åŠ å¯†ä¸ºï¼šNoOpPasswordEncoder.getInstance();\né»˜è®¤ä½¿ç”¨çš„PasswordEncoderè¦æ±‚æ•°æ®åº“ä¸­çš„å¯†ç æ ¼å¼ä¸ºï¼š{id}passwordã€‚å®ƒä¼šæ ¹æ®idå»åˆ¤æ–­å¯†ç çš„åŠ å¯†æ–¹å¼ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šé‡‡ç”¨è¿™ç§æ–¹å¼ã€‚æ‰€ä»¥å°±éœ€è¦æ›¿æ¢PordEncoderã€‚\næˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨SpringSecurityä¸ºæˆ‘ä»¬æä¾›çš„BCryptPasswordEncoderã€‚\næˆ‘ä»¬åªéœ€è¦ä½¿ç”¨æŠŠBCryptPasswordEncoderå¯¹è±¡æ³¨å…¥Springå®¹å™¨ä¸­ï¼ŒSpringSecurityå°±ä¼šä½¿ç”¨è¯¥PasswordEncoderæ¥è¿›è¡Œå¯†ç æ ¡éªŒã€‚\næˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªSpringSecurityçš„é…ç½®ç±»ï¼ŒSpringSecurityè¦æ±‚è¿™ä¸ªé…ç½®ç±»è¦ç»§æ‰¿WebSecurityConfigurerAdapterã€‚\nç¬¬ä¸‰ç«  æƒé™æ§åˆ¶\nåŸºäºè®¿é—®è·¯å¾„è¿›è¡Œè®¿é—®æƒé™æ§åˆ¶\næ‹¦æˆªç›¸åº”æ²¡æœ‰è®¿é—®æƒé™è®¿é—®é¡µé¢çš„ç”¨æˆ·ï¼Œæ³¨æ„authorizeRequestsä¸authorizeHttpRequestsä¸èƒ½æ··ç”¨ï¼Œä¸ç„¶æŠ¥é”™ã€‚\n\nimport jakarta.annotation.Resource;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;import org.springframework.security.config.annotation.web.builders.HttpSecurity;import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;import org.springframework.security.core.userdetails.UserDetailsService;import org.springframework.security.web.SecurityFilterChain;@Configuration@EnableWebSecurity@EnableMethodSecurity(prePostEnabled = true)public class MyWebSecurityConfig {    @Resource    private UserDetailsService userDetailsService;    @Bean    SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {        //é…ç½®webæˆæƒè®¿é—®,\"/login\",\"/register\",\"/upLogin\"è¿™äº›ç»Ÿç»Ÿæ— éœ€æƒé™        httpSecurity.authorizeHttpRequests().requestMatchers(\"/login\",\"register\",\"/upLogin\").permitAll()                //æˆåŠŸçš„é“¾æ¥,ä¹Ÿå°±æ˜¯åç»­è®¿é—®çš„é“¾æ¥æ”¾åœ¨è¿™ä¸ªé‡Œ,æˆ‘è¿™é‡Œæ˜¯æˆåŠŸé¡µéœ€è¦USERæƒé™æ‰èƒ½è®¿é—®                .requestMatchers(\"/success\").hasAnyRole(\"USER\").and()        /**         * è‡ªå®šä¹‰ç™»é™†é¡µé¢æ˜¯loginSelf.htmlé¡µ(è¿™é‡Œçœ‹ä½ æ¨¡æ¿å¼•æ“æ€ä¹ˆé…),è¡¨å•æäº¤çš„å¤„ç†é“¾æ¥æ˜¯\"/upLogin\"         * å°±æ˜¯&lt;form action=\"/upLogin\"&gt;&lt;/form&gt;è¿™æ ·,è¿™ä¸ª\"/upLogin\"ä¸éœ€è¦è‡ªå·±å¤„ç†,å°±è‡ªå·±å†³å®š         * usernameParameterå’ŒpasswordParameter,å°±æ˜¯è¡¨å•æäº¤æ‰€å¸¦çš„å‚æ•°,         * è¿™é‡Œæˆ‘æ˜¯\"username\"å’Œ\"password\";         */                .formLogin().loginPage(\"/loginSelf\").loginProcessingUrl(\"upLogin\")                .usernameParameter(\"username\").passwordParameter(\"password\");        return httpSecurity.build();    }}\n\nä»¥ä¸‹ä¸ºæ–°ç‰ˆæœ¬\nimport org.springframework.context.annotation.Configuration;import org.springframework.security.config.annotation.web.builders.HttpSecurity;import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;@Configurationpublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {    @Override    protected void configure(HttpSecurity http) throws Exception {//        http.authorizeRequests() //æˆæƒè¯·æ±‚//                .anyRequest()//ä»»ä½•è¯·æ±‚//                .denyAll();//æ‹’ç»        http.authorizeRequests()                //.regexMatchers(\"/student/**\") //è¿™ç§åŒ¹é…æ–¹å¼å¯ä»¥ä¸ç”¨å­¦                //.antMatchers(\"/student/**\")  //è¿™ç§åŒ¹é…æ–¹å¼å¯ä»¥ä¸ç”¨å­¦                .mvcMatchers(\"/student/**\") //åŒ¹é…è¿™ä¸ªurl                //.hasRole(\"\") //æ˜¯å¦æœ‰å•ä¸ªè§’è‰²                //.hasAnyRole(\"\") //æ˜¯å¦æœ‰ä»»æ„è§’è‰²                //.access(\"hasAuthority('student:query') or hasRole('admin')\") //å¦å¤–ä¸€ç§æƒé™è®¾ç½®                .hasAnyAuthority(\"student:add\") //æ‹¥æœ‰è¿™ä¸ªæƒé™çš„ç”¨æˆ·å¯ä»¥è®¿é—®è¿™ä¸ª/student/** ,æ˜¯å¦å…¶ä¸­è‡³å°‘ä¸€ä¸ªæƒé™                .mvcMatchers(\"/teacher/**\") //åŒ¹é…url                .hasAuthority(\"ROLE_teacher\") //æ‹¥æœ‰è¿™ä¸ªæƒé™çš„ç”¨æˆ·å¯ä»¥è®¿é—®/teacher/**                .anyRequest() //ä»»ä½•è¯·æ±‚                .authenticated(); //éƒ½éœ€è¦ç™»å½• ,æ³¨æ„ï¼Œæ²¡æœ‰é…ç½®mvcçš„åªè¦ç™»å½•æˆåŠŸå°±å¯ä»¥è®¿é—®        http.formLogin().permitAll(); //å…è®¸è¡¨å•ç™»å½•    }}\n\nåŒ¹é…è·¯å¾„urlçš„å†™æ³•æœ‰ä¸‰ç§ï¼Œåˆ¤æ–­æƒé™æœ‰äº”ç§ã€‚\nåŸºäºæ–¹æ³•æ¥è¿›è¡Œè®¿é—®æƒé™æ§åˆ¶\nåŸºäºæ–¹æ³•ç²’åº¦çš„æƒé™æ ¡éªŒä¸€å®šè¦è®°å¾—åœ¨Securityé…ç½®ç±»ä¸­åŠ ä¸Š@EnableGlobalMethodSecurityæ³¨è§£è®¾ç½®prePostEnabled=trueå‚æ•°ï¼Œå¦åˆ™ç›´æ¥ä½¿ç”¨æ³¨è§£é…ç½®æƒé™å°†ä¼šæ— æ•ˆï¼ï¼ï¼\n\nimport org.springframework.context.annotation.Bean;import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;import org.springframework.security.core.userdetails.User;import org.springframework.security.core.userdetails.UserDetails;import org.springframework.security.core.userdetails.UserDetailsService;import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;import org.springframework.security.crypto.password.PasswordEncoder;import org.springframework.security.provisioning.InMemoryUserDetailsManager;//@Configuration è¿™é‡Œä¸éœ€è¦åŠ Configurationæ˜¯å› ä¸ºä¸‹é¢è¿™ä¸ªæ³¨è§£å·²ç»å¸¦æœ‰Configæ³¨è§£äº†@EnableGlobalMethodSecurity(prePostEnabled = true) //å¼€å¯å…¨å±€æ–¹æ³•å®‰å…¨public class SecurityUserConfig {    @Bean    public UserDetailsService userDetailsService(){        UserDetails u1 = User.builder()                .username(\"cbq1\")                .password(passwordEncoder().encode(\"123456\"))                .roles(\"student\")                .build();        UserDetails u2 = User.builder()                .username(\"cbq2\")                .password(passwordEncoder().encode(\"123456\"))                .authorities(\"teacher:update\",\"teacher:query\")                .build();        InMemoryUserDetailsManager inMemoryUserDetailsManager = new InMemoryUserDetailsManager();        inMemoryUserDetailsManager.createUser(u1);        inMemoryUserDetailsManager.createUser(u2);        return inMemoryUserDetailsManager;    }    @Bean    public PasswordEncoder passwordEncoder(){        return new BCryptPasswordEncoder();    }}\n\né…ç½®å®Œä¹‹åå³å¯ä½¿ç”¨äº†ï¼š\nimport org.springframework.security.access.prepost.PreAuthorize;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;@RestController@RequestMapping(\"teacher\")public class TeacherController {    @GetMapping(\"add\")    @PreAuthorize(\"hasRole('teacher')\") //é¢„æˆæƒ    public Object add(){        return \"æ·»åŠ æˆåŠŸ\";    }    @GetMapping(\"delete\")    @PreAuthorize(\"hasRole('teacher')\")    public Object delete(){        return \"åˆ é™¤æˆåŠŸ\";    }    @GetMapping(\"update\")    @PreAuthorize(\"hasRole('teacher') or hasAuthority('teacher:update')\")    public Object update(){        return \"æ›´æ–°æˆåŠŸ\";    }}\n\n\n\nç¬¬å››ç«  åˆ©ç”¨å¤„ç†å™¨è¿”å›JSONè®¾ç½®ç™»å½•æˆåŠŸè¿”å›json\nè®¾ç½®ç™»å½•æˆåŠŸè¿”å›jsonåˆ›å»ºä¸€ä¸ªç±»å¹¶ä¸”å®ç°AuthenticationSuccessHandleræ¥å£ï¼Œ\n\nimport com.example.springsecuritystudy3.vo.HttpResult;import com.fasterxml.jackson.databind.ObjectMapper;import lombok.extern.slf4j.Slf4j;import org.springframework.security.core.Authentication;import org.springframework.security.web.authentication.AuthenticationSuccessHandler;import org.springframework.stereotype.Component;import javax.annotation.Resource;import javax.servlet.ServletException;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.io.PrintWriter;/** * @description: åªè¦è®¤è¯æˆåŠŸé‚£ä¹ˆä¹…è¿”å›json * @author é•¿ç™½å´ * @date 2023/7/17 5:11 * @version 1.0 */@Slf4j@Componentpublic class AppAuthenticationSuccessHandler implements AuthenticationSuccessHandler {    @Resource    private ObjectMapper objectMapper;    @Override    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {        HttpResult httpResult = HttpResult.builder()                .code(1)                .msg(\"ç™»å½•æˆåŠŸ\")                .build();        String responseJson = objectMapper.writeValueAsString(httpResult);        response.setCharacterEncoding(\"UTF-8\");        response.setContentType(\"application/json;charset=utf-8\");        PrintWriter writer = response.getWriter();        writer.println(responseJson);        writer.flush();    }}\n\nå®ç°æ¥å£ä¹‹ååªéœ€è¦Securityé…ç½®ç±»å½“ä¸­é…ç½®å¥½å³å¯ã€‚\nimport lombok.extern.slf4j.Slf4j;import org.springframework.context.annotation.Configuration;import org.springframework.security.config.annotation.web.builders.HttpSecurity;import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;import javax.annotation.Resource;@Configuration@Slf4jpublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {    @Resource    AppAuthenticationSuccessHandler appAuthenticationSuccessHandler;    @Resource    AppAuthenticationFailureHandler appAuthenticationFailureHandler;    @Override    protected void configure(HttpSecurity http) throws Exception {        http.authorizeRequests()                .anyRequest()                .authenticated();        //è®¾ç½®ç™»å½•æˆåŠŸå¤„ç†å™¨        http.formLogin()                .successHandler(appAuthenticationSuccessHandler) //é…ç½®ç™»å½•æˆåŠŸäº‹ä»¶                .failureHandler(appAuthenticationFailureHandler) //é…ç½®ç™»å½•å¤±è´¥äº‹ä»¶                .permitAll();    }}\n\nè®¾ç½®é€€å‡ºç™»å½•æˆåŠŸè¿”å›json\nè®¾ç½®é€€å‡ºç™»å½•æˆåŠŸè¿”å›jsonåˆ›å»ºä¸€ä¸ªç±»å¹¶ä¸”å®ç°LogoutSuccessHandleræ¥å£ï¼Œ\n\nimport com.example.springsecuritystudy3.vo.HttpResult;import com.fasterxml.jackson.databind.ObjectMapper;import org.springframework.security.core.Authentication;import org.springframework.security.web.authentication.logout.LogoutSuccessHandler;import org.springframework.stereotype.Component;import javax.annotation.Resource;import javax.servlet.ServletException;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.io.PrintWriter;/** * @description: é€€å‡ºç™»å½•æˆåŠŸ * @author é•¿ç™½å´ * @date 2023/7/17 5:41 * @version 1.0 */@Componentpublic class AppLogoutSuccessHandler implements LogoutSuccessHandler {    @Resource    ObjectMapper objectMapper;    @Override    public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {        HttpResult httpResult = HttpResult.builder()                .code(0)                .msg(\"é€€å‡ºç™»å½•æˆåŠŸ\")                .build();        String json = objectMapper.writeValueAsString(httpResult);        response.setCharacterEncoding(\"UTF-8\");        response.setContentType(\"application/json;charset=utf-8\");        PrintWriter printWriter = response.getWriter();        printWriter.println(json);        printWriter.flush();    }}\n\nè®¾ç½®ç™»å½•å¤±è´¥è¿”å›json\nè®¾ç½®ç™»å½•å¤±è´¥è¿”å›jsonåˆ›å»ºä¸€ä¸ªç±»å¹¶ä¸”å®ç°AuthenticationSuccessHandleræ¥å£ï¼Œ\n\nimport com.example.springsecuritystudy3.vo.HttpResult;import com.fasterxml.jackson.databind.ObjectMapper;import lombok.extern.slf4j.Slf4j;import org.springframework.security.core.AuthenticationException;import org.springframework.security.web.authentication.AuthenticationFailureHandler;import org.springframework.stereotype.Component;import javax.annotation.Resource;import javax.servlet.ServletException;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.io.PrintWriter;@Slf4j@Componentpublic class AppAuthenticationFailureHandler implements AuthenticationFailureHandler {    @Resource    ObjectMapper objectMapper;    @Override    public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response, AuthenticationException exception) throws IOException, ServletException {        HttpResult httpResult = HttpResult.builder()                .code(0)                .msg(\"ç™»å½•å¤±è´¥\")                .build();        String json = objectMapper.writeValueAsString(httpResult);        response.setCharacterEncoding(\"UTF-8\");        response.setContentType(\"application/json;charset=utf-8\");        PrintWriter printWriter = response.getWriter();        printWriter.println(json);        printWriter.flush();    }}\n\nè®¾ç½®è®¿é—®æ‹’ç»è¿”å›json\nè®¾ç½®è®¿é—®æ‹’ç»è¿”å›jsonåˆ›å»ºä¸€ä¸ªç±»å¹¶ä¸”å®ç°AuthenticationSuccessHandleræ¥å£ï¼Œ\n\nimport com.example.springsecuritystudy3.vo.HttpResult;import com.fasterxml.jackson.databind.ObjectMapper;import org.springframework.security.access.AccessDeniedException;import org.springframework.security.web.access.AccessDeniedHandler;import org.springframework.stereotype.Component;import javax.annotation.Resource;import javax.servlet.ServletException;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.io.PrintWriter;/** * @description: è®¿é—®æ‹’ç»å¤„ç† * @author é•¿ç™½å´ * @date 2023/7/17 5:40 * @version 1.0 */@Componentpublic class AppAccessDenyHandler implements AccessDeniedHandler {    @Resource    ObjectMapper objectMapper;    @Override    public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException, ServletException {        HttpResult httpResult = HttpResult.builder()                .code(2)                .msg(\"æ‚¨æ²¡æœ‰æƒé™è®¿é—®\")                .build();        String json = objectMapper.writeValueAsString(httpResult);        response.setCharacterEncoding(\"UTF-8\");        response.setContentType(\"application/json;charset=utf-8\");        PrintWriter printWriter = response.getWriter();        printWriter.println(json);        printWriter.flush();    }}\n\nå®ç°æ¥å£ä¹‹ååªéœ€è¦Securityé…ç½®ç±»å½“ä¸­é…ç½®å¥½å³å¯ã€‚import lombok.extern.slf4j.Slf4j;import org.springframework.context.annotation.Configuration;import org.springframework.security.config.annotation.web.builders.HttpSecurity;import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;import javax.annotation.Resource;@Configuration@Slf4jpublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {    @Resource    AppAuthenticationSuccessHandler appAuthenticationSuccessHandler;    @Resource    AppAuthenticationFailureHandler appAuthenticationFailureHandler;    @Resource    AppLogoutSuccessHandler appLogoutSuccessHandler;    @Resource    AppAccessDenyHandler appAccessDenyHandler;    @Override    protected void configure(HttpSecurity http) throws Exception {        http.authorizeRequests()                .anyRequest()                .authenticated();        //è®¾ç½®ç™»å½•æˆåŠŸå¤„ç†å™¨        http.formLogin()                .successHandler(appAuthenticationSuccessHandler) //é…ç½®ç™»å½•æˆåŠŸå¤„ç†å™¨                .failureHandler(appAuthenticationFailureHandler) //é…ç½®ç™»å½•å¤±è´¥å¤„ç†å™¨                .permitAll();        http.logout().logoutSuccessHandler(appLogoutSuccessHandler); //é…ç½®é€€å‡ºæˆåŠŸå¤„ç†å™¨        http.exceptionHandling().accessDeniedHandler(appAccessDenyHandler); //é…ç½®è®¿é—®æ‹’ç»å¤„ç†å™¨    }}\n\né€šè¿‡å®ç°UserDetailsæ¥å£æ¥å®šä¹‰ç”¨æˆ·\nimport com.example.springsecuritystudy4.entity.User;import org.springframework.security.core.GrantedAuthority;import org.springframework.security.core.authority.SimpleGrantedAuthority;import org.springframework.security.core.userdetails.UserDetails;import java.util.Collection;import java.util.List;public class SecurityUser implements UserDetails {    private final User user;    private List&lt;SimpleGrantedAuthority&gt; authorityList;    public SecurityUser(User user) {        this.user = user;    }    @Override    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {        return authorityList;    }    public void setAuthorityList(List&lt;SimpleGrantedAuthority&gt; authorityList) {        this.authorityList = authorityList;    }    @Override    public String getPassword() {        String pwd = user.getPassword();        user.setPassword(null);        return pwd;    }    @Override    public String getUsername() {        return user.getUsername();    }    @Override    public boolean isAccountNonExpired() {        return user.getAccountNoExpired().equals(1);    }    @Override    public boolean isAccountNonLocked() {        return user.getAccountNoLocked().equals(1);    }    @Override    public boolean isCredentialsNonExpired() {        return user.getCredentialsNoExpired().equals(1);    }    @Override    public boolean isEnabled() {        return true;    }}\n\n\n\n\n\nç¬¬äº”ç«  åŸºäºæ•°æ®åº“çš„è®¤è¯\n1ã€ç¬¬ä¸€æ­¥åˆ™æ˜¯å…ˆè¦å®ç°UserDetailsæ¥å£\nä¸»è¦ç”¨äºå®šåˆ¶åŒ–å°†æ•°æ®åº“æ•°æ®å¯¹æ¥Securityæ¡†æ¶ã€‚\n\nimport com.example.springsecuritystudy4.entity.User;import org.springframework.security.core.GrantedAuthority;import org.springframework.security.core.authority.SimpleGrantedAuthority;import org.springframework.security.core.userdetails.UserDetails;import java.util.Collection;import java.util.List;public class SecurityUser implements UserDetails {    private final User user;    private List&lt;SimpleGrantedAuthority&gt; authorityList;    public SecurityUser(User user) {        this.user = user;    }    @Override    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {        return authorityList;    }    public void setAuthorityList(List&lt;SimpleGrantedAuthority&gt; authorityList) {        this.authorityList = authorityList;    }    @Override    public String getPassword() {        String pwd = user.getPassword();        user.setPassword(null);        return pwd;    }    @Override    public String getUsername() {        return user.getUsername();    }    /*ä»£è¡¨è´¦å·æ˜¯å¦å·²ç»è¿‡æœŸï¼ˆtrueè´¦å·æ²¡æœ‰è¿‡æœŸï¼Œfalseè´¦å·å·²ç»è¿‡æœŸï¼‰*/    @Override    public boolean isAccountNonExpired() {        return user.getAccountNoExpired().equals(1);    }        /*ä»£è¡¨è´¦å·æ˜¯å¦è¢«é”å®š(trueæ²¡æœ‰é”å®šï¼Œfalseé”å®šï¼‰*/    @Override    public boolean isAccountNonLocked() {        return user.getAccountNoLocked().equals(1);    } /*ä»£è¡¨å‡­è¯æ˜¯å¦å·²ç»è¿‡æœŸï¼ˆtrueè´¦å·æ²¡æœ‰è¿‡æœŸï¼Œfalseè´¦å·å·²ç»è¿‡æœŸï¼‰*/    @Override    public boolean isCredentialsNonExpired() {        return user.getCredentialsNoExpired().equals(1);    } /*ä»£è¡¨è´¦å·æ˜¯å¦å¯ç”¨*/    @Override    public boolean isEnabled() {        return true;    }}\n\n2ã€å®ç°UserDetailsServiceæ¥å£\nå®ç°UserDetailServiceæ¥å£çš„ä½œç”¨ä¸»è¦å°±æ˜¯å®šåˆ¶åŒ–ç”¨æˆ·ç™»å½•æ—¶çš„æ•°æ®è·å–æ–¹å¼ä»¥åŠå¯¹æ¯”æ–¹å¼ç­‰ã€‚\n\nimport com.example.springsecuritystudy4.entity.User;import com.example.springsecuritystudy4.service.RoleMenuService;import com.example.springsecuritystudy4.service.UserService;import com.example.springsecuritystudy4.vo.SecurityUser;import org.springframework.security.core.authority.SimpleGrantedAuthority;import org.springframework.security.core.userdetails.UserDetails;import org.springframework.security.core.userdetails.UserDetailsService;import org.springframework.security.core.userdetails.UsernameNotFoundException;import org.springframework.stereotype.Service;import javax.annotation.Resource;import java.util.ArrayList;import java.util.List;@Servicepublic class SecurityUserDetailServiceImpl implements UserDetailsService {    @Resource    private UserService userService;    @Resource    private RoleMenuService roleMenuService;    @Override    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {        User byUserName = userService.getByUserName(username);        if(byUserName==null)            throw new UsernameNotFoundException(\"è¯¥ç”¨æˆ·ä¸å­˜åœ¨\");        List&lt;String&gt; queryPermissionsByUserId = roleMenuService.queryPermissionsByUserId(byUserName.getUid());        SecurityUser securityUser = new SecurityUser(byUserName);        List&lt;SimpleGrantedAuthority&gt; authorityList = new ArrayList&lt;&gt;();        queryPermissionsByUserId.stream().forEach((value)-&gt; authorityList.add(new SimpleGrantedAuthority(value)));        securityUser.setAuthorityList(authorityList);        return securityUser;    }}\n\n\n\nç¬¬å…­ç«  WebSecurityé…ç½®ä¸­å…³äºå…¶ä¸­ç™»å½•é¡µé¢ç­‰å…¶ä»–é¡µé¢å®šåˆ¶åŒ–\nimport lombok.extern.slf4j.Slf4j;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;import org.springframework.security.config.annotation.web.builders.HttpSecurity;import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;import org.springframework.security.crypto.password.PasswordEncoder;@Slf4j@Configuration@EnableGlobalMethodSecurity(prePostEnabled = true)public class WebSecurityConfig extends WebSecurityConfigurerAdapter {    @Bean    public PasswordEncoder passwordEncoder(){        return new BCryptPasswordEncoder();    }    @Override    protected void configure(HttpSecurity http) throws Exception {        http.authorizeRequests()                .anyRequest()                .authenticated();        http.formLogin()                .loginPage(\"/toLogin\") // é…ç½®ç™»å½•é¡µé¢                .usernameParameter(\"uname\") // ç”¨æˆ·åå‚æ•°                .passwordParameter(\"pwd\") // å¯†ç å‚æ•°                .loginProcessingUrl(\"/login/doLogin\")  //å•å‡»ç™»å½•åè¿›å…¥url                .failureForwardUrl(\"/toLogin\") // ç™»å½•å¤±è´¥                .successForwardUrl(\"/toIndex\") //ç™»å½•æˆåŠŸ                .permitAll();  //é…ç½®ç™»å½•        http.logout().logoutSuccessUrl(\"/toLogin\");  //é…ç½®é€€å‡ºæˆåŠŸç™»å½•é¡µé¢        http.csrf().disable(); //å…³é—­è·¨åŸŸè¯·æ±‚ä¿æŠ¤    }}\n\n\n\n\n\nç¬¬ä¸ƒç«  éªŒè¯ç æ•´åˆ\n\n éªŒè¯ç ç”Ÿæˆå·¥å…·å¯ä»¥ä½¿ç”¨hutoolä¾èµ–åº“è¿›è¡Œã€‚\n\néªŒè¯ç ç”Ÿæˆæ¥å£ä»£ç import cn.hutool.captcha.CaptchaUtil;import cn.hutool.captcha.CircleCaptcha;import cn.hutool.captcha.generator.MathGenerator;import lombok.extern.slf4j.Slf4j;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.GetMapping;import javax.imageio.ImageIO;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;@Slf4j@Controllerpublic class CaptchaController {    @GetMapping(value = \"code/getCaptchaCode\")    public void getCaptchaCode(HttpServletRequest httpServletRequest,                               HttpServletResponse httpServletResponse) throws IOException {        //ShearCaptcha shearCaptcha = CaptchaUtil.createShearCaptcha(200, 100, 4, 5);        CircleCaptcha circleCaptcha = CaptchaUtil.createCircleCaptcha(200, 100, 4, 1000);        circleCaptcha.setGenerator(new MathGenerator());        String code = circleCaptcha.getCode();        log.info(\"ç”Ÿæˆçš„å›¾ç‰‡éªŒè¯ç ä¸ºï¼š{}\",code);        //å°†éªŒè¯ç å­˜å‚¨åˆ°sessionä¸­        httpServletRequest.getSession().setAttribute(\"CAPTCHA CODE\",code);        httpServletResponse.setContentType(\"image/png\");        //å°†å›¾ç‰‡å†™åˆ°å“åº”æµé‡Œ        ImageIO.write(circleCaptcha.getImage(),\"PNG\",httpServletResponse.getOutputStream());    }}\n\nå†™å¥½éªŒè¯ç ä¹‹åå³å¯åœ¨WebSecurityå®ç°é…ç½®ç±»ä¸­å°†éªŒè¯ç æ¥å£æ”¾å¼€ï¼š\nimport com.example.springsecuritystudy4.filter.ValidateCodeFilter;import lombok.extern.slf4j.Slf4j;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;import org.springframework.security.config.annotation.web.builders.HttpSecurity;import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;import org.springframework.security.crypto.password.PasswordEncoder;import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;import javax.annotation.Resource;@Slf4j@Configuration@EnableGlobalMethodSecurity(prePostEnabled = true)public class WebSecurityConfig extends WebSecurityConfigurerAdapter {    @Bean    public PasswordEncoder passwordEncoder(){        return new BCryptPasswordEncoder();    }    @Override    protected void configure(HttpSecurity http) throws Exception {        http.authorizeRequests()                .mvcMatchers(\"/code/getCaptchaCode\") //å°†éªŒè¯ç æ¥å£æ”¾å¼€                .permitAll()                .anyRequest()                .authenticated();        http.formLogin()                .loginPage(\"/toLogin\") // é…ç½®ç™»å½•é¡µé¢                .usernameParameter(\"uname\") // ç”¨æˆ·åå‚æ•°                .passwordParameter(\"pwd\") // å¯†ç å‚æ•°                .loginProcessingUrl(\"/login/doLogin\")  //å•å‡»ç™»å½•åè¿›å…¥url                .failureForwardUrl(\"/toLogin\") // ç™»å½•å¤±è´¥                .successForwardUrl(\"/toIndex\") //ç™»å½•æˆåŠŸ                .permitAll();  //æ”¾å¼€        http.logout().logoutSuccessUrl(\"/toLogin\");  //é…ç½®é€€å‡ºæˆåŠŸç™»å½•é¡µé¢        http.csrf().disable(); //å…³é—­è·¨åŸŸè¯·æ±‚ä¿æŠ¤    }}\n\n\n\nåˆ©ç”¨è¿‡æ»¤å™¨æ¥éªŒè¯éªŒè¯ç \nè¿‡æ»¤å™¨éœ€è¦ç»§æ‰¿å®ç°OncePerRequestFilteræ¥å£ã€‚ä»¥ä¸‹ä¸ºå®ç°ä¾‹å­\n\nimport lombok.extern.slf4j.Slf4j;import org.springframework.stereotype.Component;import org.springframework.util.StringUtils;import org.springframework.web.filter.OncePerRequestFilter;import javax.servlet.FilterChain;import javax.servlet.ServletException;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;@Slf4j@Componentpublic class ValidateCodeFilter extends OncePerRequestFilter {    @Override    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {        // TODO åˆ¤æ–­è·¯å¾„ æ˜¯å¦æ˜¯/login/doLogin        String requestURL = request.getRequestURI();        if(!requestURL.equals(\"/login/doLogin\")){ //ä¸æ˜¯ç™»å½•è¯·æ±‚ï¼Œç›´æ¥æ”¾è¡Œ            doFilter(request,response,filterChain);        }    }    private void validateCode(HttpServletRequest request,HttpServletResponse response,FilterChain filterChain) throws ServletException, IOException {        //TODO 1ã€ä»å‰ç«¯è·å–éªŒè¯ç         String code = request.getParameter(\"code\");        //TODO 2ã€ä»sessionä¸­è·å–éªŒè¯ç         String captchaCode = (String) request.getSession().getAttribute(\"CAPTCHA_CODE\");        //TODO 3ã€åˆ¤æ–­äºŒè€…æ˜¯å¦ç›¸ç­‰        if(StringUtils.isEmpty(code)){            request.getSession().setAttribute(\"captcha_code_error\",\"è¯·è¾“å…¥éªŒè¯ç \");            return;        }        if(StringUtils.isEmpty(captchaCode)){            request.getSession().setAttribute(\"captcha_code_error\",\"éªŒè¯ç é”™è¯¯\");        }        request.getSession().setAttribute(\"CAPTCHA_CODE\",\"\");        this.doFilter(request,response,filterChain);    }}\n\nå†™å¥½è¿‡æ»¤å™¨åå³å¯åœ¨é…ç½®ç±»é‡Œé¢ä½¿ç”¨è¿‡æ»¤å™¨ï¼š\n import com.example.springsecuritystudy4.filter.ValidateCodeFilter;import lombok.extern.slf4j.Slf4j;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;import org.springframework.security.config.annotation.web.builders.HttpSecurity;import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;import org.springframework.security.crypto.password.PasswordEncoder;import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;import javax.annotation.Resource;@Slf4j@Configuration@EnableGlobalMethodSecurity(prePostEnabled = true)public class WebSecurityConfig extends WebSecurityConfigurerAdapter {    @Resource    ValidateCodeFilter validateCodeFilter;    @Bean    public PasswordEncoder passwordEncoder(){        return new BCryptPasswordEncoder();    }    @Override    protected void configure(HttpSecurity http) throws Exception {        //åœ¨ç”¨æˆ·åå¯†ç è®¤è¯è¿‡æ»¤å™¨å‰æ·»åŠ éªŒè¯ç è¿‡æ»¤å™¨        http.addFilterBefore(validateCodeFilter, UsernamePasswordAuthenticationFilter.class);        http.authorizeRequests()                .mvcMatchers(\"/code/getCaptchaCode\")                .permitAll()                .anyRequest()                .authenticated();        http.formLogin()                .loginPage(\"/toLogin\") // é…ç½®ç™»å½•é¡µé¢                .usernameParameter(\"uname\") // ç”¨æˆ·åå‚æ•°                .passwordParameter(\"pwd\") // å¯†ç å‚æ•°                .loginProcessingUrl(\"/login/doLogin\")  //å•å‡»ç™»å½•åè¿›å…¥url                .failureForwardUrl(\"/toLogin\") // ç™»å½•å¤±è´¥                .successForwardUrl(\"/toIndex\") //ç™»å½•æˆåŠŸ                .permitAll();  //æ”¾å¼€        http.logout().logoutSuccessUrl(\"/toLogin\");  //é…ç½®é€€å‡ºæˆåŠŸç™»å½•é¡µé¢        http.csrf().disable(); //å…³é—­è·¨åŸŸè¯·æ±‚ä¿æŠ¤    }}\n\n\n\n\n\nç¬¬å…«ç«  SpringSecurity+JWTå®ç°å‰åç«¯åˆ†ç¦»\n\nè¿™é‡ŒJWTç›¸å…³çš„å·¥å…·ç±»ä»£ç å°±ä¸å¤šå±•ç¤ºäº†ã€‚è¿™è¾¹å¯ä»¥åœ¨ç½‘ä¸Šæ‰¾åˆ°å¾ˆå¤šçš„JWTUtilsæ¨¡æ¿ã€‚\n\né™æ€æ–‡ä»¶å±•ç¤ºï¼š\nå¯¹äºå‰ç«¯æˆ‘ä»¬å†™ä¸€ä¸ªç”¨äºæµ‹è¯•çš„å‡ ä¸ªé¡µé¢ã€‚\n\n1ã€ç™»å½•é¡µé¢ï¼š&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;    &lt;head&gt;        &lt;meta charset=\"UTF-8\"&gt;        &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;        &lt;title&gt;ç™»å½•&lt;/title&gt;        &lt;script src=\"./script/jquery-3.7.1.min.js\"&gt;&lt;/script&gt;    &lt;/head&gt;    &lt;body&gt;        &lt;table&gt;            &lt;tr&gt;                &lt;td&gt;&lt;input id=\"act\" type=\"text\"&gt;&lt;/td&gt;            &lt;/tr&gt;            &lt;tr&gt;                &lt;td&gt;&lt;input id=\"psd\" type=\"password\"&gt;&lt;/td&gt;            &lt;/tr&gt;            &lt;td&gt;&lt;button id=\"login\"&gt;ç™»å½•&lt;/button&gt;&lt;button&gt;æ³¨å†Œ&lt;/button&gt;&lt;/td&gt;        &lt;/table&gt;    &lt;/body&gt;    &lt;script&gt;    var act = document.getElementById(\"act\");    var psw = document.getElementById(\"psd\");        $(\"#login\").click(function(){            var act = $('#act').val();            var psw = $('#psd').val();            $.ajax('login',{                method: 'POST',                contentType: 'application/json',                dataType: 'json',                data: JSON.stringify({uid: act,password: psw}),                success:function (result){                    alert(JSON.stringify(result))                    console.log(result)                },                error:function (result){                    alert(result.data)                }            })        });&lt;/script&gt;&lt;/html&gt;\n\n2ã€ä¸»é¡µï¼š&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt;    &lt;meta charset=\"UTF-8\"&gt;    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;    &lt;title&gt;ç®¡ç†é¡µé¢&lt;/title&gt;&lt;/head&gt;&lt;body&gt;    &lt;table&gt;        &lt;tr&gt;            &lt;td&gt;æµ‹è¯•æˆåŠŸ&lt;/td&gt;            &lt;td&gt;æµ‹è¯•æˆåŠŸ&lt;/td&gt;            &lt;td&gt;æµ‹è¯•æˆåŠŸ&lt;/td&gt;        &lt;/tr&gt;        &lt;tr&gt;            &lt;td&gt;æµ‹è¯•æˆåŠŸ&lt;/td&gt;            &lt;td&gt;æµ‹è¯•æˆåŠŸ&lt;/td&gt;            &lt;td&gt;æµ‹è¯•æˆåŠŸ&lt;/td&gt;        &lt;/tr&gt;        &lt;tr&gt;            &lt;td&gt;æµ‹è¯•æˆåŠŸ&lt;/td&gt;            &lt;td&gt;æµ‹è¯•æˆåŠŸ&lt;/td&gt;            &lt;td&gt;æµ‹è¯•æˆåŠŸ&lt;/td&gt;        &lt;/tr&gt;    &lt;/table&gt;&lt;/body&gt;&lt;/html&gt;\n\næ–‡ä»¶ç›®å½•å±•ç¤ºï¼š\n\né…ç½®SpringSecurityï¼š1.1ã€å¾—åˆ°UserDetailsæ–¹å¼ï¼ˆå®ç°UserDetailsServiceæ¥å£çš„æ–¹å¼ï¼‰ï¼šimport com.cbq.springsecuritystudy6.entity.User;import com.cbq.springsecuritystudy6.service.RoleService;import com.cbq.springsecuritystudy6.service.UserService;import com.cbq.springsecuritystudy6.vo.SecurityUser;import org.springframework.security.core.authority.SimpleGrantedAuthority;import org.springframework.security.core.userdetails.UserDetails;import org.springframework.security.core.userdetails.UserDetailsService;import org.springframework.security.core.userdetails.UsernameNotFoundException;import org.springframework.stereotype.Service;import javax.annotation.Resource;import java.util.ArrayList;import java.util.List;/** * @description: å®šåˆ¶åŒ–ç”¨æˆ·ç™»å½•æ•°æ®è·å–æ–¹å¼ * @author é•¿ç™½å´ * @date 2023/9/19 11:28 * @version 1.0 */@Servicepublic class SecurityUserDetailServiceImpl implements UserDetailsService {    @Resource    UserService userService;    @Resource    private RoleService roleService;    @Override    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {        User userFromUid = userService.getUserFromUid(username);        if(userFromUid==null){            throw new UsernameNotFoundException(\"è¯¥ç”¨æˆ·ä¸å­˜åœ¨\");        }        List&lt;String&gt; rolePermission = roleService.queryPermissionsByUserUid(username);        SecurityUser securityUser = new SecurityUser(userFromUid);        ArrayList&lt;SimpleGrantedAuthority&gt; authorityArrayList = new ArrayList&lt;&gt;();        rolePermission.stream().forEach((v)-&gt; authorityArrayList.add(new SimpleGrantedAuthority(v)));        securityUser.setAuthorityList(authorityArrayList);        return securityUser;    }}\n\n1.2ã€å¾—åˆ°UserDetailsæ–¹å¼ï¼ˆå®ç°UserDetailsæ¥å£çš„æ–¹å¼ï¼‰ï¼ˆæ¨èï¼‰ï¼šimport com.cbq.springsecuritystudy6.entity.User;import org.springframework.security.core.GrantedAuthority;import org.springframework.security.core.authority.SimpleGrantedAuthority;import org.springframework.security.core.userdetails.UserDetails;import java.util.Collection;import java.util.List;public class SecurityUser implements UserDetails {    private final User user;    private List&lt;SimpleGrantedAuthority&gt; authorityList;    /**     * åˆ©ç”¨æ„é€ æ–¹æ³•æ¥æ³¨å…¥User     * @param user     */    public SecurityUser(User user) {        this.user = user;    }    /**     * è·å–æƒé™åˆ—è¡¨     * @return     */    @Override    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {        return authorityList;    }    /**     * è®¾ç½®æƒé™åˆ—è¡¨     * @param authorityList     */    public void setAuthorityList(List&lt;SimpleGrantedAuthority&gt; authorityList) {        this.authorityList = authorityList;    }    public User getUser() {        return user;    }    @Override    public String getPassword() {        String pws = user.getPassword();        user.setPassword(null);        return pws;    }    @Override    public String getUsername() {        return user.getUid();    }    /**     * è´¦å·æ˜¯å¦æœªè¿‡æœŸ     * @return     */    @Override    public boolean isAccountNonExpired() {        return true;    }    /**     * è´¦å·æ˜¯å¦æœªé”å®š     * @return     */    @Override    public boolean isAccountNonLocked() {        return true;    }    /**     * è´¦å·æ˜¯å¦æœªè¿‡æœŸ     * @return     */    @Override    public boolean isCredentialsNonExpired() {        return true;    }    /**     * è´¦å·æ˜¯å¦å¯ç”¨     * @return     */    @Override    public boolean isEnabled() {        return true;    }}\n\n2ã€é€šè¿‡æ‹¦æˆªå™¨æ¥å£å®ç°JWTçš„æ‹¦æˆªè®¤è¯ï¼š\nè¿™é‡Œå°±ç”¨Mapæ¥æ¨¡æ‹ŸRedisäº†ã€‚\n\nimport com.auth0.jwt.JWT;import com.auth0.jwt.interfaces.Claim;import com.auth0.jwt.interfaces.DecodedJWT;import com.cbq.springsecuritystudy6.utils.JWTUtils;import com.cbq.springsecuritystudy6.vo.SecurityUser;import lombok.extern.slf4j.Slf4j;import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;import org.springframework.security.core.context.SecurityContextHolder;import org.springframework.stereotype.Component;import org.springframework.util.StringUtils;import org.springframework.web.filter.OncePerRequestFilter;import javax.servlet.FilterChain;import javax.servlet.ServletException;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.util.HashMap;import java.util.Map;import java.util.Objects;@Slf4j@Componentpublic class JwtCheckFilter extends OncePerRequestFilter {    //æ¨¡æ‹ŸRedis    public static Map&lt;String,Object&gt; redis = new HashMap&lt;&gt;();    @Override    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {        //è·å–token        String authorization = request.getHeader(\"Authorization\");        //å¦‚æœtokenä¸å­˜åœ¨å¯èƒ½æ˜¯å…¶ä»–ç™½åå•çš„è¯·æ±‚ï¼Œè¿™é‡Œç›´æ¥æ”¾è¡Œ        if(!StringUtils.hasText(authorization)){            //æ”¾è¡Œ            filterChain.doFilter(request,response);            return;        }        DecodedJWT token = JWTUtils.getToken(authorization);        //è·å–uid        Claim uid = token.getClaim(\"uid\");        System.out.println(uid.asString());        //åˆ¤æ–­æ˜¯å¦ä¸ºéæ³•token        if(!JWTUtils.verify(authorization) &amp;&amp; JWTUtils.isExpired(authorization)){            try {                throw new RuntimeException(\"éæ³•Token\");            }catch (Exception e){            }        }        String redisKey = \"login:\"+uid.asString();        //ä»redisé‡Œé¢è·å–å¯¹è±¡        SecurityUser securityUser =(SecurityUser) redis.get(redisKey);        //å¦‚æœredisé‡Œé¢æ²¡æœ‰ç›¸åº”çš„tokenï¼Œé‚£ä¹ˆè¯´æ˜tokenéæ³•        if(Objects.isNull(securityUser)){            throw new RuntimeException(\"æ‚¨æœªç™»å½•\");        }        //TODO è·å–æƒé™ä¿¡æ¯å°è£…åˆ°Authenticationä¸­        UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(securityUser,null,securityUser.getAuthorities());        SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);        //æ”¾è¡Œ        filterChain.doFilter(request,response);    }}\n\n\n\n3ã€å®ç°WebSecurityConfigurerAdapteræ¥å£å¯¹Securityè¿›è¡Œé…ç½®ï¼šimport com.cbq.springsecuritystudy6.filter.JwtCheckFilter;import lombok.extern.slf4j.Slf4j;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.security.authentication.AuthenticationManager;import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;import org.springframework.security.config.annotation.web.builders.HttpSecurity;import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;import org.springframework.security.config.http.SessionCreationPolicy;import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;import org.springframework.security.crypto.password.PasswordEncoder;import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;import javax.annotation.Resource;@Slf4j@Configuration@EnableGlobalMethodSecurity(prePostEnabled = true)public class WebSecurityConfig extends WebSecurityConfigurerAdapter {    @Resource    MyAuthenticationSuccessHandler myAuthenticationSuccessHandler;    @Resource    JwtCheckFilter jwtCheckFilter;    @Bean    public PasswordEncoder passwordEncoder() {        return new BCryptPasswordEncoder();    }    @Bean    @Override    public AuthenticationManager authenticationManagerBean() throws Exception {        return super.authenticationManagerBean();    }    @Override    protected void configure(HttpSecurity http) throws Exception {        //å…³é—­csrf        http.csrf().disable();        //è¿™é‡Œæ˜¯å°†ä¹‹å‰è‡ªå®šä¹‰å®ç°æ‹¦æˆªå™¨çš„æ¥å£è§£å°†å…¶æ”¾åˆ°ç”¨æˆ·è´¦å·å¯†ç è®¤è¯æ‹¦æˆªå™¨çš„å‰é¢        http.addFilterBefore(jwtCheckFilter, UsernamePasswordAuthenticationFilter.class);        //è¿™é‡Œå› ä¸ºæ˜¯åŸºäºJWTçš„å‰åç«¯åˆ†ç¦»é¡¹ç›®äº†ï¼Œæ‰€ä»¥æ²¡å¿…è¦ç”¨SESSIONè¿›è¡Œè®¤è¯ä¹‹ç±»çš„ï¼Œæ‰€ä»¥ç›´æ¥å–æ¶ˆæ‰        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);        http.authorizeRequests()                .antMatchers(\"/**/**.html\").denyAll()//è¿™é‡Œé…ç½®ä¸»è¦æ˜¯ç”¨äºé˜»æ­¢ç”¨æˆ·ç›´æ¥é€šè¿‡urlè®¿é—®htmlé™æ€èµ„æºï¼Œæé«˜å®‰å…¨æ€§ã€‚                .antMatchers(\"/login/**\").permitAll()//è¿™é‡Œæ˜¯å°†loginç™»å½•æ¥å£ç›¸å…³çš„å…¨éƒ¨æ”¾å¼€                .anyRequest()                .authenticated();        http.formLogin()                .loginPage(\"/login/index.html\")//è¿™é‡Œé…ç½®ç™»å½•é¡µé¢                .permitAll();    }}\n\n\nå¥½äº†ï¼Œåˆ°è¿™æ‰€æœ‰çš„Securityé…ç½®åŸºæœ¬å®Œæˆäº†ã€‚ç°åœ¨å°±æ˜¯ç›¸å…³çš„è®¿é—®æ¥å£çš„å®ç°å’Œå¯¹æ¥ã€‚\n\nå®ç°ç™»å½•çš„ç›¸å…³APIæ¥å£ç­‰ï¼šControllerå±‚\n LoginController\n\nimport com.cbq.springsecuritystudy6.entity.User;import com.cbq.springsecuritystudy6.service.LoginService;import org.springframework.web.bind.annotation.PostMapping;import org.springframework.web.bind.annotation.RequestBody;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import javax.annotation.Resource;@RestController@RequestMapping(\"login\")public class LoginController {    @Resource    private LoginService loginService;    @PostMapping(\"login\")    public Object login(@RequestBody User user){        return loginService.toLogin(user.getUid(),user.getPassword());    }}\n\nUserController\n\nimport org.springframework.security.access.prepost.PreAuthorize;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.ResponseBody;@Controller@RequestMapping(\"user\")public class UserController {    @ResponseBody    @GetMapping(\"query\")    @PreAuthorize(\"hasAuthority('root:query') or hasRole('ROOT')\")    public Object query(){        System.out.println(\"æˆåŠŸè®¿é—®æŸ¥è¯¢é¡µé¢\");        return \"æˆåŠŸè®¿é—®æŸ¥è¯¢é¡µé¢\";    }    @ResponseBody    @GetMapping(\"delete\")    @PreAuthorize(\"hasRole('ROOT')\")    public Object delete(){        return \"åˆ é™¤æˆåŠŸ\";    }    @GetMapping(\"index\")    public Object toIndex(){        return \"forward:/home/index.html\";    }}\n\n\n\nServiceå±‚\nLoginService\n\nimport com.cbq.springsecuritystudy6.entity.User;import com.cbq.springsecuritystudy6.filter.JwtCheckFilter;import com.cbq.springsecuritystudy6.mapper.UserMapper;import com.cbq.springsecuritystudy6.service.LoginService;import com.cbq.springsecuritystudy6.service.RoleService;import com.cbq.springsecuritystudy6.utils.JWTUtils;import com.cbq.springsecuritystudy6.vo.SecurityUser;import com.fasterxml.jackson.databind.ObjectMapper;import org.springframework.security.core.authority.SimpleGrantedAuthority;import org.springframework.stereotype.Service;import javax.annotation.Resource;import java.util.*;@Servicepublic class LoginServiceImpl implements LoginService {    @Resource    UserMapper userMapper;    @Resource    RoleService roleService;    @Resource    ObjectMapper objectMapper;    @Override    public Object toLogin(String uid, String password) {        Map&lt;String, Object&gt; result = new HashMap&lt;&gt;();        //é€šè¿‡Securityç”ŸæˆToken        List&lt;String&gt; strings = roleService.queryPermissionsByUserUid(uid);        SecurityUser securityUser = new SecurityUser(User.builder().build());        List&lt;SimpleGrantedAuthority&gt; authorityList = new ArrayList&lt;&gt;();        strings.forEach((v)-&gt;{authorityList.add(new SimpleGrantedAuthority(v));});        securityUser.setAuthorityList(authorityList);        //è£…ç½®è‡³Redis        JwtCheckFilter.redis.put(\"login:\"+uid,securityUser);        //TODO æˆåŠŸ        Map&lt;String, String&gt; tokenMap = new HashMap&lt;&gt;();        tokenMap.put(\"uid\", uid);        String token = JWTUtils.createToken(tokenMap);        result.put(\"code\", 200);        result.put(\"msg\", \"ç™»å½•æˆåŠŸ\");        result.put(\"token\", token);        return result;    }}\n\n\nUserService\n\nimport com.cbq.springsecuritystudy6.entity.User;import com.cbq.springsecuritystudy6.mapper.UserMapper;import com.cbq.springsecuritystudy6.service.UserService;import org.springframework.stereotype.Service;import javax.annotation.Resource;@Servicepublic class UserServiceImpl implements UserService {    @Resource    UserMapper userMapper;    @Override    public User getUserFromUid(String uid) {        User user = userMapper.getUserByUid(uid);        return user;    }    @Override    public User userLogin(String uid, String password) {        User user = userMapper.getUser(uid, password);        return user;    }}\n\n\nRoleService\n\nimport com.cbq.springsecuritystudy6.mapper.RoleMapper;import com.cbq.springsecuritystudy6.service.RoleService;import org.springframework.stereotype.Service;import javax.annotation.Resource;import java.util.List;@Servicepublic class RoleServiceImpl implements RoleService {    @Resource    private RoleMapper roleMapper;    @Override    public List&lt;String&gt; queryPermissionsByUserUid(String uid) {        List&lt;String&gt; strings = roleMapper.queryRolePermissionsByUserId(uid);        return strings;    }}\n\n\n\nMapper\nUserMapper\n\nimport org.apache.ibatis.annotations.Param;import org.apache.ibatis.annotations.Select;import java.util.List;public interface RoleMapper {    /**     * é€šè¿‡UIDæŸ¥è¯¢å¯¹åº”çš„ç”¨æˆ·æƒé™çš„è¯¦ç»†æƒé™åˆ—è¡¨     * @param uid     * @return     */    @Select(\"select role_menu.code from user,role,role_menu where user.role_uid=role.uid and role.uid=role_menu.role_uid AND user.uid=#{uid}\")    public List&lt;String&gt; queryRolePermissionsByUserId(@Param(\"uid\") String uid);}\n\n\nRoleMapper\n\nimport com.cbq.springsecuritystudy6.entity.User;import org.apache.ibatis.annotations.Param;import org.apache.ibatis.annotations.Select;public interface UserMapper {    /**     * é€šè¿‡è´¦å·å’Œå¯†ç æŸ¥è¯¢è´¦å·å®ä½“     * @param uid     * @param password     * @return     */    @Select(\"select * from user where uid=#{uid} and password=#{password}\")    public User getUser(@Param(\"uid\")String uid,@Param(\"password\")String password);    /**     * é€šè¿‡è´¦å·æŸ¥è¯¢è´¦å·å®ä½“     * @param uid     * @return     */    @Select(\"select * from user where uid=#{uid}\")    public User getUserByUid(@Param(\"uid\")String uid);}\n","categories":["Java","Spring"],"tags":["Java","Spring Security"]},{"title":"WebRTCè¿›é˜¶","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/webrtc/","content":"WebRTCè¿›é˜¶\nWebTRCæ”¯æŒç‚¹å¯¹ç‚¹é€šä¿¡ï¼Œä½†æ˜¯WebRTCä»ç„¶éœ€è¦æœåŠ¡ç«¯ï¼š\n\nåè°ƒé€šè®¯è¿‡ç¨‹ä¸­å®¢æˆ·ç«¯ä¹‹é—´éœ€è¦äº¤æ¢å…ƒæ•°æ®ã€‚\nå¦‚ä¸€ä¸ªå®¢æˆ·ç«¯æ‰¾åˆ°å¦ä¸€ä¸ªå®¢æˆ·ç«¯ä»¥åŠé€šçŸ¥å¦ä¸€ä¸ªå®¢æˆ·ç«¯å¼€å§‹é€šè®¯ã€‚\néœ€è¦å¤„ç†NATï¼ˆç½‘ç»œåœ°å€è½¬æ¢ï¼‰æˆ–é˜²ç«å¢™ï¼Œè¿™æ˜¯å…¬ç½‘ä¸Šé€šè®¯é¦–è¦å¤„ç†çš„é—®é¢˜ã€‚\næ‰€ä»¥æˆ‘ä»¬éœ€è¦äº†è§£æœåŠ¡ç«¯çš„çŸ¥è¯†ï¼šä¿¡ä»¤ã€Stunã€trunã€iceã€‚\n\nä¸€ã€ä»€ä¹ˆæ˜¯ä¿¡ä»¤\nä¿¡ä»¤å°±æ˜¯åè°ƒé€šè®¯çš„è¿‡ç¨‹ï¼Œä¸ºäº†å»ºç«‹ä¸€ä¸ªwebRTCçš„é€šè®¯è¿‡ç¨‹ï¼Œå®¢æˆ·ç«¯éœ€è¦äº¤æ¢å¦‚ä¸‹ä¿¡æ¯ï¼š\n\nä¼šè¯æ§åˆ¶ä¿¡æ¯ï¼Œç”¨æ¥å¼€å§‹å’Œç»“æŸé€šè¯ï¼Œå³å¼€å§‹è§†é¢‘ã€ç»“æŸè§†é¢‘è¿™äº›æ“ä½œæŒ‡ä»¤ã€‚\nå¤„ç†é”™è¯¯çš„æ¶ˆæ¯ã€‚\nå…ƒæ•°æ®ï¼Œå¦‚å„è‡ªçš„éŸ³è§†é¢‘è§£ç æ–¹å¼ã€å¸¦å®½ã€‚\nç½‘ç»œæ•°æ®ï¼Œå¯¹æ–¹çš„å…¬ç½‘IPã€ç«¯å£ã€å†…ç½‘IPåŠç«¯å£ã€‚\n\n\nä¿¡ä»¤å¤„ç†è¿‡ç¨‹éœ€è¦å®¢æˆ·ç«¯èƒ½å¤Ÿæ¥å›ä¼ é€’æ¶ˆæ¯ï¼Œè¿™ä¸ªè¿‡ç¨‹åœ¨WebRTCé‡Œé¢æ˜¯æ²¡æœ‰å®ç°çš„ï¼Œéœ€è¦è‡ªå·±åˆ›å»ºã€‚ä¸€æ—¦ä¿¡ä»¤æœåŠ¡å»ºç«‹å¥½äº†,ä¸¤ä¸ªå®¢æˆ·ç«¯ä¹‹é—´å»ºç«‹äº†è¿æ¥,ç†è®ºä¸Šä»–ä»¬å°±å¯ä»¥è¿›è¡Œç‚¹å¯¹ç‚¹é€šè®¯äº†,è¿™æ ·å¯ä»¥å‡è½»ä¿¡ä»¤æœåŠ¡çš„å‹åŠ›å’Œæ¶ˆæ¯ä¼ é€’çš„å»¶è¿Ÿã€‚\n\n\nå› ä¸ºä¿¡ä»¤æ˜¯æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„,æ‰€ä»¥å®‰å…¨æ€§é—®é¢˜è·ŸWebRTCæ— å…³,éœ€è¦è‡ªå·±å¤„ç†ã€‚ä¸€æ—¦é»‘å®¢æŒæ¡äº†ä½ çš„ä¿¡ä»¤,é‚£ä»–å°±æ˜¯æ§åˆ¶ä¼šè¯çš„å¼€å§‹ã€ç»“æŸã€é‡å®šå‘ç­‰ç­‰ã€‚æœ€é‡è¦çš„å› ç´ åœ¨ä¿¡ä»¤å®‰å…¨ä¸­è¿˜æ˜¯è¦é ä½¿ç”¨å®‰å…¨åè®®,å¦‚HTTPS,WSS(å¦‚TLS),ä»–ä»¬èƒ½ç¡®ä¿æœªåŠ å¯†çš„æ¶ˆæ¯ä¸èƒ½è¢«æˆªå–ã€‚ä¸ºç¡®ä¿ä¿¡ä»¤å®‰å…¨,å¼ºçƒˆæ¨èä½¿ç”¨TLSã€‚\n\näºŒã€TURNå’ŒSTUN\n\nå…ƒæ•°æ®æ˜¯é€šè¿‡ä¿¡ä»¤æœåŠ¡å™¨ä¸­è½¬å‘ç»™å¦ä¸€ä¸ªå®¢æˆ·ç«¯,ä½†æ˜¯å¯¹äºæµåª’ä½“æ•°æ®,ä¸€æ—¦ä¼šè¯å»ºç«‹,é¦–å…ˆå°è¯•ä½¿ç”¨ç‚¹å¯¹ç‚¹è¿æ¥ã€‚ç®€å•ä¸€ç‚¹è¯´å°±æ˜¯:æ¯ä¸ªå®¢æˆ·ç«¯éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„åœ°å€,ä»–èƒ½ç”¨æ¥å’Œå…¶ä»–å®¢æˆ·ç«¯è¿›è¡Œé€šè®¯å’Œæ•°æ®äº¤æ¢ã€‚\n\n\nç°å®ç”Ÿæ´»ä¸­å®¢æˆ·ç«¯éƒ½ä½äºä¸€ä¸ªæˆ–å¤šä¸ªNATä¹‹å,æˆ–è€…ä¸€äº›æ€æ¯’è½¯ä»¶è¿˜é˜»æ­¢äº†æŸäº›ç«¯å£å’Œåè®®,æˆ–è€…åœ¨å…¬å¸è¿˜æœ‰é˜²ç«å¢™æˆ–ä»£ç†ç­‰ç­‰,é˜²ç«å¢™å’ŒNATæˆ–è®¸æ˜¯åŒä¸€ä¸ªè®¾å¤‡,å¦‚æˆ‘ä»¬å®¶é‡Œç”¨çš„è·¯ç”±å™¨ã€‚\n\n\nWebRTCå°±æ˜¯é€šè¿‡ ICE è¿™å¥—æ¡†æ¶æ¥å¤„ç†å¤æ‚çš„ç½‘ç»œç¯å¢ƒçš„,å¦‚æœæƒ³å¯ç”¨è¿™ä¸ªåŠŸèƒ½,ä½ å¿…é¡»è®©ä½ çš„åº”ç”¨ç¨‹åºä¼  ICE æœåŠ¡å™¨çš„URLï¼šICEè¯•ç€æ‰¾æœ€å¥½çš„è·¯å¾„æ¥è®©å®¢æˆ·ç«¯å»ºç«‹è¿æ¥,ä»–ä¼šå°è¯•æ‰€æœ‰å¯èƒ½çš„é€‰é¡¹,ç„¶åé€‰æ‹©æœ€åˆé€‚çš„æ–¹æ¡ˆ,ICEé¦–å…ˆå°è¯•P2Pè¿æ¥,å¦‚æœå¤±è´¥å°±ä¼šé€šè¿‡TurnæœåŠ¡å™¨è¿›è¡Œè½¬æ¥ã€‚\n\n\næ¢ä¸€ä¸ªè¯´æ³•å°±æ˜¯:STUNæœåŠ¡å™¨æ˜¯ç”¨æ¥å–å¤–ç½‘åœ°å€çš„ã€‚TURNæœåŠ¡å™¨æ˜¯åœ¨P2På¤±è´¥æ—¶è¿›è¡Œè½¬å‘çš„\n\n\nstunå’ŒturnæœåŠ¡çš„ä½œç”¨ä¸»è¦å¤„ç†æ‰“æ´ä¸è½¬å‘ï¼Œé…åˆå®ŒæˆICEåè®®ã€‚é¦–å…ˆå°è¯•ä½¿ç”¨P2Pï¼Œå¦‚æœå¤±è´¥å°†æ±‚åŠ©äºTCPï¼Œä½¿ç”¨turnè½¬å‘ä¸¤ä¸ªç«¯ç‚¹çš„éŸ³è§†é¢‘æ•°æ®ï¼Œturnè½¬å‘çš„æ˜¯ä¸¤ä¸ªç«¯ç‚¹ä¹‹é—´çš„éŸ³è§†é¢‘æ•°æ®ä¸æ˜¯ä¿¡ä»¤æ•°æ®ã€‚å› ä¸ºturnæœåŠ¡å™¨æ˜¯åœ¨å…¬ç½‘ä¸Šï¼Œæ‰€ä»¥ä»–èƒ½è¢«å„ä¸ªå®¢æˆ·ç«¯æ‰¾åˆ°ï¼Œå¦å¤–turnæœåŠ¡å™¨è½¬å‘çš„æ˜¯æ•°æ®æµï¼Œå¾ˆå ç”¨å¸¦å®½å’Œèµ„æºã€‚\n\nä¸‰ã€ICEæŠ€æœ¯\n\nåŸºäºIPçš„è¯­éŸ³ã€æ•°æ®ã€è§†é¢‘ç­‰ä¸šåŠ¡åœ¨NGNï¼ˆNext Generation Networkï¼‰ç½‘ç»œä¸­æ‰€é¢ä¸´çš„ä¸€ä¸ªå®é™…å›°éš¾å°±æ˜¯å¦‚ä½•æœ‰æ•ˆåœ°ç©¿é€å„ç§NATï¼ˆNetwork Address Translatorï¼‰/FW(Fire Wall)çš„é—®é¢˜ã€‚å¯¹æ­¤ï¼ŒSIPï¼ˆä¼šè¯åˆå§‹åŒ–åè®®ï¼‰ä»¥å¾€çš„è§£å†³æ–¹æ³•ç”±ALGsï¼ˆ(Application Layer Gateway Service)ï¼‰ã€STUNã€TURNç­‰æ–¹å¼ã€‚\n\n\nç°åœ¨æœ‰ä¸€ç§æ–°çš„åª’ä½“ä¼šè¯ä¿¡ä»¤ç©¿é€NAT/FWçš„è§£å†³æ–¹æ¡ˆ-äº¤äº’å¼è¿é€šå»ºç«‹æ–¹å¼ICEã€‚å®ƒé€šè¿‡ç»¼åˆåˆ©ç”¨ç°æœ‰åè®®ï¼Œä»¥ä¸€ç§æ›´æœ‰æ•ˆçš„æ–¹å¼æ¥ç»„ç»‡ä¼šè¯å»ºç«‹è¿‡ç¨‹ï¼Œä½¿ä¹‹åœ¨ä¸å¢åŠ ä»»ä½•å»¶è¿ŸåŒæ—¶æ¯”STUNç­‰å•ä¸€åè®®æ›´å…·æœ‰å¥å£®æ€§ã€çµæ´»æ€§ã€‚å¤šåª’ä½“ä¼šè¯ä¿¡ä»¤åè®®æ˜¯åœ¨å‡†å¤‡å»ºç«‹åª’ä½“æµä¼ è¾“çš„ä»£ç†ä¹‹é—´äº¤äº’ä¿¡æ¯çš„åè®®ï¼Œä¾‹å¦‚SIPã€RTSPï¼ˆreal time streaming protocolï¼‰ç­‰ã€‚\n\n\nåª’ä½“æµä¸ä¿¡ä»¤æµæˆªç„¶ä¸åŒï¼Œå®ƒä»¬æ‰€é‡‡ç”¨çš„ç½‘ç»œé€šé“ä¹Ÿä¸ä¸€è‡´ã€‚ç”±äºåè®®è‡ªèº«è®¾è®¡ä¸Šçš„åŸå› ï¼Œä½¿å¾—åª’ä½“æµæ— æ³•ç›´æ¥ç©¿é€ç½‘ç»œåœ°å€è½¬æ¢/é˜²ç«å¢™(NAT/FW)ã€‚å› ä¸ºå®ƒä»¬ç”Ÿå­˜æœŸçš„ç›®æ ‡åªæ˜¯ä¸ºäº†å»ºç«‹ä¸€ä¸ªåœ¨ä¿¡æ¯ä¸­æºå¸¦IPåœ°å€çš„åˆ†ç»„æµï¼Œè¿™åœ¨é‡åˆ°NAT/FW æ—¶ä¼šå¸¦æ¥è®¸å¤šé—®é¢˜ã€‚è€Œä¸”è¿™äº›åè®®çš„ç›®æ ‡æ˜¯é€šè¿‡å»ºç«‹P2P(Peer to Peer)åª’ä½“æµä»¥å‡å°æ—¶å»¶ï¼Œè€Œåè®®æœ¬èº«å¾ˆå¤šæ–¹é¢å´ä¸NATå­˜åœ¨å…¼å®¹æ€§é—®é¢˜ï¼Œè¿™ä¹Ÿæ˜¯ç©¿é€ NAT/FWçš„å›°éš¾æ‰€åœ¨ã€‚\n\nå››ã€ICEç®€ä»‹\n\näº¤äº’å¼è¿é€šå»ºç«‹æ–¹å¼ICE(Interactive Connectivity Establishment)å¹¶éä¸€ç§æ–°çš„åè®®ï¼Œå®ƒä¸éœ€è¦å¯¹STUNã€TURNæˆ–RSIPè¿›è¡Œæ‰©å±•å°±å¯é€‚ç”¨äºå„ç§NATã€‚\n\n\nICEæ˜¯é€šè¿‡ç»¼åˆè¿ç”¨ä¸Šé¢æŸå‡ ç§åè®®ï¼Œä½¿ä¹‹åœ¨æœ€é€‚åˆçš„æƒ…å†µä¸‹å·¥ä½œï¼Œä»¥å¼¥è¡¥å•ç‹¬ä½¿ç”¨å…¶ä¸­ä»»ä½•ä¸€ç§æ‰€å¸¦æ¥çš„å›ºæœ‰ç¼ºé™·ã€‚å¯¹äºSIPæ¥è¯´ï¼ŒICEåªéœ€è¦å®šä¹‰ä¸€äº›SDP(Session Description Protocol)é™„åŠ å±æ€§å³å¯ï¼Œå¯¹äºåˆ«çš„å¤šåª’ä½“ä¿¡ä»¤åè®®ä¹Ÿéœ€è¦åˆ¶å®šä¸€äº›ç›¸åº”çš„æœºåˆ¶æ¥å®ç°ã€‚\n\näº”ã€å¤šåª’ä½“ä¿¡ä»¤\n\nåª’ä½“æµç©¿é€NATçš„è¿‡ç¨‹æ˜¯ç‹¬ç«‹äºæŸç§å…·ä½“çš„ä¿¡ä»¤åè®®çš„ã€‚é€šä¿¡å‘ç”Ÿåœ¨ä¸¤ä¸ªå®¢æˆ·ç«¯ï¼ä¼šè¯å‘èµ·è€…å’Œä¼šè¯å“åº”è€…ã€‚åˆå§‹åŒ–ä¿¡æ¯(Initiate Message)åŒ…å«äº†æè¿°ä¼šè¯å‘èµ·è€…åª’ä½“æµçš„é…ç½®ä¸ç‰¹å¾ï¼Œå¹¶ç»è¿‡ä¿¡ä»¤è°ƒåœè€…(ä¹Ÿå«ä¿¡ä»¤ä¸­ç»§)ï¼Œæœ€ååˆ°è¾¾ä¼šè¯å“åº”è€…ã€‚\n\n\nå‡è®¾ä¼šè¯å“åº”è€…åŒæ„é€šä¿¡ï¼Œæ¥å—ä¿¡æ¯(Accept Message)å°†äº§ç”Ÿå¹¶åé¦ˆè‡³ä¼šè¯åˆå§‹è€…ï¼Œåª’ä½“æµå»ºç«‹æˆåŠŸã€‚æ­¤å¤–ï¼Œä¿¡ä»¤åè®®è¿˜å¯¹åª’ä½“æµå‚æ•°ä¿®æ”¹ä»¥åŠä¼šè¯ç»ˆæ­¢æ¶ˆæ¯ç­‰æä¾›æ”¯æŒã€‚å¯¹äºSIPï¼Œä¼šè¯å‘èµ·è€…å³UAC(User Agent Client)ï¼Œä¼šè¯å“åº”è€…å³UAS(User Agent Server)ï¼Œåˆå§‹åŒ–æ¶ˆæ¯å¯¹åº”SDPè¯·æ±‚é‡Œé¢çš„INVITEï¼Œæ¥å—æ¶ˆæ¯å¯¹åº”äºSDPåº”ç­”é‡Œé¢çš„200 OKï¼Œç»ˆæ­¢æ¶ˆæ¯å¯¹åº”äºBYEã€‚\n\nå…­ã€æµç¨‹\n1ã€æ”¶é›†ä¼ è¾“åœ°å€\nä¼šè¯å‘èµ·è€…éœ€è¦æ”¶é›†çš„å¯¹è±¡åŒ…æ‹¬ï¼š\n\næœ¬åœ°ä¼ è¾“åœ°å€(Local Transport Address)\næ¥æºä¼ è¾“åœ°å€(Derived Transport Address)ã€‚\n\n\næœ¬åœ°ä¼ è¾“åœ°å€ï¼š\n\né€šå¸¸ç”±ä¸»æœºä¸Šä¸€ä¸ªç‰©ç†(æˆ–è™šæ‹Ÿ)æ¥å£ç»‘å®šä¸€ä¸ªç«¯å£è€Œè·å¾—ã€‚ä¼šè¯å‘èµ·è€…è¿˜å°†è®¿é—®æä¾›UNSAF(Unilateral self-address fixing)çš„æœåŠ¡å™¨ï¼Œä¾‹å¦‚STUNã€TURNæˆ–TEREDOã€‚\nå¯¹äºæ¯ä¸€ä¸ªæœ¬åœ°ä¼ è¾“åœ°å€ï¼Œä¼šè¯è€…éƒ½å¯ä»¥ä»æœåŠ¡å™¨ä¸Šè·å¾—ä¸€ç»„æ¥æºä¼ è¾“åœ°å€ã€‚\n\n\næ˜¾ç„¶ï¼Œå®ç°ç‰©ç†æˆ–è™šæ‹Ÿè¿é€šæ–¹å¼è¶Šå¤šï¼ŒICEå°†å·¥ä½œå¾—è¶Šå¥½ã€‚ä½†ä¸ºäº†å»ºç«‹å¯¹ç­‰é€šä¿¡ï¼ŒICEé€šå¸¸è¦æ±‚è‡³å°‘æœ‰ä¸€ä¸ªæ¥æºåœ°å€ç”±ä½äºå…¬ç½‘ä¸Šçš„ä¸­ç»§æœåŠ¡å™¨(å¦‚TURN)æ‰€æä¾›çš„ï¼Œè€Œä¸”éœ€è¦çŸ¥é“å…·ä½“æ˜¯å“ªä¸€ä¸ªæ¥æºä¼ è¾“åœ°å€ã€‚\n\n2ã€å¯åŠ¨STUN\nä¼šè¯å‘èµ·è€…è·å¾—ä¸€ç»„ä¼ è¾“åœ°å€åï¼Œå°†åœ¨æœ¬åœ°ä¼ è¾“åœ°å€å¯åŠ¨STUNæœåŠ¡å™¨ï¼Œè¿™æ„å‘³ç€å‘é€åˆ°æ¥æºåœ°å€çš„STUNæœåŠ¡å°†æ˜¯å¯è¾¾çš„ã€‚ä¸ä¼ ç»Ÿçš„STUNä¸åŒï¼Œå®¢æˆ·ç«¯ä¸éœ€è¦åœ¨ä»»ä½•å…¶å®ƒIPæˆ–ç«¯å£ä¸Šæä¾›STUNæœåŠ¡ï¼Œä¹Ÿä¸å¿…æ”¯æŒTLSï¼Œ ICEç”¨æˆ·åå’Œå¯†ç å·²ç»é€šè¿‡ä¿¡ä»¤åè®®è¿›è¡Œäº¤æ¢ã€‚å®¢æˆ·ç«¯å°†åœ¨æ¯ä¸ªæœ¬åœ°ä¼ è¾“åœ°å€ä¸ŠåŒæ—¶æ¥å—STUNè¯·æ±‚åŒ…å’Œåª’ä½“åŒ…ï¼Œæ‰€ä»¥å‘èµ·è€…éœ€è¦æ¶ˆé™¤STUNæ¶ˆæ¯ä¸åª’ä½“æµåè®®ä¹‹é—´çš„æ­§ä¹‰ã€‚\n\n\nåœ¨RTPå’ŒRTCPä¸­å®ç°è¿™ä¸ªå¹¶ä¸éš¾ï¼Œå› ä¸ºRTPä¸RTCPåŒ…æ€»æ˜¯ä»¥0b10(v=2)æ‰“å¤´ï¼Œè€ŒSTUNæ˜¯0b00ã€‚å¯¹äºæ¯ä¸ªè¿è¡ŒSTUNæœåŠ¡å™¨çš„æœ¬åœ°ä¼ è¾“åœ°å€ï¼Œå®¢æˆ·ç«¯éƒ½å¿…é¡»é€‰æ‹©ç›¸åº”çš„ç”¨æˆ·åå’Œå¯†ç ã€‚ç”¨æˆ·åè¦æ±‚å¿…é¡»æ˜¯å…¨å±€å”¯ä¸€çš„ï¼Œç”¨æˆ·åå’Œå¯†ç å°†è¢«åŒ…å«åœ¨åˆå§‹åŒ–æ¶ˆæ¯é‡Œä¼ è‡³å“åº”è€…ï¼Œç”±å“åº”è€…å¯¹STUNè¯·æ±‚è¿›è¡Œé‰´åˆ«ã€‚\n\n3. ç¡®å®šä¼ è¾“åœ°å€çš„ä¼˜å…ˆçº§\nSTUNæœåŠ¡å™¨å¯åŠ¨åï¼Œä¸‹ä¸€æ­¥å°±æ˜¯ç¡®å®šä¼ è¾“åœ°å€çš„ä¼˜å…ˆçº§ã€‚ä¼˜å…ˆçº§åæ˜ äº†UAåœ¨è¯¥åœ°å€ä¸Šæ¥æ”¶åª’ä½“æµçš„ä¼˜å…ˆçº§åˆ«ï¼Œå–å€¼èŒƒå›´åœ¨0åˆ°1ä¹‹é—´ï¼Œé€šå¸¸ä¼˜å…ˆçº§æŒ‰ç…§è¢«ä¼ è¾“åª’ä½“æµé‡æ¥ç¡®å®šã€‚\n\n\næµé‡å°è€…ä¼˜å…ˆï¼Œè€Œä¸”å¯¹äºç›¸åŒæµé‡è€…çš„Ipv6åœ°å€æ¯”Ipv4åœ°å€å…·æœ‰æ›´é«˜ä¼˜å…ˆçº§ã€‚å› æ­¤ç‰©ç†æ¥å£äº§ç”Ÿçš„æœ¬åœ°Ipv6ä¼ è¾“åœ°å€å…·æœ‰æœ€é«˜çš„ä¼˜å…ˆçº§ï¼Œç„¶åæ˜¯æœ¬åœ°Ipv4ä¼ è¾“åœ°å€ï¼Œç„¶åæ˜¯STUNã€RSIPã€TEREDOæ¥æºåœ°å€ï¼Œæœ€åæ˜¯é€šè¿‡VPNæ¥å£è·å¾—çš„æœ¬åœ°ä¼ è¾“åœ°å€ã€‚\n\n4. æ„å»ºåˆå§‹åŒ–ä¿¡æ¯(Initiate Message)\nåˆå§‹åŒ–æ¶ˆæ¯ç”±ä¸€ç³»åˆ—åª’ä½“æµç»„æˆï¼Œæ¯ä¸ªåª’ä½“æµéƒ½æœ‰ä¸€ä¸ªç¼ºçœåœ°å€å’Œå€™é€‰åœ°å€åˆ—è¡¨ã€‚ç¼ºçœåœ°å€é€šå¸¸è¢«Initiateæ¶ˆæ¯æ˜ å°„åˆ°SIPä¿¡ä»¤æ¶ˆæ¯ä¼ é€’åœ°å€ä¸Šï¼Œè€Œå€™é€‰åœ°å€åˆ—è¡¨ç”¨äºæä¾›ä¸€äº›é¢å¤–çš„åœ°å€ã€‚å¯¹äºæ¯ä¸ªåª’ä½“æµæ¥è¯´ï¼Œä»»æ„Peerä¹‹é—´å®ç°æœ€å¤§è¿é€šå¯èƒ½æ€§çš„ä¼ è¾“åœ°å€æ˜¯ç”±å…¬ç½‘ä¸Šè½¬å‘æœåŠ¡å™¨(å¦‚TURN)æä¾›çš„åœ°å€ï¼Œé€šå¸¸è¿™ä¹Ÿæ˜¯ä¼˜å…ˆçº§æœ€ä½çš„ä¼ è¾“åœ°å€ã€‚å®¢æˆ·ç«¯å°†å¯ç”¨çš„ä¼ è¾“åœ°å€ç¼–æˆä¸€ä¸ªå€™é€‰åœ°å€åˆ—è¡¨(åŒ…æ‹¬ä¸€ä¸ªç¼ºçœåœ°å€)ï¼Œå¹¶ä¸”ä¸ºæ¯ä¸ªå€™é€‰å…ƒç´ åˆ†é…ä¸€ä¸ªä¼šè¯ä¸­å”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚è¯¥æ ‡è¯†ç¬¦ä»¥åŠä¸Šè¿°çš„ä¼˜å…ˆçº§éƒ½è¢«ç¼–ç åœ¨å€™é€‰å…ƒç´ çš„idå±æ€§ä¸­ã€‚ä¸€æ—¦åˆå§‹åŒ–ä¿¡æ¯ç”Ÿæˆåå³å¯è¢«å‘é€ã€‚\n\n5. å“åº”å¤„ç†ï¼šè¿é€šæ€§æ£€æŸ¥å’Œåœ°å€æ”¶é›†\nä¼šè¯åº”ç­”æ–¹æ¥æ”¶åˆ°åˆå§‹åŒ–ä¿¡æ¯Initiate Messageåï¼Œä¼šåŒæ—¶åšå‡ ä¸ªäº‹æƒ…ï¼šé¦–å…ˆï¼Œæ‰§è¡Œ æ”¶é›†ä¼ è¾“åœ°å€ ä¸­æè¿°çš„åœ°å€æ”¶é›†è¿‡ç¨‹ã€‚è¿™äº›åœ°å€å¯ä»¥åœ¨å‘¼å«åˆ°è¾¾å‰é¢„æ”¶é›†ï¼Œè¿™æ ·å¯ä»¥é¿å…å¢åŠ å‘¼å«å»ºç«‹çš„æ—¶é—´ã€‚å½“è·å¾—æ¥æºåœ°å€ä»¥åï¼Œåº”ç­”æ–¹ä¼šå‘é€STUN Bindè¯·æ±‚ï¼Œè¯¥è¯·æ±‚è¦æ±‚å¿…é¡»åŒ…å«Usernameå±æ€§å’ŒPasswordå±æ€§ï¼Œå±æ€§å€¼ä¸ºä» â€œaltâ€ä¸­å¾—åˆ°çš„ç”¨æˆ·åå’Œå¯†ç ã€‚\n\n\nSTUN Bindè¯·æ±‚è¿˜åº”åŒ…æ‹¬ä¸€ä¸ªMessage-Integrityå±æ€§ï¼Œå®ƒæ˜¯ç”±Initiate Messageä¸­å€™é€‰å…ƒç´ çš„ç”¨æˆ·åå’Œå¯†ç è®¡ç®—å¾—æ¥çš„ã€‚æ­¤å¤–ï¼ŒSTUN Bindè¯·æ±‚ä¸åº”æœ‰Change-Requestæˆ–Response-Addresså±æ€§ã€‚å½“ä¸€ä¸ªå®¢æˆ·ç«¯æ”¶åˆ°Initiate Messageæ—¶ï¼Œå®ƒå°†é€šè¿‡å…¶ä¸­ç¼ºçœåœ°å€å’Œç«¯å£å‘é€åª’ä½“æµã€‚å¦‚æœSTUN Bindè¯·æ±‚æ¶ˆæ¯å¼•èµ·é”™è¯¯åº”ç­”ï¼Œåˆ™éœ€è¦æ£€æŸ¥é”™è¯¯ä»£ç ã€‚\n\n\nå¦‚æœæ˜¯401ï¼Œ430ï¼Œ432æˆ–500ï¼Œè¯´æ˜å®¢æˆ·ç«¯åº”è¯¥é‡æ–°å‘é€è¯·æ±‚ã€‚å¦‚æœé”™è¯¯ä»£ç æ˜¯400ï¼Œ431å’Œ600ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯ä¸å¿…é‡è¯•ï¼Œç›´æ¥æŒ‰è¶…æ—¶å¤„ç†å³å¯ã€‚\n\n6. ç”Ÿæˆæ¥å—ä¿¡æ¯(Accept Message)\nåº”ç­”è€…å¯ä»¥å†³å®šæ˜¯æ¥å—æˆ–æ‹’ç»è¯¥é€šä¿¡ï¼Œè‹¥æ‹’ç»åˆ™ICEè¿‡ç¨‹ç»ˆæ­¢ï¼Œè‹¥æ¥å—åˆ™å‘é€Acceptæ¶ˆæ¯ã€‚Acceptæ¶ˆæ¯çš„æ„é€ è¿‡ç¨‹ä¸Initiate Messageç±»ä¼¼ã€‚\n\n7. æ¥å—ä¿¡æ¯å¤„ç†\næ¥å—è¿‡ç¨‹æœ‰ä¸¤ç§å¯èƒ½ã€‚å¦‚æœInitiate Messageçš„æ¥å—è€…ä¸æ”¯æŒICEï¼Œåˆ™Accept Messageå°†åªåŒ…å«ç¼ºçœçš„åœ°å€ä¿¡æ¯ï¼Œè¿™æ ·å‘èµ·æ–¹å°±çŸ¥é“å®ƒä¸ç”¨æ‰§è¡Œè¿é€šæ€§æ£€æŸ¥äº†ã€‚ç„¶è€Œå¦‚æœæœ¬åœ°é…ç½®ä¿¡æ¯è¦æ±‚å‘èµ·è€…é€šè¿‡TURNæœåŠ¡å™¨å‘åŒ…æ¥è¿›è¡Œè¿é€šæ€§æ£€æŸ¥ï¼Œè¿™å°†æ„å‘³ç€é‚£äº›ç›´æ¥å‘ç»™å“åº”è€…çš„åŒ…ä¼šè¢«å¯¹æ–¹é˜²ç«å¢™ä¸¢å¼ƒã€‚\n\n\nä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå‘èµ·è€…éœ€è¦é‡æ–°åˆ†é…ä¸€ä¸ªTURNæ¥æºåœ°å€ï¼Œç„¶åä½¿ç”¨Sendå‘½ä»¤ã€‚ä¸€æ—¦Sendå‘½ä»¤è¢«æ¥å—ï¼Œå‘èµ·è€…å°†å‘é€æ‰€æœ‰çš„åª’ä½“åŒ…åˆ°TURNæœåŠ¡å™¨ï¼Œç”±æœåŠ¡å™¨è½¬å‘è‡³å“åº”è€…ã€‚å¦‚æœAccept MessageåŒ…å«å€™é€‰é¡¹ï¼Œåˆ™å‘èµ·æ–¹å¤„ç†Accept Messageçš„è¿‡ç¨‹å°±ä¸å“åº”æ–¹å¤„ç†Initiate Messageå¾ˆç›¸ä¼¼äº†ã€‚\n\n8. é™„åŠ ICEè¿‡ç¨‹\nInitiateæˆ–Acceptæ¶ˆæ¯äº¤æ¢è¿‡ç¨‹ç»“æŸåï¼ŒåŒæ–¹å¯èƒ½ä»å°†ç»§ç»­æ”¶é›†ä¼ è¾“åœ°å€ï¼Œè¿™é€šå¸¸æ˜¯ç”±äºæŸäº›STUNäº‹åŠ¡è¿‡é•¿è€Œæœªç»“æŸå¼•èµ·ï¼Œå¦ä¸€ç§å¯èƒ½æ˜¯ç”±äºInitiate/Acceptæ¶ˆæ¯äº¤æ¢æ—¶æä¾›äº†æ–°çš„åœ°å€ã€‚\n\n9. ICEåˆ°SIPçš„æ˜ å°„\nä½¿ç”¨ICEæ–¹å¼ç©¿é€NATï¼Œå¿…é¡»æ˜ å°„ICEå®šä¹‰çš„å‚æ•°åˆ°SIPæ¶ˆæ¯æ ¼å¼ä¸­ï¼ŒåŒæ—¶å¯¹å…¶SDPå±æ€§è¿›è¡Œç®€å•æ‰©å±•â€”åœ¨SDPçš„Mediaå—ä¸­å®šä¹‰ä¸€ä¸ªæ–°çš„å±æ€§â€œaltâ€æ¥æ”¯æŒICEã€‚å®ƒåŒ…å«ä¸€ä¸ªå€™é€‰IPåœ°å€å’Œç«¯å£ï¼ŒSDPçš„æ¥å—ç«¯å¯ä»¥ç”¨è¯¥åœ°å€æ¥æ›¿æ¢må’Œcä¸­çš„åœ°å€ã€‚Mediaå—ä¸­å¯èƒ½ä¼šæœ‰å¤šä¸ªaltå±æ€§ï¼Œè¿™æ—¶æ¯ä¸ªaltåº”è¯¥åŒ…æ‹¬ä¸é‡å¤çš„IPåœ°å€å’Œç«¯å£ã€‚\n\nä¸ƒã€å†™åœ¨æœ€å\nICEæ–¹å¼çš„ä¼˜åŠ¿æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œå®ƒæ¶ˆé™¤äº†ç°æœ‰çš„UNSAFæœºåˆ¶çš„è®¸å¤šè„†å¼±æ€§ã€‚ä¾‹å¦‚ä¼ ç»Ÿçš„STUNæœ‰å‡ ä¸ªè„†å¼±ç‚¹ï¼š\n\n ä¸€ä¸ªæ˜¯å‘ç°è¿‡ç¨‹éœ€è¦å®¢æˆ·ç«¯è‡ªå·±å»åˆ¤æ–­æ‰€åœ¨NATç±»å‹ï¼Œè¿™å®é™…ä¸Šä¸æ˜¯ä¸€ä¸ªå¯å–çš„åšæ³•ã€‚è€Œåº”ç”¨ICEä¹‹åï¼Œè¿™ä¸ªå‘ç°è¿‡ç¨‹å·²ç»ä¸éœ€è¦äº†ã€‚\n\n\nå¦ä¸€ç‚¹è„†å¼±æ€§åœ¨äºSTUNã€TURNç­‰æœºåˆ¶éƒ½å®Œå…¨ä¾èµ–äºä¸€ä¸ªé™„åŠ çš„æœåŠ¡å™¨ï¼Œè€ŒICEåˆ©ç”¨æœåŠ¡å™¨åˆ†é…å•è¾¹åœ°å€çš„åŒæ—¶ï¼Œè¿˜å…è®¸å®¢æˆ·ç«¯ç›´æ¥ç›¸è¿ï¼Œå› æ­¤å³ä½¿STUNæˆ–TRUNæœåŠ¡å™¨ä¸­æœ‰ä»»ä½•ä¸€ä¸ªå¤±è´¥äº†ï¼ŒICEæ–¹å¼ä»å¯è®©å‘¼å«è¿‡ç¨‹ç»§ç»­ä¸‹å»ã€‚\n\n\næ­¤å¤–ï¼Œä¼ ç»Ÿçš„STUNæœ€å¤§çš„ç¼ºé™·åœ¨äºå®ƒä¸èƒ½ä¿è¯åœ¨æ‰€æœ‰ç½‘ç»œæ‹“æ‰‘ç»“æ„ä¸­éƒ½æ­£å¸¸å·¥ä½œï¼Œæœ€å…¸å‹çš„é—®é¢˜å°±æ˜¯Symmetric NATã€‚å¯¹äºTURNæˆ–ç±»ä¼¼è½¬å‘æ–¹å¼å·¥ä½œçš„åè®®æ¥è¯´ï¼Œç”±äºæœåŠ¡å™¨çš„è´Ÿæ‹…è¿‡é‡ï¼Œå¾ˆå®¹æ˜“å‡ºç°ä¸¢åŒ…æˆ–è€…å»¶è¿Ÿæƒ…å†µã€‚è€ŒICEæ–¹å¼æ­£å¥½æä¾›äº†ä¸€ç§è´Ÿè½½å‡è¡¡çš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒå°†è½¬å‘æœåŠ¡ä½œä¸ºä¼˜å…ˆçº§æœ€ä½çš„æœåŠ¡ï¼Œä»è€Œåœ¨æœ€å¤§ç¨‹åº¦ä¸Šä¿è¯äº†æœåŠ¡çš„å¯é æ€§å’Œçµæ´»æ€§ã€‚\n\n\næ­¤å¤–ï¼ŒICEçš„ä¼˜åŠ¿è¿˜åœ¨äºå¯¹Ipv6çš„æ”¯æŒï¼Œç›®å‰Ciscoç­‰å…¬å¸æ­£åœ¨è®¾è®¡åŸºäºICEæ–¹å¼çš„NAT/FWè§£å†³æ–¹æ¡ˆã€‚\n\n\nç”±äºå¹¿æ³›çš„é€‚åº”èƒ½åŠ›ä»¥åŠå¯¹æœªæ¥ç½‘ç»œçš„æ”¯æŒï¼ŒICEä½œä¸ºä¸€ç§ç»¼åˆçš„è§£å†³æ–¹æ¡ˆå°†æœ‰ç€éå¸¸å¹¿é˜”çš„åº”ç”¨å‰æ™¯ã€‚\n\n","categories":["WebRTC"],"tags":["WebRTC"]},{"title":"Webé¡¹ç›®å®æˆ˜","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/web-xiang-mu-de-kai-fa/","content":"Webé¡¹ç›®å®æˆ˜webé¡¹ç›®çš„å¼€å‘ï¼šå¦‚ä½•åˆ†æï¼Œè®¾è®¡ï¼Œç¼–ç ï¼Œæµ‹è¯•ã€‚\n2.CRMé¡¹ç›®ï¼š\nCRMé¡¹ç›®å°±æ˜¯å®¢æˆ·å…³ç³»ç®¡ç†é¡¹ç›®ã€‚å®¢æˆ·å…³ç³»ç®¡ç†ï¼ˆCRMï¼‰æ˜¯åˆ©ç”¨ä¿¡æ¯ç§‘å­¦æŠ€æœ¯ï¼Œå®ç°å¸‚åœºè¥é”€ã€é”€å”®ã€æœåŠ¡ç­‰æ´»åŠ¨è‡ªåŠ¨åŒ–ï¼Œä½¿ä¼ä¸šèƒ½æ›´é«˜æ•ˆåœ°ä¸ºå®¢æˆ·æä¾›æ»¡æ„ã€å‘¨åˆ°çš„æœåŠ¡ï¼Œä»¥æé«˜å®¢æˆ·æ»¡æ„åº¦ã€å¿ è¯šåº¦ä¸ºç›®çš„çš„ä¸€ç§ç®¡ç†ç»è¥æ–¹å¼ã€‚å®¢æˆ·å…³ç³»ç®¡ç†æ—¢æ˜¯ä¸€ç§ç®¡ç†ç†å¿µï¼Œåˆæ˜¯ä¸€ç§è½¯ä»¶æŠ€æœ¯ã€‚ä»¥å®¢æˆ·ä¸ºä¸­å¿ƒçš„ç®¡ç†ç†å¿µæ˜¯CRMå®æ–½çš„åŸºç¡€ã€‚Crmé¡¹ç›®çš„èƒŒæ™¯åˆ†ä¸ºèµ·æºèƒŒæ™¯å’Œå‘å±•èƒŒæ™¯ä¸¤éƒ¨åˆ†ã€‚\n\n3.CRMçš„æŠ€æœ¯æ¶æ„ï¼š\nè§†å›¾å±‚ï¼ˆViewï¼‰ï¼šå±•ç¤ºæ•°æ®ï¼Œè·Ÿç”¨æˆ·äº¤äº’ã€‚\nâ€‹\t\t\t\t\t\t\tHTMLï¼ŒCSSï¼ŒJavaScriptï¼ŒjQueryï¼Œbootstrapï¼ˆext|easyUIï¼‰ï¼Œjsp\næ§åˆ¶å±‚ï¼ˆControllerï¼‰ï¼šæ§åˆ¶ä¸šåŠ¡å¤„ç†æµç¨‹ï¼ˆæ¥æ”¶è¯·æ±‚ï¼Œæ¥æ”¶å‚æ•°ï¼Œå°è£…å‚æ•°ï¼›æ ¹æ®ä¸åŒçš„è¯·æ±‚è°ƒç”¨ä¸šåŠ¡å±‚å»å¤„ç†ä¸šåŠ¡ï¼›æ ¹æ®å¤„ç†ç»“æœï¼Œè¿”å›å“åº”ä¿¡æ¯ï¼‰\nâ€‹\t\t\t\t\t\t\t\t\tï¼ˆServletï¼Œï¼‰SpringMVCï¼ˆï¼Œwebworkï¼ŒStrutsï¼‰\nä¸šåŠ¡å±‚ï¼ˆServiceï¼‰ï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘ã€‚ï¼ˆå¤„ç†ä¸šåŠ¡çš„æ­¥éª¤ä»¥åŠæ“ä½œçš„åŸå­æ€§ï¼‰\nâ€‹\t\t\t\t\t\t\t\tJAVASEï¼ˆå·¥ä½œæµï¼šactiviti | JBPMï¼‰\nâ€‹\t\t\t\t\t\t\t\t1ï¼Œæ·»åŠ å­¦ç”Ÿ\nâ€‹\t\t\t\t\t\t\t\t2ï¼Œè®°å½•æ“ä½œæ—¥è®°\næŒä¹…å±‚ï¼ˆDao/Mapperï¼‰ï¼šæ“ä½œæ•°æ®åº“ã€‚\nâ€‹\t\t\t\t\t\t\t\t\t\tï¼ˆjdbcï¼Œï¼‰MyBatisï¼ˆï¼ŒHibernateï¼‰\næ•´åˆå±‚ï¼šç»´æŠ¤ç±»èµ„æºï¼Œç»´æŠ¤æ•°æ®åº“èµ„æº\nâ€‹\t\t\tSpringï¼ˆIOCï¼ŒAOPï¼‰ï¼ˆï¼Œejbï¼Œcorbaï¼‰\n\n4.è½¯ä»¶å…¬å¸çš„ç»„ç»‡ç»“æ„ï¼š\nç ”å‘éƒ¨ï¼ˆç¨‹åºå‘˜ï¼Œç¾å·¥ï¼ŒDBAï¼‰ï¼Œæµ‹è¯•éƒ¨ï¼ˆï¼‰ï¼Œå®æ–½éƒ¨ï¼Œè¿ç»´éƒ¨ï¼Œå¸‚åœºéƒ¨\n\næ­å»ºå¼€å‘ç¯å¢ƒï¼š\nåˆ›å»ºé¡¹ç›®ï¼šcrm-project\nè®¾ç½®JDKã€‚\nåˆ›å»ºå·¥ç¨‹ï¼šcrm\nè¡¥å…¨ç›®å½•ç»“æ„ï¼š\nè®¾ç½®ç¼–ç æ ¼å¼ï¼šUTF-8\n\næ·»åŠ jaråŒ…ï¼šæ·»åŠ ä¾èµ–â€”â€”å‚è€ƒè¯¾ä»¶ã€‚\n\næ·»åŠ é…ç½®æ–‡ä»¶ï¼š\n\n\n","categories":["è½¯ä»¶å·¥ç¨‹","Web"],"tags":["è½¯ä»¶å·¥ç¨‹"]},{"title":"zookeeperå­¦ä¹ ","url":"/2025/04/18/learnnote/java-xue-xi-bi-ji/zookeeper-xue-xi/","content":"zookeeperå­¦ä¹ \n","categories":["zookeeper"],"tags":["zookeeper","java"]},{"title":"ä»€ä¹ˆæ˜¯å¹‚ç­‰æ€§","url":"/2025/03/01/learnnote/java-xue-xi-bi-ji/shi-me-shi-mi-deng-xing/","content":"ä»€ä¹ˆæ˜¯å¹‚ç­‰æ€§\n\nå¹‚ç­‰æ€§ï¼Œå°±æ˜¯å¥—ä¸ªé«˜å¤§ä¸Šåå­—çš„æ™®é€šæ¦‚å¿µï¼Œæ ¹æœ¬ä¸æ˜¯ä»€ä¹ˆæ–°æ¦‚å¿µï¼Œç”šè‡³ä½ å¼€å‘æ—¶ç»å¸¸ä¼šå®ç°æ‰€è°“çš„å¹‚ç­‰æ€§\n\nå¹‚ç­‰æ€§é€šä¿—æ¦‚å¿µï¼šè°ƒç”¨æ–¹ï¼Œå¯¹ä¸€ä¸ªç³»ç»Ÿè¿›è¡Œé‡å¤è°ƒç”¨ï¼ˆå‚æ•°å…¨éƒ¨ç›¸åŒï¼‰ï¼Œä¸è®ºé‡å¤è°ƒç”¨å¤šå°‘æ¬¡ï¼Œè¿™äº›è°ƒç”¨å¯¹ç³»ç»Ÿçš„å½±å“éƒ½æ˜¯ç›¸åŒçš„æ•ˆæœã€‚å°±æ˜¯ä¸è®ºè°ƒç”¨å¤šå°‘æ¬¡ä½ å¯¹æˆ‘çš„å½±å“ä»¥åŠä½ çš„å½±å“éƒ½æ˜¯ä¸å˜çš„ï¼Œéƒ¨é•¿éšç€æ¬¡æ•°çš„å˜åŒ–è€Œå˜åŒ–ã€‚\nç®€å•ä¸¾ä¸ªä¾‹å­ï¼šå¤©ç„¶å¹‚ç­‰æ€§ï¼šåŠ ä¸Šå¯¹è±¡Personä¸­æœ‰ä¸ªnameå±æ€§ï¼Œæœ‰ä¸ª\nsetName(String name) {    this.name = name;}\n\nçš„æ–¹æ³•ï¼Œé‚£è¿™ä¸ªæ–¹æ³•å°±æ˜¯å¤©ç„¶å¹‚ç­‰çš„ï¼Œä½ è¾“å…¥ç›¸åŒçš„â€œå°æ˜â€å‚æ•°ï¼Œä¸è®ºä½ é‡å¤è°ƒç”¨å¤šå°‘æ¬¡éƒ½æ˜¯å°†åå­—è®¾ç½®ä¸ºâ€œå°æ˜â€ï¼Œå…¶å¯¹å¯¹è±¡Personçš„å½±å“éƒ½æ˜¯ä¸€æ ·çš„ã€‚è¿™å°±æ˜¯å¤©ç„¶å¹‚ç­‰æ€§ã€‚\néå¹‚ç­‰æ€§ï¼šè¿˜æ˜¯æ‹¿å¯¹è±¡Personä¸¾ä¾‹å­ï¼Œå‡è®¾å¯¹è±¡ä¸­æœ‰ä¸ªageå±æ€§ï¼Œæœ‰ä¸ª\nincreaseAge(){    this.age++;}\n\næ–¹æ³•ï¼Œæˆ‘ä»¬æŒ‰æ­£å¸¸çš„æ­¥éª¤ä¸€æ¬¡ä¸€æ¬¡è°ƒç”¨æ˜¯ä¸ä¼šæœ‰é—®é¢˜çš„ï¼Œå¦‚æœè°ƒç”¨è€…æ²¡æœ‰æŒæ§å¥½é€»è¾‘ï¼Œä¸€æ¬¡æµç¨‹é‡å¤è°ƒç”¨å¥½å‡ æ¬¡ï¼Œè¿™æ—¶å€™å½±å“æ•ˆæœå’Œä¸€æ¬¡æ˜¯æœ‰éå¸¸å¤§åŒºåˆ«ï¼Œä»£ç ç¼–å†™è€…ä»¥ä¸ºå®ƒåªä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œç»“æœå‡ºç°äº†æ„å¤–è°ƒç”¨äº†å¾ˆå¤šæ¬¡ï¼Œæ°å¥½æ–¹æ³•ä¸å…·æœ‰å¹‚ç­‰æ€§ï¼Œäºæ˜¯å°±ä¼šå‡ºç°å’Œé¢„æœŸä¸ä¸€æ ·çš„æ•ˆæœã€‚è¿™ä¸ªæ–¹æ³•æœ¬èº«æ˜¯ä¸å…·å¤‡å¹‚ç­‰æ€§çš„ï¼Œæˆ‘å¯ä»¥ä¿®æ”¹è¿™ä¸ªæ–¹æ³•ï¼Œè®©å…¶ä¼ å…¥ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œæ¯ä¸€æ¬¡é‡å¤çš„è¯·æ±‚ä¼šæœ‰ç›¸åŒçš„æ ‡è¯†ç¬¦ï¼Œæ–¹æ³•å†…éƒ¨å¯ä»¥æ›´å…·æ ‡è¯†ç¬¦æŸ¥æ•°æ®åº“æ˜¯ä¸æ˜¯å·²ç»å¤„ç†è¿‡ï¼Œå¦‚æœå¤„ç†è¿‡å°±ä¸é‡å¤å¤„ç†ã€‚è¿™æ ·æ–¹æ³•å°±å…·å¤‡äº†å¹‚ç­‰æ€§ã€‚\nå†ä¸¾ä¸ªå®é™…ç‚¹çš„ä¾‹å­ï¼šå®¢æˆ·åœ¨è¿›è¡Œä¸€ç¬”è½¬è´¦äº¤æ˜“ï¼Œåç«¯åˆ’åˆ†äº†ä¸¤ä¸ªç³»ç»Ÿæ¥å¤„ç†è¿™ä¸ªè½¬è´¦çš„æµç¨‹ï¼š\nâ‘ ç³»ç»ŸAè´Ÿè´£æ”¶é›†è½¬è´¦äººå’Œæ¥æ”¶äººè¿˜æœ‰é‡‘é¢çš„ä¿¡æ¯ç„¶åä¼ ç»™ç³»ç»ŸBè¿›è¡Œè½¬è´¦ï¼Œå°†æ§åˆ¶é€»è¾‘ç•™åœ¨ç³»ç»ŸAã€‚\nâ‘¡ç³»ç»ŸBè¯»å–ç³»ç»ŸAä¼ è¿‡æ¥çš„ä¿¡æ¯ï¼Œè´Ÿè´£æ›´æ”¹æ•°æ®åº“çš„é‡‘é¢ã€‚å¦‚æœæ“ä½œæˆåŠŸï¼Œå°±å›å¤ç³»ç»ŸAæˆåŠŸï¼Œå¦‚æœå¤±è´¥å°±å›å¤ç³»ç»ŸAå¤±è´¥ã€‚\nâ‘¢ç³»ç»ŸAå¯ä»¥æ¥å—ç³»ç»ŸBæ“ä½œæˆåŠŸæˆ–å¤±è´¥çš„å›å¤ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“ï¼Œç³»ç»ŸAè¿™ä¸ªäº¤æ˜“æµç¨‹æ˜¯æœ‰ç­‰å¾…æ—¶é—´çš„ï¼Œå¦‚æœç­‰å¾…è¶…æ—¶ï¼Œå®ƒä¸ç¡®è®¤æ˜¯å¦æ˜¯è½¬è´¦æˆåŠŸæˆ–å¤±è´¥ï¼Œäºæ˜¯ç³»ç»ŸAä¼šé‡è¯•è°ƒç”¨ç›´åˆ°å¾—åˆ°ä¸€ä¸ªæ˜ç¡®çš„å›å¤ã€‚\nè¿™æ˜¯ç³»ç»Ÿå¤§è‡´çš„äº¤æ˜“æµç¨‹ã€‚è¿™ä¸ªæµç¨‹æ˜¯æœ‰é—®é¢˜çš„ï¼Œç³»ç»ŸBæä¾›çš„æ“ä½œæ¥å£ä¸æ˜¯å¹‚ç­‰æ€§çš„ã€‚\né€»è¾‘æ¼æ´ï¼šå‡è®¾ç³»ç»ŸBæ“ä½œæˆåŠŸäº†ï¼Œä½†æ˜¯ç”±äºç³»ç»ŸBå›å¤çš„æ—¶å€™é‡åˆ°ç½‘ç»œæŠ–åŠ¨ã€ç½‘ç»œé˜»å¡ã€ç½‘ç»œé£æš´ç­‰ï¼Œè¿™ä¸ªæˆåŠŸçš„æ¶ˆæ¯æ²¡æœ‰åŠæ—¶è¢«ç³»ç»ŸAæ¥æ”¶ï¼Œç³»ç»ŸAå†é‡è¯•è®©ç³»ç»ŸBè½¬è´¦ï¼Œç»“æœä¼šå¯¼è‡´ï¼šç”¨æˆ·ç‚¹å‡»ä¸€æ¬¡è½¬è´¦ï¼Œåå°ä¸ºä»–è½¬äº†å¾ˆå¤šç¬”ã€‚è¿™æ˜¯éå¸¸å±é™©çš„ã€‚\nè§£å†³åŠæ³•ï¼šæˆ‘ä»¬å¯ä»¥ä¸ºæ¯ä¸€ç¬”ç”¨æˆ·å‘èµ·çš„è½¬è´¦è¯·æ±‚èµ‹äºˆä¸€ä¸ªå…¨å±€å”¯ä¸€çš„IDï¼ŒæŠŠè¿™ä¸ªIDåœ¨è°ƒç”¨ç³»ç»ŸBçš„æ—¶å€™ä¸€èµ·ä¼ è¾“è¿›å»ï¼Œç¬¬ä¸€æ¬¡ç³»ç»ŸBå¤„ç†çš„æ—¶å€™æ­£å¸¸å¤„ç†ï¼Œå¤„ç†å®Œä¹‹åæŠŠè½¬è´¦æˆåŠŸè¿˜æ˜¯å¤±è´¥çš„çŠ¶æ€ä¸IDä¸€èµ·å­˜å…¥æ•°æ®åº“ï¼Œä¸‹æ¬¡é‡å¤è¯·æ±‚ä¼šæŸ¥æ‰¾æ•°æ®åº“ï¼ŒæŸ¥å‡ºæ¥æ•°æ®ä¸ºç©ºåˆ™ä»£è¡¨ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼ŒæŸ¥å‡ºæ¥çŠ¶æ€ä¸ºæˆåŠŸï¼Œåˆ™ç›´æ¥è¿”å›æˆåŠŸï¼ŒæŸ¥å‡ºæ¥çŠ¶æ€ä¸ºå¤±è´¥ï¼Œåˆ™å†æ“ä½œä¸€æ¬¡ã€‚è¿™æ ·èƒ½ç¡®ä¿ä¸ä¼šå‡ºç°ä¸Šè¿°é€»è¾‘é”™è¯¯\næ€»ç»“ï¼šå¾ˆå¤šæ–¹æ³•å…·æœ‰å¤©ç„¶çš„å¹‚ç­‰æ€§ï¼Œæœ‰çš„æ–¹æ³•ä¸å…·å¤‡ï¼Œæˆ‘ä»¬éœ€è¦ä¸šåŠ¡é€»è¾‘å±‚æ¥å®ç°å¹‚ç­‰æ€§ã€‚æˆ‘ä»¬å¼€å‘çš„è¿‡ç¨‹ä¸­è€ƒè™‘å…¨é¢äº†å°±èƒ½è‡ªç„¶çš„å®ç°å¹‚ç­‰æ€§ï¼Œå¹‚ç­‰æ€§æ ¹æœ¬å°±ä¸æ˜¯ä»€ä¹ˆæ–°çš„çŸ¥è¯†ã€‚\n","categories":["Java"],"tags":["Java","å¹‚ç­‰æ€§","åç«¯"]},{"title":"WebRTCå®ç°å‰ç«¯ä»£ç ","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/yong-websocket-jie-he-webrtc-shi-xian-de-yuan-cheng-shi-ping-tong-hua/","content":"&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;RTCè§†é¢‘é€šè¯æµ‹è¯•é¡µé¢&lt;/title&gt;    &lt;meta charset=\"UTF-8\"&gt; &lt;!-- for HTML5 --&gt;    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;    &lt;meta name=\"viewport\" content=\"width=device-width,initial-scale=1,maximum-scale=1\" /&gt;&lt;/head&gt;&lt;body&gt;&lt;style type=\"text/css\"&gt;    body {        background: #000;    }    button {        height: 40px;        line-height: 40px;        width: 500px;        top: 100px;        padding: 0 15px;        contain: content;        background: #ccc;        border: none;        border-radius: 10px;        margin-bottom: 10px;        overflow: hidden;    }    .wrap {        width: 100vw;        height: 100vh;        display: flex;        justify-content: center;        align-items: center;    }    .video-box {        border-radius: 20px;        background: pink;        position: relative;        width: 800px;        height: 600px;        overflow: hidden;    }    .remote-video {        width: 800px;        height: 600px;        border: 1px solid black;        overflow: hidden;    }    .local-video {        width: 320px;        height: 240px;        position: absolute;        right: 0;        bottom: 0;        border-radius: 20px 0 0 0;        overflow: hidden;    }    video {        width: 100%;        height: 100%;    }&lt;/style&gt;&lt;div class=\"wrap\"&gt;    &lt;div&gt;        &lt;div class=\"video-box\"&gt;            &lt;div class=\"local-video\"&gt;                &lt;video id=\"local-video\" autoplay style=\"\"&gt;&lt;/video&gt;            &lt;/div&gt;            &lt;div class=\"remote-video\"&gt;                &lt;video id=\"remote-video\" autoplay&gt;&lt;/video&gt;            &lt;/div&gt;        &lt;/div&gt;        &lt;div&gt;            &lt;button type=\"button\" onclick=\"startVideo();\"&gt;å¼€å¯æœ¬æœºæ‘„åƒå’ŒéŸ³é¢‘&lt;/button&gt;            &lt;button type=\"button\" onclick=\"connect();\"&gt;å»ºç«‹è¿æ¥&lt;/button&gt;            &lt;button type=\"button\" onclick=\"hangUp();\"&gt;æŒ‚æ–­&lt;/button&gt;            &lt;button type=\"button\" onclick=\"refreshPage();\"&gt;åˆ·æ–°é¡µé¢&lt;/button&gt;        &lt;/div&gt;    &lt;/div&gt;&lt;/div&gt;&lt;script&gt;    // ===================ä»¥ä¸‹æ˜¯socket=======================    var user = Math.round(Math.random() * 1000) + \"\"    //var socketUrl = \"ws://localhost:8080/msgServer/\" + user;    var socketUrl = \"ws://172.29.40.176:8080/msgServer/\"+ user;    var socket = null    var socketRead = false    window.onload = function() {        socket = new WebSocket(socketUrl)        socket.onopen = function() {            console.log(\"æˆåŠŸè¿æ¥åˆ°æœåŠ¡å™¨...\")            socketRead = true        }        socket.onclose = function(e) {            console.log('ä¸æœåŠ¡å™¨è¿æ¥å…³é—­: ' + e.code)            socketRead = false        }        socket.onmessage = function(res) {            var evt = JSON.parse(res.data)            console.log(evt)            if (evt.type === 'offer') {                console.log(\"æ¥æ”¶åˆ°offer,è®¾ç½®offer,å‘é€answer....\")                onOffer(evt);            } else if (evt.type === 'answer' &amp;&amp; peerStarted) {                console.log('æ¥æ”¶åˆ°answer,è®¾ç½®answer SDP');                onAnswer(evt);            } else if (evt.type === 'candidate' &amp;&amp; peerStarted) {                console.log('æ¥æ”¶åˆ°ICEå€™é€‰è€…..');                onCandidate(evt);            } else if (evt.type === 'bye' &amp;&amp; peerStarted) {                console.log(\"WebRTCé€šä¿¡æ–­å¼€\");                stop();            }        }    }    // ===================ä»¥ä¸Šæ˜¯socket=======================    var localVideo = document.getElementById('local-video');    var remoteVideo = document.getElementById('remote-video');    var localStream = null;    var peerConnection = null;    var peerStarted = false;    var mediaConstraints = {        'mandatory': {            'OfferToReceiveAudio': false,            'OfferToReceiveVideo': true        }    };    //----------------------äº¤æ¢ä¿¡æ¯ -----------------------    function onOffer(evt) {        console.log(\"æ¥æ”¶åˆ°offer...\")        console.log(evt);        setOffer(evt);        sendAnswer(evt);        peerStarted = true    }    function onAnswer(evt) {        console.log(\"æ¥æ”¶åˆ°Answer...\")        console.log(evt);        setAnswer(evt);    }    function onCandidate(evt) {        var candidate = new RTCIceCandidate({            sdpMLineIndex: evt.sdpMLineIndex,            sdpMid: evt.sdpMid,            candidate: evt.candidate        });        console.log(\"æ¥æ”¶åˆ°Candidate...\")        console.log(candidate);        peerConnection.addIceCandidate(candidate);    }    function sendSDP(sdp) {        var text = JSON.stringify(sdp);        console.log('å‘é€sdp.....')        console.log(text); // \"type\":\"offer\"....        // textForSendSDP.value = text;        // é€šè¿‡socketå‘é€sdp        socket.send(text)    }    function sendCandidate(candidate) {        var text = JSON.stringify(candidate);        console.log(text); // \"type\":\"candidate\",\"sdpMLineIndex\":0,\"sdpMid\":\"0\",\"candidate\":\"....        socket.send(text) // socketå‘é€    }    //---------------------- è§†é¢‘å¤„ç† -----------------------    function startVideo() {        navigator.mediaDevices.enumerateDevices()        .then(function (devices) {            devices.forEach(function (device) {                //æ‰“å°è®¾å¤‡ç±»å‹ï¼Œè®¾å¤‡åç§°ï¼Œè®¾å¤‡ID                console.log(device.kind+\":\"+device.label+\" id=\"+device.deviceId);                //æ ¹æ®è®¾å¤‡åç§°ï¼Œå»è·å–ç‰¹å®šçš„æ‘„åƒå¤´                if(device.label.indexOf(\"Logitech\")!=-1){                }            })        });        if (navigator.mediaDevices.getUserMedia) {            //æœ€æ–°çš„æ ‡å‡†API            navigator.mediaDevices.getUserMedia({                video: true,                audio: true            }).then(function(stream) { //success                localStream = stream;                localVideo.srcObject = stream;                //localVideo.src = window.URL.createObjectURL(stream);                localVideo.play();                localVideo.volume = 0;            }).catch(function(error) { //error                console.error('å‘ç”Ÿäº†ä¸€ä¸ªé”™è¯¯: [é”™è¯¯ä»£ç ï¼š' + error.code + ']');                return;            });        } else if (navigator.webkitGetUserMedia) {            //webkitæ ¸å¿ƒæµè§ˆå™¨            navigator.webkitGetUserMedia({                video: true,                audio: true            },function(stream) { //success                localStream = stream;                localVideo.srcObject = stream;                //localVideo.src = window.URL.createObjectURL(stream);                localVideo.play();                localVideo.volume = 0;            }, error)        } else if (navigator.mozGetUserMedia) {            //firfoxæµè§ˆå™¨            navigator.mozGetUserMedia({                video: true,                audio: true            }, function(stream) { //success                localStream = stream;                localVideo.srcObject = stream;                //localVideo.src = window.URL.createObjectURL(stream);                localVideo.play();                localVideo.volume = 0;            }, error);        } else if (navigator.getUserMedia) {            //æ—§ç‰ˆAPI            navigator.getUserMedia({                video: true,                audio: true            }, function(stream) { //success                localStream = stream;                localVideo.srcObject = stream;                //localVideo.src = window.URL.createObjectURL(stream);                localVideo.play();                localVideo.volume = 0;            }, error);        }            }    function refreshPage() {        location.reload();    }    //---------------------- å¤„ç†è¿æ¥ -----------------------    function prepareNewConnection() {        var pc_config = {            \"iceServers\": []        };        var peer = null;        try {            peer = new RTCPeerConnection(pc_config);        } catch (e) {            console.log(\"å»ºç«‹è¿æ¥å¤±è´¥ï¼Œé”™è¯¯ï¼š\" + e.message);        }        // å‘é€æ‰€æœ‰ICEå€™é€‰è€…ç»™å¯¹æ–¹        peer.onicecandidate = function(evt) {            if (evt.candidate) {                console.log(evt.candidate);                sendCandidate({                    type: \"candidate\",                    sdpMLineIndex: evt.candidate.sdpMLineIndex,                    sdpMid: evt.candidate.sdpMid,                    candidate: evt.candidate.candidate                });            }        };        console.log('æ·»åŠ æœ¬åœ°è§†é¢‘æµ...');        peer.addStream(localStream);        peer.addEventListener(\"addstream\", onRemoteStreamAdded, false);        peer.addEventListener(\"removestream\", onRemoteStreamRemoved, false);        // å½“æ¥æ”¶åˆ°è¿œç¨‹è§†é¢‘æµæ—¶ï¼Œä½¿ç”¨æœ¬åœ°videoå…ƒç´ è¿›è¡Œæ˜¾ç¤º        function onRemoteStreamAdded(event) {            console.log(\"æ·»åŠ è¿œç¨‹è§†é¢‘æµ\");            // remoteVideo.src = window.URL.createObjectURL(event.stream);            remoteVideo.srcObject = event.stream;        }        // å½“è¿œç¨‹ç»“æŸé€šä¿¡æ—¶ï¼Œå–æ¶ˆæœ¬åœ°videoå…ƒç´ ä¸­çš„æ˜¾ç¤º        function onRemoteStreamRemoved(event) {            console.log(\"ç§»é™¤è¿œç¨‹è§†é¢‘æµ\");            remoteVideo.src = \"\";        }        return peer;    }    function sendOffer() {        peerConnection = prepareNewConnection();        peerConnection.createOffer(function(sessionDescription) { //æˆåŠŸæ—¶è°ƒç”¨            peerConnection.setLocalDescription(sessionDescription);            console.log(\"å‘é€: SDP\");            console.log(sessionDescription);            sendSDP(sessionDescription);        }, function(err) { //å¤±è´¥æ—¶è°ƒç”¨            console.log(\"åˆ›å»ºOfferå¤±è´¥\");        }, mediaConstraints);    }    function setOffer(evt) {        if (peerConnection) {            console.error('peerConnectionå·²å­˜åœ¨!');            return;        }        peerConnection = prepareNewConnection();        peerConnection.setRemoteDescription(new RTCSessionDescription(evt));    }    function sendAnswer(evt) {        console.log('å‘é€Answer,åˆ›å»ºè¿œç¨‹ä¼šè¯æè¿°...');        if (!peerConnection) {            console.error('peerConnectionä¸å­˜åœ¨!');            return;        }        peerConnection.createAnswer(function(sessionDescription) { //æˆåŠŸæ—¶            peerConnection.setLocalDescription(sessionDescription);            console.log(\"å‘é€: SDP\");            console.log(sessionDescription);            sendSDP(sessionDescription);        }, function() { //å¤±è´¥æ—¶            console.log(\"åˆ›å»ºAnswerå¤±è´¥\");        }, mediaConstraints);    }    function setAnswer(evt) {        if (!peerConnection) {            console.error('peerConnectionä¸å­˜åœ¨!');            return;        }        peerConnection.setRemoteDescription(new RTCSessionDescription(evt));    }    //-------- å¤„ç†ç”¨æˆ·UIäº‹ä»¶ -----    // å¼€å§‹å»ºç«‹è¿æ¥    function connect() {        if (!localStream) {            window.alert(\"è¯·é¦–å…ˆæ•è·æœ¬åœ°è§†é¢‘æ•°æ®.\");        } else if (peerStarted || !socketRead) {            window.alert(\"è¯·åˆ·æ–°é¡µé¢åé‡è¯•.\");        } else {            sendOffer();            peerStarted = true;        }    }    // åœæ­¢è¿æ¥    function hangUp() {        console.log(\"æŒ‚æ–­.\");        stop();    }    function stop() {        peerConnection.close();        peerConnection = null;        peerStarted = false;    }&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;\n\n","categories":["WebRTC"],"tags":["WebRTC","HTML","å‰ç«¯"]},{"title":"é¡¹ç›®ä¸­çš„å®ä½“ç±»åˆ†ç±»çš„åŒºåˆ«å’Œä½œç”¨","url":"/2023/02/24/learnnote/java-xue-xi-bi-ji/xiang-mu-zhong-de-shi-ti-lei-fen-lei-de-qu-bie-he-zuo-yong/","content":"é¡¹ç›®ä¸­çš„å®ä½“ç±»åˆ†ç±»çš„åŒºåˆ«å’Œä½œç”¨\nåœ¨ä¸€ä¸ªJavaçš„SpringBootä¸­ï¼Œä¸€èˆ¬æˆ‘ä»¬éœ€è¦ç”¨åˆ°è®¸å¤šçš„å®ä½“ç±»\nä¸€èˆ¬åœ¨ä¸€ä¸ªå¤§å‹é¡¹ç›®ä¸­ï¼Œåˆä¼šæŠŠå®ä½“ç±»åˆ†æˆä¸åŒé˜¶æ®µä½¿ç”¨çš„ç±»\n\nPOå±‚POJOå…¨ç§°ä¸ºï¼šPlain Ordinary Java Objectï¼Œå³ç®€å•æ™®é€šçš„javaå¯¹è±¡ã€‚ä¸€èˆ¬ç”¨åœ¨æ•°æ®å±‚æ˜ å°„åˆ°æ•°æ®åº“è¡¨çš„ç±»ï¼Œç±»çš„å±æ€§ä¸è¡¨å­—æ®µä¸€ä¸€å¯¹åº”ã€‚\nPOå…¨ç§°ä¸ºï¼šPersistant Objectï¼Œå³æŒä¹…åŒ–å¯¹è±¡ã€‚å¯ä»¥ç†è§£ä¸ºæ•°æ®åº“ä¸­çš„ä¸€æ¡æ•°æ®ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºPOJOç»è¿‡æŒä¹…åŒ–åçš„å¯¹è±¡ã€‚\nDOï¼ˆDomain Objectï¼‰ï¼šé¢†åŸŸå¯¹è±¡ï¼Œå°±æ˜¯ä»ç°å®ä¸–ç•Œä¸­æŠ½è±¡å‡ºæ¥çš„æœ‰å½¢æˆ–æ— å½¢çš„ä¸šåŠ¡å®ä½“ï¼Œä¸€èˆ¬ä¹Ÿå’Œæ•°æ®åº“å¯¹åº”\nBOå±‚å…¨ç§°ä¸ºï¼šBusiness Objectï¼Œå³ä¸šåŠ¡å¯¹è±¡ã€‚ä¸€èˆ¬ç”¨åœ¨ä¸šåŠ¡å±‚ï¼Œå½“ä¸šåŠ¡æ¯”è¾ƒå¤æ‚ï¼Œç”¨åˆ°æ¯”è¾ƒå¤šçš„ä¸šåŠ¡å¯¹è±¡æ—¶ï¼Œå¯ç”¨BOç±»ç»„åˆå°è£…æ‰€æœ‰çš„å¯¹è±¡ä¸€å¹¶ä¼ é€’ã€‚ä¸€èˆ¬æ˜¯å¤„ç†å¤šä¸ªå¯¹è±¡çš„å·¥å…·ç±»æˆ–è€…service\nVOå±‚å…¨ç§°ä¸ºï¼šValue Objectï¼Œæœ‰çš„ä¹Ÿç§°ä¸ºView Objectï¼Œå³å€¼å¯¹è±¡æˆ–é¡µé¢å¯¹è±¡ã€‚ä¸€èˆ¬ç”¨äºwebå±‚å‘viewå±‚å°è£…å¹¶æä¾›éœ€è¦å±•ç°çš„æ•°æ®\nDTOå±‚å…¨ç§°ä¸ºï¼šData Transfer Objectï¼Œå³æ•°æ®ä¼ è¾“å¯¹è±¡ã€‚ä¸€èˆ¬ç”¨äºå‘æ•°æ®å±‚å¤–å›´æä¾›ä»…éœ€çš„æ•°æ®ï¼Œå¦‚æŸ¥è¯¢ä¸€ä¸ªè¡¨æœ‰50ä¸ªå­—æ®µï¼Œç•Œé¢æˆ–æœåŠ¡åªéœ€è¦ç”¨åˆ°å…¶ä¸­çš„æŸäº›å­—æ®µï¼ŒDTOå°±åŒ…è£…å‡ºå»çš„å¯¹è±¡ã€‚å¯ç”¨äºéšè—æ•°æ®å±‚å­—æ®µå®šä¹‰ï¼Œä¹Ÿå¯ä»¥æé«˜ç³»ç»Ÿæ€§èƒ½ï¼Œå‡å°‘ä¸å¿…è¦å­—æ®µçš„ä¼ è¾“æŸè€—ã€‚\næ€»ç»“VOï¼ŒBOï¼ŒPOï¼ŒDTOè¿™æ ·åˆ†å±‚è¿˜æ˜¯å¾ˆæœ‰æ„ä¹‰çš„ã€‚å°¤å…¶åœ¨å›¢é˜Ÿæˆå‘˜è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œç»“æ„æ›´åŠ ä¸€ç›®äº†ç„¶ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¾ˆå¤§ç¨‹åº¦é¿å…å¤šç«¯ç³»ç»Ÿæ•°æ®æ‰€éœ€ä¸ä¸€è‡´æ—¶ï¼Œæœ‰äººä¿®æ”¹å±æ€§å½±å“å…¶ä»–é¡µé¢ã€‚ä½†ä¹Ÿå®Œå…¨æ²¡æœ‰å¿…è¦æ•™æ¡ä¸»ä¹‰ï¼ŒæŠŠè¿™äº›å…¨éƒ¨ç”¨ä¸Šï¼Œéœ€è¦æ ¹æ®æ‰€å¼€å‘çš„ä¸šåŠ¡å¤æ‚åº¦æ¥å–èˆï¼Œå¦‚æœæœ¬èº«ä¸šåŠ¡é€»è¾‘ä¸è´Ÿè´£ï¼Œç…§æ¬å…¨ä¸Šåè€Œè®©å¼€å‘å˜çš„æ›´å¤æ‚ã€‚\nå‘½åè§„èŒƒâ€¢ æ•°æ®å¯¹è±¡ï¼šxxxPOï¼Œxxxå³ä¸ºæ•°æ®è¡¨åã€‚(ä¹Ÿå¯DO)â€¢ æ•°æ®ä¼ è¾“å¯¹è±¡ï¼šxxxDTOï¼Œxxxä¸ºä¸šåŠ¡é¢†åŸŸç›¸å…³çš„åç§°ã€‚â€¢ å±•ç¤ºå¯¹è±¡ï¼šxxxVOï¼Œxxxä¸€èˆ¬ä¸ºç½‘é¡µåç§°ã€‚â€¢ ä¸šåŠ¡å¯¹è±¡ï¼šxxxBOï¼Œxxxæ˜¯ä¸šåŠ¡åç§°ã€‚\nåˆ†å±‚ä½¿ç”¨å’Œè½¬æ¢controllerå±‚æ¥å—å‰ç«¯çš„VO,DTOæ¥å—serviceå±‚BOå‘å‰ç«¯å‘é€VO,DTO\nserviceå±‚æ¥å—controllerå±‚VO,DTO,BO,POæ¥å—daoå±‚çš„POå‘controllerå±‚è¿”å›BO,PO\nDAOå±‚æ¥å—serviceå±‚çš„VO,DTO,BO,POä»æ•°æ®åº“æŸ¥è¯¢POå‘serviceå±‚è¿”å›PO\n","categories":["é¢å‘å¯¹è±¡ç¼–ç¨‹"],"tags":["SpringBoot","åç«¯","é¢ç›¸å¯¹è±¡ç¼–ç¨‹"]},{"title":"ArchLinuxå®‰è£…","url":"/2024/06/23/learnnote/linux-xue-xi/archlinux-an-zhuang/","content":"ArchLinuxå®‰è£…\nåŠ è½½å®ŒarchLinuxä¹‹åï¼Œè¾“å…¥å¿«æ·å®‰è£…æŒ‡ä»¤ï¼š\narchinstall\n\n\n\n\n\n\n\n\n\n","categories":["Linux"],"tags":["ArchLinuxå®‰è£…"]},{"title":"Linuxå­¦ä¹ (CentOS)","url":"/2023/02/24/learnnote/linux-xue-xi/linux-xue-xi/","content":"Linuxå­¦ä¹ \nç›®å½•ä½œç”¨\n/\tæ ¹ç›®å½•\n/bin\tå­˜æ”¾å¿…è¦çš„æŒ‡ä»¤\n/boot\tå­˜æ”¾å†…æ ¸ä»¥åŠå¯åŠ¨æ‰€éœ€çš„æ–‡ä»¶\n/dev\tå­˜æ”¾è®¾å¤‡æ–‡ä»¶\n/etc\tå­˜æ”¾ç³»ç»Ÿé…ç½®æ–‡ä»¶\n/home\tæ™®é€šç”¨æˆ·çš„å®¿ä¸»ç›®å½•ï¼Œç”¨æˆ·æ•°æ®å­˜æ”¾åœ¨å…¶ä¸»ç›®å½•ä¸­\n/lib\tå­˜æ”¾å¿…è¦çš„è¿è¡Œåº“\n/mnt\tå­˜æ”¾ä¸´æ—¶çš„æ˜ å°„æ–‡ä»¶ç³»ç»Ÿï¼Œé€šå¸¸ç”¨æ¥æŒ‚è½½ä½¿ç”¨ã€‚\n/proc\tå­˜æ”¾å­˜å‚¨è¿›ç¨‹å’Œç³»ç»Ÿä¿¡æ¯\n/root\tè¶…çº§ç”¨æˆ·çš„ä¸»ç›®å½•\n/sbin\tå­˜æ”¾ç³»ç»Ÿç®¡ç†ç¨‹åº\n/tmp\tå­˜æ”¾ä¸´æ—¶æ–‡ä»¶\n/usr\tå­˜æ”¾åº”ç”¨ç¨‹åºï¼Œå‘½ä»¤ç¨‹åºæ–‡ä»¶ã€ç¨‹åºåº“ã€æ‰‹å†Œå’Œå…¶å®ƒæ–‡æ¡£ã€\n/var\tç³»ç»Ÿé»˜è®¤æ—¥å¿—å­˜æ”¾ç›®å½•\n\nLinuxå¸¸ç”¨å‘½ä»¤\nâ€‹\t\té»˜è®¤è¿›å…¥ç³»ç»Ÿï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°è¿™æ ·çš„å­—ç¬¦ï¼š[root@localhost~]#ï¼Œå…¶ä¸­#ä»£è¡¨å½“å‰æ˜¯rootç”¨æˆ·ç™»å½•ï¼Œå¦‚æœæ˜¯$è¡¨ç¤ºå½“å‰ä¸ºæ™®é€šç”¨æˆ·ã€‚\nâ€‹\t\tæˆ‘ä»¬äº†è§£Linuxç”±å¾ˆå¤šç›®å½•æ–‡ä»¶æ„æˆï¼Œé‚£æˆ‘ä»¬æ¥å­¦ä¹ ç¬¬ä¸€ä¸ªLinuxå‘½ä»¤ï¼š\nâ€‹\t\tcd å‘½ä»¤ï¼Œcd\t/homeï¼›è§£æï¼šè¿›å…¥/homeç›®å½•\nâ€‹\t\tcd /root è¿›å…¥/rootç›®å½•ï¼›cd ../è¿”å›ä¸Šä¸€çº§ç›®å½•ï¼›cd ./å½“å‰ç›®å½•ï¼›ï¼ˆ.å’Œ..å¯ä»¥ç†è§£ä¸ºç›¸å¯¹è·¯å¾„ï¼šä¾‹å¦‚ï¼šcd /home/test ï¼ŒcdåŠ å®Œæ•´çš„è·¯å¾„ï¼Œå¯ä»¥ç†è§£ä¸ºç»å¯¹è·¯å¾„ï¼‰\næ›´å¤šçš„æŒ‡ä»¤ï¼š\n\nls ./\t\tæŸ¥çœ‹å½“å‰ç›®å½•æ‰€æœ‰çš„æ–‡ä»¶å’Œç›®å½•ã€‚\n\n\nls -a æŸ¥çœ‹æ‰€æœ‰çš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶ä»¥.å¼€å¤´çš„æ–‡ä»¶ã€‚\n\nâ€‹\t\t\n\npwd\tæ˜¾ç¤ºå½“å‰æ‰€åœ¨çš„ç›®å½•ã€‚\n\n\nmkdir\tåˆ›å»ºç›®å½•ï¼Œç”¨æ³• mkdir testï¼Œå‘½ä»¤åæ¥ç›®å½•çš„åç§°ã€‚\n\n\nrmdir\tåˆ é™¤ç©ºç›®å½•\n\n\nrm\tåˆ é™¤æ–‡ä»¶æˆ–è€…ç›®å½•ï¼Œç”¨æ³•\trm -rf test.txtï¼ˆ-rè¡¨ç¤ºé€’å½’ï¼Œ-fè¡¨ç¤ºå¼ºåˆ¶ï¼‰ã€‚\n\n\ncp æ‹·è´æ–‡ä»¶ï¼Œç”¨æ³•ï¼Œcp old.txt\t/tmp/new.txtï¼Œå¸¸ç”¨æ¥å¤‡ä»½ï¼›å¦‚æœæ‹·è´ç›®å½•éœ€\tè¦åŠ -rå‚æ•°ã€‚\n\n\nmv\té‡å‘½åæˆ–è€…ç§»åŠ¨æ–‡ä»¶æˆ–è€…ç›®å½•ï¼Œç”¨æ³•ï¼Œmv old.txt new.txt\n\n\ntouch\tåˆ›å»ºæ–‡ä»¶ï¼Œç”¨æ³•ï¼Œtouch test.txtï¼Œå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œåˆ™è¡¨ç¤ºä¿®æ”¹å½“å‰æ–‡\t\t\tä»¶æ—¶é—´ã€‚\n\n\nUseradd\tåˆ›å»ºç”¨æˆ·ï¼Œç”¨æ³• useradd wugkï¼Œuserdelåˆ é™¤ç”¨æˆ·ã€‚\n\n\nGroupadd\tåˆ›å»ºç»„ï¼Œç”¨æ³•groupadd wugk1ï¼Œgroupdelåˆ é™¤ç»„ã€‚\n\n\nfind [ç›®å½•ä¸‹å¼€å§‹æŸ¥æ‰¾] -name â€œtest.txtâ€\n\n\ncat test.txt\t\tæ‰“å¼€æ–‡ä»¶ï¼ˆLinuxé»˜è®¤çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼‰\n\n\nvi\tä¿®æ”¹æŸä¸ªæ–‡ä»¶ï¼Œviæœ‰ä¸‰ç§æ¨¡å¼ï¼šï¼ˆESCé€€å‡ºç¼–è¾‘ï¼‰\nå‘½ä»¤è¡Œæ¨¡å¼ã€æ–‡æœ¬è¾“å…¥æ¨¡å¼ã€æœ«è¡Œæ¨¡å¼ã€‚\n:wä¸ºä¿å­˜çš„æ„æ€ï¼Œ:wqä¸ºä¿å­˜é€€å‡º\né»˜è®¤viæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œé¦–å…ˆæ˜¯å‘½ä»¤è¡Œæ¨¡å¼ï¼Œç„¶åæŒ‰iè¿›å…¥æ–‡æœ¬è¾“å…¥æ¨¡å¼ï¼Œå¯ä»¥åœ¨æ–‡ä»¶é‡Œå†™å…¥å­—ç¬¦ç­‰ä¿¡æ¯ã€‚\nå†™å®Œåï¼ŒæŒ‰ESCè¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼Œç„¶åè¾“å…¥:è¿›å…¥æœ«è¡Œæ¨¡å¼ï¼Œä¾‹å¦‚è¾“å…¥:wqè¡¨ç¤ºä¿å­˜é€€å‡ºã€‚\nå¦‚æœæƒ³ç›´æ¥é€€å‡ºï¼Œä¸ä¿å­˜ï¼Œå¯ä»¥æ‰§è¡Œ:q!ï¼Œq!æ„Ÿå¹å·è¡¨ç¤ºå¼ºåˆ¶é€€å‡ºã€‚\n\n\ncat\tæŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼Œåˆ†é¡µæŸ¥çœ‹ï¼Œcatæ˜¯å…¨éƒ¨æŸ¥çœ‹ï¼Œå¦‚æœç¯‡å¹…å¾ˆå¤šï¼Œåªèƒ½çœ‹åˆ°æœ€åçš„ç¯‡å¹…ã€‚å¯ä»¥ä½¿ç”¨catå’ŒmoreåŒæ—¶ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼šcat test.txt |more åˆ†é¡µæ˜¾ç¤ºtextå†…å®¹ï¼Œ|ç¬¦å·æ˜¯ç®¡é“ç¬¦ï¼Œç”¨äºæŠŠ|å‰çš„è¾“å‡ºä½œä¸ºåé¢å‘½ä»¤çš„è¾“å…¥ã€‚\n\n\necho\tå›æ˜¾ï¼Œç”¨æ³• echo okï¼Œä¼šæ˜¾ç¤ºokï¼Œè¾“å…¥ä»€ä¹ˆå°±æ‰“å°ä»€ä¹ˆã€‚\necho ok &gt; test.txtï¼›æŠŠokå­—ç¬¦è¦†ç›–test.txtå†…å®¹ï¼Œ&gt;è¡¨ç¤ºè¿½åŠ å¹¶è¦†ç›–çš„æ„æ€ã€‚\n&gt;&gt;ä¸¤ä¸ªå¤§äºç¬¦å·ï¼Œè¡¨ç¤ºè¿½åŠ ï¼Œecho ok &gt;&gt; test.txtï¼Œè¡¨ç¤ºå‘test.txtæ–‡ä»¶è¿½åŠ OKå­—ç¬¦ã€‚ä¸è¦†ç›–åŸæ–‡ä»¶é‡Œçš„å†…å®¹ã€‚\n\nåˆå­¦è€…å¸¸è§çš„å‘½ä»¤å°±å¦‚ä¸Šæ‰€ç¤ºï¼Œå½“ç„¶è¿˜æœ‰å¾ˆå¤šæ·±å…¥çš„å‘½ä»¤éœ€è¦å­¦ä¹ ã€‚\n\n\nls -l [æ–‡ä»¶å]\tæŸ¥çœ‹æ–‡ä»¶å±æ€§\n- rw- râ€“ râ€“ 1 root root12 Jul 31 04:24 test.txt\nç¬¬ä¸€ä½è¡¨ç¤ºæ–‡ä»¶ç±»å‹ï¼Œ-è¡¨ç¤ºæ–‡ä»¶ï¼Œdè¡¨ç¤ºç›®å½•ï¼›åé¢æ¯ä¸‰ä½ä¸ºä¸€ç»„ã€‚\nç¬¬ä¸€ç»„ï¼š2-4ä½è¡¨ç¤ºæ–‡ä»¶æ‰€æœ‰è€…çš„æƒé™ï¼Œå³ç”¨æˆ·useræƒé™ï¼Œç®€ç§°u\nç¬¬äºŒç»„ï¼š5-7ä½è¡¨ç¤ºæ–‡ä»¶æ‰€æœ‰è€…æ‰€å±ç»„æˆå‘˜çš„æƒé™ï¼Œgroupæƒé™ï¼Œç®€ç§°g\nç¬¬ä¸‰ç»„ï¼š8-10ä½è¡¨ç¤ºæ‰€æœ‰è€…æ‰€å±ä¹‹å¤–çš„ç”¨æˆ·çš„æƒé™ï¼Œotheræƒé™ï¼Œç®€ç§°o\nä»ä¸Šé¢è¿™ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºtest.txtæ–‡ä»¶å¯¹åº”çš„æƒé™ä¸ºï¼š\nrootå“Ÿæ€’å…·æœ‰è¯»å’Œå†™çš„æƒé™ï¼Œrootç»„å…·æœ‰è¯»çš„æƒé™ï¼Œå…¶ä»–äººå…·æœ‰è¯»çš„æƒé™ã€‚\nä¸ºäº†èƒ½æ›´ç®€å•å¿«æ·çš„ä½¿ç”¨å’Œç†Ÿæ‚‰æƒé™ï¼Œrwxæƒé™å¯ä»¥ç”¨æ•°å­—æ¥è¡¨ç¤ºï¼Œåˆ†åˆ«è¡¨ç¤ºrï¼ˆ4ï¼‰ã€wï¼ˆ2ï¼‰ã€xï¼ˆ1ï¼‰ã€‚\ntest.txtæƒé™å¯ä»¥è¡¨ç¤ºä¸ºï¼š644\n\n\nchmod [ç»„]+[æƒé™] [æ–‡ä»¶]\tä¿®æ”¹æ–‡ä»¶æƒé™çš„æŒ‡ä»¤\næ¯”å¦‚ï¼šchmod o+w test.txt\nâ€‹\t\tchmod o-w test.txt\nâ€‹\t\tchmod u=rwx,g=rw,o=r test.txt\nâ€‹\t\tchomod 644 test.txt\n\n\nchown -R abc:abc test.txt\nä¿®æ”¹æƒé™ç»„ä¸ºabc abc\n-rw-râ€“râ€“ a abc abc â€¦â€¦â€¦â€¦â€¦â€¦â€¦..\n\nå°†æœ€è¿‘çš„åå°ä»»åŠ¡è°ƒåˆ°å‰å°ï¼š\nfg\n\nå‘½ä»¤è¿›ç¨‹å·ç Nçš„å‘½ä»¤è¿›ç¨‹æ”¾åˆ°å‰å°æ‰§è¡Œ\nfg N\n\nå°†å‘½ä»¤è¿›ç¨‹å·ç ä¸ºNçš„å‘½ä»¤è¿›ç¨‹æ”¾åˆ°åå°æ‰§è¡Œ\nbg N\n\næŸ¥çœ‹å½“å‰åœ¨åå°æ‰§è¡Œçš„å‘½ä»¤ï¼Œå¯æŸ¥çœ‹å‘½ä»¤è¿›ç¨‹å·ç \njobs\n\nå‹ç¼©å‘½ä»¤\ntar -zcvf å‹ç¼©æ–‡ä»¶åç§° .tar.gz #è¢«å‹ç¼©æ–‡ä»¶å\n\nzip -r mydata.zip mydata #å‹ç¼©mydataç›®å½•\n\næ³¨æ„unzipæŒ‡ä»¤cnetosä¸è‡ªå¸¦éœ€è¦å…ˆå®‰è£…unzipæ‰è¡Œ\nunzipå®‰è£…ï¼š\nyum install zip unzip\nè§£å‹ç¼©å‘½ä»¤\ntar -zxvf å‹ç¼©æ–‡ä»¶å.tar.gz\n\nunzip æ–‡ä»¶å¤¹åç§°.zip\n\næ³¨æ„unzipæŒ‡ä»¤cnetosä¸è‡ªå¸¦éœ€è¦å…ˆå®‰è£…unzipæ‰è¡Œ\nunzipå®‰è£…ï¼š\nyum install zip unzip\n\n\næŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€\nsystemctl status firewalld.service\n\nè¿è¡Œä¸Šè¿°å‘½ä»¤åï¼Œå¦‚æœçœ‹åˆ°æœ‰ç»¿è‰²å­—æ ·æ ‡æ³¨çš„â€œactiveï¼ˆrunningï¼‰â€ï¼Œè¯´æ˜é˜²ç«å¢™æ˜¯å¼€å¯çŠ¶æ€ã€‚\n\nå¼€å¯é˜²ç«å¢™\nsystemctl start firewalld.service\nå…³é—­é˜²ç«å¢™\nsystemctl stop firewalld.service\n\nå…³é—­åï¼Œå¯æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€ï¼Œå½“æ˜¾ç¤ºdisavtiveï¼ˆdeadï¼‰çš„å­—æ ·ï¼Œè¯´æ˜CentOS 7é˜²ç«å¢™å·²ç»å…³é—­ã€‚ä½†è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šé¢çš„å‘½ä»¤åªæ˜¯ä¸´æ—¶å…³é—­äº†CentOS 7é˜²ç«å¢™ï¼Œå½“é‡å¯æ“ä½œç³»ç»Ÿåï¼Œé˜²ç«å¢™æœåŠ¡è¿˜æ˜¯ä¼šå†æ¬¡å¯åŠ¨ã€‚å¦‚æœæƒ³è¦æ°¸ä¹…å…³é—­é˜²ç«å¢™åˆ™è¿˜éœ€è¦ç¦ç”¨é˜²ç«å¢™æœåŠ¡ã€‚\n\nç¦ç”¨é˜²ç«å¢™æœåŠ¡\nsystemctl disable firewalld.service\næŸ¥çœ‹é˜²ç«å¢™è§„åˆ™\nfirewall-cmd â€“list-all\næŸ¥çœ‹å¼€æ”¾ç«¯å£\nfirewall-cmd --list-ports\n\n\næŸ¥è¯¢ç«¯å£æ˜¯å¦å¼€æ”¾\nfirewall-cmd â€“query-port=8080/tcp\n\nè¿™é‡Œçš„8080æŒ‡çš„å°±æ˜¯éœ€è¦æŸ¥çœ‹çš„æŒ‡å®šç«¯å£\n\né‡å¯é˜²ç«å¢™\nfirewall-cmd â€“reload\nå¼€æ”¾æŒ‡å®šç«¯å£\nfirewall-cmd â€“permanent â€“add-port=8080/tcp\n\nä»¥ä¸Šä¾‹å­ä¸ºå¼€æ”¾ç«¯å£8080\n(ä¿®æ”¹é…ç½®åéœ€è¦é‡å¯é˜²ç«å¢™)\nå‚æ•°è§£é‡Šï¼šfirewall-cmd: æ˜¯Linuxæä¾›çš„æ“ä½œfirewallçš„ä¸€ä¸ªå·¥å…·ï¼›â€“permanentï¼šè¡¨ç¤ºè®¾ç½®ä¸ºæŒä¹…ï¼›â€“add-portï¼šè¡¨ç¤ºæ·»åŠ çš„ç«¯å£ã€‚\n\nç§»é™¤æŸä¸ªé˜²ç«å¢™å¼€å¯çš„ç«¯å£\nfirewall-cmd â€“permanent â€“remove-port=8080/tcp\n\n(ä¿®æ”¹é…ç½®åéœ€è¦é‡å¯é˜²ç«å¢™)\n\næŸ¥çœ‹é˜²ç«å¢™å¸®åŠ©\nfirewall-cmd --help\næŸ¥çœ‹ root ç”¨æˆ·ç™»å½•æˆåŠŸçš„IPåŠæ¬¡æ•°\ngrep \"Accepted password for root\" /var/log/secure | awk '{print $11}' | sort | uniq -c | sort -nr | more\n\nçœ‹çœ‹æ˜¯å¦æœ‰ä¸ç†Ÿæ‚‰çš„IPåœ°å€\n\næŸ¥çœ‹å°è¯•æš´åŠ›ç ´è§£ root è´¦æˆ·çš„IPåŠæ¬¡æ•°\ngrep \"Failed password for root\" /var/log/secure | awk '{print $11}' | sort | uniq -c | sort -nr | more\næŸ¥çœ‹å°è¯•æš´åŠ›ç ´è§£ç”¨æˆ·åçš„IPåŠæ¬¡æ•°\ngrep \"Failed password for invalid user\" /var/log/secure | awk '{print $13}' | sort | uniq -c | sort -nr | more\nå›¾åƒè½¬è¾¹å‘½ä»¤è¡Œ\nsystemctl set-default multi-user.target\n\nè¾“å…¥ä¹‹åå†è¾“å…¥rebooté‡å¯å³å¯ã€‚\n\nå‘½ä»¤è¡Œè½¬å˜å›¾å½¢\nsystemctl set-default graphical.target\n\nè¾“å…¥ä¹‹åå†è¾“å…¥rebooté‡å¯å³å¯ã€‚\n\næ·»åŠ ç¯å¢ƒå˜é‡1ã€æ‰“å¼€ç»ˆç«¯ï¼Œä½¿ç”¨rootç”¨æˆ·æˆ–è€…å…·æœ‰sudoæƒé™çš„ç”¨æˆ·ç™»å½•åˆ°ç³»ç»Ÿä¸­ã€‚\n2ã€ç¼–è¾‘/etc/profileæ–‡ä»¶ï¼Œä¾‹å¦‚ä½¿ç”¨vimç¼–è¾‘å™¨ï¼š\nsudo vim /etc/profile\n\n3ã€åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä½ éœ€è¦è®¾ç½®çš„ç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚æ·»åŠ JAVA_HOMEç¯å¢ƒå˜é‡ï¼š\nexport JAVA_HOME=/usr/local/jdk1.8.0_281export PATH=$JAVA_HOME/bin:$PATH\n\n4ã€ä¿å­˜å¹¶é€€å‡ºæ–‡ä»¶ï¼Œç„¶åé…ç½®ç”Ÿæ•ˆï¼š\nsource /etc/profile\n\nsource /etc/environment #ä½¿é…ç½®ç«‹å³ç”Ÿæ•ˆã€‚\n\n5ã€éªŒè¯ç¯å¢ƒå˜é‡æ˜¯å¦è®¾ç½®æˆåŠŸï¼š\necho $JAVA_HOME\n\n\n\nä¿®æ”¹æ–‡ä»¶åç§°mv a.txt a1.txt\n\n\n\n\n\nvimæ“ä½œ\nå…¨éƒ¨åˆ é™¤ï¼šæŒ‰escé”®åï¼Œå…ˆæŒ‰ggï¼ˆåˆ°è¾¾é¡¶éƒ¨ï¼‰ï¼Œç„¶ådGå…¨éƒ¨å¤åˆ¶ï¼šæŒ‰escé”®åï¼Œå…ˆæŒ‰ggï¼Œç„¶åggyGå…¨é€‰é«˜äº®æ˜¾ç¤ºï¼šæŒ‰escé”®åï¼Œå…ˆæŒ‰ggï¼Œç„¶åggvGæˆ–è€…ggVG\nå•è¡Œå¤åˆ¶ï¼šæŒ‰escé”®å, ç„¶åyyå•è¡Œåˆ é™¤ï¼šæŒ‰escé”®å, ç„¶åddç²˜è´´ï¼šæŒ‰escé”®å, ç„¶åp\n","categories":["Linux"],"tags":["Linux"]},{"title":"Shellå­¦ä¹ ","url":"/2023/02/24/learnnote/linux-xue-xi/shell-xue-xi/","content":"Shellå­¦ä¹ \nechoè¯´æ˜ï¼š#! æ˜¯ä¸€ä¸ªçº¦å®šçš„æ ‡è®°ï¼Œå®ƒå‘Šè¯‰ç³»ç»Ÿè¿™ä¸ªè„šæœ¬éœ€è¦ä»€ä¹ˆè§£é‡Šå™¨æ¥æ‰§è¡Œï¼Œå³ä½¿ç”¨å“ªä¸€ç§ Shellã€‚echo å‘½ä»¤ç”¨äºå‘çª—å£è¾“å‡ºæ–‡æœ¬ã€‚\n#!/bin/bashecho \"Hello World!\"\n\n\n\n\n\n\n\nShell å˜é‡åœ¨ Shell ç¼–ç¨‹ä¸­ï¼Œå˜é‡æ˜¯ç”¨äºå­˜å‚¨æ•°æ®å€¼çš„åç§°ã€‚\nå®šä¹‰å˜é‡æ—¶ï¼Œå˜é‡åä¸åŠ ç¾å…ƒç¬¦å·ï¼ˆ$ï¼ŒPHPè¯­è¨€ä¸­å˜é‡éœ€è¦ï¼‰ï¼Œå¦‚ï¼š\nshellyour_name=\"runoob\"\n\n\n\næ³¨æ„ï¼Œå˜é‡åå’Œç­‰å·ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œè¿™å¯èƒ½å’Œä½ ç†Ÿæ‚‰çš„æ‰€æœ‰ç¼–ç¨‹è¯­è¨€éƒ½ä¸ä¸€æ ·ã€‚åŒæ—¶ï¼Œå˜é‡åçš„å‘½åé¡»éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š\n\nåªåŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ï¼š å˜é‡åå¯ä»¥åŒ…å«å­—æ¯ï¼ˆå¤§å°å†™æ•æ„Ÿï¼‰ã€æ•°å­—å’Œä¸‹åˆ’çº¿ _ï¼Œä¸èƒ½åŒ…å«å…¶ä»–ç‰¹æ®Šå­—ç¬¦ã€‚\nä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼š å˜é‡åä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼Œä½†å¯ä»¥åŒ…å«æ•°å­—ã€‚\né¿å…ä½¿ç”¨ Shell å…³é”®å­—ï¼š ä¸è¦ä½¿ç”¨Shellçš„å…³é”®å­—ï¼ˆä¾‹å¦‚ ifã€thenã€elseã€fiã€forã€while ç­‰ï¼‰ä½œä¸ºå˜é‡åï¼Œä»¥å…å¼•èµ·æ··æ·†ã€‚\nä½¿ç”¨å¤§å†™å­—æ¯è¡¨ç¤ºå¸¸é‡ï¼š ä¹ æƒ¯ä¸Šï¼Œå¸¸é‡çš„å˜é‡åé€šå¸¸ä½¿ç”¨å¤§å†™å­—æ¯ï¼Œä¾‹å¦‚ PI=3.14ã€‚\né¿å…ä½¿ç”¨ç‰¹æ®Šç¬¦å·ï¼š å°½é‡é¿å…åœ¨å˜é‡åä¸­ä½¿ç”¨ç‰¹æ®Šç¬¦å·ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½ä¸ Shell çš„è¯­æ³•äº§ç”Ÿå†²çªã€‚\né¿å…ä½¿ç”¨ç©ºæ ¼ï¼š å˜é‡åä¸­ä¸åº”è¯¥åŒ…å«ç©ºæ ¼ï¼Œå› ä¸ºç©ºæ ¼é€šå¸¸ç”¨äºåˆ†éš”å‘½ä»¤å’Œå‚æ•°ã€‚\n\næœ‰æ•ˆçš„ Shell å˜é‡åç¤ºä¾‹å¦‚ä¸‹ï¼š\nRUNOOB=\"www.runoob.com\"LD_LIBRARY_PATH=\"/bin/\"_var=\"123\"var2=\"abc\"\n\næ— æ•ˆçš„å˜é‡å‘½åï¼š\n# é¿å…ä½¿ç”¨ifä½œä¸ºå˜é‡åif=\"some_value\"# é¿å…ä½¿ç”¨ $ ç­‰ç‰¹æ®Šç¬¦å·variable_with_$=42?var=123user*name=runoob# é¿å…ç©ºæ ¼variable with space=\"value\"\n\nç­‰å·ä¸¤ä¾§é¿å…ä½¿ç”¨ç©ºæ ¼ï¼š\n# æ­£ç¡®çš„èµ‹å€¼variable_name=value# æœ‰å¯èƒ½ä¼šå¯¼è‡´é”™è¯¯variable_name = value\n\né™¤äº†æ˜¾å¼åœ°ç›´æ¥èµ‹å€¼ï¼Œè¿˜å¯ä»¥ç”¨è¯­å¥ç»™å˜é‡èµ‹å€¼ï¼Œå¦‚ï¼š\nfor file in `ls /etc`æˆ–for file in $(ls /etc)\n\nä»¥ä¸Šè¯­å¥å°†/etcä¸‹ç›®å½•çš„æ–‡ä»¶åå¾ªç¯å‡ºæ¥ã€‚\nä½¿ç”¨å˜é‡ä½¿ç”¨ä¸€ä¸ªå®šä¹‰è¿‡çš„å˜é‡ï¼Œåªè¦åœ¨å˜é‡åå‰é¢åŠ ç¾å…ƒç¬¦å·å³å¯ï¼Œå¦‚ï¼š\nyour_name=\"qinjx\"echo $your_nameecho ${your_name}\n\nå˜é‡åå¤–é¢çš„èŠ±æ‹¬å·æ˜¯å¯é€‰çš„ï¼ŒåŠ ä¸åŠ éƒ½è¡Œï¼ŒåŠ èŠ±æ‹¬å·æ˜¯ä¸ºäº†å¸®åŠ©è§£é‡Šå™¨è¯†åˆ«å˜é‡çš„è¾¹ç•Œï¼Œæ¯”å¦‚ä¸‹é¢è¿™ç§æƒ…å†µï¼š\nfor skill in Ada Coffe Action Java; do\techo \"I am good at ${skill}Script\"done\n\nå¦‚æœä¸ç»™skillå˜é‡åŠ èŠ±æ‹¬å·ï¼Œå†™æˆecho \"I am good at $skillScript\"ï¼Œè§£é‡Šå™¨å°±ä¼šæŠŠ$skillScriptå½“æˆä¸€ä¸ªå˜é‡ï¼ˆå…¶å€¼ä¸ºç©ºï¼‰ï¼Œä»£ç æ‰§è¡Œç»“æœå°±ä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„æ ·å­äº†ã€‚\næ¨èç»™æ‰€æœ‰å˜é‡åŠ ä¸ŠèŠ±æ‹¬å·ï¼Œè¿™æ˜¯ä¸ªå¥½çš„ç¼–ç¨‹ä¹ æƒ¯ã€‚\nå·²å®šä¹‰çš„å˜é‡ï¼Œå¯ä»¥è¢«é‡æ–°å®šä¹‰ï¼Œå¦‚ï¼š\nyour_name=\"tom\"echo $your_nameyour_name=\"alibaba\"echo $your_name\n\nè¿™æ ·å†™æ³•æ˜¯åˆæ³•çš„ï¼Œä½†æ³¨æ„ï¼Œç¬¬äºŒæ¬¡èµ‹å€¼çš„æ—¶å€™ä¸èƒ½å†™$your_name=â€alibabaâ€,ä½¿ç”¨å˜é‡çš„æ—¶å€™æ‰åŠ ç¾å…ƒç¬¦($)ã€‚\nåªè¯»å˜é‡ä½¿ç”¨ readonly å‘½ä»¤å¯ä»¥å°†å˜é‡å®šä¹‰ä¸ºåªè¯»å˜é‡ï¼Œåªè¯»å˜é‡çš„å€¼ä¸èƒ½è¢«æ”¹å˜ã€‚\nä¸‹é¢çš„ä¾‹å­å°è¯•æ›´æ”¹åªè¯»å˜é‡ï¼Œç»“æœæŠ¥é”™ï¼š\n#!/bin/bashmyUrl=\"https://www.google.com\"readonly myUrlmyUrl=\"https://www.runoob.com\"\n\nè¿è¡Œè„šæœ¬ï¼Œç»“æœå¦‚ä¸‹ï¼š\n/bin/sh: NAME: This variable is read only.\n\nåˆ é™¤å˜é‡ä½¿ç”¨ unset å‘½ä»¤å¯ä»¥åˆ é™¤å˜é‡ã€‚è¯­æ³•ï¼š\nunset variable_name\n\nå˜é‡è¢«åˆ é™¤åä¸èƒ½å†æ¬¡ä½¿ç”¨ã€‚unset å‘½ä»¤ä¸èƒ½åˆ é™¤åªè¯»å˜é‡ã€‚\n#!/bin/shmyUrl=\"https://www.runoob.com\"unset myUrlecho $myUrl\n\nä»¥ä¸Šå®ä¾‹æ‰§è¡Œå°†æ²¡æœ‰ä»»ä½•è¾“å‡ºã€‚\nå˜é‡ç±»å‹Shell æ”¯æŒä¸åŒç±»å‹çš„å˜é‡ï¼Œå…¶ä¸­ä¸€äº›ä¸»è¦çš„ç±»å‹åŒ…æ‹¬ï¼š\nå­—ç¬¦ä¸²å˜é‡ï¼š åœ¨ Shellä¸­ï¼Œå˜é‡é€šå¸¸è¢«è§†ä¸ºå­—ç¬¦ä¸²ã€‚\nä½ å¯ä»¥ä½¿ç”¨å•å¼•å· ' æˆ–åŒå¼•å· \" æ¥å®šä¹‰å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š\nmy_string='Hello, World!'æˆ–è€…my_string=\"Hello, World!\"\n\næ•´æ•°å˜é‡ï¼š åœ¨ä¸€äº›Shellä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ declare æˆ– typeset å‘½ä»¤æ¥å£°æ˜æ•´æ•°å˜é‡ã€‚\nè¿™æ ·çš„å˜é‡åªåŒ…å«æ•´æ•°å€¼ï¼Œä¾‹å¦‚ï¼š\ndeclare -i my_integer=42\n\nè¿™æ ·çš„å£°æ˜å‘Šè¯‰ Shell å°† my_integer è§†ä¸ºæ•´æ•°ï¼Œå¦‚æœå°è¯•å°†éæ•´æ•°å€¼èµ‹ç»™å®ƒï¼ŒShellä¼šå°è¯•å°†å…¶è½¬æ¢ä¸ºæ•´æ•°ã€‚\næ•°ç»„å˜é‡ï¼š Shell ä¹Ÿæ”¯æŒæ•°ç»„ï¼Œå…è®¸ä½ åœ¨ä¸€ä¸ªå˜é‡ä¸­å­˜å‚¨å¤šä¸ªå€¼ã€‚\næ•°ç»„å¯ä»¥æ˜¯æ•´æ•°ç´¢å¼•æ•°ç»„æˆ–å…³è”æ•°ç»„ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„æ•´æ•°ç´¢å¼•æ•°ç»„çš„ä¾‹å­ï¼š\nmy_array=(1 2 3 4 5)\n\næˆ–è€…å…³è”æ•°ç»„ï¼š\ndeclare -A associative_arrayassociative_array[\"name\"]=\"John\"associative_array[\"age\"]=30\n\nç¯å¢ƒå˜é‡ï¼š è¿™äº›æ˜¯ç”±æ“ä½œç³»ç»Ÿæˆ–ç”¨æˆ·è®¾ç½®çš„ç‰¹æ®Šå˜é‡ï¼Œç”¨äºé…ç½® Shell çš„è¡Œä¸ºå’Œå½±å“å…¶æ‰§è¡Œç¯å¢ƒã€‚\nä¾‹å¦‚ï¼ŒPATH å˜é‡åŒ…å«äº†æ“ä½œç³»ç»Ÿæœç´¢å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ï¼š\necho $PATH\n\nç‰¹æ®Šå˜é‡ï¼š æœ‰ä¸€äº›ç‰¹æ®Šå˜é‡åœ¨ Shell ä¸­å…·æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œä¾‹å¦‚ $0 è¡¨ç¤ºè„šæœ¬çš„åç§°ï¼Œ$1, $2, ç­‰è¡¨ç¤ºè„šæœ¬çš„å‚æ•°ã€‚\n$#è¡¨ç¤ºä¼ é€’ç»™è„šæœ¬çš„å‚æ•°æ•°é‡ï¼Œ$? è¡¨ç¤ºä¸Šä¸€ä¸ªå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ç­‰ã€‚\n\nShell ä¼ é€’å‚æ•°æˆ‘ä»¬å¯ä»¥åœ¨æ‰§è¡Œ Shell è„šæœ¬æ—¶ï¼Œå‘è„šæœ¬ä¼ é€’å‚æ•°ï¼Œè„šæœ¬å†…è·å–å‚æ•°çš„æ ¼å¼ä¸º $nï¼Œn ä»£è¡¨ä¸€ä¸ªæ•°å­—ï¼Œ1 ä¸ºæ‰§è¡Œè„šæœ¬çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ2 ä¸ºæ‰§è¡Œè„šæœ¬çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚\nä¾‹å¦‚å¯ä»¥ä½¿ç”¨ $1ã€$2 ç­‰æ¥å¼•ç”¨ä¼ é€’ç»™è„šæœ¬çš„å‚æ•°ï¼Œå…¶ä¸­ $1 è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ$2 è¡¨ç¤ºç¬¬äºŒä¸ªå‚æ•°ï¼Œä¾æ­¤ç±»æ¨ã€‚\nå®ä¾‹ä»¥ä¸‹å®ä¾‹æˆ‘ä»¬å‘è„šæœ¬ä¼ é€’ä¸‰ä¸ªå‚æ•°ï¼Œå¹¶åˆ†åˆ«è¾“å‡ºï¼Œå…¶ä¸­ $0 ä¸ºæ‰§è¡Œçš„æ–‡ä»¶åï¼ˆåŒ…å«æ–‡ä»¶è·¯å¾„ï¼‰ï¼š\n#!/bin/bash# author:é•¿ç™½å´# url:www.changbaiqi.topecho \"Shell ä¼ é€’å‚æ•°å®ä¾‹ï¼\";echo \"æ‰§è¡Œçš„æ–‡ä»¶åï¼š$0\";echo \"ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š$1\";echo \"ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š$2\";echo \"ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºï¼š$3\";\n\nä¸ºè„šæœ¬è®¾ç½®å¯æ‰§è¡Œæƒé™ï¼Œå¹¶æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š\n$ chmod +x test.sh $ ./test.sh 1 2 3Shell ä¼ é€’å‚æ•°å®ä¾‹ï¼æ‰§è¡Œçš„æ–‡ä»¶åï¼š./test.shç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š1ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š2ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºï¼š3\n\nå¦å¤–ï¼Œè¿˜æœ‰å‡ ä¸ªç‰¹æ®Šå­—ç¬¦ç”¨æ¥å¤„ç†å‚æ•°ï¼š\n\n\n\nå‚æ•°å¤„ç†\nè¯´æ˜\n\n\n\n$#\nä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ä¸ªæ•°\n\n\n$*\nä»¥ä¸€ä¸ªå•å­—ç¬¦ä¸²æ˜¾ç¤ºæ‰€æœ‰å‘è„šæœ¬ä¼ é€’çš„å‚æ•°ã€‚ å¦‚â€$*â€ç”¨ã€Œâ€ã€æ‹¬èµ·æ¥çš„æƒ…å†µã€ä»¥â€$1 $2 â€¦ $nâ€çš„å½¢å¼è¾“å‡ºæ‰€æœ‰å‚æ•°ã€‚\n\n\n$$\nè„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå·\n\n\n$!\nåå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„IDå·\n\n\n$@\nä¸$*ç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨æ—¶åŠ å¼•å·ï¼Œå¹¶åœ¨å¼•å·ä¸­è¿”å›æ¯ä¸ªå‚æ•°ã€‚ å¦‚â€$@â€ç”¨ã€Œâ€ã€æ‹¬èµ·æ¥çš„æƒ…å†µã€ä»¥â€$1â€ â€œ$2â€ â€¦ â€œ$nâ€ çš„å½¢å¼è¾“å‡ºæ‰€æœ‰å‚æ•°ã€‚\n\n\n$-\næ˜¾ç¤ºShellä½¿ç”¨çš„å½“å‰é€‰é¡¹ï¼Œä¸setå‘½ä»¤åŠŸèƒ½ç›¸åŒã€‚\n\n\n$?\næ˜¾ç¤ºæœ€åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ã€‚0è¡¨ç¤ºæ²¡æœ‰é”™è¯¯ï¼Œå…¶ä»–ä»»ä½•å€¼è¡¨æ˜æœ‰é”™è¯¯ã€‚\n\n\nå®ä¾‹#!/bin/bash*# author:é•¿ç™½å´# url:www.changbaiqi.topecho \"Shell ä¼ é€’å‚æ•°å®ä¾‹ï¼\";echo \"ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š$1\";echo \"å‚æ•°ä¸ªæ•°ä¸ºï¼š$#\";echo \"ä¼ é€’çš„å‚æ•°ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²æ˜¾ç¤ºï¼š$*\";\n\næ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š\n$ chmod +x test.sh $ ./test.sh 1 2 3Shell ä¼ é€’å‚æ•°å®ä¾‹ï¼ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š1å‚æ•°ä¸ªæ•°ä¸ºï¼š3ä¼ é€’çš„å‚æ•°ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²æ˜¾ç¤ºï¼š1 2 3\n\n$* ä¸ $@ åŒºåˆ«ï¼š\n\nç›¸åŒç‚¹ï¼šéƒ½æ˜¯å¼•ç”¨æ‰€æœ‰å‚æ•°ã€‚\nä¸åŒç‚¹ï¼šåªæœ‰åœ¨åŒå¼•å·ä¸­ä½“ç°å‡ºæ¥ã€‚å‡è®¾åœ¨è„šæœ¬è¿è¡Œæ—¶å†™äº†ä¸‰ä¸ªå‚æ•° 1ã€2ã€3ï¼Œåˆ™ â€œ * â€œ ç­‰ä»·äº â€œ1 2 3â€ï¼ˆä¼ é€’äº†ä¸€ä¸ªå‚æ•°ï¼‰ï¼Œè€Œ â€œ@â€ ç­‰ä»·äº â€œ1â€ â€œ2â€ â€œ3â€ï¼ˆä¼ é€’äº†ä¸‰ä¸ªå‚æ•°ï¼‰ã€‚\n\nå®ä¾‹#!/bin/bash*# author:èœé¸Ÿæ•™ç¨‹*# url:www.runoob.com*echo \"-- \\$* æ¼”ç¤º ---\"for i in \"$*\"; do  echo $idoneecho \"-- \\$@ æ¼”ç¤º ---\"for i in \"$@\"; do  echo $idone\n\næ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š\n$ chmod +x test.sh $ ./test.sh 1 2 3-- $* æ¼”ç¤º ---1 2 3-- $@ æ¼”ç¤º ---123\n\n\n\n\n\nShell åŸºæœ¬è¿ç®—ç¬¦Shell å’Œå…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼Œæ”¯æŒå¤šç§è¿ç®—ç¬¦ï¼ŒåŒ…æ‹¬ï¼š\n\nç®—æ•°è¿ç®—ç¬¦\nå…³ç³»è¿ç®—ç¬¦\nå¸ƒå°”è¿ç®—ç¬¦\nå­—ç¬¦ä¸²è¿ç®—ç¬¦\næ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦\n\nåŸç”Ÿbashä¸æ”¯æŒç®€å•çš„æ•°å­¦è¿ç®—ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å…¶ä»–å‘½ä»¤æ¥å®ç°ï¼Œä¾‹å¦‚ awk å’Œ exprï¼Œexpr æœ€å¸¸ç”¨ã€‚\nexpr æ˜¯ä¸€æ¬¾è¡¨è¾¾å¼è®¡ç®—å·¥å…·ï¼Œä½¿ç”¨å®ƒèƒ½å®Œæˆè¡¨è¾¾å¼çš„æ±‚å€¼æ“ä½œã€‚\nä¾‹å¦‚ï¼Œä¸¤ä¸ªæ•°ç›¸åŠ (æ³¨æ„ä½¿ç”¨çš„æ˜¯åå¼•å· ` è€Œä¸æ˜¯å•å¼•å· â€˜ )ï¼š\nå®ä¾‹#!/bin/bash*val=`expr 2 + 2`echo \"ä¸¤æ•°ä¹‹å’Œä¸º : $val\"\n\næ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š\nä¸¤æ•°ä¹‹å’Œä¸º : 4\n\nä¸¤ç‚¹æ³¨æ„ï¼š\n\nè¡¨è¾¾å¼å’Œè¿ç®—ç¬¦ä¹‹é—´è¦æœ‰ç©ºæ ¼ï¼Œä¾‹å¦‚ 2+2 æ˜¯ä¸å¯¹çš„ï¼Œå¿…é¡»å†™æˆ 2 + 2ï¼Œè¿™ä¸æˆ‘ä»¬ç†Ÿæ‚‰çš„å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸ä¸€æ ·ã€‚\nå®Œæ•´çš„è¡¨è¾¾å¼è¦è¢«   åŒ…å«ï¼Œæ³¨æ„è¿™ä¸ªå­—ç¬¦ä¸æ˜¯å¸¸ç”¨çš„å•å¼•å·ï¼Œåœ¨ Esc é”®ä¸‹è¾¹ã€‚\n\n\nç®—æœ¯è¿ç®—ç¬¦ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„ç®—æœ¯è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20ï¼š\n\n\n\nè¿ç®—ç¬¦\nè¯´æ˜\nä¸¾ä¾‹\n\n\n\n+\nåŠ æ³•\nexpr $a + $b ç»“æœä¸º 30ã€‚\n\n\n-\nå‡æ³•\nexpr $a - $b ç»“æœä¸º -10ã€‚\n\n\n*\nä¹˜æ³•\nexpr $a \\* $b ç»“æœä¸º  200ã€‚\n\n\n/\né™¤æ³•\nexpr $b / $a ç»“æœä¸º 2ã€‚\n\n\n%\nå–ä½™\nexpr $b % $a ç»“æœä¸º 0ã€‚\n\n\n=\nèµ‹å€¼\na=$b æŠŠå˜é‡ b çš„å€¼èµ‹ç»™ aã€‚\n\n\n==\nç›¸ç­‰ã€‚ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ•°å­—ï¼Œç›¸åŒåˆ™è¿”å› trueã€‚\n[ $a == $b ] è¿”å› falseã€‚\n\n\n!=\nä¸ç›¸ç­‰ã€‚ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ•°å­—ï¼Œä¸ç›¸åŒåˆ™è¿”å› trueã€‚\n[ $a != $b ] è¿”å› trueã€‚\n\n\næ³¨æ„ï¼šæ¡ä»¶è¡¨è¾¾å¼è¦æ”¾åœ¨æ–¹æ‹¬å·ä¹‹é—´ï¼Œå¹¶ä¸”è¦æœ‰ç©ºæ ¼ï¼Œä¾‹å¦‚: [$a==$b] æ˜¯é”™è¯¯çš„ï¼Œå¿…é¡»å†™æˆ [ $a == $b ]ã€‚\nå®ä¾‹ç®—æœ¯è¿ç®—ç¬¦å®ä¾‹å¦‚ä¸‹ï¼š\n#!/bin/basha=10b=20val=`expr $a + $b`echo \"a + b : $val\"val=`expr $a - $b`echo \"a - b : $val\"val=`expr $a \\* $b`echo \"a * b : $val\"val=`expr $b / $a`echo \"b / a : $val\"val=`expr $b % $a`echo \"b % a : $val\"if [ $a == $b ]then  echo \"a ç­‰äº b\"fiif [ $a != $b ]then  echo \"a ä¸ç­‰äº b\"fi\n\n\n\næ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š\na + b : 30a - b : -10a * b : 200b / a : 2b % a : 0a ä¸ç­‰äº b\n\n\næ³¨æ„ï¼š\n\nä¹˜å·(*)å‰è¾¹å¿…é¡»åŠ åæ–œæ ()æ‰èƒ½å®ç°ä¹˜æ³•è¿ç®—ï¼›\nifâ€¦thenâ€¦fi æ˜¯æ¡ä»¶è¯­å¥ï¼Œåç»­å°†ä¼šè®²è§£ã€‚\nåœ¨ MAC ä¸­ shell çš„ expr è¯­æ³•æ˜¯ï¼š$((è¡¨è¾¾å¼))ï¼Œæ­¤å¤„è¡¨è¾¾å¼ä¸­çš„ â€œ*â€ ä¸éœ€è¦è½¬ä¹‰ç¬¦å· â€œ\\â€œ ã€‚\n\n\n\nå…³ç³»è¿ç®—ç¬¦å…³ç³»è¿ç®—ç¬¦åªæ”¯æŒæ•°å­—ï¼Œä¸æ”¯æŒå­—ç¬¦ä¸²ï¼Œé™¤éå­—ç¬¦ä¸²çš„å€¼æ˜¯æ•°å­—ã€‚\nä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å…³ç³»è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20ï¼š\n\n\n\nè¿ç®—ç¬¦\nè¯´æ˜\nä¸¾ä¾‹\n\n\n\n-eq\næ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› trueã€‚\n[ $a -eq $b ] è¿”å› falseã€‚\n\n\n-ne\næ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ä¸ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› trueã€‚\n[ $a -ne $b ] è¿”å› trueã€‚\n\n\n-gt\næ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚\n[ $a -gt $b ] è¿”å› falseã€‚\n\n\n-lt\næ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚\n[ $a -lt $b ] è¿”å› trueã€‚\n\n\n-ge\næ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚\n[ $a -ge $b ] è¿”å› falseã€‚\n\n\n-le\næ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚\n[ $a -le $b ] è¿”å› trueã€‚\n\n\nå®ä¾‹å…³ç³»è¿ç®—ç¬¦å®ä¾‹å¦‚ä¸‹ï¼š\n#!/bin/basha=10b=20if [ $a -eq $b ]then  echo \"$a -eq $b : a ç­‰äº b\"else  echo \"$a -eq $b: a ä¸ç­‰äº b\"fiif [ $a -ne $b ]then  echo \"$a -ne $b: a ä¸ç­‰äº b\"else  echo \"$a -ne $b : a ç­‰äº b\"fiif [ $a -gt $b ]then  echo \"$a -gt $b: a å¤§äº b\"else  echo \"$a -gt $b: a ä¸å¤§äº b\"fiif [ $a -lt $b ]then  echo \"$a -lt $b: a å°äº b\"else  echo \"$a -lt $b: a ä¸å°äº b\"fiif [ $a -ge $b ]then  echo \"$a -ge $b: a å¤§äºæˆ–ç­‰äº b\"else  echo \"$a -ge $b: a å°äº b\"fiif [ $a -le $b ]then  echo \"$a -le $b: a å°äºæˆ–ç­‰äº b\"else  echo \"$a -le $b: a å¤§äº b\"fi\n\næ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š\n10 -eq 20: a ä¸ç­‰äº b10 -ne 20: a ä¸ç­‰äº b10 -gt 20: a ä¸å¤§äº b10 -lt 20: a å°äº b10 -ge 20: a å°äº b10 -le 20: a å°äºæˆ–ç­‰äº b\n\n\nå¸ƒå°”è¿ç®—ç¬¦ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å¸ƒå°”è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20ï¼š\n\n\n\nè¿ç®—ç¬¦\nè¯´æ˜\nä¸¾ä¾‹\n\n\n\n!\néè¿ç®—ï¼Œè¡¨è¾¾å¼ä¸º true åˆ™è¿”å› falseï¼Œå¦åˆ™è¿”å› trueã€‚\n[ ! false ] è¿”å› trueã€‚\n\n\n-o\næˆ–è¿ç®—ï¼Œæœ‰ä¸€ä¸ªè¡¨è¾¾å¼ä¸º true åˆ™è¿”å› trueã€‚\n[ $a -lt 20 -o $b -gt 100 ] è¿”å› trueã€‚\n\n\n-a\nä¸è¿ç®—ï¼Œä¸¤ä¸ªè¡¨è¾¾å¼éƒ½ä¸º true æ‰è¿”å› trueã€‚\n[ $a -lt 20 -a $b -gt 100 ] è¿”å› falseã€‚\n\n\nå®ä¾‹å¸ƒå°”è¿ç®—ç¬¦å®ä¾‹å¦‚ä¸‹ï¼š\n#!/bin/basha=10b=20if [ $a != $b ]then  echo \"$a != $b : a ä¸ç­‰äº b\"else  echo \"$a == $b: a ç­‰äº b\"fiif [ $a -lt 100 -a $b -gt 15 ]then  echo \"$a å°äº 100 ä¸” $b å¤§äº 15 : è¿”å› true\"else  echo \"$a å°äº 100 ä¸” $b å¤§äº 15 : è¿”å› false\"fiif [ $a -lt 100 -o $b -gt 100 ]then  echo \"$a å°äº 100 æˆ– $b å¤§äº 100 : è¿”å› true\"else  echo \"$a å°äº 100 æˆ– $b å¤§äº 100 : è¿”å› false\"fiif [ $a -lt 5 -o $b -gt 100 ]then  echo \"$a å°äº 5 æˆ– $b å¤§äº 100 : è¿”å› true\"else  echo \"$a å°äº 5 æˆ– $b å¤§äº 100 : è¿”å› false\"fi\n\n\n\næ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š\n10 != 20 : a ä¸ç­‰äº b10 å°äº 100 ä¸” 20 å¤§äº 15 : è¿”å› true10 å°äº 100 æˆ– 20 å¤§äº 100 : è¿”å› true10 å°äº 5 æˆ– 20 å¤§äº 100 : è¿”å› false\n\n\né€»è¾‘è¿ç®—ç¬¦ä»¥ä¸‹ä»‹ç» Shell çš„é€»è¾‘è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20:\n\n\n\nè¿ç®—ç¬¦\nè¯´æ˜\nä¸¾ä¾‹\n\n\n\n&amp;&amp;\né€»è¾‘çš„ AND\n[[ $a -lt 100 &amp;&amp; $b -gt 100 ]] è¿”å› false\n\n\n||\né€»è¾‘çš„ OR\n[[ $a -lt 100 || $b -gt 100 ]] è¿”å› true\n\n\nå®ä¾‹é€»è¾‘è¿ç®—ç¬¦å®ä¾‹å¦‚ä¸‹ï¼š\n#!/bin/basha=10b=20if [[ $a -lt 100 &amp;&amp; $b -gt 100 ]]then  echo \"è¿”å› true\"else  echo \"è¿”å› false\"fiif [[ $a -lt 100 || $b -gt 100 ]]then  echo \"è¿”å› true\"else  echo \"è¿”å› false\"fi\n\n\n\næ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š\nè¿”å› falseè¿”å› true\n\n\nå­—ç¬¦ä¸²è¿ç®—ç¬¦ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å­—ç¬¦ä¸²è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º â€œabcâ€ï¼Œå˜é‡ b ä¸º â€œefgâ€ï¼š\n\n\n\nè¿ç®—ç¬¦\nè¯´æ˜\nä¸¾ä¾‹\n\n\n\n=\næ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› trueã€‚\n[ $a = $b ] è¿”å› falseã€‚\n\n\n!=\næ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› trueã€‚\n[ $a != $b ] è¿”å› trueã€‚\n\n\n-z\næ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º0ï¼Œä¸º0è¿”å› trueã€‚\n[ -z $a ] è¿”å› falseã€‚\n\n\n-n\næ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸ä¸º 0ï¼Œä¸ä¸º 0 è¿”å› trueã€‚\n[ -n â€œ$aâ€ ] è¿”å› trueã€‚\n\n\n$\næ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ä¸ºç©ºï¼Œä¸ä¸ºç©ºè¿”å› trueã€‚\n[ $a ] è¿”å› trueã€‚\n\n\nå®ä¾‹å­—ç¬¦ä¸²è¿ç®—ç¬¦å®ä¾‹å¦‚ä¸‹ï¼š\n#!/bin/basha=\"abc\"b=\"efg\"if [ $a = $b ]then  echo \"$a = $b : a ç­‰äº b\"else  echo \"$a = $b: a ä¸ç­‰äº b\"fiif [ $a != $b ]then  echo \"$a != $b : a ä¸ç­‰äº b\"else  echo \"$a != $b: a ç­‰äº b\"fiif [ -z $a ]then  echo \"-z $a : å­—ç¬¦ä¸²é•¿åº¦ä¸º 0\"else  echo \"-z $a : å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º 0\"fiif [ -n \"$a\" ]then  echo \"-n $a : å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º 0\"else  echo \"-n $a : å­—ç¬¦ä¸²é•¿åº¦ä¸º 0\"fiif [ $a ]then  echo \"$a : å­—ç¬¦ä¸²ä¸ä¸ºç©º\"else  echo \"$a : å­—ç¬¦ä¸²ä¸ºç©º\"fi\n\n\n\n\n\næ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š\nabc = efg: a ä¸ç­‰äº babc != efg : a ä¸ç­‰äº b-z abc : å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º 0-n abc : å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º 0abc : å­—ç¬¦ä¸²ä¸ä¸ºç©º\n\n\næ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦ç”¨äºæ£€æµ‹ Unix æ–‡ä»¶çš„å„ç§å±æ€§ã€‚\nå±æ€§æ£€æµ‹æè¿°å¦‚ä¸‹ï¼š\n\n\n\næ“ä½œç¬¦\nè¯´æ˜\nä¸¾ä¾‹\n\n\n\n-b file\næ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å—è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚\n[ -b $file ] è¿”å› falseã€‚\n\n\n-c file\næ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚\n[ -c $file ] è¿”å› falseã€‚\n\n\n-d file\næ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯ç›®å½•ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚\n[ -d $file ] è¿”å› falseã€‚\n\n\n-f file\næ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æ™®é€šæ–‡ä»¶ï¼ˆæ—¢ä¸æ˜¯ç›®å½•ï¼Œä¹Ÿä¸æ˜¯è®¾å¤‡æ–‡ä»¶ï¼‰ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚\n[ -f $file ] è¿”å› trueã€‚\n\n\n-g file\næ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SGID ä½ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚\n[ -g $file ] è¿”å› falseã€‚\n\n\n-k file\næ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº†ç²˜ç€ä½(Sticky Bit)ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚\n[ -k $file ] è¿”å› falseã€‚\n\n\n-p file\næ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æœ‰åç®¡é“ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚\n[ -p $file ] è¿”å› falseã€‚\n\n\n-u file\næ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SUID ä½ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚\n[ -u $file ] è¿”å› falseã€‚\n\n\n-r file\næ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯è¯»ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚\n[ -r $file ] è¿”å› trueã€‚\n\n\n-w file\næ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯å†™ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚\n[ -w $file ] è¿”å› trueã€‚\n\n\n-x file\næ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚\n[ -x $file ] è¿”å› trueã€‚\n\n\n-s file\næ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¸ºç©ºï¼ˆæ–‡ä»¶å¤§å°æ˜¯å¦å¤§äº0ï¼‰ï¼Œä¸ä¸ºç©ºè¿”å› trueã€‚\n[ -s $file ] è¿”å› trueã€‚\n\n\n-e file\næ£€æµ‹æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•ï¼‰æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚\n[ -e $file ] è¿”å› trueã€‚\n\n\nå…¶ä»–æ£€æŸ¥ç¬¦ï¼š\n\n-S: åˆ¤æ–­æŸæ–‡ä»¶æ˜¯å¦ socketã€‚\n-L: æ£€æµ‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨å¹¶ä¸”æ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥ã€‚\n\nå®ä¾‹å˜é‡ file è¡¨ç¤ºæ–‡ä»¶ /var/www/runoob/test.shï¼Œå®ƒçš„å¤§å°ä¸º 100 å­—èŠ‚ï¼Œå…·æœ‰ rwx æƒé™ã€‚ä¸‹é¢çš„ä»£ç ï¼Œå°†æ£€æµ‹è¯¥æ–‡ä»¶çš„å„ç§å±æ€§ï¼š\n#!/bin/bashfile=\"/var/www/runoob/test.sh\"if [ -r $file ]then  echo \"æ–‡ä»¶å¯è¯»\"else  echo \"æ–‡ä»¶ä¸å¯è¯»\"fiif [ -w $file ]then  echo \"æ–‡ä»¶å¯å†™\"else  echo \"æ–‡ä»¶ä¸å¯å†™\"fiif [ -x $file ]then  echo \"æ–‡ä»¶å¯æ‰§è¡Œ\"else  echo \"æ–‡ä»¶ä¸å¯æ‰§è¡Œ\"fiif [ -f $file ]then  echo \"æ–‡ä»¶ä¸ºæ™®é€šæ–‡ä»¶\"else  echo \"æ–‡ä»¶ä¸ºç‰¹æ®Šæ–‡ä»¶\"fiif [ -d $file ]then  echo \"æ–‡ä»¶æ˜¯ä¸ªç›®å½•\"else  echo \"æ–‡ä»¶ä¸æ˜¯ä¸ªç›®å½•\"fiif [ -s $file ]then  echo \"æ–‡ä»¶ä¸ä¸ºç©º\"else  echo \"æ–‡ä»¶ä¸ºç©º\"fiif [ -e $file ]then  echo \"æ–‡ä»¶å­˜åœ¨\"else  echo \"æ–‡ä»¶ä¸å­˜åœ¨\"fi\n\n\n\næ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š\næ–‡ä»¶å¯è¯»æ–‡ä»¶å¯å†™æ–‡ä»¶å¯æ‰§è¡Œæ–‡ä»¶ä¸ºæ™®é€šæ–‡ä»¶æ–‡ä»¶ä¸æ˜¯ä¸ªç›®å½•æ–‡ä»¶ä¸ä¸ºç©ºæ–‡ä»¶å­˜åœ¨\n\nè‡ªå¢å’Œè‡ªå‡æ“ä½œç¬¦å°½ç®¡ Shell æœ¬èº«æ²¡æœ‰åƒ Cã€C++ æˆ– Java é‚£æ ·çš„ ++ å’Œ â€“ æ“ä½œç¬¦ï¼Œä½†å¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼å®ç°ç›¸åŒçš„åŠŸèƒ½ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„æ–¹æ³•ï¼š\nä½¿ç”¨ let å‘½ä»¤let å‘½ä»¤å…è®¸å¯¹æ•´æ•°è¿›è¡Œç®—æœ¯è¿ç®—ã€‚\n#!/bin/bash# åˆå§‹åŒ–å˜é‡num=5# è‡ªå¢let num++# è‡ªå‡let num--echo $num\n\n\n\nä½¿ç”¨ $(( )) è¿›è¡Œç®—æœ¯è¿ç®—$(( )) è¯­æ³•ä¹Ÿæ˜¯è¿›è¡Œç®—æœ¯è¿ç®—çš„ä¸€ç§æ–¹å¼ã€‚\nå®ä¾‹#!/bin/bash# åˆå§‹åŒ–å˜é‡num=5# è‡ªå¢num=$((num + 1))# è‡ªå‡num=$((num - 1))echo $num\n\nä½¿ç”¨ expr å‘½ä»¤expr å‘½ä»¤å¯ä»¥ç”¨äºç®—æœ¯è¿ç®—ï¼Œä½†åœ¨ç°ä»£è„šæœ¬ä¸­ä¸å¦‚ let å’Œ $(( )) å¸¸ç”¨ã€‚\nå®ä¾‹#!/bin/bash# åˆå§‹åŒ–å˜é‡num=5# è‡ªå¢num=$(expr $num + 1)# è‡ªå‡num=$(expr $num - 1)echo $num\n\n\n\nä½¿ç”¨ (( )) è¿›è¡Œç®—æœ¯è¿ç®—ä¸ $(( )) ç±»ä¼¼ï¼Œ(( )) è¯­æ³•ä¹Ÿå¯ä»¥ç”¨äºç®—æœ¯è¿ç®—ã€‚\nå®ä¾‹#!/bin/bash# åˆå§‹åŒ–å˜é‡num=5# è‡ªå¢((num++))# è‡ªå‡((num--))echo $num\n\n\n\nå®ä¾‹ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹è„šæœ¬ï¼Œæ¼”ç¤ºäº†è‡ªå¢å’Œè‡ªå‡æ“ä½œçš„ä½¿ç”¨ï¼š\n#!/bin/bash# åˆå§‹åŒ–å˜é‡num=5echo \"åˆå§‹å€¼: $num\"# è‡ªå¢let num++echo \"è‡ªå¢å: $num\"# è‡ªå‡let num--echo \"è‡ªå‡å: $num\"# ä½¿ç”¨ $(( ))num=$((num + 1))echo \"ä½¿ç”¨ $(( )) è‡ªå¢å: $num\"num=$((num - 1))echo \"ä½¿ç”¨ $(( )) è‡ªå‡å: $num\"# ä½¿ç”¨ exprnum=$(expr $num + 1)echo \"ä½¿ç”¨ expr è‡ªå¢å: $num\"num=$(expr $num - 1)echo \"ä½¿ç”¨ expr è‡ªå‡å: $num\"# ä½¿ç”¨ (( ))((num++))echo \"ä½¿ç”¨ (( )) è‡ªå¢å: $num\"((num--))echo \"ä½¿ç”¨ (( )) è‡ªå‡å: $num\"\n\n\n\nè¿è¡Œè¿™ä¸ªè„šæœ¬ä¼šè¾“å‡ºä»¥ä¸‹å†…å®¹ï¼š\nåˆå§‹å€¼: 5è‡ªå¢å: 6è‡ªå‡å: 5ä½¿ç”¨ $(( )) è‡ªå¢å: 6ä½¿ç”¨ $(( )) è‡ªå‡å: 5ä½¿ç”¨ expr è‡ªå¢å: 6ä½¿ç”¨ expr è‡ªå‡å: 5ä½¿ç”¨ (( )) è‡ªå¢å: 6ä½¿ç”¨ (( )) è‡ªå‡å: 5\n\n\n\nShell å‡½æ•°\nlinux shell å¯ä»¥ç”¨æˆ·å®šä¹‰å‡½æ•°ï¼Œç„¶ååœ¨shellè„šæœ¬ä¸­å¯ä»¥éšä¾¿è°ƒç”¨ã€‚\nshellä¸­å‡½æ•°çš„å®šä¹‰æ ¼å¼å¦‚ä¸‹ï¼š\n[ function ] funname [()]{  action;  [return int;]}\n\n\n\nè¯´æ˜ï¼š\n\n1ã€å¯ä»¥å¸¦ function fun() å®šä¹‰ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ fun() å®šä¹‰,ä¸å¸¦ä»»ä½•å‚æ•°ã€‚\n2ã€å‚æ•°è¿”å›ï¼Œå¯ä»¥æ˜¾ç¤ºåŠ ï¼šreturn è¿”å›ï¼Œå¦‚æœä¸åŠ ï¼Œå°†ä»¥æœ€åä¸€æ¡å‘½ä»¤è¿è¡Œç»“æœï¼Œä½œä¸ºè¿”å›å€¼ã€‚ return åè·Ÿæ•°å€¼ n(0-255).\n\nä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°å¹¶è¿›è¡Œè°ƒç”¨ï¼š\nå®ä¾‹#!/bin/bashdemoFun(){  echo \"è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ª shell å‡½æ•°!\"}echo \"-----å‡½æ•°å¼€å§‹æ‰§è¡Œ-----\"demoFunecho \"-----å‡½æ•°æ‰§è¡Œå®Œæ¯•-----\"\n\n\n\nè¾“å‡ºç»“æœï¼š\n-----å‡½æ•°å¼€å§‹æ‰§è¡Œ-----è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ª shell å‡½æ•°!-----å‡½æ•°æ‰§è¡Œå®Œæ¯•-----\n\nä¸‹é¢å®šä¹‰ä¸€ä¸ªå¸¦æœ‰ return è¯­å¥çš„å‡½æ•°ï¼š\nå®ä¾‹#!/bin/bashfunWithReturn(){  echo \"è¿™ä¸ªå‡½æ•°ä¼šå¯¹è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—è¿›è¡Œç›¸åŠ è¿ç®—...\"  echo \"è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—: \"  read aNum  echo \"è¾“å…¥ç¬¬äºŒä¸ªæ•°å­—: \"  read anotherNum  echo \"ä¸¤ä¸ªæ•°å­—åˆ†åˆ«ä¸º $aNum å’Œ $anotherNum !\"  return $(($aNum+$anotherNum))}funWithReturnecho \"è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—ä¹‹å’Œä¸º $? !\"\n\n\n\nè¾“å‡ºç±»ä¼¼ä¸‹é¢ï¼š\nè¿™ä¸ªå‡½æ•°ä¼šå¯¹è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—è¿›è¡Œç›¸åŠ è¿ç®—...è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—: 1è¾“å…¥ç¬¬äºŒä¸ªæ•°å­—: 2ä¸¤ä¸ªæ•°å­—åˆ†åˆ«ä¸º 1 å’Œ 2 !è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—ä¹‹å’Œä¸º 3 !\n\nå‡½æ•°è¿”å›å€¼åœ¨è°ƒç”¨è¯¥å‡½æ•°åé€šè¿‡ $? æ¥è·å¾—ã€‚\næ³¨æ„ï¼šæ‰€æœ‰å‡½æ•°åœ¨ä½¿ç”¨å‰å¿…é¡»å®šä¹‰ã€‚è¿™æ„å‘³ç€å¿…é¡»å°†å‡½æ•°æ”¾åœ¨è„šæœ¬å¼€å§‹éƒ¨åˆ†ï¼Œç›´è‡³shellè§£é‡Šå™¨é¦–æ¬¡å‘ç°å®ƒæ—¶ï¼Œæ‰å¯ä»¥ä½¿ç”¨ã€‚è°ƒç”¨å‡½æ•°ä»…ä½¿ç”¨å…¶å‡½æ•°åå³å¯ã€‚\næ³¨æ„ï¼š return è¯­å¥åªèƒ½è¿”å›ä¸€ä¸ªä»‹äº 0 åˆ° 255 ä¹‹é—´çš„æ•´æ•°ï¼Œè€Œä¸¤ä¸ªè¾“å…¥æ•°å­—çš„å’Œå¯èƒ½è¶…è¿‡è¿™ä¸ªèŒƒå›´ã€‚\nè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ‚¨å¯ä»¥ä¿®æ”¹ return è¯­å¥ï¼Œç›´æ¥ä½¿ç”¨ echo è¾“å‡ºå’Œè€Œä¸æ˜¯ä½¿ç”¨ returnï¼š\nå®ä¾‹funWithReturn(){  echo \"è¿™ä¸ªå‡½æ•°ä¼šå¯¹è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—è¿›è¡Œç›¸åŠ è¿ç®—...\"  echo \"è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—: \"  read aNum  echo \"è¾“å…¥ç¬¬äºŒä¸ªæ•°å­—: \"  read anotherNum  sum=$(($aNum + $anotherNum))  echo \"ä¸¤ä¸ªæ•°å­—åˆ†åˆ«ä¸º $aNum å’Œ $anotherNum !\"  echo $sum # è¾“å‡ºä¸¤ä¸ªæ•°å­—çš„å’Œ}\n\n\n\nå‡½æ•°å‚æ•°åœ¨Shellä¸­ï¼Œè°ƒç”¨å‡½æ•°æ—¶å¯ä»¥å‘å…¶ä¼ é€’å‚æ•°ã€‚åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œé€šè¿‡ $n çš„å½¢å¼æ¥è·å–å‚æ•°çš„å€¼ï¼Œä¾‹å¦‚ï¼Œ$1è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ$2è¡¨ç¤ºç¬¬äºŒä¸ªå‚æ•°â€¦\nå¸¦å‚æ•°çš„å‡½æ•°ç¤ºä¾‹ï¼š\nå®ä¾‹#!/bin/bashfunWithParam(){  echo \"ç¬¬ä¸€ä¸ªå‚æ•°ä¸º $1 !\"  echo \"ç¬¬äºŒä¸ªå‚æ•°ä¸º $2 !\"  echo \"ç¬¬åä¸ªå‚æ•°ä¸º $10 !\"  echo \"ç¬¬åä¸ªå‚æ•°ä¸º ${10} !\"  echo \"ç¬¬åä¸€ä¸ªå‚æ•°ä¸º ${11} !\"  echo \"å‚æ•°æ€»æ•°æœ‰ $# ä¸ª!\"  echo \"ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºæ‰€æœ‰å‚æ•° $* !\"}funWithParam 1 2 3 4 5 6 7 8 9 34 73\n\n\n\nè¾“å‡ºç»“æœï¼š\nç¬¬ä¸€ä¸ªå‚æ•°ä¸º 1 !ç¬¬äºŒä¸ªå‚æ•°ä¸º 2 !ç¬¬åä¸ªå‚æ•°ä¸º 10 !ç¬¬åä¸ªå‚æ•°ä¸º 34 !ç¬¬åä¸€ä¸ªå‚æ•°ä¸º 73 !å‚æ•°æ€»æ•°æœ‰ 11 ä¸ª!ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºæ‰€æœ‰å‚æ•° 1 2 3 4 5 6 7 8 9 34 73 !\n\næ³¨æ„ï¼Œ$10 ä¸èƒ½è·å–ç¬¬åä¸ªå‚æ•°ï¼Œè·å–ç¬¬åä¸ªå‚æ•°éœ€è¦${10}ã€‚å½“n&gt;=10æ—¶ï¼Œéœ€è¦ä½¿ç”¨${n}æ¥è·å–å‚æ•°ã€‚\nå¦å¤–ï¼Œè¿˜æœ‰å‡ ä¸ªç‰¹æ®Šå­—ç¬¦ç”¨æ¥å¤„ç†å‚æ•°ï¼š\n\n\n\nå‚æ•°å¤„ç†\nè¯´æ˜\n\n\n\n$#\nä¼ é€’åˆ°è„šæœ¬æˆ–å‡½æ•°çš„å‚æ•°ä¸ªæ•°\n\n\n$*\nä»¥ä¸€ä¸ªå•å­—ç¬¦ä¸²æ˜¾ç¤ºæ‰€æœ‰å‘è„šæœ¬ä¼ é€’çš„å‚æ•°\n\n\n$$\nè„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå·\n\n\n$!\nåå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„IDå·\n\n\n$@\nä¸$*ç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨æ—¶åŠ å¼•å·ï¼Œå¹¶åœ¨å¼•å·ä¸­è¿”å›æ¯ä¸ªå‚æ•°ã€‚\n\n\n$-\næ˜¾ç¤ºShellä½¿ç”¨çš„å½“å‰é€‰é¡¹ï¼Œä¸setå‘½ä»¤åŠŸèƒ½ç›¸åŒã€‚\n\n\n$?\næ˜¾ç¤ºæœ€åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ã€‚0è¡¨ç¤ºæ²¡æœ‰é”™è¯¯ï¼Œå…¶ä»–ä»»ä½•å€¼è¡¨æ˜æœ‰é”™è¯¯ã€‚\n\n\n","categories":["Linux"],"tags":["Linux,shell"]},{"title":"archLinux i3æ¡Œé¢å¿«æ·æ–¹å¼å¤§å…¨","url":"/2024/06/23/learnnote/linux-xue-xi/archlinux-i3-zhuo-mian-kuai-jie-fang-shi-da-quan/","content":"\n\n\næŒ‰é”®ç»‘å®š\næè¿°\n\n\n\nMod + Enter\næ‰“å¼€ç»ˆç«¯ã€‚\n\n\nMod + â†\nåˆ‡æ¢åˆ°å·¦ä¾§çª—å£ã€‚\n\n\nMod + â†’\nåˆ‡æ¢åˆ°å³ä¾§çª—å£ã€‚\n\n\nMod + â†‘\nåˆ‡æ¢åˆ°ä¸Šæ–¹çª—å£ã€‚\n\n\nMod + â†“\nåˆ‡æ¢åˆ°ä¸‹æ–¹çª—å£ã€‚\n\n\nMod + Shift + â†\nå°†çª—å£ç§»åŠ¨åˆ°å·¦ä¾§ã€‚\n\n\nMod + Shift + â†’\nå°†çª—å£ç§»åŠ¨åˆ°å³ä¾§ã€‚\n\n\nMod + Shift + â†‘\nå°†çª—å£ç§»åŠ¨åˆ°ä¸Šæ–¹ã€‚\n\n\nMod + Shift + â†“\nå°†çª—å£ç§»åŠ¨åˆ°ä¸‹æ–¹ã€‚\n\n\nMod + f\nå°†ç„¦ç‚¹çª—å£åˆ‡æ¢åˆ°å…¨å±æ¨¡å¼ã€‚\n\n\nMod + v\nä¸‹ä¸€ä¸ªçª—å£å°†å‚ç›´æ”¾ç½®ã€‚\n\n\nMod + h\nä¸‹ä¸€ä¸ªçª—å£å°†æ°´å¹³æ”¾ç½®ã€‚\n\n\nMod + s\nå¯ç”¨å †å å¼çª—å£å¸ƒå±€ã€‚\n\n\nMod + w\nå¯ç”¨é€‰é¡¹å¡å¼çª—å£å¸ƒå±€ã€‚\n\n\nMod + Shift + Space\nå¯ç”¨æµ®åŠ¨çª—å£ï¼ˆé’ˆå¯¹ç„¦ç‚¹çª—å£ï¼‰ã€‚\n\n\nMod + é¼ æ ‡å·¦é”®å•å‡»\nä½¿ç”¨é¼ æ ‡æ‹–åŠ¨æ•´ä¸ªçª—å£ã€‚\n\n\nMod + 0-9\nåˆ‡æ¢åˆ°å¦ä¸€ä¸ªå·¥ä½œåŒºã€‚\n\n\nMod + Shift + 0-9\nå°†çª—å£ç§»åŠ¨åˆ°å¦ä¸€ä¸ªå·¥ä½œåŒºã€‚\n\n\nMod + d\næ‰“å¼€åº”ç”¨ç¨‹åºå¯åŠ¨å™¨ï¼ˆD èœå•ï¼‰ã€‚\n\n\nMod + Shift + q\nå…³é—­ç„¦ç‚¹çª—å£ã€‚\n\n\nMod + Shift + c\né‡æ–°åŠ è½½ i3 é…ç½®æ–‡ä»¶ã€‚\n\n\nMod + Shift + r\né‡å¯ i3 çª—å£ç®¡ç†å™¨ã€‚\n\n\nMod + Shift + e\né€€å‡º i3 çª—å£ç®¡ç†å™¨ã€‚\n\n\n","categories":["Linux"],"tags":["i3æ¡Œé¢"]},{"title":"MarkDownæ•°å­¦ç¬¦å·æ”¶é›†è¡¨","url":"/2023/09/18/learnnote/markdown/markdown-shu-xue-fu-hao-biao/","content":"MarkDownæ•°å­¦ç¬¦å·æ”¶é›†è¡¨\nå¸Œè…Šå­—æ¯è¡¨\n\n\nç¬¦å·\nä»£ç \nç¬¦å·\nä»£ç \n\n\n\n$\\alpha$\n\\alpha\nA\n\\Alpha\n\n\nÎ²\n\\beta\nB\n\\Beta\n\n\n$\\gamma$\n\\gamma\nÎ“\n\\Gamma\n\n\n$\\delta$\n\\delta\n$\\Delta$\n\\Delta\n\n\n$\\epsilon$\n\\epsilon\n$\\Epsilon$\n\\Epsilon\n\n\n$\\zeta$\n\\zeta\n$\\Zeta$\n\\Zeta\n\n\n$\\eta$\n\\eta\n$\\Eta$\n\\Eta\n\n\n$\\theta$\n\\theta\n$\\Theta$\n\\Theta\n\n\n$\\iota$\n\\iota\n$\\Iota$\n\\Iota\n\n\n$\\sigma$\n\\sigma\n$\\Sigma$\n\\Sigma\n\n\n$\\mu$\n\\mu\n$\\Mu$\n\\Mu\n\n\n$\\lambda$\n\\lambda\n$\\Lambda$\n\\Lambda\n\n\n$\\omega$\n\\omega\n$\\Omega$\n\\Omega\n\n\n$\\nu$\n\\nu\n$\\Nu$\n\\Nu\n\n\n$\\pi$\n\\pi\n$\\Pi$\n\\Pi\n\n\n$\\tau$\n\\tau\n\n\n\n\n$\\zeta$\n\\zeta\n\n\n\n\n$\\kappa$\n\\kappa\n\n\n\n\n$\\psi$\n$\\psi\n\n\n\n\n$\\rho$\n$\\rho\n\n\n\n\n$\\varrho$\n\\varrho\n\n\n\n\n$\\xi$\n\\xi\n\n\n\n\n$\\partial$\n\\partial\n\n\n\n\n$\\phi$\n\\phi\n$\\Phi$\n\\Phi\n\n\næ•°å­—ç¬¦å·è¡¨\n\n\næè¿°\nç¬¦å·\nä»£ç \n\n\n\næ±‚å’Œå…¬å¼\n$\\sum$\n\\sum\n\n\næ±‚å’Œä¸Šä¸‹æ ‡\n$\\sum_{i=0}^n$\n\\sum_{i=0}^n\n\n\nå‰ä¹˜/ç‚¹ä¹˜ Ã— \\times\n$\\times \\cdot$\n\\times \\cdot\n\n\næ­£è´Ÿå·\n$\\pm$\n\\pm\n\n\né™¤å·\n$\\div$\n\\div\n\n\nç«–çº¿\n$\\mid$\n\\mid\n\n\nç‚¹\n$\\cdot$\n\\cdot\n\n\nåœˆ\n$\\circ$\n\\circ\n\n\næ˜Ÿå·\n$\\ast$\n\\ast\n\n\nå…‹ç½—å†…å…‹ç§¯\n$\\bigotimes$\n\\bigotimes\n\n\nå¼‚æˆ–\n$\\bigoplus$\n\\bigoplus\n\n\nåŒæˆ–è¿ç®—\n$\\bigodot$\n\\bigodot\n\n\nå‘é‡ç¬¦å·\n$\\vec{å­—æ¯}$\n\\vec{å­—æ¯}\n\n\nå°äºç­‰äº\n$\\leq$\n\\leq\n\n\nå¤§äºç­‰äº\n$\\geq$\n\\geq\n\n\nä¸ç­‰äº\n$\\neq$\n\\neq\n\n\nç­‰ä»·äº\n$\\sim$\n\\sim\n\n\nçº¦ç­‰äº\n$\\approx$\n\\approx\n\n\nNå…ƒä¹˜ç§¯ âˆ \\prod\n$\\prod$\n\\prod\n\n\nNå…ƒä½™ç§¯\n$\\coprod$\n\\coprod\n\n\nçœç•¥å·\n$\\cdots$\n\\cdots\n\n\nç§¯åˆ†\n$\\int$\n\\int\n\n\nåŒé‡ç§¯åˆ†\n$\\iint$\n\\iint\n\n\næ›²çº¿ç§¯åˆ†\n$\\oint$\n\\oint\n\n\næ— ç©·\n$\\infty$\n\\infty\n\n\nå³ç®­å¤´\n$$\\rarr$$\n\\rarr\n\n\nå³èƒ–ç®­å¤´\n$\\Rarr$\n\\Rarr\n\n\nå·¦ç®­å¤´\n$$\\larr$$\n\\larr\n\n\nå·¦èƒ–ç®­å¤´\n$\\Larr$\n\\Larr\n\n\nä¸Šç®­å¤´\n$\\uarr$\n\\uarr\n\n\nä¸Šèƒ–ç®­å¤´\n$\\Uarr$\n\\Uarr\n\n\nä¸‹ç®­å¤´\n$\\darr$\n\\darr\n\n\nä¸‹èƒ–ç®­å¤´\n$\\Darr$\n\\Darr\n\n\nä¸Šä¸‹åŒå‘ç®­å¤´\n$\\updownarrow$\n\\updownarrow\n\n\nä¸Šä¸‹åŒå‘èƒ–ç®­å¤´\n$\\Updownarrow$\n\\Updownarrow\n\n\nå·¦å³åŒå‘ç®­å¤´\n$\\lrarr$\n\\lrarr\n\n\nå·¦å³åŒå‘èƒ–ç®­å¤´\n$\\Lrarr$\n\\Lrarr\n\n\nä»»æ„ä¸€ä¸ª\n$\\forall$\n\\forall\n\n\nä»»é€‰ä¸€ä¸ª\n$\\exists$\n\\exists\n\n\næé™lim\n$\\lim\\limits_{x\\to0}\\frac{a}{b}$\n\\lim\\limits_{x\\to0}\\frac{a}{b}$\n\n\nç”¨äºæé™åˆ°æŸä¸€å€¼çš„ç®­å¤´\n$ \\lim\\limits_{x\\to0}$\n\\to\n\n\næé™$\\lim_{x \\to 0}$\n$\\lim_{x\\to 0}$\n\\lim_{x\\to 0}\n\n\næ ¹å·$\\sqrt{2}$\n$\\sqrt{2}$\n\\sqrt{2}\n\n\næŒ‡å®šæ–¹æ ¹å·$\\sqrt[4]{2}$\n$\\sqrt[4]{2}$\n\\sqrt[4]{2}\n\n\nå±äº\n$\\in$\n\\in\n\n\nä¸å±äº\n$\\notin$\n\\notin\n\n\nå­é›†\n$\\subset$\n\\subset\n\n\nå®æ•°é›†\n$\\mathbb R$\n\\mathbb R\n\n\nå¤æ•°é›†\n$\\mathbb C$\n\\mathbb C\n\n\næ•´æ•°é›†\n$\\mathbb Z$\n\\mathbb Z\n\n\nè‡ªç„¶æ•°é›†\n$\\mathbb N$\n\\mathbb N\n\n\nç©ºé›†\n$\\emptyset$\n\\emptyset\n\n\nåŒ…å«äº\n$\\subseteq$\n\\subseteq\n\n\nåŒ…å«\n$\\supseteq$\n\\supseteq\n\n\nåŒ…å«äº\n$\\subset$\n\\subset\n\n\nåŒ…å«\n$\\supset$\n\\supset\n\n\nçœŸåŒ…å«äº\n$\\subsetneq$\n\\subsetneq\n\n\nçœŸåŒ…å«\n$\\supsetneq$\n\\supsetneq\n\n\næ•°å­¦ç¬¦å·è¡¥å……è¡¨\n\n\n$æè¿°$\nç¬¦å·\n$ä»£ç $\n\n\n\nè¡Œå†…å…¬å¼\n$$\n$$\n\n\nç‹¬è¡Œå…¬å¼\n\n\n\n\nä¸Šæ ‡\n$y=x^2$\n^\n\n\nä¸‹æ ‡\n$O_4$\n_\n\n\nä¸Šä¸‹æ ‡ç»„åˆ\n$\\frac{a}{b}$\n$\\frac{a}{b}\n\n\nå­—ä½“æ§åˆ¶\n$\\displaystyle \\frac{a}{b}$\n\\displaystyle\n\n\nä¸åŠ æ­¤å†…å®¹å…¬å¼ä¼šç¼©è‡³ä¸æ–‡å­—åŒé«˜ã€‚åŠ æ­¤å†…å®¹ï¼Œå…¬å¼ä¼šä»¥åŸå¤§å°æ˜¾ç¤ºã€‚\n\n\n\n\nå ä½ç¬¦\n$\\quad$\n\\quad\n\n\nå¤§ç©ºæ ¼\n\n\n\n\nä¸­ç©ºæ ¼\n\n\n\n\nå°ç©ºæ ¼\n\n\n\n\nè´´ç´§\n$!$\n!\n\n\næ‹¬å·\n$\\big(ç®—å¼)$\n\\big(ç®—å¼)\n\n\nä¸­æ‹¬å·\n\n\n\n\nå¤§æ‹¬å·\n\n\n\n\nè‡ªé€‚åº”æ‹¬å·\n\n\n\n\nçŸ©é˜µ\n\n\n\n\nä¸Šç®­å¤´\n\n\n\n\nçŸ©é˜µ\n$\\begin{matrix}0&amp;1&amp;1\\1&amp;1&amp;0\\1&amp;0&amp;1\\end{matrix}$\n\\begin{matrix}0&amp;1&amp;1\\1&amp;1&amp;0\\1&amp;0&amp;1\\end{matrix}\n\n\nçŸ©é˜µå°æ‹¬å·\n$\\begin{pmatrix}0&amp;1&amp;1\\1&amp;1&amp;0\\1&amp;0&amp;1\\end{pmatrix}$\n\\begin{pmatrix}0&amp;1&amp;1\\1&amp;1&amp;0\\1&amp;0&amp;1\\end{pmatrix}\n\n\nçŸ©é˜µä¸­æ‹¬å·\n$\\begin{bmatrix}0&amp;1&amp;1\\1&amp;1&amp;0\\1&amp;0&amp;1\\end{bmatrix}$\n\\begin{bmatrix}0&amp;1&amp;1\\1&amp;1&amp;0\\1&amp;0&amp;1\\end{bmatrix}\n\n\nçŸ©é˜µå¤§æ‹¬å·\n$\\begin{Bmatrix}0&amp;1&amp;1\\1&amp;1&amp;0\\1&amp;0&amp;1\\end{Bmatrix}$\n\\begin{Bmatrix}0&amp;1&amp;1\\1&amp;1&amp;0\\1&amp;0&amp;1\\end{Bmatrix}\n\n\nçŸ©é˜µå•ç«–çº¿\n$\\begin{vmatrix}0&amp;1&amp;1\\1&amp;1&amp;0\\1&amp;0&amp;1\\end{vmatrix}$\n\\begin{vmatrix}0&amp;1&amp;1\\1&amp;1&amp;0\\1&amp;0&amp;1\\end{vmatrix}\n\n\nçŸ©é˜µåŒç«–çº¿\n$\\begin{Vmatrix}0&amp;1&amp;1\\1&amp;1&amp;0\\1&amp;0&amp;1\\end{Vmatrix}$\n\\begin{Vmatrix}0&amp;1&amp;1\\1&amp;1&amp;0\\1&amp;0&amp;1\\end{Vmatrix}\n\n\n","categories":["MarkDown"],"tags":["æ•°å­¦","MarkDown"]},{"title":"Nginxå­¦ä¹ ","url":"/2024/03/02/learnnote/nignx/nignx-xue-xi/","content":"Nginxå­¦ä¹ \nå¸¸ç”¨æŒ‡ä»¤ï¼š\nåœæ­¢\nsystemctl stop nginx\né‡å¯\nsystemctl restart nginx\nå…³äºnginxæ€»æ˜¯403é—®é¢˜ï¼šè¯´æ˜ï¼š\n\nå¦‚æœä½¿ç”¨çš„æ˜¯Centosé‚£ä¹ˆå¹¶ä¸”é˜²ç«å¢™å•¥çš„éƒ½å…³äº†å¯èƒ½å­˜åœ¨SELinuxçš„é—®é¢˜ï¼Œåªéœ€è¦æŠŠSELinuxå…³äº†å°±è¡Œ\ncentoså…³é—­SELinuxæŒ‡ä»¤ï¼š\nsed -i s#SELINUX=enforcing#SELINUX=disabled# /etc/selinux/config\n\n\n","categories":["Nginx"],"tags":["Nginx"]},{"title":"MySQLåŒæ—¶å®‰è£…å¤šä¸ªç‰ˆæœ¬","url":"/2025/04/19/learnnote/sql-xue-xi/mysql-tong-shi-an-zhuang-duo-ge-ban-ben/","content":"MySQLåŒæ—¶å®‰è£…å¤šä¸ªç‰ˆæœ¬Windowsç³»ç»Ÿå®‰è£…ä¸€ã€ä¸‹è½½å¯¹åº”MySQL5ç‰ˆæœ¬çš„å‹ç¼©åŒ…MySQLä¸åŒç‰ˆæœ¬ä¸‹è½½é¡µï¼šhttps://downloads.mysql.com/archives/community/ï¼Œè¿›å»ä¸‹è½½ä¸åŒç‰ˆæœ¬zipåŒ…å³å¯ã€‚\næ¯”å¦‚é€‰æ‹©ä¸‹è½½MySQL 5.7.40ç‰ˆæœ¬ï¼š\n\nä¸‹è½½å¥½ä¹‹åè§£å‹åˆ°è‡ªå·±æƒ³è¦çš„ç›®å½•ã€‚\näºŒã€å®‰è£…MySQL51ã€å®šåˆ¶é…ç½®æ–‡ä»¶åœ¨æ•°æ®åº“å¯¹åº”æ ¹ç›®å½•æ–‡ä»¶åˆ›å»ºmy.ini\n\nmy.iniæ–‡ä»¶å†…å®¹\n[mysql]# è®¾ç½®mysqlå®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†default-character-set=utf8[mysqld]# è®¾ç½®3305ç«¯å£,å¤šä¸ªæ•°æ®åº“å¹¶å­˜çš„æ—¶å€™è®°å¾—ç«¯å£åˆ«TMä¸€æ ·çš„port = 3305# è®¾ç½®mysqlçš„å®‰è£…ç›®å½•basedir=D:\\\\mysql-5.7.37-winx64# è®¾ç½®mysqlæ•°æ®åº“çš„æ•°æ®çš„å­˜æ”¾ç›®å½•ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼Œä¸ç„¶å¯èƒ½æŠ¥é”™ï¼‰datadir=D:\\\\mysql-5.7.37-winx64\\\\data# å…è®¸æœ€å¤§è¿æ¥æ•°max_connections=10000# å…è®¸æœ€å¤§è¿æ¥äººæ•°max_user_connections=1000# æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†é»˜è®¤ä¸º8æ¯”ç‰¹ç¼–ç çš„latin1å­—ç¬¦é›†character-set-server=utf8# åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿ç”¨çš„é»˜è®¤å­˜å‚¨å¼•æ“default-storage-engine=INNODB # è¿æ¥æ—¶é—´ä¸€å¹´wait_timeout=31536000interactive_timeout=31536000\n\n\n\nä¹‹ååˆ©ç”¨ç®¡ç†å‘˜æƒé™çš„CMDcdåˆ°æŒ‡å®šç›®å½•ï¼Œæ³¨æ„ï¼Œå¦‚æœcdæ²¡æœ‰ååº”åˆ™éœ€è¦å†æ‰“ä¸€éç›˜ç¬¦ï¼Œæ¯”å¦‚æˆ‘æƒ³cdåˆ°D:\\mysql-5.7.37-winx64\\binï¼Œå¦‚æœæ²¡æœ‰ååº”ï¼Œåˆ™å†è¾“å…¥ä¸€æ¬¡d:å°±è¡Œã€‚\n2ã€åˆå§‹åŒ–æ•°æ®åº“mysqld --initialize\n\n3ã€å®‰è£…MySQLæœåŠ¡æ³¨æ„è¿™é‡Œçš„MYSQL5ä¸»è¦çš„ä½œç”¨å°±æ˜¯ç»™å®‰è£…çš„æœåŠ¡è¿›è¡Œè‡ªå®šä¹‰åç§°ï¼Œå› ä¸ºä¸åŠ MYSQL5çš„è¯MySQLé»˜è®¤å®‰è£…çš„æœåŠ¡åç§°ä¸ºMYSQLï¼Œè¿™é‡Œè‡ªå®šä¹‰åç§°çš„ä½œç”¨å°±æ˜¯ä¸ºäº†é˜²æ­¢å…¶ä»–MYSQLæœåŠ¡åç§°ç›¸æ’ã€‚\nmysqld --install MYSQL5\n\n4ã€å¯åŠ¨MySQLæœåŠ¡net start MYSQL5\n\n5ã€è¿æ¥æ•°æ®åº“è¾“å…¥æŒ‡ä»¤ä¹‹åä¼šè®©ä½ è¾“å…¥æ•°æ®åº“å¯†ç ï¼Œè€Œåˆå§‹æ•°æ®åº“åˆæ¬¡åˆ›å»ºå¯èƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªæ•°æ®åº“å¯†ç ï¼Œå¯†ç å¯ä»¥åœ¨dataä¸­çš„errç»“å°¾åç¼€æ–‡ä»¶é‡Œé¢æŸ¥çœ‹ã€‚\nmysql -P 3305 -u root -p\n\n\nä¸‰ã€ä¸‹è½½å¯¹åº”MySQL8ç‰ˆæœ¬çš„å‹ç¼©åŒ…MySQLä¸åŒç‰ˆæœ¬ä¸‹è½½é¡µï¼šhttps://downloads.mysql.com/archives/community/ï¼Œè¿›å»ä¸‹è½½ä¸åŒç‰ˆæœ¬zipåŒ…å³å¯ã€‚\næ¯”å¦‚é€‰æ‹©ä¸‹è½½MySQL 8.3.0ç‰ˆæœ¬ï¼š\n\nä¸‹è½½å¥½ä¹‹åè§£å‹åˆ°è‡ªå·±æƒ³è¦çš„ç›®å½•ã€‚\näºŒã€å®‰è£…MySQL81ã€å®šåˆ¶é…ç½®æ–‡ä»¶åœ¨æ•°æ®åº“å¯¹åº”æ ¹ç›®å½•æ–‡ä»¶åˆ›å»ºmy.ini\n\nmy.iniæ–‡ä»¶å†…å®¹\n[mysql]# è®¾ç½®mysqlå®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†default-character-set=utf8[mysqld]# è®¾ç½®3306ç«¯å£,å¤šä¸ªæ•°æ®åº“å¹¶å­˜çš„æ—¶å€™è®°å¾—ç«¯å£åˆ«TMä¸€æ ·çš„port = 3306# è®¾ç½®mysqlçš„å®‰è£…ç›®å½•basedir=D:\\\\mysql-8.3.0-winx64# è®¾ç½®mysqlæ•°æ®åº“çš„æ•°æ®çš„å­˜æ”¾ç›®å½•ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼Œä¸ç„¶å¯èƒ½æŠ¥é”™ï¼‰datadir=D:\\\\mysql-8.3.0-winx64\\\\data# å…è®¸æœ€å¤§è¿æ¥æ•°max_connections=10000# å…è®¸æœ€å¤§è¿æ¥äººæ•°max_user_connections=1000# æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†é»˜è®¤ä¸º8æ¯”ç‰¹ç¼–ç çš„latin1å­—ç¬¦é›†character-set-server=utf8# åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿ç”¨çš„é»˜è®¤å­˜å‚¨å¼•æ“default-storage-engine=INNODB # è¿æ¥æ—¶é—´ä¸€å¹´wait_timeout=31536000interactive_timeout=31536000\n\n\n\nä¹‹ååˆ©ç”¨ç®¡ç†å‘˜æƒé™çš„CMDcdåˆ°æŒ‡å®šç›®å½•ï¼Œæ³¨æ„ï¼Œå¦‚æœcdæ²¡æœ‰ååº”åˆ™éœ€è¦å†æ‰“ä¸€éç›˜ç¬¦ï¼Œæ¯”å¦‚æˆ‘æƒ³cdåˆ°D:\\mysql-8.3.0-winx64\\binï¼Œå¦‚æœæ²¡æœ‰ååº”ï¼Œåˆ™å†è¾“å…¥ä¸€æ¬¡d:å°±è¡Œã€‚\n2ã€åˆå§‹åŒ–æ•°æ®åº“mysqld --initialize\n\n3ã€å®‰è£…MySQLæœåŠ¡æ³¨æ„è¿™é‡Œçš„MYSQL8ä¸»è¦çš„ä½œç”¨å°±æ˜¯ç»™å®‰è£…çš„æœåŠ¡è¿›è¡Œè‡ªå®šä¹‰åç§°ï¼Œå› ä¸ºä¸åŠ MYSQL8çš„è¯MySQLé»˜è®¤å®‰è£…çš„æœåŠ¡åç§°ä¸ºMYSQLï¼Œè¿™é‡Œè‡ªå®šä¹‰åç§°çš„ä½œç”¨å°±æ˜¯ä¸ºäº†é˜²æ­¢å…¶ä»–MYSQLæœåŠ¡åç§°ç›¸æ’ã€‚\nmysqld --install MYSQL8\n\n4ã€å¯åŠ¨MySQLæœåŠ¡net start MYSQL8\n\n5ã€è¿æ¥æ•°æ®åº“è¾“å…¥æŒ‡ä»¤ä¹‹åä¼šè®©ä½ è¾“å…¥æ•°æ®åº“å¯†ç ï¼Œè€Œåˆå§‹æ•°æ®åº“åˆæ¬¡åˆ›å»ºå¯èƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªæ•°æ®åº“å¯†ç ï¼Œå¯†ç å¯ä»¥åœ¨dataä¸­çš„errç»“å°¾åç¼€æ–‡ä»¶é‡Œé¢æŸ¥çœ‹ã€‚\nmysql -P 3306 -u root -p\n\n\n","categories":["æ•°æ®åº“","MySQL"],"tags":["MySQL"]},{"title":"Mysqlä¸­SQLçš„æ‰§è¡Œé¡ºåº","url":"/2025/03/02/learnnote/sql-xue-xi/mysql-zhong-sql-de-zhi-xing-shun-xu/","content":"Mysqlä¸­SQLçš„æ‰§è¡Œé¡ºåº\nMySQLè¯­å¥çš„æ‰§è¡Œé¡ºåºä¸æ—¥å¸¸ä¹¦å†™é¡ºåºä¸åŒï¼Œå…¶æ ¸å¿ƒé€»è¾‘æ˜¯ä»æ•°æ®æºé€æ­¥è¿‡æ»¤ã€èšåˆåˆ°æœ€ç»ˆè¾“å‡ºï¼Œæ•´ä¸ªè¿‡ç¨‹ä¼šç”Ÿæˆå¤šä¸ªä¸­é—´è™šæ‹Ÿè¡¨ã€‚ä¸€ä¸‹æ˜¯å…³é”®æ‰§è¡Œæ­¥éª¤åŠè¯´æ˜ï¼š\nä¸€ã€SELECTè¯­å¥çš„æ‰§è¡Œé¡ºåº1.FROM &amp; JOIN\né¦–å…ˆç¡®å®šæ•°æ®åº“æ¥æºï¼Œå¤„ç†å¤šè¡¨è¿æ¥å¦‚ï¼ˆLEFT JOINã€INNER JOINï¼‰ã€‚è‹¥æ¶‰åŠå¤šä¸ªè¡¨ï¼Œä¼šæŒ‰é¡ºåºç”Ÿæˆç¬›å¡å°”ç§¯å¹¶é€æ­¥è¿‡æ»¤ã€‚\nç¤ºä¾‹ï¼šFROM a JOIN b ON a.id=b.a_idä¼šå…ˆè¿æ¥aå’Œbè¡¨ã€‚\n2.ON\nåº”ç”¨è¿æ¥æ¡ä»¶ï¼Œç­›é€‰å‡ºç¬¦åˆé€»è¾‘çš„è¡Œï¼Œç”Ÿæˆä¸­é—´è¡¨ï¼ˆå¦‚VT2ï¼‰ã€‚\næ³¨æ„ï¼šONæ¡ä»¶ç”¨äºè¿æ¥æ“ä½œï¼Œè€ŒWHEREç”¨äºæœ€ç»ˆè¿‡æ»¤æ“ã€‚\n3.WHERE\nå¯¹äºè¿æ¥åçš„ç»“æœè¿›è¡Œæ¡ä»¶è¿‡æ»¤ï¼ˆå¦‚WHERE age &gt;18ï¼‰,ç”ŸæˆVT4ã€‚\nå…³é”®ç‚¹ï¼šWHEREè¿‡æ»¤çš„æ˜¯åŸå§‹æ•°æ®ï¼Œè€Œéåˆ†ç»„åçš„æ•°æ®ã€‚\n4.GROUP BY\næŒ‰æŒ‡å®šåˆ—åˆ†ç»„ï¼ˆå¦‚GROUP BY departmentï¼‰ï¼Œç”ŸæˆVT5ã€‚åˆ†ç»„åæ¯ç»„ä»…ä¿ç•™ä¸€è¡Œã€‚\næ³¨æ„ï¼šéèšåˆåˆ—å¿…é¡»åŒ…å«åœ¨GROUP BYä¸­ã€‚\n5.HAVING\nå¯¹åˆ†ç»„åçš„ç»“æœè¿›è¡Œè¿‡æ»¤ï¼ˆå¦‚HAVING avg_salary &gt; 5000ï¼‰ï¼Œç”ŸæˆVT7ã€‚\nä¸WHEREçš„åŒºåˆ«ï¼šHAVINGä½œç”¨äºèšåˆåçš„æ•°æ®ã€‚\n6.SELECT\né€‰æ‹©æœ€ç»ˆè¾“å‡ºçš„åˆ—ï¼ˆå¦‚SELECT name,SUM(salary))ï¼Œç”ŸæˆVT8ã€‚\n7.ORDER BY\nå¯¹ç»“æœæ’åºï¼ˆå¦‚ORDER BY total DESCï¼‰ï¼Œç”ŸæˆVT10ã€‚æ’åºæ“ä½œæ¶ˆè€—èµ„æºè¾ƒå¤šï¼Œå»ºè®®è°¨æ…ä½¿ç”¨ã€‚\n8.LIMIT\né™åˆ¶è¿”å›è¡Œæ•°ï¼ˆå¦‚LIMIT 10ï¼‰ï¼Œç”Ÿæˆæœ€ç»ˆç»“æœé›†å¹¶è¿”å›ç»™å®¢æˆ·ç«¯ã€‚\näºŒã€æ›´æ–°è¯­å¥çš„æ‰§è¡Œé¡ºåºæ›´æ–°ï¼ˆUPDATAï¼‰å’Œåˆ é™¤ï¼ˆDELETEï¼‰è¯­å¥çš„æ‰§è¡Œæµç¨‹ç±»ä¼¼ï¼š\n1.è¿æ¥å™¨ï¼šéªŒè¯ç”¨æˆ·æƒé™ã€‚\n2.åˆ†æå™¨ï¼šè§£æSQLè¯­æ³•å’Œè¯­ä¹‰ã€‚\n\nä¼˜åŒ–å™¨ï¼šç”Ÿæˆæ‰§è¡Œè®¡åˆ’ï¼ˆå¦‚é€‰æ‹©ç´¢å¼•ï¼‰ã€‚\næ‰§è¡Œå™¨ï¼šè°ƒç”¨å­˜å‚¨å¼•æ“æ¥å£ï¼Œæ‰§è¡Œå…·ä½“æ“ä½œå¹¶è¿”å›ç»“æœã€‚\n\nä¸‰ã€å…³é”®ç»†èŠ‚ä¸ä¼˜åŒ–å»ºè®®\nä¸­é—´è¡¨ä¸æ€§èƒ½\n\næ¯ä¸ªæ­¥éª¤ç”Ÿæˆè™šæ‹Ÿè¡¨ï¼Œæ•°æ®é‡é€æ­¥å‡å°‘ã€‚å»ºè®®é€šè¿‡WHEREæå‰è¿‡æ»¤æ•°æ®ï¼Œå‡å°‘åç»­å¤„ç†é‡ã€‚\nç¤ºä¾‹ï¼šWHERE age &gt; 18æ¯”HAVING age &gt; 18æ›´é«˜æ•ˆã€‚\n\nç´¢å¼•ä¸æŸ¥è¯¢ä¼˜åŒ–\n\nÂ· WHEREå’ŒJOINæ¡ä»¶åˆ—éœ€å»ºç«‹ç´¢å¼•ã€‚\nÂ· é¿å…åœ¨SELECTä¸­è¿›è¡Œå¤æ‚è®¡ç®—ï¼Œå¯å»¶è¿Ÿåˆ°åº”ç”¨å±‚å¤„ç†ã€‚\n\nåˆ«åä¸ä½œç”¨åŸŸ\n\nSELECTä¸­å®šä¹‰çš„åˆ«åï¼ˆå¦‚totalï¼‰ä»…èƒ½åœ¨ORDER BYä¸­ä½¿ç”¨ï¼Œä¸å¯åœ¨WHEREæˆ–GROUP BYä¸­å¼•ç”¨ã€‚\nå››ã€æ€»ç»“MySQLé€šè¿‡åˆ†æ­¥å¤„ç†+ä¸­é—´è¡¨å®ç°æŸ¥è¯¢ï¼Œç†è§£æ‰§è¡Œé¡ºåºæœ‰åŠ©äºç¼–å†™é«˜æ•ˆSQLã€‚ä¾‹å¦‚ï¼š\nÂ· ä¼˜å…ˆä½¿ç”¨WHEREè€ŒéHAVINGè¿‡æ»¤æ•°æ®ã€‚\nÂ· åˆç†è®¾è®¡ç´¢å¼•ï¼Œå‡å°‘å…¨è¡¨æ‰«æã€‚\nÂ· é¿å…SELECT *ï¼Œä»…æŸ¥è¯¢å¿…è¦å­—æ®µã€‚\né€šè¿‡æŒæ¡è¿™äº›è§„åˆ™ï¼Œå¯æ˜¾è‘—æå‡æŸ¥è¯¢æ€§èƒ½å¹¶è§„é¿å¸¸è§é”™è¯¯ã€‚\n\n\n\næ‰§è¡Œé¡ºåº\nä¹¦å†™é¡ºåº\nè¯´æ˜\n\n\n\n8\nSELECT\n\n\n\n9\nDISTINCT\n&lt;æŸ¥è¯¢å­—æ®µ&gt;\n\n\n1\nFROM\n&lt;æŸ¥è¯¢çš„ï¼ˆå·¦ï¼‰è¡¨åç§°&gt;\n\n\n3\n[LEFT | RIGHT | INNER] JOIN\n&lt;è¿æ¥æŸ¥è¯¢å³è¾¹è¡¨&gt;\n\n\n2\nON\n&lt;è¡¨è¿æ¥çš„è¿æ¥æ¡ä»¶&gt;\n\n\n4\nWHERE\n&lt;æ•°æ®æŸ¥è¯¢æ¡ä»¶&gt;\n\n\n5\nGROUP BY\n&lt;å­—æ®µåˆ†ç»„ä¿¡æ¯&gt;\n\n\n6\nWITH CUBE | ROLLUP\n&lt;è¶…ç»„ç»Ÿè®¡&gt;\n\n\n7\nHAVING\n&lt;å¤„ç†åçš„ç­›é€‰æ¡ä»¶&gt;\n\n\n10\nORDER BY [ASC | DESC]\n&lt;æ’åºå­—æ®µ&gt;\n\n\n11\nLIMIT\n&lt;æŸ¥è¯¢æ•°æ®é•¿åº¦&gt;\n\n\nè¯´æ˜ï¼šä»è¿™ä¸ªé¡ºåºä¸­æˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œæ‰€æœ‰çš„æŸ¥è¯¢è¯­å¥éƒ½æ˜¯ä»FROMå­å¥å¼€å§‹æ‰§è¡Œçš„ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªæ­¥éª¤éƒ½ä¼šä¸ºä¸‹ä¸€ä¸ªæ­¥éª¤ç”Ÿæˆä¸€ä¸ªè™šæ‹Ÿè¡¨ï¼Œè¿™ä¸ªè™šæ‹Ÿè¡¨å°†ä½œä¸ºä¸‹ä¸€ä¸ªæ‰§è¡Œæ­¥éª¤çš„è¾“å…¥ã€‚\n","categories":["æ•°æ®åº“","SQL"],"tags":["SQL"]},{"title":"å¸¸ç”¨SQLå¤§å…¨","url":"/2023/03/22/learnnote/sql-xue-xi/sql-da-quan/","content":"å¸¸ç”¨SQLå¤§å…¨\n#æ˜¾ç¤ºæŸ¥è¯¢æ•°æ®åº“æ–‡ä»¶å­˜å‚¨æ‰€åœ¨ç£ç›˜ä½ç½®show variables like '%datadir%';\n\n#æ—¥å¿—æ–‡ä»¶è·¯å¾„show variables like 'general_log_file';#é”™è¯¯æ—¥å¿—æ–‡ä»¶è·¯å¾„show variables like 'log_error';#æ…¢æŸ¥è¯¢æ—¥å¿—æ–‡ä»¶è·¯å¾„show variables like 'slow_query_log_file';\n\n\n\nä¿®æ”¹æ•°æ®åº“å¯†ç ï¼š\nset password for 'root'@'%' = password('123456');\n\nALTER USER 'root'@'localhost' IDENTIFIED BY '123456';\n\n\nè¿™é‡ŒæŒ‡çš„æ˜¯æ›´æ–°ç”¨æˆ·åç§°ä¸ºrootå…¶è®¿é—®èŒƒå›´ä¸º%çš„è´¦å·å¯†ç ä¸º123456ï¼Œæ³¨æ„%ä»£è¡¨çš„æ˜¯æ— ä»»ä½•è®¿é—®é™åˆ¶çš„è´¦æˆ·ä¹Ÿå°±æ˜¯è¯´å¯ä»¥ä»å…¬ç½‘è®¿é—®ï¼Œå¦‚æœ%æ›¿æ¢ä¸ºlocalhostï¼Œé‚£ä¹ˆæ„æ€å°±æ˜¯åªèƒ½æ•°æ®åº“æ‰€åœ¨æœºå­æ‰èƒ½è®¿é—®ã€‚\n\nåˆ é™¤æ•°æ®åº“ï¼š\nDROP USER 'root'@'localhost';\n\n\nè¿™é‡Œæ¼”ç¤ºçš„æ˜¯åˆ é™¤rootè´¦æˆ·\n\nåˆ·æ–°æƒé™ï¼š\nflush privileges;\n\n","categories":["æ•°æ®åº“","SQL"],"tags":["SQL"]},{"title":"Ajaxå­¦ä¹ ","url":"/2023/02/24/learnnote/web-qian-duan/ajax-xue-xi/","content":"AJAXç‰¹ç‚¹\nä¼˜ç‚¹\n\nå¯ä»¥æ— éœ€åˆ·æ–°é¡µé¢è€Œä¸æœåŠ¡å™¨ç«¯è¿›è¡Œé€šä¿¡ã€‚\nå…è®¸ä½ æ ¹æ®ç”¨æˆ·äº‹ä»¶æ¥æ›´æ–°éƒ¨åˆ†é¡µé¢å†…å®¹ã€‚\n\nç¼ºç‚¹\n\næ²¡æœ‰æµè§ˆå†å²ï¼Œä¸èƒ½å›é€€\nå­˜åœ¨è·¨åŸŸé—®é¢˜ï¼ˆåŒæºï¼‰\nSEOä¸å‹å¥½ï¼ˆå¯¹æœç´¢å¼•æ“ä¸å‹å¥½ï¼‰\n\nå®‰è£…nodemonæ’ä»¶æŒ‡ä»¤ï¼š\n\nnpm install -g nodemon\nä»¥åå°±å¯ä»¥ç”¨ï¼šnodemon *.js \næ¥è¿è¡ŒNodejsäº†\n\n","categories":["å‰ç«¯"],"tags":["JS"]},{"title":"Axioså­¦ä¹ ","url":"/2023/02/24/learnnote/web-qian-duan/axios-xue-xi/","content":"Axioså­¦ä¹ \nä»€ä¹ˆæ˜¯Axiosï¼Ÿ\nAxios æ˜¯ä¸€ä¸ªåŸºäº promise çš„ HTTP åº“ï¼Œå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’Œ node.js ä¸­ã€‚\nAxios æ˜¯ä¸€ä¸ªåŸºäº promise çš„ HTTP åº“ï¼Œå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’Œ node.js ä¸­ã€‚\nç‰¹æ€§\n\nä»æµè§ˆå™¨ä¸­åˆ›å»º XMLHttpRequests\nä» node.js åˆ›å»º http è¯·æ±‚\næ”¯æŒ Promise API\næ‹¦æˆªè¯·æ±‚å’Œå“åº”\nè½¬æ¢è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ®\nå–æ¶ˆè¯·æ±‚\nè‡ªåŠ¨è½¬æ¢ JSON æ•°æ®\nå®¢æˆ·ç«¯æ”¯æŒé˜²å¾¡ XSRF\n\næµè§ˆå™¨æ”¯æŒ\n\n\n\n\n\n\n\n\n\n\n\n\n\nLatest âœ”\nLatest âœ”\nLatest âœ”\nLatest âœ”\nLatest âœ”\n8+ âœ”\n\n\n\n\nå®‰è£…\nä½¿ç”¨ npm:\n$ npm install axios\n\nä½¿ç”¨ bower:\n$ bower install axios\n\nä½¿ç”¨ cdn:\n&lt;script src=\"https://unpkg.com/axios/dist/axios.min.js\"&gt;&lt;/script&gt;\n\næ¡ˆä¾‹\næ‰§è¡Œ GET è¯·æ±‚\n// ä¸ºç»™å®š ID çš„ user åˆ›å»ºè¯·æ±‚axios.get('/user?ID=12345')  .then(function (response) {    console.log(response);  })  .catch(function (error) {    console.log(error);  });// ä¸Šé¢çš„è¯·æ±‚ä¹Ÿå¯ä»¥è¿™æ ·åšaxios.get('/user', {    params: {      ID: 12345    }  })  .then(function (response) {    console.log(response);  })  .catch(function (error) {    console.log(error);  });\n\næ‰§è¡Œ POST è¯·æ±‚\naxios.post('/user', {    firstName: 'Fred',    lastName: 'Flintstone'  })  .then(function (response) {    console.log(response);  })  .catch(function (error) {    console.log(error);  });\n\næ‰§è¡Œå¤šä¸ªå¹¶å‘è¯·æ±‚\nfunction getUserAccount() {  return axios.get('/user/12345');}function getUserPermissions() {  return axios.get('/user/12345/permissions');}axios.all([getUserAccount(), getUserPermissions()])  .then(axios.spread(function (acct, perms) {    // ä¸¤ä¸ªè¯·æ±‚ç°åœ¨éƒ½æ‰§è¡Œå®Œæˆ  }));\n\naxios API\nå¯ä»¥é€šè¿‡å‘ axios ä¼ é€’ç›¸å…³é…ç½®æ¥åˆ›å»ºè¯·æ±‚\naxios(config)// å‘é€ POST è¯·æ±‚axios({  method: 'post',  url: '/user/12345',  data: {    firstName: 'Fred',    lastName: 'Flintstone'  }});// è·å–è¿œç«¯å›¾ç‰‡axios({  method:'get',  url:'http://bit.ly/2mTM3nY',  responseType:'stream'})  .then(function(response) {  response.data.pipe(fs.createWriteStream('ada_lovelace.jpg'))});\n\naxios(url[, config])// å‘é€ GET è¯·æ±‚ï¼ˆé»˜è®¤çš„æ–¹æ³•ï¼‰axios('/user/12345');\n\nè¯·æ±‚æ–¹æ³•çš„åˆ«åä¸ºæ–¹ä¾¿èµ·è§ï¼Œä¸ºæ‰€æœ‰æ”¯æŒçš„è¯·æ±‚æ–¹æ³•æä¾›äº†åˆ«å\naxios.request(config)axios.get(url[, config])axios.delete(url[, config])axios.head(url[, config])axios.options(url[, config])axios.post(url[, data[, config]])axios.put(url[, data[, config]])axios.patch(url[, data[, config]])æ³¨æ„åœ¨ä½¿ç”¨åˆ«åæ–¹æ³•æ—¶ï¼Œ urlã€methodã€data è¿™äº›å±æ€§éƒ½ä¸å¿…åœ¨é…ç½®ä¸­æŒ‡å®šã€‚\nå¹¶å‘å¤„ç†å¹¶å‘è¯·æ±‚çš„åŠ©æ‰‹å‡½æ•°\naxios.all(iterable)axios.spread(callback)åˆ›å»ºå®ä¾‹å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–°å»ºä¸€ä¸ª axios å®ä¾‹\naxios.create([config])const instance = axios.create({  baseURL: 'https://some-domain.com/api/',  timeout: 1000,  headers: {'X-Custom-Header': 'foobar'}});\n\nå®ä¾‹æ–¹æ³•ä»¥ä¸‹æ˜¯å¯ç”¨çš„å®ä¾‹æ–¹æ³•ã€‚æŒ‡å®šçš„é…ç½®å°†ä¸å®ä¾‹çš„é…ç½®åˆå¹¶ã€‚\naxios#request(config)axios#get(url[, config])axios#delete(url[, config])axios#head(url[, config])axios#options(url[, config])axios#post(url[, data[, config]])axios#put(url[, data[, config]])axios#patch(url[, data[, config]])è¯·æ±‚é…ç½®\nè¿™äº›æ˜¯åˆ›å»ºè¯·æ±‚æ—¶å¯ä»¥ç”¨çš„é…ç½®é€‰é¡¹ã€‚åªæœ‰ url æ˜¯å¿…éœ€çš„ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®š methodï¼Œè¯·æ±‚å°†é»˜è®¤ä½¿ç”¨ get æ–¹æ³•ã€‚\n{   // `url` æ˜¯ç”¨äºè¯·æ±‚çš„æœåŠ¡å™¨ URL  url: '/user',  // `method` æ˜¯åˆ›å»ºè¯·æ±‚æ—¶ä½¿ç”¨çš„æ–¹æ³•  method: 'get', // default  // `baseURL` å°†è‡ªåŠ¨åŠ åœ¨ `url` å‰é¢ï¼Œé™¤é `url` æ˜¯ä¸€ä¸ªç»å¯¹ URLã€‚  // å®ƒå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ª `baseURL` ä¾¿äºä¸º axios å®ä¾‹çš„æ–¹æ³•ä¼ é€’ç›¸å¯¹ URL  baseURL: 'https://some-domain.com/api/',  // `transformRequest` å…è®¸åœ¨å‘æœåŠ¡å™¨å‘é€å‰ï¼Œä¿®æ”¹è¯·æ±‚æ•°æ®  // åªèƒ½ç”¨åœ¨ 'PUT', 'POST' å’Œ 'PATCH' è¿™å‡ ä¸ªè¯·æ±‚æ–¹æ³•  // åé¢æ•°ç»„ä¸­çš„å‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ– ArrayBufferï¼Œæˆ– Stream  transformRequest: [function (data, headers) {    // å¯¹ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç†    return data;  }],  // `transformResponse` åœ¨ä¼ é€’ç»™ then/catch å‰ï¼Œå…è®¸ä¿®æ”¹å“åº”æ•°æ®  transformResponse: [function (data) {    // å¯¹ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç†    return data;  }],  // `headers` æ˜¯å³å°†è¢«å‘é€çš„è‡ªå®šä¹‰è¯·æ±‚å¤´  headers: {'X-Requested-With': 'XMLHttpRequest'},  // `params` æ˜¯å³å°†ä¸è¯·æ±‚ä¸€èµ·å‘é€çš„ URL å‚æ•°  // å¿…é¡»æ˜¯ä¸€ä¸ªæ— æ ¼å¼å¯¹è±¡(plain object)æˆ– URLSearchParams å¯¹è±¡  params: {    ID: 12345  },   // `paramsSerializer` æ˜¯ä¸€ä¸ªè´Ÿè´£ `params` åºåˆ—åŒ–çš„å‡½æ•°  // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)  paramsSerializer: function(params) {    return Qs.stringify(params, {arrayFormat: 'brackets'})  },  // `data` æ˜¯ä½œä¸ºè¯·æ±‚ä¸»ä½“è¢«å‘é€çš„æ•°æ®  // åªé€‚ç”¨äºè¿™äº›è¯·æ±‚æ–¹æ³• 'PUT', 'POST', å’Œ 'PATCH'  // åœ¨æ²¡æœ‰è®¾ç½® `transformRequest` æ—¶ï¼Œå¿…é¡»æ˜¯ä»¥ä¸‹ç±»å‹ä¹‹ä¸€ï¼š  // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams  // - æµè§ˆå™¨ä¸“å±ï¼šFormData, File, Blob  // - Node ä¸“å±ï¼š Stream  data: {    firstName: 'Fred'  },  // `timeout` æŒ‡å®šè¯·æ±‚è¶…æ—¶çš„æ¯«ç§’æ•°(0 è¡¨ç¤ºæ— è¶…æ—¶æ—¶é—´)  // å¦‚æœè¯·æ±‚è¯è´¹äº†è¶…è¿‡ `timeout` çš„æ—¶é—´ï¼Œè¯·æ±‚å°†è¢«ä¸­æ–­  timeout: 1000,   // `withCredentials` è¡¨ç¤ºè·¨åŸŸè¯·æ±‚æ—¶æ˜¯å¦éœ€è¦ä½¿ç”¨å‡­è¯  withCredentials: false, // default  // `adapter` å…è®¸è‡ªå®šä¹‰å¤„ç†è¯·æ±‚ï¼Œä»¥ä½¿æµ‹è¯•æ›´è½»æ¾  // è¿”å›ä¸€ä¸ª promise å¹¶åº”ç”¨ä¸€ä¸ªæœ‰æ•ˆçš„å“åº” (æŸ¥é˜… [response docs](#response-api)).  adapter: function (config) {    /* ... */  }, // `auth` è¡¨ç¤ºåº”è¯¥ä½¿ç”¨ HTTP åŸºç¡€éªŒè¯ï¼Œå¹¶æä¾›å‡­æ®  // è¿™å°†è®¾ç½®ä¸€ä¸ª `Authorization` å¤´ï¼Œè¦†å†™æ‰ç°æœ‰çš„ä»»æ„ä½¿ç”¨ `headers` è®¾ç½®çš„è‡ªå®šä¹‰ `Authorization`å¤´  auth: {    username: 'janedoe',    password: 's00pers3cret'  },   // `responseType` è¡¨ç¤ºæœåŠ¡å™¨å“åº”çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æ˜¯ 'arraybuffer', 'blob', 'document', 'json', 'text', 'stream'  responseType: 'json', // default  // `responseEncoding` indicates encoding to use for decoding responses  // Note: Ignored for `responseType` of 'stream' or client-side requests  responseEncoding: 'utf8', // default   // `xsrfCookieName` æ˜¯ç”¨ä½œ xsrf token çš„å€¼çš„cookieçš„åç§°  xsrfCookieName: 'XSRF-TOKEN', // default  // `xsrfHeaderName` is the name of the http header that carries the xsrf token value  xsrfHeaderName: 'X-XSRF-TOKEN', // default   // `onUploadProgress` å…è®¸ä¸ºä¸Šä¼ å¤„ç†è¿›åº¦äº‹ä»¶  onUploadProgress: function (progressEvent) {    // Do whatever you want with the native progress event  },  // `onDownloadProgress` å…è®¸ä¸ºä¸‹è½½å¤„ç†è¿›åº¦äº‹ä»¶  onDownloadProgress: function (progressEvent) {    // å¯¹åŸç”Ÿè¿›åº¦äº‹ä»¶çš„å¤„ç†  },   // `maxContentLength` å®šä¹‰å…è®¸çš„å“åº”å†…å®¹çš„æœ€å¤§å°ºå¯¸  maxContentLength: 2000,  // `validateStatus` å®šä¹‰å¯¹äºç»™å®šçš„HTTP å“åº”çŠ¶æ€ç æ˜¯ resolve æˆ– reject  promise ã€‚å¦‚æœ `validateStatus` è¿”å› `true` (æˆ–è€…è®¾ç½®ä¸º `null` æˆ– `undefined`)ï¼Œpromise å°†è¢« resolve; å¦åˆ™ï¼Œpromise å°†è¢« rejecte  validateStatus: function (status) {    return status &gt;= 200 &amp;&amp; status &lt; 300; // default  },  // `maxRedirects` å®šä¹‰åœ¨ node.js ä¸­ follow çš„æœ€å¤§é‡å®šå‘æ•°ç›®  // å¦‚æœè®¾ç½®ä¸º0ï¼Œå°†ä¸ä¼š follow ä»»ä½•é‡å®šå‘  maxRedirects: 5, // default  // `socketPath` defines a UNIX Socket to be used in node.js.  // e.g. '/var/run/docker.sock' to send requests to the docker daemon.  // Only either `socketPath` or `proxy` can be specified.  // If both are specified, `socketPath` is used.  socketPath: null, // default  // `httpAgent` å’Œ `httpsAgent` åˆ†åˆ«åœ¨ node.js ä¸­ç”¨äºå®šä¹‰åœ¨æ‰§è¡Œ http å’Œ https æ—¶ä½¿ç”¨çš„è‡ªå®šä¹‰ä»£ç†ã€‚å…è®¸åƒè¿™æ ·é…ç½®é€‰é¡¹ï¼š  // `keepAlive` é»˜è®¤æ²¡æœ‰å¯ç”¨  httpAgent: new http.Agent({ keepAlive: true }),  httpsAgent: new https.Agent({ keepAlive: true }),  // 'proxy' å®šä¹‰ä»£ç†æœåŠ¡å™¨çš„ä¸»æœºåç§°å’Œç«¯å£  // `auth` è¡¨ç¤º HTTP åŸºç¡€éªŒè¯åº”å½“ç”¨äºè¿æ¥ä»£ç†ï¼Œå¹¶æä¾›å‡­æ®  // è¿™å°†ä¼šè®¾ç½®ä¸€ä¸ª `Proxy-Authorization` å¤´ï¼Œè¦†å†™æ‰å·²æœ‰çš„é€šè¿‡ä½¿ç”¨ `header` è®¾ç½®çš„è‡ªå®šä¹‰ `Proxy-Authorization` å¤´ã€‚  proxy: {    host: '127.0.0.1',    port: 9000,    auth: {      username: 'mikeymike',      password: 'rapunz3l'    }  },  // `cancelToken` æŒ‡å®šç”¨äºå–æ¶ˆè¯·æ±‚çš„ cancel token  // ï¼ˆæŸ¥çœ‹åé¢çš„ Cancellation è¿™èŠ‚äº†è§£æ›´å¤šï¼‰  cancelToken: new CancelToken(function (cancel) {  })}\n\nå“åº”ç»“æ„\næŸä¸ªè¯·æ±‚çš„å“åº”åŒ…å«ä»¥ä¸‹ä¿¡æ¯\n{  // `data` ç”±æœåŠ¡å™¨æä¾›çš„å“åº”  data: {},  // `status` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ç   status: 200,  // `statusText` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ä¿¡æ¯  statusText: 'OK',  // `headers` æœåŠ¡å™¨å“åº”çš„å¤´  headers: {},   // `config` æ˜¯ä¸ºè¯·æ±‚æä¾›çš„é…ç½®ä¿¡æ¯  config: {}, // 'request'  // `request` is the request that generated this response  // It is the last ClientRequest instance in node.js (in redirects)  // and an XMLHttpRequest instance the browser  request: {}}\n\nä½¿ç”¨ then æ—¶ï¼Œä½ å°†æ¥æ”¶ä¸‹é¢è¿™æ ·çš„å“åº” :\naxios.get('/user/12345')  .then(function(response) {    console.log(response.data);    console.log(response.status);    console.log(response.statusText);    console.log(response.headers);    console.log(response.config);  });\n\nåœ¨ä½¿ç”¨ catch æ—¶ï¼Œæˆ–ä¼ é€’ rejection callback ä½œä¸º then çš„ç¬¬äºŒä¸ªå‚æ•°æ—¶ï¼Œå“åº”å¯ä»¥é€šè¿‡ error å¯¹è±¡å¯è¢«ä½¿ç”¨ï¼Œæ­£å¦‚åœ¨é”™è¯¯å¤„ç†è¿™ä¸€èŠ‚æ‰€è®²ã€‚\né…ç½®é»˜è®¤å€¼\nä½ å¯ä»¥æŒ‡å®šå°†è¢«ç”¨åœ¨å„ä¸ªè¯·æ±‚çš„é…ç½®é»˜è®¤å€¼\nå…¨å±€çš„ axios é»˜è®¤å€¼axios.defaults.baseURL = 'https://api.example.com';axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n\nè‡ªå®šä¹‰å®ä¾‹é»˜è®¤å€¼// Set config defaults when creating the instanceconst instance = axios.create({  baseURL: 'https://api.example.com'});// Alter defaults after instance has been createdinstance.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n\né…ç½®çš„ä¼˜å…ˆé¡ºåºé…ç½®ä¼šä»¥ä¸€ä¸ªä¼˜å…ˆé¡ºåºè¿›è¡Œåˆå¹¶ã€‚è¿™ä¸ªé¡ºåºæ˜¯ï¼šåœ¨ lib/defaults.js æ‰¾åˆ°çš„åº“çš„é»˜è®¤å€¼ï¼Œç„¶åæ˜¯å®ä¾‹çš„ defaults å±æ€§ï¼Œæœ€åæ˜¯è¯·æ±‚çš„ config å‚æ•°ã€‚åè€…å°†ä¼˜å…ˆäºå‰è€…ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªä¾‹å­ï¼š\n// ä½¿ç”¨ç”±åº“æä¾›çš„é…ç½®çš„é»˜è®¤å€¼æ¥åˆ›å»ºå®ä¾‹// æ­¤æ—¶è¶…æ—¶é…ç½®çš„é»˜è®¤å€¼æ˜¯ `0`var instance = axios.create();// è¦†å†™åº“çš„è¶…æ—¶é»˜è®¤å€¼// ç°åœ¨ï¼Œåœ¨è¶…æ—¶å‰ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ä¼šç­‰å¾… 2.5 ç§’instance.defaults.timeout = 2500;// ä¸ºå·²çŸ¥éœ€è¦èŠ±è´¹å¾ˆé•¿æ—¶é—´çš„è¯·æ±‚è¦†å†™è¶…æ—¶è®¾ç½®instance.get('/longRequest', {  timeout: 5000});\n\næ‹¦æˆªå™¨\nåœ¨è¯·æ±‚æˆ–å“åº”è¢« then æˆ– catch å¤„ç†å‰æ‹¦æˆªå®ƒä»¬ã€‚\n// æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨axios.interceptors.request.use(function (config) {    // åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšäº›ä»€ä¹ˆ    return config;  }, function (error) {    // å¯¹è¯·æ±‚é”™è¯¯åšäº›ä»€ä¹ˆ    return Promise.reject(error);  });// æ·»åŠ å“åº”æ‹¦æˆªå™¨axios.interceptors.response.use(function (response) {    // å¯¹å“åº”æ•°æ®åšç‚¹ä»€ä¹ˆ    return response;  }, function (error) {    // å¯¹å“åº”é”™è¯¯åšç‚¹ä»€ä¹ˆ    return Promise.reject(error);  });\n\nå¦‚æœä½ æƒ³åœ¨ç¨åç§»é™¤æ‹¦æˆªå™¨ï¼Œå¯ä»¥è¿™æ ·ï¼š\nconst myInterceptor = axios.interceptors.request.use(function () {/*...*/});axios.interceptors.request.eject(myInterceptor);\n\nå¯ä»¥ä¸ºè‡ªå®šä¹‰ axios å®ä¾‹æ·»åŠ æ‹¦æˆªå™¨\nconst instance = axios.create();instance.interceptors.request.use(function () {/*...*/});\n\né”™è¯¯å¤„ç†\naxios.get('/user/12345')  .catch(function (error) {    if (error.response) {      // The request was made and the server responded with a status code      // that falls out of the range of 2xx      console.log(error.response.data);      console.log(error.response.status);      console.log(error.response.headers);    } else if (error.request) {      // The request was made but no response was received      // `error.request` is an instance of XMLHttpRequest in the browser and an instance of      // http.ClientRequest in node.js      console.log(error.request);    } else {      // Something happened in setting up the request that triggered an Error      console.log('Error', error.message);    }    console.log(error.config);  });\n\nYå¯ä»¥ä½¿ç”¨ validateStatus é…ç½®é€‰é¡¹å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰ HTTP çŠ¶æ€ç çš„é”™è¯¯èŒƒå›´ã€‚\naxios.get('/user/12345', {  validateStatus: function (status) {    return status &lt; 500; // Reject only if the status code is greater than or equal to 500  }})\n\nå–æ¶ˆ\nä½¿ç”¨ cancel token å–æ¶ˆè¯·æ±‚\n\nAxios çš„ cancel token API åŸºäºcancelable promises proposalï¼Œå®ƒè¿˜å¤„äºç¬¬ä¸€é˜¶æ®µã€‚\n\nå¯ä»¥ä½¿ç”¨ CancelToken.source å·¥å‚æ–¹æ³•åˆ›å»º cancel tokenï¼Œåƒè¿™æ ·ï¼š\nconst CancelToken = axios.CancelToken;const source = CancelToken.source();axios.get('/user/12345', {  cancelToken: source.token}).catch(function(thrown) {  if (axios.isCancel(thrown)) {    console.log('Request canceled', thrown.message);  } else {     // å¤„ç†é”™è¯¯  }});axios.post('/user/12345', {  name: 'new name'}, {  cancelToken: source.token})// å–æ¶ˆè¯·æ±‚ï¼ˆmessage å‚æ•°æ˜¯å¯é€‰çš„ï¼‰source.cancel('Operation canceled by the user.');\n\nè¿˜å¯ä»¥é€šè¿‡ä¼ é€’ä¸€ä¸ª executor å‡½æ•°åˆ° CancelToken çš„æ„é€ å‡½æ•°æ¥åˆ›å»º cancel tokenï¼š\nconst CancelToken = axios.CancelToken;let cancel;axios.get('/user/12345', {  cancelToken: new CancelToken(function executor(c) {    // executor å‡½æ•°æ¥æ”¶ä¸€ä¸ª cancel å‡½æ•°ä½œä¸ºå‚æ•°    cancel = c;  })});// cancel the requestcancel();\n\n\næ³¨æ„: å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ª cancel token å–æ¶ˆå¤šä¸ªè¯·æ±‚\n\nä½¿ç”¨ application/x-www-form-urlencoded format\né»˜è®¤æƒ…å†µä¸‹ï¼Œaxioså°†JavaScriptå¯¹è±¡åºåˆ—åŒ–ä¸ºJSONã€‚ è¦ä»¥application / x-www-form-urlencodedæ ¼å¼å‘é€æ•°æ®ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹é€‰é¡¹ä¹‹ä¸€ã€‚\næµè§ˆå™¨åœ¨æµè§ˆå™¨ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨URLSearchParams APIï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nconst params = new URLSearchParams();params.append('param1', 'value1');params.append('param2', 'value2');axios.post('/foo', params);\n\n\nè¯·æ³¨æ„ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½ä¸æ”¯æŒURLSearchParamsï¼ˆè¯·å‚é˜…caniuse.comï¼‰ï¼Œä½†å¯ä»¥ä½¿ç”¨polyfillï¼ˆç¡®ä¿å¡«å……å…¨å±€ç¯å¢ƒï¼‰ã€‚\n\næˆ–è€…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨qsåº“ç¼–ç æ•°æ®ï¼š\nconst qs = require('qs');axios.post('/foo', qs.stringify({ 'bar': 123 }));\n\næˆ–è€…ä»¥å¦ä¸€ç§æ–¹å¼ï¼ˆES6ï¼‰ï¼Œ\nimport qs from 'qs';const data = { 'bar': 123 };const options = {  method: 'POST',  headers: { 'content-type': 'application/x-www-form-urlencoded' },  data: qs.stringify(data),  url,};axios(options);\n\nNode.js\nåœ¨node.jsä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨querystringæ¨¡å—ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nconst querystring = require('querystring');axios.post('http://something.com/', querystring.stringify({ foo: 'bar' }));\n\næ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨qsåº“ã€‚\nSemver\nåœ¨axiosè¾¾åˆ°1.0ç‰ˆæœ¬ä¹‹å‰ï¼Œç ´åæ€§æ›´æ”¹å°†ä»¥æ–°çš„æ¬¡è¦ç‰ˆæœ¬å‘å¸ƒã€‚ ä¾‹å¦‚0.5.1å’Œ0.5.4å°†å…·æœ‰ç›¸åŒçš„APIï¼Œä½†0.6.0å°†å…·æœ‰é‡å¤§å˜åŒ–ã€‚\nPromises\naxios ä¾èµ–åŸç”Ÿçš„ ES6 Promise å®ç°è€Œè¢«æ”¯æŒ. å¦‚æœä½ çš„ç¯å¢ƒä¸æ”¯æŒ ES6 Promiseï¼Œä½ å¯ä»¥ä½¿ç”¨ polyfill.\nTypeScript\naxiosåŒ…æ‹¬TypeScriptå®šä¹‰ã€‚\nimport axios from 'axios';axios.get('/user?ID=12345');\n\nvue-axios\nåŸºäºvuejs çš„è½»åº¦å°è£…\n\nå®‰è£…:CommonJS:npm install --save axios vue-axios\n\nå°†ä¸‹é¢ä»£ç åŠ å…¥å…¥å£æ–‡ä»¶:\nimport Vue from 'vue'import axios from 'axios'import VueAxios from 'vue-axios'Vue.use(VueAxios, axios)\n\n\n\nScript:æŒ‰ç…§è¿™ä¸ªé¡ºåºåˆ†åˆ«å¼•å…¥è¿™ä¸‰ä¸ªæ–‡ä»¶ï¼š vue, axios and vue-axios\nUsage:This wrapper bind axios to Vue or this if youâ€™re using single file component.\nä½ å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼ä½¿ç”¨:\nVue.axios.get(api).then((response) =&gt; {  console.log(response.data)})this.axios.get(api).then((response) =&gt; {  console.log(response.data)})this.$http.get(api).then((response) =&gt; {  console.log(response.data)})","categories":["å‰ç«¯"],"tags":["JS","Axios"]},{"title":"Vue3å­¦ä¹ ","url":"/2023/12/28/learnnote/web-qian-duan/vue3-xue-xi/","content":"Vue3å­¦ä¹ \nåˆ›å»ºVue3.0å·¥ç¨‹1.ä½¿ç”¨vue-cliåˆ›å»º## æŸ¥çœ‹@vue/cliç‰ˆæœ¬ï¼Œç¡®ä¿@vue/cliç‰ˆæœ¬åœ¨4.5.0ä»¥ä¸Švue --version## å®‰è£…æˆ–è€…å‡çº§ä½ çš„@vue/clinp m install -g @vue/cli## åˆ›å»ºvue create vue_test## å¯åŠ¨cd vue_testnpm run serve\n\n\n\n2.ä½¿ç”¨viteåˆ›å»º## åˆ›å»ºå·¥ç¨‹npm init vite-app &lt;project-name&gt;## è¿›å…¥å·¥ç¨‹cd &lt;project-name&gt;## å®‰è£…ä¾èµ–npm install## è¿è¡Œnpm run dev\n\n\n\n3.è®¾ç½®npmä»£ç†æœ¬åœ°clashnpm config set proxy http://proxy.example.com:8080npm config set https-proxy http://proxy.example.com:8080\n\n\n\n\n\nsetupå‡½æ•°çš„ä¸¤ç§è¿”å›å€¼ï¼š\n\n1.è‹¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™å¯¹è±¡ä¸­çš„å±æ€§ã€æ–¹æ³•ï¼Œåœ¨æ¨¡æ¿ä¸­å‡å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ï¼ˆé‡ç‚¹å…³æ³¨ï¼ï¼‰\n2.è‹¥è¿”å›ä¸€ä¸ªæ¸²æŸ“å‡½æ•°ï¼šåˆ™å¯ä»¥è‡ªå®šä¹‰æ¸²æŸ“å†…å®¹ã€‚ï¼ˆäº†è§£ï¼‰\n\næ³¨æ„ç‚¹ï¼š\n\n1ã€å°½é‡ä¸è¦ä¸Vue2.xé…ç½®æ··ç”¨\n\nVue2.xé…ç½®ï¼ˆdataã€methosã€computedâ€¦)ä¸­å¯ä»¥è®¿é—®åˆ°setupä¸­çš„å±æ€§ã€æ–¹æ³•ã€‚\nä½†åœ¨setupä¸­ä¸èƒ½è®¿é—®åˆ°Vue2.xé…ç½®ï¼ˆdataã€methosã€computedâ€¦)ã€‚\nå¦‚æœæœ‰é‡åï¼Œsetupä¼˜å…ˆã€‚\n\n2ã€setupä¸èƒ½æ˜¯ä¸€ä¸ªasyncå‡½æ•°ï¼Œå› ä¸ºè¿”å›å€¼ä¸å†æ˜¯returnçš„å¯¹è±¡ï¼Œè€Œæ˜¯promiseï¼Œæ¨¡æ¿çœ‹ä¸åˆ°returnå¯¹è±¡ä¸­çš„å±æ€§ã€‚\n\n2.refå‡½æ•°\nä½œç”¨ï¼šå®šä¹‰ä¸€ä¸ªå“åº”å¼çš„æ•°æ®\n\nè¯­æ³•ï¼š==const xxx = ref(initValue)==\n\nåˆ›å»ºä¸€ä¸ªåŒ…å«å“åº”å¼æ•°æ®çš„å¼•ç”¨å¯¹è±¡ï¼ˆreferenceå¯¹è±¡ï¼‰ã€‚\n\nJSä¸­æ“ä½œæ•°æ®ï¼š==xxx.value==\n\næ¨¡æ¿ä¸­è¯»å–æ•°æ®ï¼šä¸éœ€è¦.value,ç›´æ¥&lt;div&gt;{{xxx}}&lt;/div&gt;\n\nå¤‡æ³¨ï¼š\n\næ¥å—çš„æ•°æ®å¯ä»¥æ˜¯ï¼šåŸºæœ¬ç±»å‹ã€ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ç±»å‹\n\nåŸºæœ¬ç±»å‹çš„æ•°æ®ï¼šå“åº”å¼ä¾ç„¶æ˜¯é Object.defineProperty()çš„getä¸setå®Œæˆçš„ã€‚\n\nå¯¹è±¡ç±»å‹çš„æ•°æ®ï¼šå†…éƒ¨â€œæ±‚åŠ©â€äº†Vue3.0ä¸­çš„ä¸€ä¸ªæ–°å‡½æ•°â€”â€”==reactive==å‡½æ•°ã€‚\n\n\n\n\n&lt;template&gt;&lt;h1&gt;ä¸€ä¸ªäººçš„ä¿¡æ¯&lt;/h1&gt;&lt;h2&gt;å§“åï¼š{{name}}&lt;/h2&gt;&lt;h2&gt;å¹´é¾„ï¼š{{age}}&lt;/h2&gt;&lt;h3&gt;å·¥ä½œç±»å‹ï¼š{{job.type}}&lt;/h3&gt;&lt;h3&gt;å·¥ä½œè–ªæ°´ï¼š{{job.salary}}&lt;/h3&gt;&lt;button @click=\"sayHello\"&gt;è¯´è¯&lt;/button&gt;&lt;/template&gt;&lt;script&gt;    import {ref} from 'vue'    export default {        name: 'App',        //æ­¤å¤„åªæ˜¯æµ‹è¯•ä¸€ä¸ªè½¦setupï¼Œæš‚æ—¶ä¸è€ƒè™‘å“åº”å¼çš„é—®é¢˜ã€‚        setup(){            let name = ref('å¼ ä¸‰')            let age = ref(18)            let job = ref({                type: 'å‰ç«¯',                salary: '30K'            })            function sayHello(){                name.value = 'æå››';                age.value= 20;                job.value.type='åç«¯'                job.value.salary='40K'            }            //è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼ˆå¸¸ç”¨ï¼‰            return{                name,                age,                job,                sayHello            }        }    }&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt;\n\nå…¶ä¸­éœ€è¦ç›‘å¬çš„æ•°æ®ç”¨refæ¥åŒ…è£…ä¸€ä¸‹ï¼Œä¹‹åå¦‚æœæƒ³è¦ä¿®æ”¹é‚£ä¹ˆå°±ä½¿ç”¨xx.valueå»å¼•ç”¨ä¿®æ”¹å³å¯ã€‚æ³¨æ„ä¸èƒ½ç›´æ¥è¿›è¡Œxxx=è¿™æ ·ç›´æ¥ä¿®æ”¹ï¼Œä¸ç„¶ä¸ä¼šæ›´æ–°ç•Œé¢æ•°æ®çš„ã€‚\n3.reactiveå‡½æ•°\nä½œç”¨ï¼šå®šä¹‰ä¸€ä¸ªå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ï¼ˆåŸºæœ¬ç±»å‹åˆ«ç”¨å®ƒï¼Œç”¨==ref==å‡½æ•°ï¼‰\nè¯­æ³•ï¼š==constä»£ç†å¯¹è±¡=reactive(è¢«ä»£ç†å¯¹è±¡)==æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ï¼ˆæˆ–æ•°ç»„ï¼‰ï¼Œè¿”å›ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼ˆproxyå¯¹è±¡ï¼‰\nreactiveå®šä¹‰çš„å“åº”å¼æ•°æ®æ˜¯â€œæ·±å±‚æ¬¡çš„â€ã€‚\nå†…éƒ¨åŸºäºES6çš„Proxyå®ç°ï¼Œé€šè¿‡ä»£ç†å¯¹è±¡æ“ä½œæºå¯¹è±¡å†…éƒ¨æ•°æ®éƒ½æ˜¯å“åº”å¼çš„\nåœ¨ä½¿ç”¨çš„æ—¶å€™å°±ä¸éœ€è¦ä½¿ç”¨.valueè¿›è¡Œä¿®æ”¹å’Œå¼•ç”¨äº†\n\n4.Vue3.0ä¸­çš„å“åº”å¼åŸç†\nå®ç°åŸç†ï¼š\n\nå¯¹è±¡ç±»å‹ï¼šé€šè¿‡Object.defineProperty()å¯¹å±æ€§çš„è¯»å–ï¼Œä¿®æ”¹è¿›è¡Œæ‹¦æˆªï¼ˆæ•°æ®åŠ«æŒï¼‰ã€‚\n\næ•°æ®ç±»å‹ï¼šé€šè¿‡é‡å†™æ›´æ–°æ•°ç»„çš„ä¸€ç³»åˆ—æ–¹æ³•æ¥å®ç°æ‹¦æˆªã€‚ï¼ˆå¯¹æ•°ç»„çš„å˜æ›´æ–¹æ³•è¿›è¡Œäº†åŒ…è£¹ï¼‰ã€‚\nObject.defineProperty(data,'count',{    get(){},    set(){}})\n\n\nå­˜åœ¨é—®é¢˜ï¼š\n\næ–°å¢å±æ€§ã€åˆ é™¤å±æ€§ï¼Œç•Œé¢ä¸ä¼šæ›´æ–°ã€‚\nç›´æ¥é€šè¿‡ä¸‹æ ‡ä¿®æ”¹æ•°ç»„ï¼Œç•Œé¢ä¸ä¼šæ›´æ–°ã€‚\n\n\n\nVue3.0çš„å“åº”å¼\n\nå®ç°åŸç†ï¼š\n\né€šè¿‡Proxyï¼ˆä»£ç†ï¼‰ï¼šæ‹¦æˆªå¯¹è±¡ä¸­ä»»æ„å±æ€§çš„å˜åŒ–ï¼ŒåŒ…è£¹ï¼šå±æ€§å€¼çš„è¯»å†™ã€å±æ€§çš„æ·»åŠ ã€å±æ€§çš„åˆ é™¤ç­‰ã€‚\n\né€šè¿‡Reflectï¼ˆåå°„ï¼‰ï¼šå¯¹è¢«ä»£ç†å¯¹è±¡çš„å±æ€§è¿›è¡Œæ“ä½œã€‚\n\nMDNæ–‡æ¡£ä¸­æè¿°çš„Proxyä¸Reflectï¼š\n\nProxyï¼šhttps://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy\n\nReflectï¼šhttps://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect\nnew Proxy(data,{    get(target,prop){        return Reflect.get(target,prop)    },    //æ‹¦æˆªè®¾ç½®å±æ€§å€¼æˆ–æ·»åŠ æ–°å±æ€§    set (target,prop.value){        return Reflect.set(target,prop,,value)    },    //æ‹¦æˆªåˆ é™¤å±æ€§    deleteProperty(target,prop){        return Reflect.deleteProperty(target,prop)    }})proxy.name = 'tom'\n\n\n\n\n\n6.setupçš„ä¸¤ä¸ªæ³¨æ„ç‚¹\nsetupæ‰§è¡Œçš„æ—¶æœº\n\nåœ¨beforeCreateä¹‹å‰æ‰§è¡Œä¸€æ¬¡ï¼Œthisæ˜¯undefinedã€‚\n\n\nsetupçš„å‚æ•°\n\npropsï¼šå€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«ï¼šç»„ä»¶å¤–éƒ¨ä¼ é€’è¿‡æ¥ï¼Œä¸”ç»„ä»¶å†…éƒ¨ç”³æ˜æ¥æ”¶äº†çš„å±æ€§ã€‚\ncontextï¼šä¸Šä¸‹æ–‡å¯¹è±¡\nattrsï¼šå€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«ï¼šç»„ä»¶å¤–éƒ¨ä¼ é€’è¿‡æ¥ï¼Œä½†æ²¡æœ‰åœ¨propsé…ç½®ä¸­ç”³æ˜çš„å±æ€§ï¼Œç›¸å½“äºthis.$attrsã€‚\nslotsï¼šæ”¶åˆ°çš„æ’æ§½å†…å®¹ï¼Œç›¸å½“äºthis.$slotsã€‚\nemitï¼šåˆ†å‘è‡ªå®šä¹‰äº‹ä»¶çš„å‡½æ•°ï¼Œç›¸å½“äºthis.$emitã€‚\n\n\n\n\n\n7.è®¡ç®—å±æ€§ä¸ç›‘è§†1.computedå‡½æ•°\nä¸Vue2.xä¸­computedé…ç½®åŠŸèƒ½ä¸€è‡´\n\nå†™æ³•\nimport {computed} from 'vue'setup(){    ...    //è®¡ç®—å±æ€§ä¸€ç®€å†™    let fullName = computed(()=&gt;{        return person.firstName+'-'+person.lastName    })    //è®¡ç®—å±æ€§å®Œæ•´    let fullName = computed({        get(){            return person.firstName()+'-'+person.lastName        },        set(value){            const nameArr = value.split('-')            person.firstName = nameArr[0]            person.lastName = nameArr[1]        }    })    }\n\nåœ¨vue3ä¸­å¦‚æœä½¿ç”¨templateæ’æ§½ï¼Œå°½é‡ä½¿ç”¨v-slotå½¢å¼ï¼Œæ¯”å¦‚v-slot:qwe\n2.watchå‡½æ•°\nä¸Vue2.xä¸­watché…ç½®åŠŸèƒ½ä¸€è‡´\n\nä¸¤ä¸ªå°â€œå‘â€ï¼š\n\nç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®æ—¶ï¼šoldValueæ— æ³•æ­£ç¡®è·å–ã€å¼ºåˆ¶å¼€å¯äº†æ·±åº¦ç›‘è§†ï¼ˆdeepé…ç½®å¤±æ•ˆï¼‰ã€‚\nç›‘è§†reactiveå®šä¹‰å“åº”å¼æ•°æ®ä¸­æŸä¸ªå±æ€§æ—¶ï¼šdeepé…ç½®æœ‰æ•ˆã€‚\n\n//æƒ…å†µä¸€ï¼šç›‘è§†refå®šä¹‰çš„å“åº”å¼æ•°æ®watch(sum,(newValue,oldValue)=&gt;{    console.log('sumå˜åŒ–äº†',newValue,oldValue)},{immediate: true})//æƒ…å†µäºŒï¼šç›‘è§†å¤šä¸ªrefå®šä¹‰çš„å“åº”å¼æ•°æ®watch([sum,msg],(newValue,oldValue)=&gt;{    console.log('sumæˆ–msgå˜åŒ–äº†',newValue,oldValue)})/* æƒ…å†µä¸‰ï¼šç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®\t\t\tè‹¥watchç›‘è§†çš„æ˜¯reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ï¼Œåˆ™æ— æ³•æ­£ç¡®è·å–oldValueï¼ï¼\t\t\tè‹¥watvhç›‘è§†çš„æ˜¯reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ï¼Œåˆ™å¼ºåˆ¶å¼€å¯äº†æ·±åº¦ç›‘è§†*/watch(personï¼Œ(newValue,oldValue)=&gt;{    console.log('personå˜åŒ–äº†',newValue,oldValue)},{    immediate:true,deep:false})//æ­¤å¤„çš„deepé…ç½®ä¸å†å‡‘æ•ˆ//æƒ…å†µå››ï¼šç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ä¸­çš„æŸä¸ªå±æ€§watch(()=&gt;person.job,(newValue,oldValue)=&gt;{    console.log('personçš„jobå˜åŒ–äº†',newValue,oldValue)},{immediate:true,deep:true})//æƒ…å†µäº”ï¼šç›‘è§†\n\n","categories":["å‰ç«¯"],"tags":["Vue"]},{"title":"Vue2å­¦ä¹ ","url":"/2023/02/24/learnnote/web-qian-duan/vue-xue-xi/","content":"Vue\nåˆ›å»ºVueé¡¹ç›®çš„å‘½ä»¤ï¼šnpm init vue@latest\n\n\n\næ–‡ä»¶ç»“æ„\nsrc:\n\nè¿™ä¸ªæ–‡ä»¶å¤¹å°±æ˜¯æˆ‘ä»¬ä¸»è¦è¿›è¡Œå†™ä»£ç çš„æ–‡ä»¶å¤¹ã€‚\n\npage.json:\n\nè¿™ä¸ªæ–‡ä»¶åŒ…æ‹¬äº†é¡¹ç›®ç‰ˆæœ¬è¿è¡Œï¼Œä»¥åŠä¾èµ–å¯¼å…¥ç‰ˆæœ¬ç­‰ï¼Œè¿™ä¸ªæ–‡ä»¶æœ‰ç‚¹åƒmavençš„é…ç½®æ–‡ä»¶ä¸€æ ·ã€‚\n\nvite.config.js:\n\nè¿™ä¸ªæ˜¯Vueçš„é…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œä¼šè¿›è¡Œä¸€äº›é¢å¤–çš„é…ç½®ï¼Œæ¯”å¦‚è·¨åŸŸè¯·æ±‚çš„è®¾ç½®ï¼Œä»¥åŠä¸€äº›æ‰“åŒ…çš„é…ç½®ç­‰ã€‚\n\nVueä½¿ç”¨ä¸€ç§åŸºäºHTMLçš„æ¨¡æ¿è¯­æ³•ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿå£°æ˜å¼åœ°å°†å…¶ç»„ä»¶å®ä¾‹çš„æ•°æ®ç»‘å®šåˆ°å‘ˆç°çš„DOMä¸Šã€‚æ‰€æœ‰çš„Vueæ¨¡æ¿éƒ½æ˜¯è¯­æ³•å±‚é¢åˆæ³•çš„HTMLï¼Œå¯ä»¥è¢«ç¬¦åˆè§„èŒƒçš„æµè§ˆå™¨å’ŒHTMLè§£æå™¨è§£æã€‚\næ–‡æœ¬æ’å€¼ï¼š\n\næœ€åŸºæœ¬çš„æ•°æ®ç»‘å®šå½¢å¼æ˜¯æ–‡æœ¬æ’å€¼ï¼Œå®ƒä½¿ç”¨çš„æ˜¯â€œMustacheâ€è¯­æ³•ï¼ˆå³åŒå¤§æ‹¬å·ï¼‰ï¼š\n\n\nv-textï¼š&lt;div id=\"app\"&gt;    &lt;h2 v-text=\"message\"/&gt;    &lt;h2&gt;æ·±åœ³{{message}}&lt;/h2&gt;&lt;/div&gt;&lt;script&gt;var app = new Vue({    el:\"#app\",    data:{        message:\"Test\",    }})        &lt;/script&gt;\n\n\n\nv-htmlï¼š&lt;div id=\"app\"&gt;    &lt;p v-html=\"content\"&gt;&lt;/p&gt;&lt;/div&gt;&lt;sctipt&gt;var app = new Vue({    el:\"#app\",    data:{    content:\"&lt;a href='#'&gt;Test&lt;/a&gt;\"    }    })&lt;/sctipt&gt;\n\n\n\nv-onï¼šä½œç”¨ï¼šä¸ºå…ƒç´ ç»‘å®šäº‹ä»¶\n&lt;div id=\"app\"&gt;    &lt;input type=\"button\" value=\"äº‹ä»¶ç»‘å®š\" v-on:äº‹ä»¶åç§°=\"æ–¹æ³•\"&gt;    ç‚¹å‡»äº‹ä»¶ï¼š&lt;input type=\"button\" value=\"äº‹ä»¶ç»‘å®š\" v-on:click=\"æ–¹æ³•\"&gt;    åŒå‡»äº‹ä»¶ï¼š&lt;input type=\"button\" value=\"äº‹ä»¶ç»‘å®š\" v-on:dblclick=\"æ–¹æ³•\"&gt;    å¯ä»¥å°†v-onæ›¿æ¢æˆ@ï¼š&lt;input type=\"buttion\" value=\"äº‹ä»¶ç»‘å®š\" @äº‹ä»¶åç§°=\"æ–¹æ³•\"&gt;&lt;/div&gt;&lt;script&gt;    var app = new Vue({        el:\"#app\",        methods:{            æ–¹æ³•:function(){                //é€»è¾‘            }        }    })&lt;/script&gt;\n\nä¼ é€’è‡ªå®šä¹‰å‚æ•°ï¼Œäº‹ä»¶ä¿®é¥°ç¬¦\n&lt;div id=\"app\"&gt;    &lt;input type=\"button\" @click=\"dolt(p1,p2)\"/&gt;    &lt;input type=\"text\" @keyup.enter=\"sayHi\"&gt;&lt;/div&gt;&lt;script&gt;    var app = new Vue({        el:\"#app\",        methods:{            dolt:function(p1,p2){},            sayHi:function(){                //å› ä¸ºä¸Šé¢æ˜¯@keyup.enteræ‰€ä»¥åªæœ‰åœ¨å›è½¦é”®çš„æ—¶å€™æ‰ä¼šè§¦å‘è¿™ä¸ªé€»è¾‘                //ä¿®é¥°ç¬¦ä¸æ­¢è¿™ä¸€ä¸ªï¼Œæ›´å¤šçš„å¯ä»¥å‚è€ƒåœ°å€ï¼šhttps://cn.vuejs.org/v2/api/#v-on            }        }    })&lt;/script&gt;\n\n\n\nv-ifï¼šä½œç”¨ï¼šæ ¹æ®è¡¨è¾¾å€¼çš„çœŸå‡ï¼Œåˆ‡æ¢å…ƒç´ çš„æ˜¾ç¤ºå’Œéšè—ï¼ˆæ“æ§domå…ƒç´ ï¼‰\n&lt;div id=\"app\"&gt;    &lt;p v-if=\"true\"&gt;æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾&lt;/p&gt;    &lt;p v-if=\"isShow\"&gt;æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾&lt;/p&gt;    &lt;p v-if=\"è¡¨è¾¾å¼\"&gt;æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾&lt;/p&gt;&lt;/div&gt;&lt;script&gt;    var app = new Vue({        el:\"#app\",        data:{            isShow:false        }    })&lt;/script&gt;\n\n\n\nv-bindï¼šä½œç”¨ï¼šè®¾ç½®å…ƒç´ çš„å±æ€§ï¼ˆæ¯”å¦‚ï¼šsrcï¼Œtitleï¼Œclassï¼‰\nå•å‘ç»‘å®šã€‚æ•°æ®åªèƒ½ä»dataæµå‘ç•Œé¢ã€‚\n&lt;div id=\"app\"&gt;    &lt;img v-bind:src=\"imgSrc\"&gt;    &lt;img v-bind:title=\"imagtitle+'!!!!'\"&gt;    &lt;img v-bind:class=\"isActive?'active':\"&gt;    &lt;img v-bind:class=\"{active:isActive}\"&gt;&lt;/div&gt;&lt;script&gt;    var app = new Vue({        el:\"#app\",        data:{            imgSrc:\"å›¾ç‰‡åœ°å€\",            imgTitle:\"é»‘é©¬ç¨‹åºå‘˜\",            isActive:false        }    })&lt;/script&gt;\n\n\n\n\n\nv-show:ä½œç”¨ï¼šæ ¹æ®è¡¨è¾¾å€¼çš„çœŸå‡ï¼Œåˆ‡æ¢å…ƒç´ çš„æ˜¾ç¤ºå’Œéšè—\n&lt;div id=\"app\"&gt;    &lt;img src=\"åœ°å€\" v-show=\"true\"&gt;&lt;/div&gt;&lt;scritp&gt;    el:\"app\",    data:{    isShow:true    }&lt;/script&gt;\n\nv-forä½œç”¨ï¼šæ ¹æ®æ•°æ®ç”Ÿæˆåˆ—è¡¨ç»“æ„\n&lt;div id=\"app\"&gt;    &lt;ul&gt;        &lt;li v-for=\"item in arr\" :title=\"item\"&gt;{{item}}{{item}}&lt;/li&gt;    &lt;/ul&gt;&lt;/div&gt;&lt;script&gt;    var app=new Vue({        el:\"#app\",        data:{            arr:[1,2,3,4,5]        }    })&lt;/script&gt;\n\n&lt;div id=\"app\"&gt;    &lt;ul&gt;        &lt;li v-for=\"(item,index) in objArr\"&gt;        {{item.name}}        &lt;/li&gt;        &lt;li v-for=\"(item,index) in objArr\"&gt;        {{item.name}}        &lt;/li&gt;    &lt;/ul&gt;&lt;/div&gt;&lt;script&gt;    var app = new Vue({        el:\"#app\",        data:{            objArr:[                {name:\"jack\"},            \t{name:\"rose\"}                ]            }        }    })&lt;/script&gt;\n\n\n\nv-modelï¼šè¯´æ˜ï¼šè·å–å’Œè®¾ç½®è¡¨å•å…ƒç´ çš„å€¼ï¼ˆåŒå‘æ•°æ®ç»‘å®šï¼‰\næœ‰åŒå‘ç»‘å®šæ•ˆæœæ•°æ®åŒæ­¥ã€‚åªèƒ½åº”ç”¨åœ¨è¡¨å•ç±»å…ƒç´ ï¼ˆè¾“å…¥ç±»å…ƒç´ ï¼‰ä¸Šã€‚\nmodelé»˜è®¤æ‰¾çš„valueå±æ€§ï¼Œæ‰€ä»¥å¯ä»¥å†™æˆv-model=â€œâ€\nv-modelæŒ‡ä»¤çš„ä½œç”¨æ˜¯ä¾¿æ·çš„è®¾ç½®å’Œè·å–è¡¨å•å…ƒç´ çš„å€¼\nç»‘å®šçš„æ•°æ®ä¼šå’Œè¡¨å•å…ƒç´ å€¼ç›¸å…³è”\n&lt;div id=\"app\"&gt;    &lt;input type=\"text\"/&gt;&lt;/div&gt;&lt;script&gt;    var app = new Vue({        el:\"#app\",        data:{            message:\"é»‘é©¬ç¨‹åºå‘˜\"        }    })&lt;/script&gt;\n\naxiosè¯´æ˜ï¼šåŠŸèƒ½å¼ºå¤§çš„ç½‘ç»œè¯·æ±‚åº“\n\naxioså¿…é¡»å…ˆå¯¼å…¥æ‰å¯ä»¥ä½¿ç”¨\nä½¿ç”¨getæˆ–è€…postæ–¹æ³•å³å¯å‘é€å¯¹åº”çš„è¯·æ±‚\nthenæ–¹æ³•ä¸­çš„å›è°ƒå‡½æ•°ä¼šåœ¨è¯·æ±‚æˆåŠŸæˆ–å¤±è´¥æ—¶è§¦å‘\né€šè¿‡å›è°ƒå‡½æ•°çš„å½¢å‚å¯ä»¥è·å–å“åº”å†…å®¹ï¼Œæˆ–é”™è¯¯ä¿¡æ¯\n\n&lt;script src=\"https://unpkg.com/axios/dist/axios.min.js\"&gt;&lt;/script&gt;axios.get(åœ°å€?key=value&amp;key2=value2).then(function(response){},function(err){})axios.post(åœ°å€,{key:value,key2:value2}).then(function(response){},function(err){})\n\n\n\n\néšæœºè·å–ç¬‘è¯çš„æ¥å£\n\n\n\nè¯·æ±‚åœ°å€ï¼šhttps://autumnfish.cn/api/joke/list\nè¯·æ±‚æ–¹æ³•ï¼šget\nè¯·æ±‚å‚æ•°ï¼šnum\n\n\n\n\nå‚æ•°å\nå‚æ•°è¯´æ˜\nå¤‡æ³¨\n\n\n\nnum\nç¬‘è¯æ¡æ•°\nç±»å‹ä¸ºæ•°å­—\n\n\n\nå“åº”å†…å®¹ï¼šéšæœºç¬‘è¯\n\n\n\nç”¨æˆ·æ³¨å†Œæ¥å£1\n\nè¯·æ±‚åœ°å€ï¼šhttps://autumnfish.cn/api/user/reg\nè¯·æ±‚æ–¹å¼ï¼špost\nè¯·æ±‚å‚æ•°ï¼šusername\n\n\n\n\nå‚æ•°å\nå‚æ•°è¯´æ˜\nå¤‡æ³¨\n\n\n\nusername\nç”¨æˆ·å\nä¸èƒ½ä¸ºç©º\n\n\n\naxios+vue&lt;script&gt;    var app = new Vue({        el:\"#app\",        data:{            joke:\"æç¬‘çš„ç¬‘è¯\"        },        methods:{            getJokes:function(){                //this.joke?                aixos.get(\"åœ°å€\").then(function(response){                    //this.joke?                },function(err){});            }        }    })&lt;/script&gt;\n\n\n\nMVVMæ¨¡å‹ï¼š\n\nMï¼šæ¨¡å‹ï¼ˆModelï¼‰ï¼šå¯¹åº”dataä¸­çš„æ•°æ®\nVï¼šè§†å›¾ï¼ˆViewï¼‰ï¼šæ¨¡æ¿\nVMï¼šè§†å›¾æ¨¡å‹ï¼ˆViewModelï¼‰ï¼šVueå®ä¾‹å¯¹è±¡\n\n[Vueå®ä¾‹].$mount(â€˜#idâ€™);ï¼šè·å–ç›¸åº”ç»„ä»¶ã€‚\nVue - ç»„ä»¶ï¼ˆComponentï¼‰\nä¸€ã€ä»€ä¹ˆæ˜¯ç»„ä»¶ï¼ˆComponentï¼‰ï¼Ÿç»„ä»¶ï¼ˆComponentï¼‰æ˜¯Vue.jsæœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ã€‚ç»„ä»¶å¯ä»¥æ‰©å±•HTMLå…ƒç´ ï¼Œå°è£…å¯ä»¥é‡ç”¨çš„ä»£ç ã€‚åœ¨è¾ƒé«˜å±‚é¢ä¸Šï¼Œç»„ä»¶æ˜¯è‡ªå®šä¹‰å…ƒç´ ï¼ŒVue.jsçš„ç¼–è¯‘å™¨ä¸ºå®ƒæ·»åŠ ç‰¹æ®ŠåŠŸèƒ½ã€‚åœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œç»„ä»¶ä¹Ÿå¯ä»¥è¡¨ç°ä¸ºç”¨isç‰¹æ€§è¿›è¡Œäº†æ‰©å±•çš„åŸç”ŸHTMLå…ƒç´ ã€‚\næ‰€æœ‰Vueç»„ä»¶åŒäº‹ä¹Ÿéƒ½æ˜¯Vueå®ä¾‹ï¼Œæ‰€ä»¥å¯ä»¥æ¥å—ç›¸åŒçš„é€‰é¡¹å¯¹è±¡ï¼ˆé™¤äº†ä¸€äº›æ ¹çº§ç‰¹æœ‰çš„é€‰é¡¹ï¼‰å¹¶ä¸”æä¾›ç›¸åŒçš„ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚\näºŒã€ä½¿ç”¨ç»„ä»¶1.å…¨å±€ç»„ä»¶\næˆ‘ä»¬çŸ¥é“ï¼Œåˆ›å»ºä¸€ä¸ªVueå®ä¾‹å¯ä»¥ï¼š\nnew Vue({  el: '#some-element',  // é€‰é¡¹})\n\nå…¨å±€æ³¨å†Œç»„ä»¶ï¼Œå¯ä»¥ä½¿ç”¨Vue.component(tagName, options)ã€‚ æ¯”å¦‚ï¼š\nVue.component('my-component', {  // é€‰é¡¹})\n\n\nè¯·æ³¨æ„ï¼Œå¯¹äºè‡ªå®šä¹‰æ ‡ç­¾çš„å‘½å Vue.js ä¸å¼ºåˆ¶éµå¾ª W3C è§„åˆ™ (å°å†™ï¼Œå¹¶ä¸”åŒ…å«ä¸€ä¸ªçŸ­æ )ï¼Œå°½ç®¡è¿™è¢«è®¤ä¸ºæ˜¯æœ€ä½³å®è·µã€‚\n\nç»„ä»¶åœ¨æ³¨å†Œä¹‹åï¼Œä¾¿å¯ä»¥ä½œä¸ºè‡ªå®šä¹‰å…ƒç´ ï¼š&lt;my-component&gt;&lt;/my-component&gt;ä½¿ç”¨äº†ã€‚ æ³¨æ„ç¡®ä¿åœ¨åˆå§‹åŒ–æ ¹å®ä¾‹ä¹‹å‰æ³¨å†Œç»„ä»¶ï¼š\nåœ¨åˆå§‹åŒ–æ ¹å®ä¾‹ä¹‹å‰æ³¨å†Œç»„ä»¶è¿™å¥è¯å°±æ˜¯æŒ‡çš„æ˜¯ï¼š\nVue.component('my-component', {  template: '&lt;div&gt;A custom component!&lt;/div&gt;'})var vm = new Vue({  el: '#box'})\n\nè¿™æ ·çš„é¡ºåºæ˜¯å¯¹çš„ï¼Œè€Œ\nvar vm = new Vue({  el: '#box'})Vue.component('my-component', {  template: '&lt;div&gt;A custom component!&lt;/div&gt;'})\n\nè¿™æ ·æ˜¯é”™çš„ã€‚\n&lt;div id=\"example\"&gt;  &lt;my-component&gt;&lt;/my-component&gt;&lt;/div&gt;\n\n\n\n// æ³¨å†ŒVue.component('my-component', {  template: '&lt;div&gt;A custom component!&lt;/div&gt;'})// åˆ›å»ºæ ¹å®ä¾‹new Vue({  el: '#example'})\n\næˆ‘ä»¬è¦æ³¨æ„ï¼Œä¸€èˆ¬é€‰é¡¹ä¸­éœ€è¦æ·»åŠ templateï¼Œå°±æ˜¯HTMLçš„æ„é€ ã€‚\næ¸²æŸ“ä¸ºï¼š\n&lt;div id=\"example\"&gt;  &lt;div&gt;A custom component!&lt;/div&gt;&lt;/div&gt;\n\n2.å±€éƒ¨æ³¨å†Œ\nä¸å¿…æŠŠæ¯ä¸ªç»„ä»¶éƒ½æ³¨å†Œåˆ°å…¨å±€ã€‚ä½ å¯ä»¥é€šè¿‡æŸä¸ª Vue å®ä¾‹/ç»„ä»¶çš„å®ä¾‹é€‰é¡¹ components æ³¨å†Œä»…åœ¨å…¶ä½œç”¨åŸŸä¸­å¯ç”¨çš„ç»„ä»¶ï¼š\nvar Child = {  template: '&lt;div&gt;A custom component!&lt;/div&gt;'}var vm = new Vue({  el: '#box',  components: {    'my-component': Child  }})var vm = new Vue({  el: '#box2'})\n\n\n\n&lt;div id=\"box\"&gt;  &lt;my-component&gt;&lt;/my-component&gt;&lt;/div&gt;&lt;div id=\"box2\"&gt;  &lt;my-component&gt;&lt;/my-component&gt;&lt;/div&gt;\n\n\nVueç»„ä»¶çš„å…¨å±€æ³¨å†Œï¼Œå¯ä»¥åœ¨å¤šä¸ªVueå®ä¾‹ä¸­ä½¿ç”¨ï¼Œå¦‚æœæ˜¯åœ¨Vueæ„é€ å™¨ä¸­å±€éƒ¨æ³¨å†Œï¼Œé‚£ä¹ˆåªèƒ½åœ¨æ­¤Vueå®ä¾‹ä¸­ä½¿ç”¨ã€‚\n\né‚£ä¹ˆåœ¨&lt;div id=\"box\"&gt;ä¸‹é¢çš„&lt;my-component&gt;&lt;/my-component&gt;å°†ä¸ä¼šæ¸²æŸ“å‡ºæ¥ã€‚\nè¿™ç§å°è£…ä¹Ÿé€‚ç”¨äºå…¶å®ƒå¯æ³¨å†Œçš„ Vue åŠŸèƒ½ï¼Œæ¯”å¦‚æŒ‡ä»¤ã€‚\n3.DOMæ¨¡æ¿è§£ææ³¨æ„äº‹é¡¹\nå½“ä½¿ç”¨ DOM ä½œä¸ºæ¨¡æ¿çš„æ—¶å€™ï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨ el é€‰é¡¹æ¥æŠŠ Vue å®ä¾‹æŒ‚è½½åˆ°ä¸€ä¸ªå·²æœ‰å†…å®¹çš„å…ƒç´ ä¸Šï¼‰ï¼Œä½ ä¼šå—åˆ° HTML æœ¬èº«çš„ä¸€äº›é™åˆ¶ï¼Œå› ä¸º Vue åªæœ‰åœ¨æµè§ˆå™¨è§£æï¼Œè§„èŒƒåŒ–ä¹‹åæ‰èƒ½è·å–å…¶å†…å®¹ã€‚å°¤å…¶è¦æ³¨æ„ï¼Œåƒ &lt;ul&gt; &lt;ol&gt;, &lt;table&gt;ï¼Œ&lt;select&gt; è¿™æ ·çš„å…ƒç´ é‡Œé¢å…è®¸åŒ…å«çš„å…ƒç´ æœ‰é™åˆ¶ï¼Œè€Œå¦å¤–ä¸€äº›åƒ &lt;option&gt; è¿™æ ·çš„å…ƒç´ åªèƒ½å‡ºç°åœ¨æŸäº›ç‰¹å®šå…ƒç´ çš„å†…éƒ¨ã€‚\nåœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸­ä½¿ç”¨è¿™äº›å—é™åˆ¶å…ƒç´ æ—¶å€™ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚ï¼š\n&lt;table&gt;  &lt;my-row&gt;...&lt;/my-row&gt;&lt;/table&gt;\n\nè‡ªå®šä¹‰ç»„ä»¶ &lt;my-row&gt; ä¼šè¢«å½“æˆæ— æ•ˆçš„å†…å®¹ï¼Œå› æ­¤ä¼šå¯¼è‡´é”™è¯¯çš„æ¸²æŸ“ç»“æœã€‚å˜é€šæ–¹å¼æ˜¯ä½¿ç”¨ç‰¹æ®Šçš„ is ç‰¹æ€§ï¼š\n&lt;table&gt;  &lt;tr is=\"my-row\"&gt;&lt;/tr&gt;&lt;/table&gt;\n\nåº”å½“æ³¨æ„ï¼Œå¦‚æœä½¿ç”¨æ¥è‡ªä»¥ä¸‹æ¥æºä¹‹ä¸€çš„å­—ç¬¦ä¸²æ¨¡æ¿ï¼Œåˆ™æ²¡æœ‰è¿™äº›é™åˆ¶ï¼š\n&lt;script type=\"text/x-template\"&gt;JavaScript å†…è”æ¨¡æ¿å­—ç¬¦ä¸².vue ç»„ä»¶\n\nå› æ­¤ï¼Œè¯·å°½å¯èƒ½ä½¿ç”¨å­—ç¬¦ä¸²æ¨¡æ¿ã€‚\n\ndataå¿…é¡»æ˜¯å‡½æ•°\n\næ„é€  Vue å®ä¾‹æ—¶ä¼ å…¥çš„å„ç§é€‰é¡¹å¤§å¤šæ•°éƒ½å¯ä»¥åœ¨ç»„ä»¶é‡Œä½¿ç”¨ã€‚åªæœ‰ä¸€ä¸ªä¾‹å¤–ï¼šdata å¿…é¡»æ˜¯å‡½æ•°ã€‚å®é™…ä¸Šï¼Œå¦‚æœä½ è¿™ä¹ˆåšï¼š\nVue.component('my-component', {  template: '&lt;span&gt;{{ message }}&lt;/span&gt;',  data: {    message: 'hello'  }})\n\né‚£ä¹ˆ Vue ä¼šåœæ­¢è¿è¡Œï¼Œå¹¶åœ¨æ§åˆ¶å°å‘å‡ºè­¦å‘Šï¼Œå‘Šè¯‰ä½ åœ¨ç»„ä»¶å®ä¾‹ä¸­ data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚ä½†ç†è§£è¿™ç§è§„åˆ™ä¸ºä½•å­˜åœ¨ä¹Ÿæ˜¯å¾ˆæœ‰ç›Šå¤„çš„ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å…ˆä½œä¸ªå¼Šï¼š\n&lt;div id=\"example-2\"&gt;  &lt;simple-counter&gt;&lt;/simple-counter&gt;  &lt;simple-counter&gt;&lt;/simple-counter&gt;  &lt;simple-counter&gt;&lt;/simple-counter&gt;&lt;/div&gt;\n\ndataå‚æ•°ä¸­ï¼Œä¸€èˆ¬æ˜¯è¿”å›çš„jså¯¹è±¡ã€‚æ¯”å¦‚:\ndata: function () {    return {        text: 'text',        name: 'Hello'    }}\n\n\n\nvar data = { counter: 0 }Vue.component('simple-counter', {  template: '&lt;button v-on:click=\"counter += 1\"&gt;{{ counter }}&lt;/button&gt;',   # æ³¨æ„ï¼šè¿™é‡Œæ˜¯ += ä¸æ˜¯ +  // æŠ€æœ¯ä¸Š data çš„ç¡®æ˜¯ä¸€ä¸ªå‡½æ•°äº†ï¼Œå› æ­¤ Vue ä¸ä¼šè­¦å‘Šï¼Œ  // ä½†æ˜¯æˆ‘ä»¬å´ç»™æ¯ä¸ªç»„ä»¶å®ä¾‹è¿”å›äº†åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨  data: function () {    return data  }})new Vue({  el: '#example-2'})\n\nç”±äºè¿™ä¸‰ä¸ªç»„ä»¶å®ä¾‹å…±äº«äº†åŒä¸€ä¸ª data å¯¹è±¡ï¼Œå› æ­¤é€’å¢ä¸€ä¸ª counter ä¼šå½±å“æ‰€æœ‰ç»„ä»¶ï¼è¿™å°±é”™äº†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸ºæ¯ä¸ªç»„ä»¶è¿”å›å…¨æ–°çš„æ•°æ®å¯¹è±¡æ¥ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼š\ndata: function () {  return {    counter: 0  }}\n\nç°åœ¨æ¯ä¸ª counter éƒ½æœ‰å®ƒè‡ªå·±å†…éƒ¨çš„çŠ¶æ€äº†ã€‚\n5.ç»„ä»¶ç»„åˆ\nç»„ä»¶è®¾è®¡åˆè¡·å°±æ˜¯è¦é…åˆä½¿ç”¨çš„ï¼Œæœ€å¸¸è§çš„å°±æ˜¯å½¢æˆçˆ¶å­ç»„ä»¶çš„å…³ç³»ï¼šç»„ä»¶ A åœ¨å®ƒçš„æ¨¡æ¿ä¸­ä½¿ç”¨äº†ç»„ä»¶ Bã€‚å®ƒä»¬ä¹‹é—´å¿…ç„¶éœ€è¦ç›¸äº’é€šä¿¡ï¼šçˆ¶ç»„ä»¶å¯èƒ½è¦ç»™å­ç»„ä»¶ä¸‹å‘æ•°æ®ï¼Œå­ç»„ä»¶åˆ™å¯èƒ½è¦å°†å®ƒå†…éƒ¨å‘ç”Ÿçš„äº‹æƒ…å‘ŠçŸ¥çˆ¶ç»„ä»¶ã€‚ç„¶è€Œï¼Œé€šè¿‡ä¸€ä¸ªè‰¯å¥½å®šä¹‰çš„æ¥å£æ¥å°½å¯èƒ½å°†çˆ¶å­ç»„ä»¶è§£è€¦ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ã€‚è¿™ä¿è¯äº†æ¯ä¸ªç»„ä»¶çš„ä»£ç å¯ä»¥åœ¨ç›¸å¯¹éš”ç¦»çš„ç¯å¢ƒä¸­ä¹¦å†™å’Œç†è§£ï¼Œä»è€Œæé«˜äº†å…¶å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§ã€‚\nåœ¨ Vue ä¸­ï¼Œçˆ¶å­ç»„ä»¶çš„å…³ç³»å¯ä»¥æ€»ç»“ä¸º prop å‘ä¸‹ä¼ é€’ï¼Œäº‹ä»¶å‘ä¸Šä¼ é€’ã€‚çˆ¶ç»„ä»¶é€šè¿‡ prop ç»™å­ç»„ä»¶ä¸‹å‘æ•°æ®ï¼Œå­ç»„ä»¶é€šè¿‡äº‹ä»¶ç»™çˆ¶ç»„ä»¶å‘é€æ¶ˆæ¯ã€‚çœ‹çœ‹å®ƒä»¬æ˜¯æ€ä¹ˆå·¥ä½œçš„ã€‚\n\nå›¾ç‰‡.png\nä¸‰ã€Prop1.ä½¿ç”¨Propä¼ å€¼ ç»„ä»¶å®ä¾‹çš„ä½œç”¨åŸŸæ˜¯å­¤ç«‹çš„ã€‚è¿™æ„å‘³ç€ä¸èƒ½ (ä¹Ÿä¸åº”è¯¥) åœ¨å­ç»„ä»¶çš„æ¨¡æ¿å†…ç›´æ¥å¼•ç”¨çˆ¶ç»„ä»¶çš„æ•°æ®ã€‚çˆ¶ç»„ä»¶çš„æ•°æ®éœ€è¦é€šè¿‡ prop æ‰èƒ½ä¸‹å‘åˆ°å­ç»„ä»¶ä¸­ã€‚\nå­ç»„ä»¶è¦æ˜¾å¼åœ°ç”¨ props é€‰é¡¹å£°æ˜å®ƒé¢„æœŸçš„æ•°æ®ï¼š\nVue.component('child', {  // å£°æ˜ props  props: ['message'],  // å°±åƒ data ä¸€æ ·ï¼Œprop ä¹Ÿå¯ä»¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨  // åŒæ ·ä¹Ÿå¯ä»¥åœ¨ vm å®ä¾‹ä¸­é€šè¿‡ this.message æ¥ä½¿ç”¨  template: '&lt;span&gt;{{ message }}&lt;/span&gt;'})\n\n\n\n&lt;div id=\"box\"&gt;  &lt;child message=\"hellow\"&gt;&lt;/child&gt;  &lt;child message=\"hellow\"&gt;&lt;/child&gt;  &lt;child message=\"123\"&gt;&lt;/child&gt;&lt;/div&gt;\n\n2.é©¼å³°æ³• vs çŸ­æ¨ªçº¿åˆ†éš”æ³•\nHTML ç‰¹æ€§æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ã€‚æ‰€ä»¥ï¼Œå½“ä½¿ç”¨çš„ä¸æ˜¯å­—ç¬¦ä¸²æ¨¡æ¿æ—¶ï¼ŒcamelCase (é©¼å³°å¼å‘½å) çš„ prop éœ€è¦è½¬æ¢ä¸ºç›¸å¯¹åº”çš„ kebab-case (çŸ­æ¨ªçº¿åˆ†éš”å¼å‘½å)ï¼š\nVue.jsä¸­æ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚\nVue.component('child', {  // åœ¨ JavaScript ä¸­ä½¿ç”¨ camelCase  props: ['myMessage'],  template: '&lt;span&gt;{{ myMessage }}&lt;/span&gt;'})\n\n\n\n&lt;!-- åœ¨ HTML ä¸­ä½¿ç”¨ kebab-case --&gt;&lt;child my-message=\"hello!\"&gt;&lt;/child&gt;\n\næ³¨æ„æ˜¯è‡ªåŠ¨è½¬æ¢ä¸ºçš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä½¿ç”¨æ¨¡æ¿çš„æ—¶å€™&lt;child my-message=\"hello!\"&gt;&lt;/child&gt;ï¼Œæ³¨æ„åˆ°éœ€è¦ä½¿ç”¨çŸ­æ¨ªçº¿åˆ†éš”ç¬¦å·ã€‚\n3.åŠ¨æ€Prop\nä¸ç»‘å®šåˆ°ä»»ä½•æ™®é€šçš„ HTML ç‰¹æ€§ç±»ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ v-bind æ¥åŠ¨æ€åœ°å°†propç»‘å®šåˆ°çˆ¶ç»„ä»¶çš„æ•°æ®ã€‚ æ¯å½“çˆ¶ç»„ä»¶çš„æ•°æ®å˜åŒ–æ—¶ï¼Œè¯¥å˜åŒ–ä¹Ÿä¼šä¼ å¯¼ç»™å­ç»„ä»¶ï¼š\n&lt;div&gt;  &lt;input v-model=\"parentMsg\"&gt;  &lt;br&gt;  &lt;child v-bind:my-message=\"parentMsg\"&gt;&lt;/child&gt;&lt;/div&gt;\n\nä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ v-bind çš„ç¼©å†™è¯­æ³•ï¼š\n&lt;child :my-message=\"parentMsg\"&gt;&lt;/child&gt;\n\nå¦‚æœä½ æƒ³æŠŠä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§ä½œä¸º prop è¿›è¡Œä¼ é€’ï¼Œå¯ä»¥ä½¿ç”¨ä¸å¸¦ä»»ä½•å‚æ•°çš„ v-bind (å³ç”¨ v-bind è€Œä¸æ˜¯ v-bind:prop-name)ã€‚ä¾‹å¦‚ï¼Œå·²çŸ¥ä¸€ä¸ª todo å¯¹è±¡ï¼š\nvar vm = new Vue({  el: '#box',  data: {    todo: {      text: 'Learn Vue',      isComplete: false    }  }})\n\n\n\n&lt;todo-item v-bind=\"todo\"&gt;&lt;/todo-item&gt;\n\nç­‰ä»·äºï¼š\n&lt;todo-item  v-bind:text=\"todo.text\"  v-bind:is-complete=\"todo.isComplete\"&gt;&lt;/todo-item&gt;\n\negï¼š\n&lt;div id=\"box\"&gt;  &lt;child v-bind=\"todo\"&gt;&lt;/child&gt;&lt;/div&gt;\n\n\n\nVue.component('child', {  props: ['text', 'is-complete'],  template: '&lt;span&gt;{{ text }}&lt;/span&gt;'})var vm = new Vue({  el: '#box',  data: {    todo: {      text: 'Learn Vue',      isComplete: false    }  }})\n\næˆ–è€…ç›´æ¥ä¼ é€’ä¸€ä¸ªå¯¹è±¡ï¼š\n&lt;body&gt;&lt;div id=\"box\"&gt;  &lt;child v-bind:todo=\"todo\"&gt;&lt;/child&gt;&lt;/div&gt;\n\n\n\nVue.component('child', {  props: ['todo'],  template: '&lt;span&gt;{{ todo.text }} {{ todo.isComplete }} &lt;/span&gt;'})var vm = new Vue({  el: '#box',  data: {    todo: {      text: 'Learn Vue',      isComplete: false    }  }})\n\nä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œä¸€èˆ¬æˆ‘ä»¬è¿˜æ˜¯è¿™æ ·ä¼ é€’æœ€å¥½ï¼š\n&lt;child v-bind:todo=\"todo\"&gt;&lt;/child&gt;\n\nä¸è¦v-bind=\"todo\"ï¼Œè¿™æ ·ä¸æ˜¯å¾ˆæ–¹ä¾¿æ ·ã€‚\n4.å­—é¢é‡è¯­æ³•  vs åŠ¨æ€è¯­æ³•\nå­—é¢é‡è¯­æ³•ï¼Œå°±æ˜¯ç›´æ¥ä¼ é€’å­—ç¬¦ä¸²è¿™æ ·ï¼š åˆå­¦è€…å¸¸çŠ¯çš„ä¸€ä¸ªé”™è¯¯æ˜¯ä½¿ç”¨å­—é¢é‡è¯­æ³•ä¼ é€’æ•°å€¼ï¼š\n&lt;!-- ä¼ é€’äº†ä¸€ä¸ªå­—ç¬¦ä¸² \"1\" --&gt;&lt;comp some-prop=\"1\"&gt;&lt;/comp&gt;\n\nå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå­—é¢é‡ propï¼Œå®ƒçš„å€¼æ˜¯å­—ç¬¦ä¸² â€œ1â€ è€Œä¸æ˜¯ä¸€ä¸ªæ•°å€¼ã€‚å¦‚æœæƒ³ä¼ é€’ä¸€ä¸ªçœŸæ­£çš„ JavaScript æ•°å€¼ï¼Œåˆ™éœ€è¦ä½¿ç”¨ v-bindï¼Œä»è€Œè®©å®ƒçš„å€¼è¢«å½“ä½œ JavaScript è¡¨è¾¾å¼è®¡ç®—ï¼š ä¸‹é¢æ‰æ˜¯æ­£ç¡®çš„ï¼š\n&lt;!-- ä¼ é€’çœŸæ­£çš„æ•°å€¼ --&gt;&lt;comp v-bind:some-prop=\"1\"&gt;&lt;/comp&gt;\n\n5.å•å‘æ•°æ®æµ\nProp æ˜¯å•å‘ç»‘å®šçš„ï¼šå½“çˆ¶ç»„ä»¶çš„å±æ€§å˜åŒ–æ—¶ï¼Œå°†ä¼ å¯¼ç»™å­ç»„ä»¶ï¼Œä½†æ˜¯åè¿‡æ¥ä¸ä¼šã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢å­ç»„ä»¶æ— æ„é—´ä¿®æ”¹äº†çˆ¶ç»„ä»¶çš„çŠ¶æ€ï¼Œæ¥é¿å…åº”ç”¨çš„æ•°æ®æµå˜å¾—éš¾ä»¥ç†è§£ã€‚\nå¦å¤–ï¼Œæ¯æ¬¡çˆ¶ç»„ä»¶æ›´æ–°æ—¶ï¼Œå­ç»„ä»¶çš„æ‰€æœ‰ prop éƒ½ä¼šæ›´æ–°ä¸ºæœ€æ–°å€¼ã€‚è¿™æ„å‘³ç€ä½ ä¸åº”è¯¥åœ¨å­ç»„ä»¶å†…éƒ¨æ”¹å˜ propã€‚å¦‚æœä½ è¿™ä¹ˆåšäº†ï¼ŒVue ä¼šåœ¨æ§åˆ¶å°ç»™å‡ºè­¦å‘Šã€‚\nåœ¨ä¸¤ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å¿ä¸ä½æƒ³å»ä¿®æ”¹ prop ä¸­æ•°æ®ï¼š\n1ï¼‰Prop ä½œä¸ºåˆå§‹å€¼ä¼ å…¥åï¼Œå­ç»„ä»¶æƒ³æŠŠå®ƒå½“ä½œå±€éƒ¨æ•°æ®æ¥ç”¨ï¼›2ï¼‰Prop ä½œä¸ºåŸå§‹æ•°æ®ä¼ å…¥ï¼Œç”±å­ç»„ä»¶å¤„ç†æˆå…¶å®ƒæ•°æ®è¾“å‡ºã€‚\n\næ­£ç¡®çš„åº”å¯¹æ–¹å¼æ˜¯ï¼š 1ï¼‰å®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œå¹¶ä¸”ä½¿ç”¨propçš„å€¼åˆå§‹åŒ–å®ƒï¼š\nVue.component('child', {  props: ['todo'],  template: '&lt;span&gt;{{ todo }} &lt;/span&gt;',  data: function () {    return {      com_todo: this.todo + \" ok\"    }  }})\n\n\næ³¨æ„ï¼šå¤–éƒ¨ä¼ å…¥äº†todoè¿›æ¥ï¼Œé‚£ä¹ˆç°åœ¨åˆè¿”å›çš„æœ‰ä¸€ä¸ªcom_todoï¼Œç°åœ¨ç»„ä»¶ä¸­å¯ä»¥ä½¿ç”¨çš„æ•°æ®å°±æœ‰ä¸¤ä¸ªäº†ï¼štodoå’Œcom_todoã€‚ åœ¨ç»„ä»¶çš„templateä¸­ï¼Œ å¯ä»¥è¿™æ ·å†™ï¼š\n\ntemplate: '&lt;span&gt;{{ todo }} &lt;/span&gt;'template: '&lt;span&gt;{{ this.todo }} &lt;/span&gt;',template: '&lt;span&gt;{{ com_todo }} &lt;/span&gt;',template: '&lt;span&gt;{{ this.com_todo }} &lt;/span&gt;',\n\n2ï¼‰å®šä¹‰ä¸€ä¸ªè®¡ç®—å±æ€§ï¼ˆcomputedï¼‰ï¼Œæ¥å¤„ç†propçš„å€¼å¹¶ä¸”è¿”å›ï¼š\n&lt;div id=\"box\"&gt;  &lt;child v-bind:todo=\"123\"&gt;&lt;/child&gt;&lt;/div&gt;\n\n\n\nVue.component('child', {  props: ['todo'],  template: '&lt;span&gt;{{ computed_todo }} &lt;/span&gt;',  data: function () {    return {      com_todo: this.todo + \" ok\"    }  },  computed: {    computed_todo: function () {      return this.todo + \"2\"    # æ³¨æ„è¿™é‡Œä¸èƒ½ return todo + \"2\"    }  }})\n\n\næ³¨æ„åœ¨ JavaScript ä¸­å¯¹è±¡å’Œæ•°ç»„æ˜¯å¼•ç”¨ç±»å‹ï¼ŒæŒ‡å‘åŒä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œå¦‚æœ prop æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–æ•°ç»„ï¼Œåœ¨å­ç»„ä»¶å†…éƒ¨æ”¹å˜å®ƒä¼šå½±å“çˆ¶ç»„ä»¶çš„çŠ¶æ€ã€‚\n\n\nPropéªŒè¯\n\næˆ‘ä»¬å¯ä»¥ä¸ºç»„ä»¶çš„ prop æŒ‡å®šéªŒè¯è§„åˆ™ã€‚å¦‚æœä¼ å…¥çš„æ•°æ®ä¸ç¬¦åˆè¦æ±‚ï¼ŒVue ä¼šå‘å‡ºè­¦å‘Šã€‚è¿™å¯¹äºå¼€å‘ç»™ä»–äººä½¿ç”¨çš„ç»„ä»¶éå¸¸æœ‰ç”¨ã€‚\nè¦æŒ‡å®šéªŒè¯è§„åˆ™ï¼Œéœ€è¦ç”¨å¯¹è±¡çš„å½¢å¼æ¥å®šä¹‰ propï¼Œè€Œä¸èƒ½ç”¨å­—ç¬¦ä¸²æ•°ç»„ï¼š ï¼ˆæˆ‘ä»¬ä¹‹å‰çš„å­—ç¬¦ä¸²æ•°ç»„å½¢å¼æ˜¯è¿™æ ·çš„ï¼šprops:['todo', 'doit'])\nå¯¹è±¡å½¢å¼æ˜¯ï¼š\nVue.component('example', {  props: {    // åŸºç¡€ç±»å‹æ£€æµ‹ (`null` æŒ‡å…è®¸ä»»ä½•ç±»å‹)    propA: Number,    // å¯èƒ½æ˜¯å¤šç§ç±»å‹    propB: [String, Number],    // å¿…ä¼ ä¸”æ˜¯å­—ç¬¦ä¸²    propC: {      type: String,      required: true    },    // æ•°å€¼ä¸”æœ‰é»˜è®¤å€¼    propD: {      type: Number,      default: 100    },    // æ•°ç»„/å¯¹è±¡çš„é»˜è®¤å€¼åº”å½“ç”±ä¸€ä¸ªå·¥å‚å‡½æ•°è¿”å›    propE: {      type: Object,      default: function () {        return { message: 'hello' }      }    },    // è‡ªå®šä¹‰éªŒè¯å‡½æ•°    propF: {      validator: function (value) {        return value &gt; 10      }    }  }})\n\ntype å¯ä»¥æ˜¯ä¸‹é¢åŸç”Ÿæ„é€ å™¨ï¼š\nStringNumberBooleanFunctionObjectArraySymbol\n\nå››ã€ éPropç‰¹æ€§æ‰€è°“é prop ç‰¹æ€§ï¼Œå°±æ˜¯æŒ‡å®ƒå¯ä»¥ç›´æ¥ä¼ å…¥ç»„ä»¶ï¼Œè€Œä¸éœ€è¦å®šä¹‰ç›¸åº”çš„ propã€‚\nå°½ç®¡ä¸ºç»„ä»¶å®šä¹‰æ˜ç¡®çš„ prop æ˜¯æ¨èçš„ä¼ å‚æ–¹å¼ï¼Œç»„ä»¶çš„ä½œè€…å´å¹¶ä¸æ€»èƒ½é¢„è§åˆ°ç»„ä»¶è¢«ä½¿ç”¨çš„åœºæ™¯ã€‚æ‰€ä»¥ï¼Œç»„ä»¶å¯ä»¥æ¥æ”¶ä»»æ„ä¼ å…¥çš„ç‰¹æ€§ï¼Œè¿™äº›ç‰¹æ€§éƒ½ä¼šè¢«æ·»åŠ åˆ°ç»„ä»¶çš„æ ¹å…ƒç´ ä¸Šã€‚\nä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬ä½¿ç”¨äº†ç¬¬ä¸‰æ–¹ç»„ä»¶ bs-date-inputï¼Œå®ƒåŒ…å«ä¸€ä¸ª Bootstrap æ’ä»¶ï¼Œè¯¥æ’ä»¶éœ€è¦åœ¨ input ä¸Šæ·»åŠ  data-3d-date-picker è¿™ä¸ªç‰¹æ€§ã€‚è¿™æ—¶å¯ä»¥æŠŠç‰¹æ€§ç›´æ¥æ·»åŠ åˆ°ç»„ä»¶ä¸Š (ä¸éœ€è¦äº‹å…ˆå®šä¹‰ prop)ï¼š\n&lt;bs-date-input data-3d-date-picker=\"true\"&gt;&lt;/bs-date-input&gt;\n\næ·»åŠ å±æ€§ data-3d-date-picker=â€trueâ€ ä¹‹åï¼Œå®ƒä¼šè¢«è‡ªåŠ¨æ·»åŠ åˆ° bs-date-input çš„æ ¹å…ƒç´ ä¸Šã€‚\näº”ã€è‡ªå®šä¹‰äº‹ä»¶æˆ‘ä»¬çŸ¥é“ï¼Œçˆ¶ç»„ä»¶ä½¿ç”¨ prop ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶ã€‚ä½†å­ç»„ä»¶æ€ä¹ˆè·Ÿçˆ¶ç»„ä»¶é€šä¿¡å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™ Vue çš„è‡ªå®šä¹‰äº‹ä»¶ç³»ç»Ÿå°±æ´¾å¾—ä¸Šç”¨åœºäº†ã€‚\n\nä½¿ç”¨ v-on ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ æ¯ä¸ªVueå®ä¾‹éƒ½å®ç°äº†äº‹ä»¶æ¥å£ï¼Œå³ï¼š\n\nä½¿ç”¨ $on(eventName) ç›‘å¬äº‹ä»¶  (ä¹Ÿå«ç»‘å®šäº‹ä»¶)ä½¿ç”¨ $emit(eventName) è§¦å‘äº‹ä»¶\n\n\nVue çš„äº‹ä»¶ç³»ç»Ÿä¸æµè§ˆå™¨çš„ EventTarget API æœ‰æ‰€ä¸åŒã€‚å°½ç®¡å®ƒä»¬çš„è¿è¡Œèµ·æ¥ç±»ä¼¼ï¼Œä½†æ˜¯ $on å’Œ $emit å¹¶ä¸æ˜¯addEventListener å’Œ dispatchEvent çš„åˆ«åã€‚\n\nå¦å¤–ï¼Œçˆ¶ç»„ä»¶å¯ä»¥åœ¨ä½¿ç”¨å­ç»„ä»¶çš„åœ°æ–¹ç›´æ¥ç”¨ v-on æ¥ç›‘å¬å­ç»„ä»¶è§¦å‘çš„äº‹ä»¶ã€‚\n\nä¸èƒ½ç”¨ $on ç›‘å¬å­ç»„ä»¶é‡Šæ”¾çš„äº‹ä»¶ï¼Œè€Œå¿…é¡»åœ¨æ¨¡æ¿é‡Œç›´æ¥ç”¨ v-on ç»‘å®šï¼Œå‚è§ä¸‹é¢çš„ä¾‹å­ã€‚\n\nä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š ï¼ˆçˆ¶ç»„ä»¶åœ¨ä½¿ç”¨å­ç»„ä»¶çš„åœ°æ–¹ä½¿ç”¨v-onç›‘å¬å­ç»„ä»¶è§¦å‘çš„äº‹ä»¶ï¼‰\n&lt;div id=\"counter-event-example\"&gt;  &lt;p&gt;{{ total }}&lt;/p&gt;  &lt;button-counter v-on:increment=\"incrementTotal\"&gt;&lt;/button-counter&gt;  &lt;button-counter v-on:increment=\"incrementTotal\"&gt;&lt;/button-counter&gt;&lt;/div&gt;\n\n\n\nVue.component('button-counter', {  template: '&lt;button v-on:click=\"incrementCounter\"&gt;{{ counter }}&lt;/button&gt;',  data: function () {    return {      counter: 0    }  },  methods: {    incrementCounter: function () {      this.counter += 1      this.$emit('increment')    }  },})new Vue({  el: '#counter-event-example',  data: {    total: 0  },  methods: {    incrementTotal: function () {      this.total += 1    }  }})\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªv-on:click=äº‹ä»¶ç»‘å®šï¼Œæ³¨æ„è¿™ä¸ªincrementå°±æ˜¯è‡ªå®šä¹‰äº‹ä»¶ï¼š æ˜¯ä½¿ç”¨this.$emit('increment')è§¦å‘è¿™ä¸ªäº‹ä»¶çš„ã€‚\n&lt;button v-on:click=\"incrementCounter\"&gt;{{ counter }}&lt;/button&gt;  # å­çº§ï¼ˆè‡ªå·±ï¼‰&lt;button-counter v-on:increment=\"incrementTotal\"&gt;&lt;/button-counter&gt;  # çˆ¶çº§\n\nå­ç»„ä»¶å·²ç»å’Œå®ƒå¤–éƒ¨å®Œå…¨è§£è€¦äº†ã€‚å®ƒæ‰€åšçš„åªæ˜¯æŠ¥å‘Šè‡ªå·±çš„å†…éƒ¨äº‹ä»¶ï¼Œå› ä¸ºçˆ¶ç»„ä»¶å¯èƒ½ä¼šå…³å¿ƒè¿™äº›äº‹ä»¶ã€‚è¯·æ³¨æ„è¿™ä¸€ç‚¹å¾ˆé‡è¦ã€‚\n2.ç»™ç»„ä»¶ç»‘å®šåŸç”Ÿäº‹ä»¶\næœ‰æ—¶å€™ï¼Œä½ å¯èƒ½æƒ³åœ¨æŸä¸ªç»„ä»¶çš„æ ¹å…ƒç´ ä¸Šç›‘å¬ä¸€ä¸ªåŸç”Ÿäº‹ä»¶ã€‚å¯ä»¥ä½¿ç”¨ v-on çš„ä¿®é¥°ç¬¦ .nativeã€‚ä¾‹å¦‚ï¼š\n&lt;my-component v-on:click.native=\"doTheThing\"&gt;&lt;/my-component&gt;\n\n3..syncä¿®é¥°ç¬¦\nåœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šéœ€è¦å¯¹ä¸€ä¸ª prop è¿›è¡Œâ€œåŒå‘ç»‘å®šâ€ã€‚äº‹å®ä¸Šï¼Œè¿™æ­£æ˜¯ Vue 1.x ä¸­çš„ .sync ä¿®é¥°ç¬¦æ‰€æä¾›çš„åŠŸèƒ½ã€‚å½“ä¸€ä¸ªå­ç»„ä»¶æ”¹å˜äº†ä¸€ä¸ªå¸¦ .sync çš„ prop çš„å€¼æ—¶ï¼Œè¿™ä¸ªå˜åŒ–ä¹Ÿä¼šåŒæ­¥åˆ°çˆ¶ç»„ä»¶ä¸­æ‰€ç»‘å®šçš„å€¼ã€‚è¿™å¾ˆæ–¹ä¾¿ï¼Œä½†ä¹Ÿä¼šå¯¼è‡´é—®é¢˜ï¼Œå› ä¸ºå®ƒç ´åäº†å•å‘æ•°æ®æµã€‚ç”±äºå­ç»„ä»¶æ”¹å˜ prop çš„ä»£ç å’Œæ™®é€šçš„çŠ¶æ€æ”¹åŠ¨ä»£ç æ¯«æ— åŒºåˆ«ï¼Œå½“å…‰çœ‹å­ç»„ä»¶çš„ä»£ç æ—¶ï¼Œä½ å®Œå…¨ä¸çŸ¥é“å®ƒä½•æ—¶æ‚„æ‚„åœ°æ”¹å˜äº†çˆ¶ç»„ä»¶çš„çŠ¶æ€ã€‚è¿™åœ¨ debug å¤æ‚ç»“æ„çš„åº”ç”¨æ—¶ä¼šå¸¦æ¥å¾ˆé«˜çš„ç»´æŠ¤æˆæœ¬ã€‚ ä¸Šé¢æ‰€è¯´çš„æ­£æ˜¯æˆ‘ä»¬åœ¨ 2.0 ä¸­ç§»é™¤ .sync çš„ç†ç”±ã€‚ä½†æ˜¯åœ¨ 2.0 å‘å¸ƒä¹‹åçš„å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å‘ç° .sync è¿˜æ˜¯æœ‰å…¶é€‚ç”¨ä¹‹å¤„ï¼Œæ¯”å¦‚åœ¨å¼€å‘å¯å¤ç”¨çš„ç»„ä»¶åº“æ—¶ã€‚æˆ‘ä»¬éœ€è¦åšçš„åªæ˜¯è®©å­ç»„ä»¶æ”¹å˜çˆ¶ç»„ä»¶çŠ¶æ€çš„ä»£ç æ›´å®¹æ˜“è¢«åŒºåˆ†ã€‚ ä» 2.3.0 èµ·æˆ‘ä»¬é‡æ–°å¼•å…¥äº† .sync ä¿®é¥°ç¬¦ï¼Œä½†æ˜¯è¿™æ¬¡å®ƒåªæ˜¯ä½œä¸ºä¸€ä¸ªç¼–è¯‘æ—¶çš„è¯­æ³•ç³–å­˜åœ¨ã€‚å®ƒä¼šè¢«æ‰©å±•ä¸ºä¸€ä¸ªè‡ªåŠ¨æ›´æ–°çˆ¶ç»„ä»¶å±æ€§çš„ v-on ç›‘å¬å™¨ã€‚\negï¼š\n&lt;comp :foo.sync=\"bar\"&gt;&lt;/comp&gt;\n\nä¼šè¢«æ‰©å±•ä¸ºï¼š\n&lt;comp :foo=\"bar\" @update:foo=\"val =&gt; bar = val\"&gt;&lt;/comp&gt;\n\nå½“å­ç»„ä»¶éœ€è¦æ›´æ–° foo çš„å€¼æ—¶ï¼Œå®ƒéœ€è¦æ˜¾å¼åœ°è§¦å‘ä¸€ä¸ªæ›´æ–°äº‹ä»¶ï¼š\nthis.$emit('update:foo', newValue)\n\n4.ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶çš„è¡¨å•è¾“å…¥ç»„ä»¶\nè‡ªå®šä¹‰äº‹ä»¶å¯ä»¥ç”¨æ¥åˆ›å»ºè‡ªå®šä¹‰çš„è¡¨å•è¾“å…¥ç»„ä»¶ï¼Œä½¿ç”¨ v-model æ¥è¿›è¡Œæ•°æ®åŒå‘ç»‘å®šã€‚è¦ç‰¢è®°ï¼š\n&lt;input v-model=\"something\"&gt;\n\nè¿™ä¸è¿‡æ˜¯ä»¥ä¸‹ç¤ºä¾‹çš„è¯­æ³•ç³–ï¼š\n&lt;input  v-bind:value=\"something\"  v-on:input=\"something = $event.target.value\"&gt;\n\n1. \ncomponents: {      'm-header':MHeader}\n\nä¸\ncomponents: {      MHeader}\n\næ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯çœç•¥æ‰äº†é»˜è®¤çš„é‚£ä¸ªã€‚\n6.Vueçš„çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶ä¹‹é—´çš„äº¤äº’ï¼ˆæ•°æ®å’Œäº‹ä»¶ï¼‰ï¼š https://blog.csdn.net/qq_16559905/article/details/78761956\næ³¨æ„ï¼šå­ç»„ä»¶å’Œçˆ¶ç»„ä»¶ å‡½æ•°çš„ä¼ é€’ï¼Œæ˜¯ä¸éœ€è¦å†™åœ¨propsä¸­çš„ã€‚ å­ç»„ä»¶ï¼š\nthis.$emit('function', params)\n\nçˆ¶ç»„ä»¶ï¼š\n&lt;sub-component @function=\"function_in_parent\" &gt;&lt;/sub-component&gt;\n\nè¿™é‡Œçš„function_in_parentæ˜¯åœ¨çˆ¶ç»„ä»¶ä¸­å®ç°ã€‚\nåŸºäºè„šæ‰‹æ¶å¼€å‘ï¼ˆVue-Cliï¼‰åˆ›å»ºé¡¹ç›®æŒ‡ä»¤ï¼š\nvue cteate [é¡¹ç›®åç§°]\n\nåˆ©ç”¨è„šæ‰‹æ¶æ¥è¿è¡Œé¡¹ç›®æŒ‡ä»¤ï¼š\nnpm run serve\n\næ‰“åŒ…æŒ‡ä»¤ï¼š\nnpm run build\n\nctrl+Cåœæ­¢è¿è¡Œ\nmain.js\n//å¯¼å…¥Vueimport Vue from 'vue'//å¯¼å…¥App.vueç»„ä»¶import App from './App.vue'//å…³é—­ç”Ÿäº§æç¤ºVue.config.productionTip = false//åˆ›å»ºVueå®ä¾‹new Vue({    render: h=&gt; h(App),}).$mount('#app')  //é€šè¿‡$mountæ–¹æ³•ï¼ŒæŒ‡å®šæŒ‚åœ¨çš„å®¹å™¨\n\n\n\nå¦‚æœå‡ºç°ä¸‹è½½ç¼“æ…¢é…ç½®npmæ·˜å®é•œåƒï¼šnpm config set registry\nhttps://registry.npm.taobao.org\nVueè„šæ‰‹æ¶éšè—äº†æ‰€æœ‰webpackç›¸å…³çš„é…ç½®ï¼Œè‹¥æƒ³æŸ¥çœ‹å…·ä½“çš„webpacké…ç½®ï¼Œè¯·æ‰§è¡Œï¼švue inspect &gt; output.jsè¿™é‡Œå°±å¯ä»¥æŠŠè„šæ‰‹æ¶é»˜è®¤çš„é…ç½®å…¨éƒ½æ•´ç†æˆjsæ–‡ä»¶\nå…³äºä¸åŒç‰ˆæœ¬çš„Vueï¼š1.vue.sjä¸vue.runtime.xx.jsçš„åŒºåˆ«ï¼š\n(1).vue.jsæ˜¯å®Œæ•´ç‰ˆçš„Vueï¼ŒåŒ…å«ï¼šæ ¸å¿ƒåŠŸèƒ½+æ¨¡æ¿è§£æå™¨ã€‚\n(2).vue.runtime.xxx.jsæ²¡æœ‰æ¨¡æ¿è§£æå™¨ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨templateé…ç½®é¡¹ï¼Œéœ€è¦ä½¿ç”¨renderå‡½æ•°æ¥æ”¶åˆ°çš„createElementå‡½æ•°åŒºæŒ‡å®šå…·ä½“å†…å®¹ã€‚\nVue-cliè„šæ‰‹æ¶é…ç½®è¦†å†™ç›´æ¥åœ¨ä¸package.jsonåŒçº§çš„ç›®å½•ä¸‹è¦†å†™vue.config.jsæ–‡ä»¶å³å¯\n\nè„šæ‰‹æ¶æ–‡ä»¶ç»“æ„\nå…³äºä¸åŒç‰ˆæœ¬çš„vueï¼š\nvue.config.jsé…ç½®æ–‡ä»¶\nç»„ä»¶è‡ªå®šä¹‰äº‹ä»¶äº‹ä»¶è§£ç»‘ï¼š//è§£ç»‘ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶this.$off('è¿™é‡Œå°±æ˜¯è‡ªå®šä¹‰ç»‘å®šäº‹ä»¶çš„æ ‡ç­¾åç§°');//æ‰€æœ‰çš„è‡ªå®šä¹‰äº‹ä»¶å…¨éƒ½è§£ç»‘this.$off();\n\né”€æ¯å½“å‰ç»„ä»¶å®ä¾‹this.$destroy(); //é”€æ¯å½“å‰ç»„ä»¶çš„å®ä¾‹ï¼ˆæ³¨æ„ï¼Œåªæ˜¯é”€æ¯ç»„ä»¶å®ä¾‹ï¼Œä½†æ˜¯çœŸå®æ¸²æŸ“çš„domè¿˜åœ¨çš„ï¼Œä½†æ˜¯é‡Œé¢æ‰€ç»‘å®šçš„ä¸€äº›vueçš„ä¸€äº›å±æ€§å’Œäº‹ä»¶å…¨éƒ½ä¸ç”Ÿæ•ˆäº†ï¼‰\n\n&lt;School @è‡ªå®šä¹‰äº‹ä»¶çš„æ ‡ç­¾åç§°=\"è§¦å‘è¿™ä¸ªäº‹ä»¶åæ‰€è°ƒç”¨çš„å‡½æ•°\"\n\nä½¿ç”¨refçš„æ–¹å¼å†™è‡ªå®šä¹‰äº‹ä»¶ï¼š&lt;template&gt;&lt;Student ref=\"student\"&gt;&lt;/Student&gt;&lt;/template&gt;&lt;script&gt;    export default{        ...,        mounted(){            //this.$refs.student.$on('è‡ªå®šä¹‰äº‹ä»¶çš„æ ‡ç­¾åç§°',è¿™é‡Œå¡«å†™è§¦å‘æ—¶è°ƒç”¨çš„è‡ªå®šä¹‰å‡½æ•°) //ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶            this.$refs.student.$on('è‡ªå®šä¹‰äº‹ä»¶çš„æ ‡ç­¾åç§°',(name,...params)=&gt;{                console.log('Appæ”¶åˆ°äº†å­¦ç”Ÿåï¼š'name,params)                console.log(this)            }) //ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶        }    }&lt;/script&gt;\n\n\n\n\n\nVueç”Ÿå‘½å‘¨æœŸå›¾\n\nå…¨å±€äº‹ä»¶æ€»çº¿\n1.ä¸€ç§ç»„ä»¶é—´é€šè®¯çš„æ–¹å¼ï¼Œé€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šè®¯ã€‚\nå…¨å±€äº‹ä»¶æ€»çº¿å¯ä»¥å¿½ç•¥å…¶å­çˆ¶çº§ç»„ä»¶å…³ç³»æ‰€æœ‰äº‹ä»¶çš„è§¦å‘å…¨ç”±ä¸€ä¸ªä»£ç†æ¥é€šçŸ¥ï¼š\nä»¥ä¸‹ä¸ºæœªç®€åŒ–ç‰ˆæœ¬çš„å†™æ³•ï¼š\nimport Vue from 'vue'import App from './App.vue'Vue.config.productionTip = falseconst Demo = Vue.extend({})const d = new Demo()Vue.prototype.$bus = dnew Vue({  render: h =&gt; h(App)}).$mount('#app')\n\nä»¥ä¸‹ä¸ºç®€åŒ–ç‰ˆæœ¬ï¼š\nimport Vue from 'vue'import App from './App.vue'Vue.config.productionTip = falsenew Vue({  render: h =&gt; h(App),  beforeCreate(){    Vue.prototype.$bus = this  //å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿ï¼Œ$buså°±æ˜¯å½“å‰åº”ç”¨çš„vm  }}).$mount('#app')\n\nè¿™é‡Œçš„$busæ˜¯éšä¾¿çš„ ä¸€ä¸ªå˜é‡åï¼Œä½†æ˜¯ä¸ºäº†æ ‡å‡†å†™$busæœ€å¥½\nä½¿ç”¨äº‹ä»¶æ€»çº¿ï¼š\n1.æ¥æ”¶æ•°æ®ï¼šAç»„ä»¶æƒ³æ¥æ”¶æ•°æ®ï¼Œåˆ™åœ¨Aç»„ä»¶ä¸­ç»™$busç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼Œäº‹ä»¶çš„å›è°ƒç•™åœ¨Aç»„ä»¶è‡ªèº«ã€‚\nmethods(){\tdemo(data){\t\t...\t}......mounted(){\tthis.$bus.$on('xxxx',this.demo)}}\n\næä¾›æ•°æ®ï¼šthis.$bus.$emit(â€˜xxxxâ€™,æ•°æ®)\næœ€å¥½åœ¨beforeDestroyé’©å­ä¸­ï¼Œç”¨$offå»ç»‘å®š å½“å‰ç»„ä»¶æ‰€ç”¨åˆ°çš„äº‹ä»¶ã€‚\næ³¨æ„ï¼šè¦æ ¹æ®å®é™…æƒ…å†µæ¥ç”¨å…¨å±€äº‹ä»¶æ€»çº¿ï¼Œæœ‰äº›æ¯”å¦‚çˆ¶ä¼ å­é‚£ä¹ˆç”¨propså°±è¡Œäº†ï¼Œæ²¡å¿…è¦ç”¨äº‹ä»¶æ€»çº¿ã€‚\næ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ\næŠ¥çº¸è®¢é˜…ä¸å‘å¸ƒï¼š\nâ€‹\t1.è®¢é˜…æŠ¥çº¸ï¼šä½å€\nâ€‹\t2.é‚®é€’å‘˜é€æŠ¥çº¸ï¼šæŠ¥çº¸\næ³¨æ„ï¼šæ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒåªæ˜¯ä¸€ç§ç†å¿µï¼Œæƒ³è¦è½åˆ°å®å¤„è¦é€šè¿‡å®é™…çš„ä»£ç æ¥ä½“ç°ï¼Œè¿™é‡Œæ¨èä½¿ç”¨pubsub-jsåº“\nåœ¨Vueä¸­ï¼š\nâ€‹\t1.è®¢é˜…ä¿¡æ¯ï¼šæ¶ˆæ¯åï¼ˆæ‰‹æœºå·ï¼‰\nâ€‹\t2.å‘å¸ƒæ¶ˆæ¯ï¼šæ¶ˆæ¯å†…å®¹\nå¼•å…¥pubsub-jsåº“\nnpm i pubsub-js\n\nä½¿ç”¨ï¼š\né¦–å…ˆè¦åœ¨éœ€è¦ä½¿ç”¨çš„vueç»„ä»¶å…ˆå¼•å…¥æ‰è¡Œ\nimport pubsub from 'pubsub-js'export default{\tmounted(){\t\tpubsub.subscribe('è®¢é˜…ä¿¡æ¯åç§°',/*å›è°ƒå‡½æ•°*/function(){ //è®¢é˜…ä¿¡æ¯\t\t\tconsole.log('æœ‰äººå‘å¸ƒäº†helloæ¶ˆæ¯ï¼Œhelloæ¶ˆæ¯çš„å›è°ƒæ‰§è¡Œäº†')\t\t})\t},\tmethods:{\t\tsendStudentName(){\t\t\tpubsub.publish('å‘å¸ƒæ¶ˆæ¯åç§°(å¯¹åº”è®¢é˜…æ¶ˆæ¯åç§°)',/*å‘å¸ƒçš„æ¶ˆæ¯*/666)\t}},}\n\nè¿™ä¸ªåº“çš„è®¾è®¡æœ‰ç‚¹åƒå®šæ—¶å™¨ï¼Œå¦‚æœè¦å–æ¶ˆè®¢é˜…ä¸èƒ½é€šè¿‡pubsub.unsubscribe(â€˜è®¢é˜…ä¿¡æ¯åç§°â€™)çš„æ–¹å¼å»å–æ¶ˆè®¢é˜…ï¼Œè€Œpubsub.subscribeè®¢é˜…å‡½æ•°æ¯æ¬¡ç”Ÿæˆéƒ½ä¼šæœ‰å”¯ä¸€çš„idï¼Œæ‰€ä»¥è¦è¿™æ ·è¿›è¡Œé”€æ¯ï¼š\nmounted(){\tthis.pubId = pubsub.subscribe('hello',function(msgName,data){ console.log('æœ‰äººå‘å¸ƒäº†helloæ¶ˆæ¯')})},beforeDestroy(){\tpubsub.unsubscribe(this.pubId)}\n\n\n\n$nextTick\nè¯­æ³•ï¼šthis.$nextTick(å›è°ƒå‡½æ•°)\nä½œç”¨ï¼šåœ¨ä¸‹ä¸€æ¬¡DOMæ›´æ–°ç»“æŸåæ‰§è¡Œå…¶æŒ‡å®šçš„å›è°ƒã€‚\nä»€ä¹ˆæ—¶å€™ç”¨ï¼šå½“æ”¹å˜æ•°æ®åï¼Œè¦åŸºäºæ›´æ–°åçš„æ–°DOMè¿›è¡ŒæŸäº›æ“ä½œæ—¶ï¼Œè¦åœ¨nextTickæ‰€æŒ‡å®šçš„å›è°ƒå‡½æ•°ä¸­æ‰§è¡Œã€‚\nä»–çš„æ„æ€æ˜¯æŒ‡ä¸‹ä¸€è½®ï¼Œä»–å¯ä»¥å»æŒ‡å®šä¸€ä¸ªå›è°ƒï¼Œä»–æ‰€æŒ‡å®šçš„å›è°ƒå‡½æ•°ä¼šåœ¨domèŠ‚ç‚¹æ›´æ–°å®Œæ¯•ä¹‹åæ‰§è¡Œã€‚\n\nVueå°è£…çš„è¿‡åº¦ä¸åŠ¨ç”»\nä½œç”¨ï¼šåœ¨æ’å…¥ã€æ›´æ–°æˆ–ç§»é™¤DOMå…ƒç´ æ—¶ï¼Œåœ¨åˆé€‚çš„æ—¶å€™ç»™å…ƒç´ æ·»åŠ æ ·å¼ç±»åã€‚\nå›¾ç¤ºï¼š\n\nVueè¿˜å¯ä»¥å®šä¹‰ç»„ä»¶åˆå§‹åŒ–æ˜¾ç¤ºå…¥åœºå’Œå‡ºåœºçš„åŠ¨ç”»ã€‚\n&lt;template&gt;\t&lt;div&gt;   \t\t&lt;transition name=\"hello\"&gt;            &lt;h1 v-show&gt;&lt;/h1&gt;    \t&lt;/transition&gt;    &lt;/div&gt;&lt;/template&gt;&lt;script&gt;&lt;/script&gt;&lt;style scoped&gt;    .hello-enter-active{        animation: atguigu 0.5s linear;    }    .hello-leave-active{        animation: atguigu 0.5s reverse;    }    @keyframes atguigu{        from{                    }        to{                    }    }&lt;/style&gt;\n\nåœ¨è¿™é‡Œï¼Œhelloå¯¹åº”åŠ¨ç”»çš„.xxxx-enter-activeåŠ.xxxx-leave-activeè¿™äº›ï¼ŒåŠ¨ç”»å¯ä»¥è‡ªå·±å®šä¹‰ã€‚\nå¦‚æœæ²¡æœ‰å®šä¹‰åŠ¨ç”»çš„nameå±æ€§é‚£ä¹ˆé»˜è®¤å°±æ˜¯.v-enter-activeåŠ.v-leave-active\nè®¾ç½®é»˜è®¤æ˜¾ç¤ºï¼š\n&lt;template&gt;\t&lt;div&gt;   \t\t&lt;transition name=\"hello\" appear&gt;            &lt;h1 v-show&gt;&lt;/h1&gt;    \t&lt;/transition&gt;    &lt;/div&gt;&lt;/template&gt;&lt;script&gt;&lt;/script&gt;&lt;style scoped&gt;    .hello-enter-active{        animation: atguigu 0.5s linear;    }    .hello-leave-active{        animation: atguigu 0.5s reverse;    }    @keyframes atguigu{        from{                    }        to{                    }    }&lt;/style&gt;\n\nè¿™é‡Œçš„transitioné‡Œé¢å¤šäº†ä¸ªappearå±æ€§ï¼ŒåŠ äº†è¿™ä¸ªå°±è¡¨ç¤ºé»˜è®¤æ˜¯æ˜¾ç¤ºçŠ¶æ€ï¼Œç›¸å½“äºåˆå§‹åŒ–å°±æ˜¯åŠ è½½æ˜¾ç¤ºçš„åŠ¨ç”»ã€‚è¿™ç§å†™æ³•æ˜¯:appear=â€trueâ€çš„ç®€å†™æ–¹å¼\nå¦ä¸€ç§å†™æ³•ï¼š\n\nå¦å¤–ä¸€ç§åŠ¨ç”»æ‰§è¡Œæ—¶é—´çš„å†™æ³•\n\ntransitionåªèƒ½åŒ…è£¹ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœè¦åŒ…è£¹å¤šä¸ªå…ƒç´ è¦ä½¿ç”¨transition-groupï¼š\n\nå¯ä»¥é›†æˆä½¿ç”¨ç¬¬ä¸‰æ–¹çš„åŠ¨ç”»åº“\næ¯”å¦‚animate.css\nä½¿ç”¨npmå®‰è£…ï¼š\nnpm install animate.css\n\n\n\né…ç½®ä»£ç†\naxiosä¸‹è½½ï¼š\nnpm i axios\n\nè§£å†³è·¨åŸŸé—®é¢˜ï¼š\n1.é…ç½®cors\n2.jsonp ï¼Œä½†æ˜¯åªèƒ½è§£å†³getè¯·æ±‚\n3.ä»£ç†æœåŠ¡å™¨\nåˆ©ç”¨Vue-cliå¼€å¯ä»£ç†æœåŠ¡å™¨ï¼š\nå¼€å¯æ–¹å¼ä¸€ï¼šconst { defineConfig } = require('@vue/cli-service')module.exports = defineConfig({  transpileDependencies: true,    lintOnSave: false,//å…³é—­è¯­æ³•æ£€æµ‹  publicPath: process.env.NODE_ENV === 'production'? '././':'/',    //å¼€å¯ä»£ç†æœåŠ¡å™¨ï¼Œè¿™é‡Œçš„ä»£ç†è¿æ¥æ˜¯ç›®æ ‡APIæœåŠ¡å™¨    devServer:{    proxy: 'http://localhost:4000'  }})\n\nè¿™é‡Œçš„ä»£ç†ä¼šç°åœ¨æœ¬åœ°æŸ¥è¯¢æ˜¯å¦æœ‰è‡ªå·±æƒ³è¦è®¿é—®çš„ç½‘å€èµ„æºï¼Œå¦‚æœæ²¡æœ‰æ‰ä¼šèµ°ä»£ç†ï¼Œå¦åˆ™ä¼šç›´æ¥è¿”å›æœ¬åœ°çš„èµ„æºã€‚\nå¼€å¯æ–¹å¼äºŒï¼šè¿™ç§æ–¹å¼å¯ä»¥é…ç½®å¤šä¸ªä»£ç†æœåŠ¡å™¨\nconst { defineConfig } = require('@vue/cli-service')module.exports = defineConfig({  transpileDependencies: true,    lintOnSave: false,  publicPath: process.env.NODE_ENV === 'production'? '././':'/',  devServer:{    proxy:{      '/api':{        target: '&lt;url&gt;'/*å¡«å†™ä»£ç†è®¿é—®çš„apiæœåŠ¡å™¨ï¼Œæ¯”å¦‚http:22.213.53.11:8089*/,        ws: true, //ç”¨äºæ”¯æŒWebSocketï¼Œé»˜è®¤ä¸ºtrue        changeOrigin: true //ç”¨äºæ˜¯å¦è®©ä»£ç†æœåŠ¡å™¨å‘Šè¯‰ç›®æ ‡apiæœåŠ¡å™¨çœŸç›¸åœ°å€å’Œç«¯å£ï¼Œå¦‚æœfalseï¼Œåˆ™è¡¨ç¤ºå‘Šè¯‰ã€‚trueåˆ™è¡¨ç¤ºä¸å‘Šè¯‰ï¼ˆè°ç§°è‡ªå·±å’ŒapiæœåŠ¡å™¨æ˜¯åŒæºè¯·æ±‚ï¼‰ï¼Œé»˜è®¤ä¸ºtrueã€‚      },      '/foo':{        target: '&lt;other_url&gt;'      }    }  }})\n\næ³¨æ„ï¼šè¿™é‡Œå¦‚æœå•çº¯è¿™ä¹ˆé…ç½®ä¹¦å†™ï¼Œå¦‚æœç›´æ¥è¯·æ±‚çš„è¯ä¼šæºå¸¦å¯¹åº”é¦–ä¸ªè¯·æ±‚è·¯å¾„å­—æ®µï¼š\n\næ¯”å¦‚è¯·æ±‚ï¼šhttp:localhost:8080/api/testï¼Œé‚£ä¹ˆä»–æœ€åä»£ç†æœåŠ¡å™¨è½¬å‘åä¹Ÿæ˜¯http:22.213.53.11:8089/api/test\n\nå¦‚æœè¦å‰”é™¤æ‰å¯¹åº”ä»£ç†å­—æ®µç„¶åè½¬å‘è¯·æ±‚çš„è¯ï¼Œéœ€è¦é…ç½®pathRewriteé…ç½®ï¼šconst { defineConfig } = require('@vue/cli-service')module.exports = defineConfig({  transpileDependencies: true,    lintOnSave: false,  publicPath: process.env.NODE_ENV === 'production'? '././':'/',  devServer:{    proxy:{      '/api':{        target: '&lt;url&gt;',        pathRewrite:{'^/api': ''}        // ws: true,        // changeOrigin: true      },      '/foo':{        target: '&lt;other_url&gt;'      }    }  }})\n\nè¿™é‡Œ^/apiä½¿ç”¨çš„æ­£åˆ™åŒ¹é…/apiï¼Œç„¶åå°†å…¶æ›¿æ¢æˆç©ºå­—ç¬¦ä¸²ã€‚\n1.xhr\n2.jquery\n3.axios\n4.vue-resource\nå®˜æ–¹æ›´æ¨èaxiosæ¥ä½œä¸ºè¯·æ±‚æ¡†æ¶ã€‚\næ’æ§½\nVueXæ˜¯ä»€ä¹ˆï¼Ÿæ¦‚å¿µï¼šä¸“é—¨åœ¨Vueä¸­å®ç°å‡ ç§å¼çŠ¶æ€ç®¡ç†ï¼ˆæ•°æ®ï¼‰ç®¡ç†çš„ä¸€ä¸ªVueæ’ä»¶ï¼Œå¯¹Vueåº”ç”¨ä¸­å¤šä¸ªç»„ä»¶çš„å…±äº«çŠ¶æ€è¿›è¡Œé›†ä¸­å¼çš„ç®¡ç†ï¼ˆè¯»/å†™ï¼‰ï¼Œä¹Ÿæ˜¯ä¸€ç§ç»„ä»¶é—´é€šè®¯çš„æ–¹å¼ï¼Œä¸”é€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡ã€‚\nä»€ä¹ˆæ—¶å€™ä½¿ç”¨VueX1.å¤šä¸ªç»„ä»¶ä¾èµ–äºåŒä¸€çŠ¶æ€\n2.æ¥è‡ªä¸åŒç»„ä»¶çš„è¡Œä¸ºéœ€è¦å˜æ›´åŒä¸€çŠ¶æ€\n\nVueXåŸç†å›¾ï¼š\n\nVueXçš„å®‰è£…\nå¦‚æœç›´æ¥ä½¿ç”¨æŒ‡ä»¤ï¼š\nnpm i vuex\n\nè¿™æ ·ä½¿ç”¨å°±ä¼šæœ‰é—®é¢˜ï¼Œå› ä¸ºç°åœ¨Vueé»˜è®¤ä¼šä½¿ç”¨Vue3ç‰ˆæœ¬çš„VueXï¼Œæ‰€ä»¥ç›´æ¥ä¸‹è½½çš„è¯ä¼šä¸‹è½½vueXçš„æœ€æ–°ç‰ˆæœ¬VueX4ç‰ˆæœ¬ã€‚å› ä¸ºæˆ‘ä»¬ç°åœ¨æ˜¯Vue2æ‰€ä»¥è¦ä¸‹è½½VueX3ç‰ˆæœ¬ã€‚\næ‰€ä»¥è¦ç”¨æŒ‡ä»¤æŒ‡å®šç‰ˆæœ¬ï¼š\nnpm i vuex@3\n\nç„¶åå†main.jså¼•å…¥vuexï¼š\nmport Vue from 'vue';import App from './App.vue';import Vuex from 'vuex';//ä½¿ç”¨æ’ä»¶Vue.use(Vuex)new Vue({  render: h =&gt; h(App),}).$mount('#app')\n\n\n\næ­å»ºVueXç¯å¢ƒ\n1.åˆ›å»ºæ–‡ä»¶ï¼šsrc/store/index.js\n//å¼•å…¥Vueæ ¸å¿ƒåº“import Vue from 'vue'//å¼•å…¥VueXimport Vuex fom 'vuex'//åº”ç”¨Vuexæ’ä»¶Vue.use(Vuex)//å‡†å¤‡actionså¯¹è±¡â€”â€”å“åº”ç»„ä»¶ä¸­ç”¨æˆ·çš„åŠ¨ä½œconst actions={}//å‡†å¤‡mutationså¯¹è±¡â€”â€”ä¿®æ”¹stateä¸­çš„æ•°æ®const mutations={}//å‡†å¤‡stateå¯¹è±¡â€”â€”ä¿å­˜å…·ä½“çš„æ•°æ®const state={}//åˆ›å»ºå¹¶æš´éœ²storeexport default new Vuex.Store({    actions,    mutations,    state})\n\nmain.jså¼•å…¥ï¼š\nimport store from './store'new Vue({    el:'#app',    render: h=&gt;(App),    store})\n\n\n\nåŸºæœ¬ä½¿ç”¨åˆå§‹åŒ–æ•°æ®ã€é…ç½®actionsã€é…ç½®mutationsã€æ“ä½œæ–‡ä»¶store.js\nimport Vue from 'vue'import Vuex from 'vuex'Vue.use(Vuex)const actions = {        //å“åº”ç»„ä»¶ä¸­åŠ çš„åŠ¨ä½œ        jia(context,value){            //console.log('actionsä¸­çš„jiaè¢«è°ƒç”¨äº†',miniStore,value)            context,commit(\"JIA\",value)        },    } const mutations = {    //æ‰§è¡ŒåŠ     JIA(state,value){        //console.log('mutationsä¸­çš„JIAè¢«è°ƒç”¨äº†',miniStore,value)        state.sum += value    }}//åˆå§‹åŒ–æ•°æ®const state = {    sum: 0}//åˆ›å»ºå¹¶æš´éœ²storeexport default new Vuex.Store(    actions,    mutations,    state,)\n\nç»„ä»¶ä¸­è¯»å–vuexä¸­çš„æ•°æ®ï¼š$store.state.sum\nç»„ä»¶ä¸­ä¿®æ”¹vuexä¸­çš„æ•°æ®ï¼š$store.dispatch(â€˜actionä¸­çš„æ–¹æ³•åâ€™,æ•°æ®)æˆ–$srore.commit(â€˜mutationsä¸­çš„æ–¹æ³•åâ€™,æ•°æ®)\nå¤‡æ³¨ï¼šè‹¥æ²¡æœ‰ç½‘ç»œè¯·æ±‚æˆ–å…¶ä»–ä¸šåŠ¡é€»è¾‘ï¼Œç»„ä»¶ä¸­ä¹Ÿå¯ä»¥è¶Šè¿‡actionsï¼Œå³ä¸å†™dispatchï¼Œç›´æ¥ç¼–å†™commit\nè·¯ç”±ï¼ˆvue-routerï¼‰\nvue-routerçš„ç†è§£\nvueçš„ä¸€ä¸ªæ’ä»¶åº“ï¼Œä¸“é—¨ç”¨æ¥å®ç°SPAåº”ç”¨\n\nå¯¹SPAåº”ç”¨çš„ç†è§£\n1.å•é¡µWebåº”ç”¨(single page web application, SPA)ã€‚\n2.æ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªå®Œæ•´çš„é¡µé¢ã€‚\n3.ç‚¹å‡»é¡µé¢ä¸­çš„å¯¼èˆªé“¾æ¥ä¸ä¼šåˆ·æ–°é¡µé¢ï¼Œåªä¼šåšé¡µé¢çš„å±€éƒ¨æ›´æ–°ã€‚\n4.æ•°æ®éœ€è¦é€šè¿‡ajaxè¯·æ±‚è·å–ã€‚\n\nç†è§£ï¼šä¸€ä¸ªè·¯ç”±(route)å°±æ˜¯ä¸€ç»„æ˜ å°„å…³ç³»ï¼ˆkey-valueï¼‰ï¼Œå¤šä¸ªè·¯ç”±éœ€è¦è·¯ç”±å™¨ï¼ˆrouterï¼‰è¿›è¡Œç®¡ç†ã€‚\nå‰ç«¯è·¯ç”±ï¼škeyæ˜¯è·¯å¾„ï¼Œvalueæ˜¯ç»„ä»¶ã€‚\nåŸºæœ¬ä½¿ç”¨åªæœ‰vue-router3æ‰èƒ½ä½¿ç”¨ åœ¨vue2ç‰ˆæœ¬ï¼Œæ‰€ä»¥ä½¿ç”¨å®‰è£…ï¼š\nnpm i vue-router@3\n\n\n\nåº”ç”¨æ’ä»¶ï¼šVue.use(VueRouter)\nç¼–å†™routeré…ç½®é¡¹ï¼š\nå¼•å…¥VueRouterimport VueRouter from 'vue-router'//å¼•å…¥Luyou ç»„ä»¶import About from '../components/About.vue'import Home from '../components/Home.vue'//åˆ›å»ºrouterå®ä¾‹å¯¹è±¡ï¼Œå»ç®¡ç†ä¸€ç»„ä¸€ç»„çš„è·¯ç”±è§„åˆ™export default new VueRouter({    routes:[        {            path:'/about',            component:About        },        {            path: '/home',            component:Home        }    ]})\n\nå®ç°åˆ‡æ¢ï¼ˆactive-classå¯é…ç½®é«˜äº®æ ·å¼ï¼‰\n&lt;routeer-link active-class=\"active\" to=\"/about\"&gt;About&lt;/routeer-link&gt;\n\næŒ‡å®šå±•ç¤ºä½ç½®\n&lt;router-view&gt;&lt;/router-view&gt;\n\nå¤šçº§è·¯ç”±ï¼ˆå¤šçº§è·¯ç”±ï¼‰1.é…ç½®è·¯ç”±è§„åˆ™ï¼Œä½¿ç”¨childrené…ç½®é¡¹ï¼š\nroutes:[    {        path:'/about',        component: About,    },    {        path: '/home',        component: Home,        children:[//é€šè¿‡childrené…ç½®å­çº§è·¯ç”±            {                path: 'news', //æ­¤å¤„ä¸€å®šä¸è¦å†™ï¼š/news            \tcomponent:News            },            {                path: 'message',//æ­¤å¤„ä¸€å®šä¸è¦å†™ï¼Œ/message                component: Message            }        ]    }]\n\n2.è·³è½¬ï¼ˆè¦å†™å®Œæ•´è·¯å¾„ï¼‰ï¼š\n&lt;router-link to=\"/home/news\"&gt;News&lt;/router-link&gt;\n\n\n\nè·³è½¬å¹¶é€šè¿‡queryå‚æ•°è¿›è¡Œä¼ å‚&lt;router-link :to=\"`/home/message/detail?id=${m.id}&amp;title=${m.title}`\"&gt;{{m.title}}&lt;/router-link&gt;\n\nå¦ä¸€ç§å†™æ³•ï¼ˆæ¨èï¼‰ï¼š\n&lt;router-link :to=\"{                  \tpath: '/home/message/detail',                  \tquery:{                  \t\tid: m.id,                  \t\ttitle: m.title                  \t}                  }\"&gt;{{m.title}}&lt;/router-link&gt;\n\næ¥æ”¶å‚æ•°ï¼š$route.query.id$route.query.title\n\n\n\nå‘½åè·¯ç”±ä½œç”¨ï¼šå¯ä»¥ç®€åŒ–è·¯ç”±çš„è·³è½¬\nåœ¨è·¯ç”±ä¸­åŠ ä¸Šnameå±æ€§å°±è¡Œï¼š\nå¼•å…¥VueRouterimport VueRouter from 'vue-router'//å¼•å…¥Luyou ç»„ä»¶import About from '../components/About.vue'import Home from '../components/Home.vue'//åˆ›å»ºrouterå®ä¾‹å¯¹è±¡ï¼Œå»ç®¡ç†ä¸€ç»„ä¸€ç»„çš„è·¯ç”±è§„åˆ™export default new VueRouter({    routes:[        {            name: 'guanyu'\t//ç»™è·¯ç”±èµ·å            path:'/about',            component:About        },        {            name: 'jia'            path: '/home',            component:Home        }    ]})\n\nä½¿ç”¨ï¼š\n&lt;router-link :to=\"{                  \tname: 'guanyu',                  \tquery:{                  \t\tid: m.id,                  \t\ttitle: m.title                  \t}                  }\"&gt;{{m.title}}&lt;/router-link&gt;\n\n\n\nä½¿ç”¨å ä½ç¬¦ç”³æ˜æ¥æ”¶paramså‚æ•°routes:[    {        path:'/about',        component: About,    },    {        path: '/home',        component: Home,        children:[//é€šè¿‡childrené…ç½®å­çº§è·¯ç”±            {                path: 'news', //æ­¤å¤„ä¸€å®šä¸è¦å†™ï¼š/news            \tcomponent:News            },            {                path: 'message',//æ­¤å¤„ä¸€å®šä¸è¦å†™ï¼Œ/message                component: Message                children:[                \t{                \t\tname: 'xiangqing',                \t\tpath: 'detail/:id/:title',\t//ä½¿ç”¨å ä½ç¬¦ç”³æ˜æ¥æ”¶paramså‚æ•°            \t\t}                ]            }        ]    }]\n\nä¼ é€’å‚æ•°ï¼š\n&lt;!-- è·³è½¬æºå¸¦paramså‚æ•°ï¼Œtoçš„å­—ç¬¦ä¸²å†™æ³•--&gt;&lt;router-link :to=\"/home/message/detail/666/ä½ å¥½\"&gt;è·³è½¬&lt;/router-link&gt;&lt;router-link :to=\"{                  \tname: 'xiangqing',                  \tparams:{                  \t\tid: 666,                  \t\ttitle: 'ä½ å¥½'                  \t}                  }\"&gt;{{m.title}}&lt;/router-link&gt;\n\n**ç‰¹åˆ«æ³¨æ„ï¼š**è·¯ç”±æºå¸¦paramså‚æ•°æ—¶ï¼Œè‹¥ä½¿ç”¨toçš„å¯¹è±¡å†™æ³•ï¼Œåˆ™ä¸èƒ½ä½¿ç”¨pathé…ç½®é¡¹ï¼Œå¿…é¡»ä½¿ç”¨nameé…ç½®ï¼\næ¥æ”¶å‚æ•°ï¼š\n$route.params.id$route.params.title\n\n\n\nè·¯ç”±ç»„ä»¶propsé…ç½®routes:[    {        path:'/about',        component: About,    },    {        path: '/home',        component: Home,        children:[//é€šè¿‡childrené…ç½®å­çº§è·¯ç”±            {                path: 'news', //æ­¤å¤„ä¸€å®šä¸è¦å†™ï¼š/news            \tcomponent:News            },            {                path: 'message',//æ­¤å¤„ä¸€å®šä¸è¦å†™ï¼Œ/message                component: Message                children:[                \t{                \t\tname: 'xiangqing',                \t\tpath: 'detail/:id/:title',\t//ä½¿ç”¨å ä½ç¬¦ç”³æ˜æ¥æ”¶paramså‚æ•°                \t\tcomponent: Detail,                \t\t//ç¬¬ä¸€ç§å†™æ³•ï¼špropså€¼ä¸ºå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­æ‰€æœ‰çš„key-valueçš„ç»„åˆæœ€ç»ˆéƒ½ä¼šé€šè¿‡propsä¼ ç»™Detailç»„ä»¶                \t\t// props:{a:900}                \t\t//ç¬¬äºŒç§å†™æ³•ï¼špropså€¼ä¸ºå¸ƒå°”å€¼ï¼Œå¸ƒå°”å€¼ä¸ºtrueï¼Œåˆ™æŠŠè·¯ç”±æ”¶åˆ°çš„æ‰€æœ‰paramså‚æ•°é€šè¿‡propsä¼ ç»™Detailç»„ä»¶                \t\t// props:true                                \t\t//ç¬¬ä¸‰ç§å†™æ³•ï¼špropså€¼ä¸ºå‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸­æ¯ä¸€ç»„key-valueéƒ½ä¼šé€šè¿‡propsä¼ ç»™Detailç»„ä»¶ï¼Œè¿™ç§å†™æ³•æ˜¯æœ€å¼ºå¤§çš„                \t\tprops(route){            \t\t\t\treturn{            \t\t\t\t\tid:route.query.id,            \t\t\t\t\ttitle:route.query.title            \t\t\t\t}            \t\t\t}            \t\t}                ]            }        ]    }]\n\n\n\n&lt;reuter-link&gt;çš„replaceå±æ€§1.ä½œç”¨ï¼šæ§åˆ¶è·¯ç”±è·³è½¬æ—¶æ“ä½œæµè§ˆå™¨å†å²è®°å½•çš„æ¨¡å¼\n2.æµè§ˆå™¨çš„å†å²è®°å½•æœ‰ä¸¤ç§å†™å…¥æ–¹å¼ï¼šåˆ†åˆ«ä¸ºpushå’Œreplaceï¼Œpushæ˜¯è¿½åŠ å†å²è®°å½•ï¼Œreplaceæ˜¯æ›¿æ¢å½“å‰è®°å½•ã€‚è·¯ç”±è·³è½¬æ—¶å€™é»˜è®¤ä¸ºpushã€‚\n3.å¦‚ä½•å¼€å¯replaceæ¨¡å¼ï¼š\n&lt;router-link replace .......&gt;News&lt;router-link&gt;\n\n\n\n\n\nç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª//$routerçš„ä¸¤ä¸ªAPIthis.$router.push({    name: 'xiangqing',    params:{        id:xxx,        title:xxx    }})this.$router.replace({    name: 'xiangqing',    params:{        id:xxx,        title:xxx    }})this.$router.forward() //å‰è¿›this.$routeer.back() //åé€€this.$router.go(3)\t//å¯å‰è¿›å¯åé€€ï¼Œä¸”å¯ä»¥æŒ‡å®šå‰è¿›åé€€çš„æ¬¡æ•°ï¼Œè´Ÿæ•°ä¸ºåé€€ï¼Œæ­£æ•°ä¸ºå‰è¿›\n\n\n\nç¼“å­˜è·¯ç”±ç»„ä»¶&lt;keep-alive include=\"è¿™é‡Œå†™ç»„ä»¶åç§°\"&gt;    &lt;router-view&gt;&lt;/router-view&gt;&lt;/keep-alive&gt;\n\nå¦‚æœä¸å†™includeé‚£ä¹ˆåªè¦æ˜¯è¢«keep-aliveåŒ…è£¹çš„ç»„ä»¶éƒ½ä¼šè¢«ç¼“å­˜ä¸‹æ¥ã€‚\nç¼“å­˜å¤šä¸ªç»„ä»¶ï¼š\n&lt;keep-alive :include=\"['News','Mesa']\"&gt;    &lt;router-view&gt;&lt;/router-view&gt;&lt;/keep-alive&gt;\n\n\n\næ¿€æ´»å’Œä¸æ¿€æ´»çŠ¶æ€ï¼ˆå¯ä»¥ç†è§£æˆç»„ä»¶åˆ‡æ¢çŠ¶æ€ä½¿ç”¨å§ï¼‰:\nactivated(){//è·¯ç”±ç»„ä»¶è¢«æ¿€æ´»æ—¶è§¦å‘    ......},deactivated(){//è·¯ç”±ç»„ä»¶å¤±æ´»æ—¶è§¦å‘ã€‚    ......}\n\n\n\nè·¯ç”±å®ˆå«å…¨å±€å‰ç½®è·¯ç”±å®ˆå«//å…¨å±€å‰ç½®è·¯ç”±å®ˆå«â€”â€”åˆå§‹åŒ–çš„æ—¶å€™è¢«è°ƒç”¨ã€æ¯æ¬¡è·¯ç”±åˆ‡æ¢ä¹‹å‰è¢«è°ƒç”¨router.beforEach((to/*è¦å»çš„è·¯ç”±ä¿¡æ¯*/,from/*ä»å“ªå»çš„è·¯ç”±ä¿¡æ¯*/,next)=&gt;{        next()  //è¿™ä¸ªå°±æ˜¯æ”¾è¡Œï¼Œè·¯ç”±å®ˆå«æœ‰ç‚¹åƒæ‹¦æˆªå™¨ï¼Œä»–ä¼šæ‹¦æˆªæ‰€æœ‰çš„è·¯ç”±è·³è½¬ï¼Œå¦‚æœè¦é€šè¿‡çš„è¯å¿…é¡»è¦è°ƒç”¨nextå‡½æ•°è¿›è¡Œæ”¾è¡Œ})\n\nä¾‹å¦‚ï¼š\nrouter.beforeEach((to,from,next)=&gt;{    if(to.path==='/home/news' || to.path === '/home/message'){        if(localStorage.getItem('school') === 'atguigu'){            next()        }else{            alert('å­¦æ ¡åç§°ä¸å¯¹ï¼Œæ— æƒé™æŸ¥çœ‹ï¼')        }    }else{        next()    }})\n\n\n\nmetaè·¯ç”±ä¿¡æ¯const router = new VueRouter({    routes:{        name: 'guanyu',        path: '/about',        component: About,        meta: {title: 'å…³äº',isAuth: false}    }})\n\n\n\n\n\nå…¨å±€åç½®è·¯ç”±å®ˆå«//å…¨å±€åç½®è·¯ç”±å®ˆå«â€”â€”åˆå§‹åŒ–çš„æ—¶å€™è¢«è°ƒç”¨ã€æ¯æ¬¡è·¯ç”±åˆ‡æ¢ä¹‹åè¢«è°ƒç”¨router.afterEach((to,from)=&gt;{    })\n\n\n\n\n\nç‹¬äº«è·¯ç”±å®ˆå«const router = new VueRouter({    routes:{        name: 'guanyu',        path: '/about',        component: About,        meta: {title: 'å…³äº',isAuth: false},        beforeEnter: (to,from,next)=&gt;{            //...        }    }})\n\n\n\n\n\nç»„ä»¶å†…è·¯ç”±å®ˆå«&lt;template&gt;&lt;/template&gt;&lt;script&gt;    export default{        name: 'About',        mounted(){                    },        //é€šè¿‡è·¯ç”±è§„åˆ™ï¼Œè¿›å…¥è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨        beforeRouteEnter(to,from,next){            // ...            next() //æ”¾è¡Œ        },        //é€šè¿‡è·¯ç”±è§„åˆ™ï¼Œç¦»å¼€è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨        beforeRouteLeave(to,from,next){            // ...            next() //æ”¾è¡Œ        }    }&lt;/script&gt;\n\n\n\nhistoryæ¨¡å¼ä¸hashæ¨¡å¼const router = new VueRouter({    mode: 'history' // é»˜è®¤æ˜¯hashæ¨¡å¼    routes:{        name: 'guanyu',        path: '/about',        component: About,        meta: {title: 'å…³äº',isAuth: false},        beforeEnter: (to,from,next)=&gt;{            //...        }    }})\n\nhashæ¨¡å¼å…¼å®¹æ€§å¥½ä½†æ˜¯å¸¦æœ‰#å·ä¸ç¾è§‚ã€‚\nhistoryæ¨¡å¼æ²¡æœ‰#å·ï¼Œä½†æ˜¯å…¼å®¹æ€§ç•¥å·®ã€‚\nå‡ ä¸ªæ³¨æ„ç‚¹1.è·¯ç”±ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨pagesæ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨componentsæ–‡ä»¶å¤¹ã€‚\n2.é€šè¿‡åˆ‡æ¢ï¼Œâ€œéšè—â€äº†çš„è·¯ç”±ç»„ä»¶ï¼Œé»˜è®¤æ˜¯è¢«é”€æ¯çš„ï¼Œéœ€è¦çš„æ—¶å€™å†å»æŒ‚è½½ã€‚\n3.æ¯ä¸ªç»„ä»¶éƒ½æœ‰è‡ªå·±çš„$routeå±æ€§ï¼Œé‡Œé¢å­˜å‚¨ç€è‡ªå·±çš„è·¯ç”±ä¿¡æ¯ã€‚\n4.æ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªrouterï¼Œå¯ä»¥é€šè¿‡ç»„ä»¶çš„$routerå±æ€§è·å–åˆ°ã€‚\nVue UIç»„ä»¶åº“\nç§»åŠ¨ç«¯å¸¸ç”¨UIç»„ä»¶åº“\nVantï¼šhttps://youzan.github.io/vant\nCube UIï¼šhttps://didi.github.io/cube-ui\nMint UIï¼šhttp://mint-ui.github.io\n\nPCç«¯å¸¸ç”¨UIç»„ä»¶åº“\n\nElement UIï¼šhttps://element.eleme.cn\nIView UIï¼šhttps://www.iviewui.com\n\n","categories":["å‰ç«¯"],"tags":["Vue"]},{"title":"Webå‰ç«¯å¸ƒå±€å­¦ä¹ ç¬”è®°","url":"/2023/02/24/learnnote/web-qian-duan/web-bu-ju-xue-xi/","content":"Webå‰ç«¯å¸ƒå±€\næ ‡å‡†æ–‡æ¡£æµ\næ ‡å‡†æ–‡æ¡£æµä¸ºä»ä¸Šåˆ°ä¸‹æ’åˆ—\n\nè¿™æ ·çš„å¸ƒå±€æ˜¾å¾—å‘†æ¿ï¼Œå¦‚æœæƒ³è¦æ¨ªè¿‡æ¥\n\n\næµ®åŠ¨\n\næ‰€è°“å…ƒç´ çš„æµ®åŠ¨æ˜¯æŒ‡è®¾ç½®äº†æµ®åŠ¨å±æ€§çš„å…ƒç´ ä¼šè„±ç¦»æ ‡å‡†æ–‡æ¡£æµçš„æ§åˆ¶ï¼Œç§»åŠ¨åˆ°å…¶çˆ¶å…ƒç´ ä¸­æŒ‡å®šä½ç½®çš„è¿‡ç¨‹ã€‚\n\næ³¨æ„ï¼šä½¿ç”¨æµ®åŠ¨é‚£ä¹ˆæ¥ä¸‹æ¥çš„ä¸ç”¨æµ®åŠ¨çš„å…ƒç´ è®°å¾—æ¸…æ¥šæµ®åŠ¨ï¼Œæ¸…é™¤æµ®åŠ¨æ“ä½œè¯¦è§å¡Œé™·è§£å†³å’Œæ¸…æ¥šåŒçº§å­å…ƒç´ æµ®åŠ¨ã€‚\né€‰æ‹©å™¨float: å±æ€§å€¼ï¼š\ndiv{    float: left;}\n\nè¯´æ˜ï¼š\nå¦‚æœæœªæœ‰è®¾ç½®æµ®åŠ¨çš„å…ƒç´ å’Œå…¶æµ®åŠ¨çš„å…ƒç´ ä¸€èµ·ç”¨ï¼Œé‚£ä¹ˆä¸ºè®¾ç½®æµ®åŠ¨çš„å°†ä¼šå åœ¨æµ®åŠ¨å…ƒç´ çš„æœ¬èº«ä½ç½®ä¸Šè¿›è¡Œå®šä½ï¼ˆå…¶å®æ˜¯è®¾ç½®æµ®åŠ¨çš„å…ƒç´ çš„ç¢°æ’ç®±æ²¡æœ‰äº†ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šè¦†ç›–æ‰æµ®åŠ¨ä½ç½®çš„å…ƒç´ ä½ç½®ï¼Œé™¤éä¸¤è€…éƒ½æ˜¯æµ®åŠ¨ã€‚\nå¡Œé™·è§£å†³å¦‚æœæœ‰çˆ¶å…ƒç´ åŒ…è£¹æµ®åŠ¨å…ƒç´ é‚£ä¹ˆå°±æœ‰å¯èƒ½é€ æˆå¡Œé™·ï¼Œå¡Œé™·å°±æ˜¯æŒ‡çˆ¶å…ƒç´ æœªå®šä¹‰é•¿å®½æ‰€ä»¥å¹¶ä¸ä¼šè¢«å­å…ƒç´ æ’‘å¼€ï¼Œæƒ³è¦é˜²æ­¢å¡Œé™·é‚£å°±è¦åœ¨çˆ¶ç±»çš„æ—¶å€™è¿›è¡Œå¡Œé™·æ¶ˆé™¤ï¼Œé‚£å°±è¦ä½¿ç”¨overflowå±æ€§è®¾ç½®ä¸ºhiddenã€‚\ndicv{    overflow: hidden;}\n\nç¬¬äºŒç§ï¼š\n.father:after{\tcontent: \"\";\tdisplay: block;\tclear: both;}\n\n\n\næ¸…é™¤åŒçº§å­å…ƒç´ æµ®åŠ¨div{    clear: both;}\n\nclearåªèƒ½æ¸…é™¤å…ƒç´ å·¦å³ä¸¤ä¾§æµ®åŠ¨å½±å“ï¼›\n\nè„±ç¦»æ–‡æ¡£æµä¹‹åï¼Œå—å…ƒç´ çš„å®½åº¦å’Œé«˜åº¦é»˜è®¤è¢«å†…å®¹æ’‘å¼€ï¼Œé™¤éäº‹å…ˆå®šä¹‰å¥½é«˜å®½ï¼›\n\nå…ƒç´ æµ®åŠ¨åï¼Œblockå—çº§å…ƒç´ çš„æ˜¾ç¤ºæ¨¡å¼å°±å˜æˆäº†inline-blockï¼Œå®½åº¦æœ¬èº«æ˜¯100%çš„å…ƒç´ ï¼Œå› ä¸ºæ˜¾ç¤ºæ¨¡å¼çš„æ”¹å˜ï¼Œå®½åº¦å˜ä¸ºè‡ªèº«å†…å®¹å®½åº¦ã€‚\n\nblockå—çº§å…ƒç´ çš„å®½æ˜¯ç‹¬å ä¸€è¡Œï¼Œå¦‚æœä¸é€šè¿‡ç›’æ¨¡å‹è®¾ç½®ï¼Œå®½åº¦ç»§æ‰¿100%å æ»¡æ–‡æ¡£ã€‚\n\nè¡Œå†…å…ƒç´ æµ®åŠ¨åå˜ä¸ºè¡Œå†… å—å…ƒç´ ï¼ˆinline-blockï¼‰ï¼Œä¸éœ€è¦è½¬æˆå—å…ƒç´ ï¼Œå°±èƒ½å¤Ÿè®¾ç½®å®½åº¦ã€é«˜åº¦äº†ã€‚\n\n\nå®šä½å¸ƒå±€\npositionå±æ€§ç”¨äºå®šä¹‰å…ƒç´ çš„å®šä½æ¨¡å¼ï¼Œå…¶åŸºæœ¬è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š\ndiv{\tposition: relative;}\n\nrelativeä¸ºç›¸å¯¹å®šä½\nabsoluteä¸ºç»å¯¹å®šä½\nrelativeç›¸å¯¹å®šä½ï¼š\n\nä¿ç•™äº†åŒçº§å…ƒç´ çš„ç¢°æ’ç®±ï¼Œé»˜è®¤ä¸è¦†ç›–åˆ°å…¶ä»–åŒçº§ç›’å­ï¼Œå¹¶ä¸”ç›¸å¯¹ï¼ï¼å…¶è¿›è¡Œå®šä½\n\nabsoluteç»å¯¹å®šä½ï¼šç»å¯¹å®šä½ï¼Œå¦‚æœæ²¡æœ‰åœ¨å…¶çˆ¶å…ƒç´ çŸ¥é“ç›¸å¯¹å®šä¹‰(ä¹Ÿå°±æ˜¯çˆ¶çº§å…ƒç´ å®šä¹‰positionä¸ºrelative)ï¼Œåˆ™å°±æ˜¯ä¾æ®bodyæ¥å®šä½ã€‚\n\né»˜è®¤å¿½ç•¥æ‰åŒçº§å…ƒç´ ç›’å­ä»¥çˆ¶ç›’å­æˆ–è€…bodyæ¥è¿›è¡Œå®šä½ã€‚\n\nå›ºå®šä½ç½®\næ˜¯ä»¥æµè§ˆå™¨çª—å£ä¸ºåŸºå‡†è¿›è¡Œå…ƒç´ è¿›è¡Œå®šä½ï¼Œè„±ç¦»åŸºæœ¬æ–‡æ¡£æµã€‚\noverflowå¯ä»¥è§£å†³æ–‡æ¡£æº¢å‡ºé—®é¢˜flexé…åˆjustify-contentå®ç°æ§ä»¶æ°´å¹³å¹³å‡åˆ†å¸ƒã€‚","categories":["å‰ç«¯"],"tags":["HTML","CSS"]},{"title":"GithubActionsä½¿ç”¨æ•™ç¨‹","url":"/2024/11/27/learnnote/github/githubactions/","content":"GitHubActionsä½¿ç”¨æ•™ç¨‹å…³äºGitHubActionsGitHubActions Yamlæ¨¡æ¿name: Actions Name # è¿™ä¸ªè¡¨ç¤ºçš„æ˜¯ä½ å½“å‰Actionsæ‰§è¡Œå·¥ç¨‹çš„åˆ«åï¼Œæ ¹æ®ä½ è‡ªå·±éœ€æ±‚éšä¾¿å†™å°±è¡Œon:  push:  \ttags:  \t  - 'v*' # Trigger on version tags è§¦å‘çš„ç‰ˆæœ¬æ ‡ç­¾ï¼Œå°±æ˜¯è¯´å¦‚æœæœ‰ä»¥æ¨é€v....å¼€å¤´çš„tagæ ‡ç­¾pushé‚£ä¹ˆå°±ä¼šè§¦å‘è¿™ä¸ªactionspermissions:  contents: write # è¿™ä¸ªæ„æ€æ˜¯åŒæ„GitHubreleaseå†™å…¥æƒé™ï¼Œä½ å¦‚æœè¦åŒæ—¶è¿›è¡Œreleaseå‘å¸ƒåˆ™å¿…é¡»è¦å†™è¿™ä¸ªenv:  PROJECT_NAME: ${{github.event.repository.name}} #ä½¿ç”¨ä»“åº“åä½œä¸ºé¡¹ç›®åç§°  BUILD_DATE: ${{github.ref_name}}-${{github.run_id}} #è·å–å½“å‰æ—¥æœŸjobs:  build:    name: Build and Release    runs-on: ubuntu-latest #è¡¨ç¤ºä»¥Ubuntuç³»ç»Ÿç¯å¢ƒæ„å»º    steps:    - name: Checkout code #è¿™ä¸ªæ˜¯æ„å»ºæ­¥éª¤åç§°ï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚éšä¾¿å†™å°±è¡Œ      uses: actions/checkout@v4 # è¿™å•¥ç©æ„      with:        fetch-depth: 0 #è·å–å®Œæ•´çš„Gitå†å²    - name: Set up Go #æ­¥éª¤åç§°ï¼ŒæŒ‰ç…§å®é™…æƒ…å†µå–åå°±è¡Œï¼Œåœ¨è¿™é‡Œæ˜¯ä½œä¸ºgoç¯å¢ƒå®‰è£…çš„æ­¥éª¤è¿›è¡Œ      uses: actions/setup-go@v5      with:        go-version-file: 'go.mod' #ä½¿ç”¨go.modæ–‡ä»¶æŒ‡å®šGoç‰ˆæœ¬ï¼Œå…¶å®ä¹Ÿå¯ä»¥ç›´æ¥æ‰‹åŠ¨æŒ‡å®šç‰ˆæœ¬        cache: true # å¯ç”¨ä¾èµ–ç¼“å­˜    - name: Get dependencies #æ­¥éª¤åç§°ï¼ŒæŒ‰ç…§è‡ªå·±éœ€è¦éšä¾¿å–å      run: go mod download #runæ˜¯æ‰§è¡ŒæŒ‡ä»¤çš„æ„æ€ï¼Œè¿™é‡Œçš„è¯ä»£è¡¨ä¸‹è½½å¯¹åº”é¡¹ç›®çš„ä¾èµ–é¡¹ï¼Œç†Ÿæ‚‰goè¯­è¨€çš„åº”è¯¥æ‡‚å¾—          - name: Prepare Release Directory      run: mkdir -p release #åˆ›å»ºä¸€ä¸ªåä¸ºreleaseçš„æ–‡ä»¶å¤¹        - name: Build Linux AMD64      run: &gt; #è¿™é‡Œæ˜¯æ‰§è¡ŒæŒ‡ä»¤      \tGOOS=linux GOARCH=amd64 go build -o release/${{env.PROJECT_NAME}}_${{env.BUILD_DATE}}_linux_amd64    - name: Build linux ARM64      run: &gt;\n\n","categories":["GithubActions"],"tags":["Github"]},{"title":"ç©è½¬Github","url":"/2024/06/08/learnnote/github/github/","content":"ç©è½¬Github\nREADMEçš„Banner ç”Ÿæˆç½‘å€GitHub Socialify\næ¯”å¦‚ï¼š\n\nç›¸å…³å›¾æ ‡æ¨èğŸ“› Awesome Badges - DEV Community\n","categories":["Github"],"tags":["Github"]},{"title":"Ginå­¦ä¹ ","url":"/2025/04/03/learnnote/go-xue-xi-bi-ji/gin-xue-xi/","content":"Ginå­¦ä¹ \nä¸€ã€Ginå¯¼å…¥ä¸åŸºç¡€ä½¿ç”¨é¢„è§ˆ1ã€å®‰è£…Ginæ¡†æ¶go get -u github.com/gin-gonic/gin\n\nGin ä½¿ç”¨ encoding/json ä½œä¸ºé»˜è®¤çš„ json åŒ…ï¼Œä½†æ˜¯ä½ å¯ä»¥åœ¨ç¼–è¯‘ä¸­ä½¿ç”¨æ ‡ç­¾å°†å…¶ä¿®æ”¹ä¸º jsoniterã€‚\n$ go build -tags=jsoniter .\n\n\n\n2ã€åˆ›å»ºç¬¬ä¸€ä¸ªGinåº”ç”¨package mainimport \"github.com/gin-gonic/gin\"func main() {    // æ–°å»ºä¸€ä¸ªæ²¡æœ‰ä»»ä½•é»˜è®¤ä¸­é—´ä»¶çš„è·¯ç”±\tr := gin.New()    r.GET(\"/\", func(c *gin.Context) {        c.String(200, \"Hello, Gin!\")    })    r.Run(\":8080\")}\n\nåœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå¯¼å…¥äº†Ginæ¡†æ¶çš„åŒ…ï¼Œç„¶ååˆ›å»ºäº†ä¸€ä¸ªé»˜è®¤çš„Ginå¼•æ“ï¼Œå¹¶å®šä¹‰äº†ä¸€ä¸ªè·¯ç”±ï¼Œæœ€åå¯åŠ¨äº†Ginåº”ç”¨ç¨‹åºã€‚\n3ã€å¸¸ç”¨åŠŸèƒ½é™¤äº†åŸºæœ¬çš„è·¯ç”±åŠŸèƒ½å¤–ï¼ŒGinæ¡†æ¶è¿˜æä¾›äº†è®¸å¤šå¸¸ç”¨çš„åŠŸèƒ½ï¼Œå¦‚ä¸­é—´ä»¶ã€å‚æ•°è§£æã€æ—¥å¿—è®°å½•ç­‰ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ä¸­é—´ä»¶å’Œå‚æ•°è§£æçš„ç¤ºä¾‹ï¼š\npackage mainimport (    \"github.com/gin-gonic/gin\"    \"net/http\")func main() {    // æ–°å»ºä¸€ä¸ªæ²¡æœ‰ä»»ä½•é»˜è®¤ä¸­é—´ä»¶çš„è·¯ç”±\tr := gin.New()        \t// å…¨å±€ä¸­é—´ä»¶\t// Logger ä¸­é—´ä»¶å°†æ—¥å¿—å†™å…¥ gin.DefaultWriterï¼Œå³ä½¿ä½ å°† GIN_MODE è®¾ç½®ä¸º releaseã€‚\t// By default gin.DefaultWriter = os.Stdout    r.Use(gin.Logger())    // Recovery ä¸­é—´ä»¶ä¼š recover ä»»ä½• panicã€‚å¦‚æœæœ‰ panic çš„è¯ï¼Œä¼šå†™å…¥ 500ã€‚    r.Use(gin.Recovery())    r.GET(\"/hello\", func(c *gin.Context) {        name := c.Query(\"name\")        c.JSON(http.StatusOK, gin.H{\"message\": \"Hello, \" + name})    })    r.Run(\":8080\")}\n\nåœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨äº†Loggerå’ŒRecoveryä¸­é—´ä»¶ï¼Œç„¶åå®šä¹‰äº†ä¸€ä¸ªå¸¦æœ‰å‚æ•°è§£æçš„è·¯ç”±ï¼Œæœ€åå¯åŠ¨äº†Ginåº”ç”¨ç¨‹åºã€‚\n4ã€è·¯ç”±å®šä¹‰å’Œå¤„ç†ï¼špackage mainimport (\t\"github.com/gin-gonic/gin\")func main() {\trouter := gin.Default()\t// GET è¯·æ±‚å¤„ç†\trouter.GET(\"/hello\", func(c *gin.Context) {\t\tc.JSON(200, gin.H{\t\t\t\"message\": \"Hello, World!\",\t\t})\t})\t// POST è¯·æ±‚å¤„ç†\trouter.POST(\"/users\", func(c *gin.Context) {\t\tvar user User\t\tif err := c.ShouldBindJSON(&amp;user); err != nil {\t\t\tc.JSON(400, gin.H{\t\t\t\t\"error\": err.Error(),\t\t\t})\t\t\treturn\t\t}\t\t// å¤„ç†æ¥æ”¶åˆ°çš„ç”¨æˆ·æ•°æ®\t\t// ...\t\tc.JSON(200, gin.H{\t\t\t\"message\": \"User created successfully\",\t\t})\t})\trouter.Run(\":8080\")}\n\n\n\n5ã€å‚æ•°åŒ–è·¯ç”±å’Œè·¯ç”±ç»„ï¼špackage mainimport (\t\"github.com/gin-gonic/gin\")func main() {\trouter := gin.Default()\t// å‚æ•°åŒ–è·¯ç”±\trouter.GET(\"/users/:id\", func(c *gin.Context) {\t\tid := c.Param(\"id\")\t\tc.String(200, \"User ID: %s\", id)\t})\t// è·¯ç”±ç»„\tv1 := router.Group(\"/api/v1\")\t{\t\tv1.GET(\"/users\", func(c *gin.Context) {\t\t\tc.String(200, \"List of users\")\t\t})\t\tv1.POST(\"/users\", func(c *gin.Context) {\t\t\tc.String(200, \"Create a user\")\t\t})\t\tv1.PUT(\"/users/:id\", func(c *gin.Context) {\t\t\tid := c.Param(\"id\")\t\t\tc.String(200, \"Update user with ID: %s\", id)\t\t})\t\tv1.DELETE(\"/users/:id\", func(c *gin.Context) {\t\t\tid := c.Param(\"id\")\t\t\tc.String(200, \"Delete user with ID: %s\", id)\t\t})\t}\trouter.Run(\":8080\")}\n\nè¿™äº›ä»£ç ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Gin æ¡†æ¶å®šä¹‰è·¯ç”±å’Œå¤„ç†è¯·æ±‚ï¼ŒåŒ…æ‹¬ GET å’Œ POST è¯·æ±‚çš„å¤„ç†ã€å‚æ•°åŒ–è·¯ç”±ä»¥åŠè·¯ç”±ç»„çš„ä½¿ç”¨ã€‚\n6ã€æ¨¡æ¿æ¸²æŸ“å’Œé™æ€æ–‡ä»¶1. æ¨¡æ¿æ¸²æŸ“ï¼šGin æ¡†æ¶å†…ç½®äº†å¯¹å¤šç§æ¨¡æ¿å¼•æ“çš„æ”¯æŒï¼ŒåŒ…æ‹¬ HTML æ¨¡æ¿å¼•æ“ã€Ace æ¨¡æ¿å¼•æ“ç­‰ã€‚ä½ å¯ä»¥é€šè¿‡ gin.Default() æ–¹æ³•åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„è·¯ç”±ç»„ï¼Œå¹¶ä½¿ç”¨ LoadHTMLGlob æˆ–è€… LoadHTMLFiles()æ–¹æ³•æ¥åŠ è½½æ¨¡æ¿æ–‡ä»¶ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š\npackage mainimport (\t\"github.com/gin-gonic/gin\"\t\"net/http\")func main() {\trouter := gin.Default()\t// åŠ è½½æ¨¡æ¿æ–‡ä»¶\trouter.LoadHTMLGlob(\"templates/*\")\t// å®šä¹‰è·¯ç”±å¤„ç†å‡½æ•°ï¼Œæ¸²æŸ“æ¨¡æ¿\trouter.GET(\"/hello\", func(c *gin.Context) {\t\tc.HTML(http.StatusOK, \"hello.tmpl\", gin.H{\t\t\t\"title\": \"Hello, Gin!\",\t\t})\t})\trouter.Run(\":8080\")}\n\ntemplates/index.tmplï¼š\n&lt;html&gt;\t&lt;h1&gt;\t\t{{ .title }}\t&lt;/h1&gt;&lt;/html&gt;\n\nåœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨ LoadHTMLGlob æ–¹æ³•åŠ è½½äº†ä½äº â€œtemplatesâ€ ç›®å½•ä¸‹çš„æ‰€æœ‰æ¨¡æ¿æ–‡ä»¶ã€‚ç„¶åï¼Œåœ¨ â€œ/helloâ€ è·¯ç”±å¤„ç†å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ c.HTML æ–¹æ³•æ¸²æŸ“äº†åä¸º â€œhello.tmplâ€ çš„æ¨¡æ¿ï¼Œå¹¶ä¼ é€’äº†ä¸€ä¸ªåŒ…å«æ ‡é¢˜ä¿¡æ¯çš„æ•°æ®ã€‚\nä½¿ç”¨ä¸åŒç›®å½•ä¸‹åç§°ç›¸åŒçš„æ¨¡æ¿:\nfunc main() {\trouter := gin.Default()\trouter.LoadHTMLGlob(\"templates/**/*\")\trouter.GET(\"/posts/index\", func(c *gin.Context) {\t\tc.HTML(http.StatusOK, \"posts/index.tmpl\", gin.H{\t\t\t\"title\": \"Posts\",\t\t})\t})\trouter.GET(\"/users/index\", func(c *gin.Context) {\t\tc.HTML(http.StatusOK, \"users/index.tmpl\", gin.H{\t\t\t\"title\": \"Users\",\t\t})\t})\trouter.Run(\":8080\")}\n\ntemplates/posts/index.tmpl\n{{ define \"posts/index.tmpl\" }}&lt;html&gt;&lt;h1&gt;\t{{ .title }}&lt;/h1&gt;&lt;p&gt;Using posts/index.tmpl&lt;/p&gt;&lt;/html&gt;{{ end }}\n\ntemplates/users/index.tmpl\n{{ define \"users/index.tmpl\" }}&lt;html&gt;&lt;h1&gt;\t{{ .title }}&lt;/h1&gt;&lt;p&gt;Using users/index.tmpl&lt;/p&gt;&lt;/html&gt;{{ end }}\n\n2. è‡ªå®šä¹‰æ¨¡æ¿æ¸²æŸ“å™¨å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„ html æ¨¡æ¿æ¸²æŸ“\nimport \"html/template\"func main() {\trouter := gin.Default()\thtml := template.Must(template.ParseFiles(\"file1\", \"file2\"))\trouter.SetHTMLTemplate(html)\trouter.Run(\":8080\")}\n\n3. è‡ªå®šä¹‰åˆ†éš”ç¬¦ä½ å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰åˆ†éš”\nrouter := gin.Default()router.Delims(\"{[{\", \"}]}\")router.LoadHTMLGlob(\"/path/to/templates\")\n\n4. è‡ªå®šä¹‰æ¨¡æ¿åŠŸèƒ½æŸ¥çœ‹è¯¦ç»†ç¤ºä¾‹ä»£ç ã€‚\nmain.go\nimport (    \"fmt\"    \"html/template\"    \"net/http\"    \"time\"    \"github.com/gin-gonic/gin\")func formatAsDate(t time.Time) string {    year, month, day := t.Date()    return fmt.Sprintf(\"%d/%02d/%02d\", year, month, day)}func main() {    router := gin.Default()    router.Delims(\"{[{\", \"}]}\")    router.SetFuncMap(template.FuncMap{        \"formatAsDate\": formatAsDate,    })    router.LoadHTMLFiles(\"./testdata/template/raw.tmpl\")    router.GET(\"/raw\", func(c *gin.Context) {        c.HTML(http.StatusOK, \"raw.tmpl\", map[string]interface{}{            \"now\": time.Date(2017, 07, 01, 0, 0, 0, 0, time.UTC),        })    })    router.Run(\":8080\")}\n\nraw.tmpl\nDate: {[{.now | formatAsDate}]}\n\nç»“æœï¼š\nDate: 2017/07/01\n\n\n\n5. é™æ€æ–‡ä»¶æœåŠ¡ï¼špackage mainimport \"github.com/gin-gonic/gin\"func main() {\trouter := gin.Default()\t// ä»ç›¸å¯¹è·¯å¾„ \"assets\" æä¾›é™æ€æ–‡ä»¶\trouter.Static(\"/static\", \"./assets\")\t// ä»ç»å¯¹è·¯å¾„ \"/tmp\" æä¾›é™æ€æ–‡ä»¶\trouter.StaticFS(\"/static2\", http.Dir(\"/tmp\"))\t// æä¾›å•ä¸ªé™æ€æ–‡ä»¶\trouter.StaticFile(\"/favicon.ico\", \"./resources/favicon.ico\")\trouter.Run(\":8080\")}\n\nè¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•åœ¨ Gin æ¡†æ¶ä¸­æä¾›é™æ€æ–‡ä»¶æœåŠ¡ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å°†é™æ€èµ„æºæ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ã€æ ·å¼è¡¨ã€è„šæœ¬ç­‰ï¼‰æä¾›ç»™å®¢æˆ·ç«¯ã€‚\n7ã€ JSON è§£æä¸ç»‘å®šï¼špackage mainimport (\t\"github.com/gin-gonic/gin\")type User struct {\tUsername string `json:\"username\"`\tPassword string `json:\"password\"`}func main() {\trouter := gin.Default()\trouter.POST(\"/login\", func(c *gin.Context) {\t\tvar user User\t\tif err := c.ShouldBindJSON(&amp;user); err != nil {\t\t\tc.JSON(400, gin.H{\"error\": err.Error()})\t\t\treturn\t\t}\t\t// æ ¹æ®ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç è¿›è¡ŒéªŒè¯\t\t// ...\t\tc.JSON(200, gin.H{\"message\": \"Login successful\"})\t})\trouter.Run(\":8080\")}\n\nè¿™ä¸ªç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•æ¥æ”¶ JSON æ ¼å¼çš„è¯·æ±‚ä½“ï¼Œå¹¶å°†å…¶ç»‘å®šåˆ°ç»“æ„ä½“ä¸­è¿›è¡Œå¤„ç†ã€‚\nè¿™äº›ä»£ç ç¤ºä¾‹å±•ç¤ºäº† Gin æ¡†æ¶ä¸­å„ç§åŠŸèƒ½çš„å…·ä½“ä½¿ç”¨æ–¹æ³•ï¼ŒåŒ…æ‹¬ä¸­é—´ä»¶ã€JSON è§£æä¸ç»‘å®šç­‰ã€‚\n8ã€é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•1. è‡ªå®šä¹‰é”™è¯¯å¤„ç†å‡½æ•°Gin æ¡†æ¶å…è®¸ä½ æ³¨å†Œå…¨å±€çš„ä¸­é—´ä»¶æ¥å¤„ç†é”™è¯¯ã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°æ¥æ•è·å¤„ç†ç¨‹åºä¸­çš„é”™è¯¯ï¼Œå¹¶è¿”å›è‡ªå®šä¹‰çš„é”™è¯¯å“åº”ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š\npackage mainimport (\t\"github.com/gin-gonic/gin\"\t\"net/http\")func main() {\trouter := gin.Default()\t// è‡ªå®šä¹‰å…¨å±€ä¸­é—´ä»¶å¤„ç†é”™è¯¯\trouter.Use(func(c *gin.Context) {\t\tc.Next()\t\t// æ£€æŸ¥æ˜¯å¦æœ‰å‘ç”Ÿé”™è¯¯\t\tif len(c.Errors) &gt; 0 {\t\t\t// è‡ªå®šä¹‰é”™è¯¯å¤„ç†\t\t\tc.JSON(http.StatusInternalServerError, gin.H{\"error\": \"æœåŠ¡å™¨å†…éƒ¨é”™è¯¯\"})\t\t}\t})\trouter.GET(\"/ping\", func(c *gin.Context) {\t\t// æ¨¡æ‹Ÿå¤„ç†è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯\t\tc.Error(gin.Error{Err: errors.New(\"å¤„ç†è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯\")})\t})\trouter.Run(\":8080\")}\n\nåœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå…¨å±€ä¸­é—´ä»¶å‡½æ•°æ¥æ£€æŸ¥å¤„ç†è¿‡ç¨‹ä¸­æ˜¯å¦æœ‰é”™è¯¯å‘ç”Ÿï¼Œå¦‚æœæœ‰é”™è¯¯åˆ™è¿”å›è‡ªå®šä¹‰çš„é”™è¯¯å“åº”ã€‚åœ¨è·¯ç”±å¤„ç†å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ c.Error æ–¹æ³•æ¨¡æ‹Ÿäº†ä¸€ä¸ªå¤„ç†è¿‡ç¨‹ä¸­å‘ç”Ÿçš„é”™è¯¯ã€‚\n2. ä½¿ç”¨ Gin æ¡†æ¶çš„æ—¥å¿—åŠŸèƒ½Gin æ¡†æ¶é»˜è®¤é›†æˆäº†æ—¥å¿—åŠŸèƒ½ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ gin.Default() æ–¹æ³•åˆ›å»ºçš„é»˜è®¤è·¯ç”±ç»„æ¥è®°å½•æ—¥å¿—ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š\npackage mainimport (\t\"github.com/gin-gonic/gin\"\t\"os\")func main() {\t// å°†æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶\tf, _ := os.Create(\"gin.log\")\tgin.DefaultWriter = io.MultiWriter(f, os.Stdout)\trouter := gin.Default()\trouter.GET(\"/ping\", func(c *gin.Context) {\t\tc.String(http.StatusOK, \"pong\")\t})\trouter.Run(\":8080\")}\n\nåœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶ â€œgin.logâ€ ä¸­ï¼Œå¹¶ä½¿ç”¨ io.MultiWriter æ¥åŒæ—¶è¾“å‡ºåˆ°æ–‡ä»¶å’Œæ ‡å‡†è¾“å‡ºã€‚Gin æ¡†æ¶ä¼šè‡ªåŠ¨è®°å½•è¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯ä»¥åŠå¤„ç†æ—¶é—´ç­‰æ—¥å¿—å†…å®¹ã€‚\n9ã€è®¾ç½®å½“å‰ç¯å¢ƒGin é¡¹ç›®çš„éƒ¨ç½²å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡æˆ–ç›´æ¥åœ¨ä»£ç ä¸­è¿›è¡Œé…ç½®ã€‚\nä»¥ä¸‹ç¯å¢ƒå˜é‡å¯ç”¨äºé…ç½® Ginï¼š\n\n\n\nç¯å¢ƒå˜é‡\nè¯´æ˜\n\n\n\nPORT\nä½¿ç”¨ router.Run() å¯åŠ¨ Gin æœåŠ¡å™¨æ—¶ï¼ˆå³ä¸å¸¦ä»»ä½•å‚æ•°ï¼‰ç›‘å¬çš„ TCP ç«¯å£ã€‚\n\n\nGIN_MODE\nå¯è®¾ç½®ä¸º debugã€release æˆ– testã€‚ç”¨äºç®¡ç† Gin çš„è¿è¡Œæ¨¡å¼ï¼Œå¦‚æ˜¯å¦è¾“å‡ºè°ƒè¯•ä¿¡æ¯ã€‚ä¹Ÿå¯ä»¥åœ¨ä»£ç ä¸­ä½¿ç”¨ gin.SetMode(gin.ReleaseMode) æˆ– gin.SetMode(gin.TestMode) æ¥è®¾ç½®ã€‚\n\n\nä»¥ä¸‹ä»£ç å¯ç”¨äºé…ç½® Ginï¼š\n// ä¸æŒ‡å®š Gin çš„ç»‘å®šåœ°å€å’Œç«¯å£ã€‚é»˜è®¤ç»‘å®šæ‰€æœ‰æ¥å£ï¼Œç«¯å£ä¸º 8080ã€‚// ä½¿ç”¨ä¸å¸¦å‚æ•°çš„ `Run()` æ—¶ï¼Œå¯é€šè¿‡ `PORT` ç¯å¢ƒå˜é‡æ›´æ”¹ç›‘å¬ç«¯å£ã€‚router := gin.Default()router.Run()// æŒ‡å®š Gin çš„ç»‘å®šåœ°å€å’Œç«¯å£ã€‚router := gin.Default()router.Run(\"192.168.1.100:8080\")// ä»…æŒ‡å®šç›‘å¬ç«¯å£ã€‚å°†ç»‘å®šæ‰€æœ‰æ¥å£ã€‚router := gin.Default()router.Run(\":8080\")// è®¾ç½®å“ªäº› IP åœ°å€æˆ– CIDR è¢«è§†ä¸ºå¯ä¿¡ä»»çš„ä»£ç†ï¼Œç”¨äºè®¾ç½®è®°å½•çœŸå®å®¢æˆ·ç«¯ IP çš„è¯·æ±‚å¤´ã€‚// æ›´å¤šè¯¦æƒ…è¯·å‚é˜…æ–‡æ¡£ã€‚router := gin.Default()router.SetTrustedProxies([]string{\"192.168.1.2\"})\n\n\n\n10ã€ä¸è¦ä¿¡ä»»æ‰€æœ‰ä»£ç†Gin å…è®¸ä½ æŒ‡å®šå“ªäº›è¯·æ±‚å¤´å¯ä»¥ä¿å­˜çœŸå®çš„å®¢æˆ·ç«¯ IPï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œä»¥åŠä½ ä¿¡ä»»å“ªäº›ä»£ç†ï¼ˆæˆ–ç›´æ¥å®¢æˆ·ç«¯ï¼‰å¯ä»¥è®¾ç½®è¿™äº›è¯·æ±‚å¤´ã€‚\nåœ¨ä½ çš„ gin.Engine ä¸Šä½¿ç”¨ SetTrustedProxies() å‡½æ•°æ¥æŒ‡å®šå¯ä¿¡ä»»çš„ç½‘ç»œåœ°å€æˆ–ç½‘ç»œ CIDRï¼Œè¿™äº›åœ°å€çš„è¯·æ±‚å¤´ä¸­ä¸å®¢æˆ·ç«¯ IP ç›¸å…³çš„ä¿¡æ¯å°†è¢«ä¿¡ä»»ã€‚å®ƒä»¬å¯ä»¥æ˜¯ IPv4 åœ°å€ã€IPv4 CIDRã€IPv6 åœ°å€æˆ– IPv6 CIDRã€‚\næ³¨æ„ï¼š å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨ä¸Šè¿°å‡½æ•°æŒ‡å®šå¯ä¿¡ä»£ç†ï¼ŒGin é»˜è®¤ä¼šä¿¡ä»»æ‰€æœ‰ä»£ç†ï¼Œè¿™å¹¶ä¸å®‰å…¨ã€‚åŒæ—¶ï¼Œå¦‚æœä½ ä¸ä½¿ç”¨ä»»ä½•ä»£ç†ï¼Œå¯ä»¥é€šè¿‡ Engine.SetTrustedProxies(nil) æ¥ç¦ç”¨æ­¤åŠŸèƒ½ï¼Œè¿™æ · Context.ClientIP() å°†ç›´æ¥è¿”å›è¿œç¨‹åœ°å€ï¼Œé¿å…ä¸å¿…è¦çš„è®¡ç®—ã€‚\nimport (  \"fmt\"  \"github.com/gin-gonic/gin\")func main() {  router := gin.Default()  router.SetTrustedProxies([]string{\"192.168.1.2\"})  router.GET(\"/\", func(c *gin.Context) {    // å¦‚æœå®¢æˆ·ç«¯æ˜¯ 192.168.1.2ï¼Œåˆ™ä½¿ç”¨ X-Forwarded-For    // è¯·æ±‚å¤´ä¸­å¯ä¿¡éƒ¨åˆ†æ¨æ–­å‡ºåŸå§‹å®¢æˆ·ç«¯ IPã€‚    // å¦åˆ™ï¼Œç›´æ¥è¿”å›å®¢æˆ·ç«¯ IP    fmt.Printf(\"ClientIP: %s\\n\", c.ClientIP())  })  router.Run()}\n\næç¤ºï¼š å¦‚æœä½ ä½¿ç”¨ CDN æœåŠ¡ï¼Œå¯ä»¥è®¾ç½® Engine.TrustedPlatform æ¥è·³è¿‡ TrustedProxies æ£€æŸ¥ï¼Œå®ƒçš„ä¼˜å…ˆçº§é«˜äº TrustedProxiesã€‚ è¯·çœ‹ä¸‹é¢çš„ç¤ºä¾‹ï¼š\nimport (  \"fmt\"  \"github.com/gin-gonic/gin\")func main() {  router := gin.Default()  // ä½¿ç”¨é¢„å®šä¹‰çš„ gin.PlatformXXX å¤´  // Google App Engine  router.TrustedPlatform = gin.PlatformGoogleAppEngine  // Cloudflare  router.TrustedPlatform = gin.PlatformCloudflare  // Fly.io  router.TrustedPlatform = gin.PlatformFlyIO  // æˆ–è€…ï¼Œä½ å¯ä»¥è®¾ç½®è‡ªå·±çš„å¯ä¿¡è¯·æ±‚å¤´ã€‚ä½†è¦ç¡®ä¿ä½ çš„ CDN  // èƒ½é˜²æ­¢ç”¨æˆ·ä¼ é€’æ­¤è¯·æ±‚å¤´ï¼ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„ CDN å°†å®¢æˆ·ç«¯  // IP æ”¾åœ¨ X-CDN-Client-IP ä¸­ï¼š  router.TrustedPlatform = \"X-CDN-Client-IP\"  router.GET(\"/\", func(c *gin.Context) {    // å¦‚æœè®¾ç½®äº† TrustedPlatformï¼ŒClientIP() å°†è§£æ    // å¯¹åº”çš„è¯·æ±‚å¤´å¹¶ç›´æ¥è¿”å› IP    fmt.Printf(\"ClientIP: %s\\n\", c.ClientIP())  })  router.Run()}","categories":["GO"],"tags":["GO","Gin"]},{"title":"goè¯­è¨€åŸºç¡€","url":"/2024/06/23/learnnote/go-xue-xi-bi-ji/go-yu-yan-ji-chu/","content":"goè¯­è¨€åŸºç¡€Go è¯­è¨€æ•°æ®ç±»å‹åœ¨ Go ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œæ•°æ®ç±»å‹ç”¨äºå£°æ˜å‡½æ•°å’Œå˜é‡ã€‚\næ•°æ®ç±»å‹çš„å‡ºç°æ˜¯ä¸ºäº†æŠŠæ•°æ®åˆ†æˆæ‰€éœ€å†…å­˜å¤§å°ä¸åŒçš„æ•°æ®ï¼Œç¼–ç¨‹çš„æ—¶å€™éœ€è¦ç”¨å¤§æ•°æ®çš„æ—¶å€™æ‰éœ€è¦ç”³è¯·å¤§å†…å­˜ï¼Œå°±å¯ä»¥å……åˆ†åˆ©ç”¨å†…å­˜ã€‚\nGo è¯­è¨€æŒ‰ç±»åˆ«æœ‰ä»¥ä¸‹å‡ ç§æ•°æ®ç±»å‹ï¼š\n\n\n\nåºå·\nç±»å‹å’Œæè¿°\n\n\n\n1\nå¸ƒå°”å‹ å¸ƒå°”å‹çš„å€¼åªå¯ä»¥æ˜¯å¸¸é‡ true æˆ–è€… falseã€‚ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼švar b bool = trueã€‚\n\n\n2\næ•°å­—ç±»å‹ æ•´å‹ int å’Œæµ®ç‚¹å‹ float32ã€float64ï¼ŒGo è¯­è¨€æ”¯æŒæ•´å‹å’Œæµ®ç‚¹å‹æ•°å­—ï¼Œå¹¶ä¸”æ”¯æŒå¤æ•°ï¼Œå…¶ä¸­ä½çš„è¿ç®—é‡‡ç”¨è¡¥ç ã€‚\n\n\n3\nå­—ç¬¦ä¸²ç±»å‹: å­—ç¬¦ä¸²å°±æ˜¯ä¸€ä¸²å›ºå®šé•¿åº¦çš„å­—ç¬¦è¿æ¥èµ·æ¥çš„å­—ç¬¦åºåˆ—ã€‚Go çš„å­—ç¬¦ä¸²æ˜¯ç”±å•ä¸ªå­—èŠ‚è¿æ¥èµ·æ¥çš„ã€‚Go è¯­è¨€çš„å­—ç¬¦ä¸²çš„å­—èŠ‚ä½¿ç”¨ UTF-8 ç¼–ç æ ‡è¯† Unicode æ–‡æœ¬ã€‚\n\n\n4\næ´¾ç”Ÿç±»å‹: åŒ…æ‹¬ï¼š(a) æŒ‡é’ˆç±»å‹ï¼ˆPointerï¼‰(b) æ•°ç»„ç±»å‹(c) ç»“æ„åŒ–ç±»å‹(struct)(d) Channel ç±»å‹(e) å‡½æ•°ç±»å‹(f) åˆ‡ç‰‡ç±»å‹(g) æ¥å£ç±»å‹ï¼ˆinterfaceï¼‰(h) Map ç±»å‹\n\n\n\næ•°å­—ç±»å‹Go ä¹Ÿæœ‰åŸºäºæ¶æ„çš„ç±»å‹ï¼Œä¾‹å¦‚ï¼šintã€uint å’Œ uintptrã€‚\n\n\n\nåºå·\nç±»å‹å’Œæè¿°\n\n\n\n1\nuint8 æ— ç¬¦å· 8 ä½æ•´å‹ (0 åˆ° 255)\n\n\n2\nuint16 æ— ç¬¦å· 16 ä½æ•´å‹ (0 åˆ° 65535)\n\n\n3\nuint32 æ— ç¬¦å· 32 ä½æ•´å‹ (0 åˆ° 4294967295)\n\n\n4\nuint64 æ— ç¬¦å· 64 ä½æ•´å‹ (0 åˆ° 18446744073709551615)\n\n\n5\nint8 æœ‰ç¬¦å· 8 ä½æ•´å‹ (-128 åˆ° 127)\n\n\n6\nint16 æœ‰ç¬¦å· 16 ä½æ•´å‹ (-32768 åˆ° 32767)\n\n\n7\nint32 æœ‰ç¬¦å· 32 ä½æ•´å‹ (-2147483648 åˆ° 2147483647)\n\n\n8\nint64 æœ‰ç¬¦å· 64 ä½æ•´å‹ (-9223372036854775808 åˆ° 9223372036854775807)\n\n\næµ®ç‚¹å‹\n\n\nåºå·\nç±»å‹å’Œæè¿°\n\n\n\n1\nfloat32 IEEE-754 32ä½æµ®ç‚¹å‹æ•°\n\n\n2\nfloat64 IEEE-754 64ä½æµ®ç‚¹å‹æ•°\n\n\n3\ncomplex64 32 ä½å®æ•°å’Œè™šæ•°\n\n\n4\ncomplex128 64 ä½å®æ•°å’Œè™šæ•°\n\n\n\nå…¶ä»–æ•°å­—ç±»å‹ä»¥ä¸‹åˆ—å‡ºäº†å…¶ä»–æ›´å¤šçš„æ•°å­—ç±»å‹ï¼š\n\n\n\nåºå·\nç±»å‹å’Œæè¿°\n\n\n\n1\nbyte ç±»ä¼¼ uint8\n\n\n2\nrune ç±»ä¼¼ int32\n\n\n3\nuint 32 æˆ– 64 ä½\n\n\n4\nint ä¸ uint ä¸€æ ·å¤§å°\n\n\n5\nuintptr æ— ç¬¦å·æ•´å‹ï¼Œç”¨äºå­˜æ”¾ä¸€ä¸ªæŒ‡é’ˆ\n\n\nå£°æ˜å˜é‡çš„ä¸€èˆ¬å½¢å¼æ˜¯ä½¿ç”¨ var å…³é”®å­—ï¼š\nvar identifier type\n\nå¯ä»¥ä¸€æ¬¡å£°æ˜å¤šä¸ªå˜é‡ï¼š\nvar identifier1, identifier2 type\n\nå…¶ä¸­varæ˜¯ä»£è¡¨å˜é‡çš„æ„æ€ï¼Œconstæ˜¯ä¸å¯å˜çš„å˜é‡ï¼Œtypeåˆ™æ˜¯å¯¹åº”çš„å˜é‡ç±»å‹\n","categories":["go"],"tags":["è¯­è¨€åŸºç¡€"]},{"title":"goè¯­è¨€è¸©å‘","url":"/2024/01/24/learnnote/go-xue-xi-bi-ji/go-yu-yan-cai-keng/","content":"goè¯­è¨€è¸©å‘// è‹¥å‡ºç°hashæ ¡éªŒé”™è¯¯è¯·ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤// set GONOSUMDB=*// set GOPROXY=direct","categories":["GO"],"tags":["GO","è¸©å‘"]},{"title":"æœºåœºæ”¶è—åˆ—è¡¨","url":"/2025/01/18/learnnote/v2ray-shi-yong-jiao-cheng/ji-chang-ping-tai/","content":"\nSSONEå¯¼èˆªç«™ (hello36d.com)\n\næœ€å¼ºæœºåœº (zqjc.org)\n\nç™¾å˜å°æ¨±-å®˜æ–¹åœ°å€å‘å¸ƒé¡µ (bbxy88.com)\n\n24å¹´å®æƒ å¥½ç”¨çš„ç¿»å¢™æœºåœºæ¨è/VPNæ¨è - æ€§ä»·æ¯”æœºåœºæµ‹é€Ÿ (duangks.com)\n\nç‹¬è§’å…½\n\n\n","categories":["æœºåœº"],"tags":["æœºåœº","clash","VPN","V2R"]},{"title":"FCNNç¥ç»ç½‘ç»œç®—æ³•","url":"/2023/02/24/learnnote/ren-gong-zhi-neng/bp-shen-jing-wang-luo-suan-fa/","content":"FCNNç¥ç»ç½‘ç»œç®—æ³•\n1 BPç¥ç»ç½‘ç»œæ¦‚å¿µ\né¦–å…ˆä»åç§°ä¸­å¯ä»¥çœ‹å‡ºï¼ŒBpç¥ç»ç½‘ç»œå¯ä»¥åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œbpå’Œç¥ç»ç½‘ç»œã€‚bpæ˜¯ Back Propagation çš„ç®€å†™ ï¼Œæ„æ€æ˜¯åå‘ä¼ æ’­ã€‚\nBPç½‘ç»œèƒ½å­¦ä¹ å’Œå­˜è´®å¤§é‡çš„è¾“å…¥-è¾“å‡ºæ¨¡å¼æ˜ å°„å…³ç³»ï¼Œè€Œæ— éœ€äº‹å‰æ­ç¤ºæè¿°è¿™ç§æ˜ å°„å…³ç³»çš„æ•°å­¦æ–¹ç¨‹ã€‚å®ƒçš„å­¦ä¹ è§„åˆ™æ˜¯ä½¿ç”¨æœ€é€Ÿä¸‹é™æ³•ï¼Œé€šè¿‡åå‘ä¼ æ’­æ¥ä¸æ–­è°ƒæ•´ç½‘ç»œçš„æƒå€¼å’Œé˜ˆå€¼ï¼Œä½¿ç½‘ç»œçš„è¯¯å·®å¹³æ–¹å’Œæœ€å°ã€‚\nå…¶ä¸»è¦çš„ç‰¹ç‚¹æ˜¯ï¼šä¿¡å·æ˜¯æ­£å‘ä¼ æ’­çš„ï¼Œè€Œè¯¯å·®æ˜¯åå‘ä¼ æ’­çš„ã€‚\nä¸¾ä¸€ä¸ªä¾‹å­ï¼ŒæŸå‚å•†ç”Ÿäº§ä¸€ç§äº§å“ï¼ŒæŠ•æ”¾åˆ°å¸‚åœºä¹‹åå¾—åˆ°äº†æ¶ˆè´¹è€…çš„åé¦ˆï¼Œæ ¹æ®æ¶ˆè´¹è€…çš„åé¦ˆï¼Œå‚å•†å¯¹äº§å“è¿›ä¸€æ­¥å‡çº§ï¼Œä¼˜åŒ–ï¼Œä¸€ç›´å¾ªç¯å¾€å¤ï¼Œç›´åˆ°å®ç°æœ€ç»ˆç›®çš„â€”â€”ç”Ÿäº§å‡ºè®©æ¶ˆè´¹è€…æ›´æ»¡æ„çš„äº§å“ã€‚äº§å“æŠ•æ”¾å°±æ˜¯â€œä¿¡å·å‰å‘ä¼ æ’­â€ï¼Œæ¶ˆè´¹è€…çš„åé¦ˆå°±æ˜¯â€œè¯¯å·®åå‘ä¼ æ’­â€ã€‚è¿™å°±æ˜¯BPç¥ç»ç½‘ç»œçš„æ ¸å¿ƒã€‚\n2 ç®—æ³•æµç¨‹å›¾\n\n3 ç¥ç»å…ƒæ¨¡å‹\n\næ¯ä¸ªç¥ç»å…ƒéƒ½æ¥å—æ¥è‡ªå…¶å®ƒç¥ç»å…ƒçš„è¾“å…¥ä¿¡å·ï¼Œæ¯ä¸ªä¿¡å·éƒ½é€šè¿‡ä¸€ä¸ªå¸¦æœ‰æƒé‡çš„è¿æ¥ä¼ é€’ï¼Œç¥ç»å…ƒæŠŠè¿™äº›ä¿¡å·åŠ èµ·æ¥å¾—åˆ°ä¸€ä¸ªæ€»è¾“å…¥å€¼ï¼Œç„¶åå°†æ€»è¾“å…¥å€¼ä¸ç¥ç»å…ƒçš„é˜ˆå€¼è¿›è¡Œå¯¹æ¯”ï¼ˆæ¨¡æ‹Ÿé˜ˆå€¼ç”µä½ï¼‰ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªâ€œæ¿€æ´»å‡½æ•°â€å¤„ç†å¾—åˆ°æœ€ç»ˆçš„è¾“å‡ºï¼ˆæ¨¡æ‹Ÿç»†èƒçš„æ¿€æ´»ï¼‰ï¼Œè¿™ä¸ªè¾“å‡ºåˆä¼šä½œä¸ºä¹‹åç¥ç»å…ƒçš„è¾“å…¥ä¸€å±‚ä¸€å±‚ä¼ é€’ä¸‹å»ã€‚\n4 æ¿€æ´»å‡½æ•°\nå¼•å…¥æ¿€æ´»å‡½æ•°çš„ç›®çš„æ˜¯åœ¨æ¨¡å‹ä¸­å¼•å…¥éçº¿æ€§ã€‚å¦‚æœæ²¡æœ‰æ¿€æ´»å‡½æ•°ï¼ˆå…¶å®ç›¸å½“äºæ¿€åŠ±å‡½æ•°æ˜¯f(x) = xï¼‰ï¼Œé‚£ä¹ˆæ— è®ºä½ çš„ç¥ç»ç½‘ç»œæœ‰å¤šå°‘å±‚ï¼Œæœ€ç»ˆéƒ½æ˜¯ä¸€ä¸ªçº¿æ€§æ˜ å°„ï¼Œé‚£ä¹ˆç½‘ç»œçš„é€¼è¿‘èƒ½åŠ›å°±ç›¸å½“æœ‰é™ï¼Œå•çº¯çš„çº¿æ€§æ˜ å°„æ— æ³•è§£å†³çº¿æ€§ä¸å¯åˆ†é—®é¢˜ã€‚æ­£å› ä¸ºä¸Šé¢çš„åŸå› ï¼Œæˆ‘ä»¬å†³å®šå¼•å…¥éçº¿æ€§å‡½æ•°ä½œä¸ºæ¿€åŠ±å‡½æ•°ï¼Œè¿™æ ·æ·±å±‚ç¥ç»ç½‘ç»œè¡¨è¾¾èƒ½åŠ›å°±æ›´åŠ å¼ºå¤§ã€‚\nBPç¥ç»ç½‘ç»œç®—æ³•å¸¸ç”¨çš„æ¿€æ´»å‡½æ•°ï¼š\n1ï¼‰Sigmoidï¼ˆlogisticï¼‰ï¼Œä¹Ÿç§°ä¸ºSå‹ç”Ÿé•¿æ›²çº¿ï¼Œå‡½æ•°åœ¨ç”¨äºåˆ†ç±»å™¨æ—¶ï¼Œæ•ˆæœæ›´å¥½ã€‚\n\n\n2ï¼‰Tanhå‡½æ•°ï¼ˆåŒæ›²æ­£åˆ‡å‡½æ•°ï¼‰ï¼Œè§£å†³äº†logisticä¸­å¿ƒä¸ä¸º0çš„ç¼ºç‚¹ï¼Œä½†ä¾æ—§æœ‰æ¢¯åº¦æ˜“æ¶ˆå¤±çš„ç¼ºç‚¹ã€‚\n\n\n3ï¼‰reluå‡½æ•°æ˜¯ä¸€ä¸ªé€šç”¨çš„æ¿€æ´»å‡½æ•°ï¼Œé’ˆå¯¹Sigmoidå‡½æ•°å’Œtanhçš„ç¼ºç‚¹è¿›è¡Œæ”¹è¿›çš„ï¼Œç›®å‰åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨ã€‚\n\n\n5 ç¥ç»ç½‘ç»œåŸºç¡€æ¶æ„\nBPç½‘ç»œç”±è¾“å…¥å±‚ã€éšè—å±‚ã€è¾“å‡ºå±‚ç»„æˆã€‚\n\nè¾“å…¥å±‚ï¼šä¿¡æ¯çš„è¾“å…¥ç«¯ï¼Œæ˜¯è¯»å…¥ä½ è¾“å…¥çš„æ•°æ®çš„\néšè—å±‚ï¼šä¿¡æ¯çš„å¤„ç†ç«¯ï¼Œå¯ä»¥è®¾ç½®è¿™ä¸ªéšè—å±‚çš„å±‚æ•°ï¼ˆåœ¨è¿™é‡Œä¸€å±‚éšè—å±‚ï¼Œqä¸ªç¥ç»å…ƒï¼‰\nè¾“å‡ºå±‚ï¼šä¿¡æ¯çš„è¾“å‡ºç«¯ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦çš„ç»“æœ\nvï¼Œwåˆ†åˆ«çš„è¾“å…¥å±‚åˆ°éšè—å±‚ï¼Œéšè—å±‚åˆ°è¾“å‡ºå±‚çš„æ˜¯æƒé‡\nå¯¹äºä¸Šå›¾çš„åªå«ä¸€ä¸ªéšå±‚çš„ç¥ç»ç½‘ç»œæ¨¡å‹ï¼šBPç¥ç»ç½‘ç»œçš„è¿‡ç¨‹ä¸»è¦åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œç¬¬ä¸€é˜¶æ®µæ˜¯ä¿¡å·çš„æ­£å‘ä¼ æ’­ï¼Œä»è¾“å…¥å±‚ç»è¿‡éšå«å±‚ï¼Œæœ€ååˆ°è¾¾è¾“å‡ºå±‚ï¼›ç¬¬äºŒé˜¶æ®µæ˜¯è¯¯å·®çš„åå‘ä¼ æ’­ï¼Œä»è¾“å‡ºå±‚åˆ°éšå«å±‚ï¼Œæœ€ååˆ°è¾“å…¥å±‚ï¼Œä¾æ¬¡è°ƒèŠ‚éšå«å±‚åˆ°è¾“å‡ºå±‚çš„æƒé‡å’Œåç½®ï¼Œè¾“å…¥å±‚åˆ°éšå«å±‚çš„æƒé‡å’Œåç½®ã€‚\n6 å¦‚ä½•ç¡®å®šéšå«å±‚ä¸­çš„ç¥ç»å…ƒä¸ªæ•°\nå› ä¸ºå¯¹äºéšå±‚çš„ç¥ç»å…ƒä¸ªæ•°çš„ç¡®å®šç›®å‰è¿˜æ²¡æœ‰ä»€ä¹ˆæ¯”è¾ƒå®Œç¾çš„è§£å†³æ–¹æ¡ˆï¼Œæ‰€ä»¥å¯¹æ­¤ç»è¿‡è‡ªå·±æŸ¥é˜…ä¹¦ç±å’Œä¸Šç½‘æŸ¥é˜…èµ„æ–™ï¼Œæœ‰ä»¥ä¸‹çš„å‡ ç§ç»éªŒæ–¹å¼æ¥ç¡®å®šéšå±‚çš„ç¥ç»å…ƒçš„ä¸ªæ•°ï¼Œæ–¹å¼åˆ†åˆ«å¦‚ä¸‹æ‰€ç¤ºï¼š\n\nä¸€èˆ¬å–(è¾“å…¥+è¾“å‡º)/2\néšå±‚ä¸€èˆ¬å°äºè¾“å…¥å±‚\nï¼ˆè¾“å…¥å±‚+1ï¼‰/2\nlog(è¾“å…¥å±‚)\nlog(è¾“å…¥å±‚)+10\n\nå®éªŒå¾—åˆ°ä»¥ç¬¬äº”ç§çš„æ–¹å¼å¾—åˆ°çš„æµ‹è¯•ç»“æœç›¸å¯¹è¾ƒé«˜ã€‚\n","categories":["AI","NN"],"tags":["BPNN"]},{"title":"CNN(å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•)","url":"/2024/06/29/learnnote/ren-gong-zhi-neng/cnn-juan-ji-shen-jing-wang-luo-suan-fa/","content":"CNNï¼ˆå·ç§¯ç¥ç»ç½‘ç»œç®—æ³•ï¼‰\n\né‡éš¾ç‚¹ï¼šCNNçš„BPyæ¼”ç®—\n\n","categories":["AI","CNN"],"tags":["NN"]},{"title":"ReLUå‡½æ•°","url":"/2023/12/11/learnnote/ren-gong-zhi-neng/relu-han-shu/","content":"ReLUå‡½æ•°\nä»‹ç»ï¼š\n\nReLUå‡½æ•°æ˜¯ä¸€ç§éçº¿æ€§æ¿€æ´»å‡½æ•°ï¼Œå…¶å‡½æ•°å½¢å¼ä¸ºf(x) = max(0, x)ã€‚**å½“è¾“å…¥å€¼å°äº0æ—¶ï¼ŒReLUå‡½æ•°è¾“å‡º0ï¼›å½“è¾“å…¥å€¼å¤§äº0æ—¶ï¼ŒReLUå‡½æ•°è¾“å‡ºè¾“å…¥å€¼æœ¬èº«ã€‚ReLUå‡½æ•°å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š\n\nç®€å•æ€§ï¼šReLUå‡½æ•°çš„å®šä¹‰ç®€å•ï¼Œä»…éœ€æ¯”è¾ƒè¾“å…¥å€¼å’Œ0çš„å¤§å°å³å¯ç¡®å®šè¾“å‡ºå€¼ï¼Œå› æ­¤è®¡ç®—æ•ˆç‡é«˜ã€‚\n\néçº¿æ€§ï¼šè™½ç„¶ç§°ä¸ºçº¿æ€§æ•´æµå‡½æ•°ï¼Œä½†ReLUå‡½æ•°å®é™…ä¸Šæ˜¯éçº¿æ€§çš„ï¼Œèƒ½å¤Ÿå¼•å…¥éçº¿æ€§å› ç´ ï¼Œå¢å¼ºæ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›ã€‚\n\næ¿€æ´»ç¨€ç–æ€§ï¼šå½“è¾“å…¥å€¼å°äº0æ—¶ï¼ŒReLUå‡½æ•°çš„è¾“å‡ºä¸º0ï¼Œè¿™æ„å‘³ç€ReLUå‡½æ•°å¯ä»¥æ¿€æ´»ç¨€ç–æ€§ï¼Œå³åªæ¿€æ´»è¾“å…¥ä¸­çš„ä¸€éƒ¨åˆ†ç¥ç»å…ƒï¼Œå¢å¼ºæ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å’Œé²æ£’æ€§ã€‚\n\nå‡¸æ€§ï¼šReLUå‡½æ•°åœ¨å…¶å®šä¹‰åŸŸä¸Šæ˜¯å‡¸å‡½æ•°ï¼Œå…·æœ‰è¾ƒå¥½çš„ä¼˜åŒ–æ€§è´¨ã€‚\n\n\n  ReLUå‡½æ•°åœ¨æ·±åº¦å­¦ä¹ ä¸­å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š\n\næ¢¯åº¦ç¨³å®šæ€§ï¼šåœ¨æ­£åŒºé—´ä¸Šæ¢¯åº¦ä¸ºå¸¸æ•°1ï¼Œåœ¨è´ŸåŒºé—´ä¸Šæ¢¯åº¦ä¸º0ï¼Œæ²¡æœ‰å‡ºç°æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚\n\nè®¡ç®—æ•ˆç‡ï¼šReLUå‡½æ•°çš„è®¡ç®—éå¸¸ç®€å•ï¼Œåªéœ€è¦è¿›è¡Œä¸€æ¬¡æ¯”è¾ƒæ“ä½œå’Œä¸€æ¬¡ä¹˜æ³•æ“ä½œï¼Œç›¸æ¯”äºå…¶ä»–æ¿€æ´»å‡½æ•°æ›´åŠ é«˜æ•ˆã€‚\n\nç”Ÿç‰©åˆç†æ€§ï¼šReLUå‡½æ•°çš„å½¢å¼ä¸ç”Ÿç‰©ç¥ç»å…ƒçš„æ¿€æ´»æ–¹å¼è¾ƒä¸ºæ¥è¿‘ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°å»ºæ¨¡ç”Ÿç‰©ç¥ç»ç³»ç»Ÿçš„ç‰¹æ€§2ã€‚\n\n\n  ReLUå‡½æ•°å¹¿æ³›åº”ç”¨äºæ·±åº¦å­¦ä¹ å’Œç¥ç»ç½‘ç»œä¸­çš„å„ä¸ªä»»åŠ¡ï¼Œå¦‚å›¾åƒå¤„ç†ã€è‡ªç„¶è¯­è¨€å¤„ç†ã€å¼ºåŒ–å­¦ä¹ ç­‰\n\n","categories":["AI","NN","ç®—æ³•"],"tags":["ReLUå‡½æ•°"]},{"url":"/2025/04/25/learnnote/ren-gong-zhi-neng/sumo-yu-python-jiao-ben/","content":"\n\nSUMOä¸Pythonè„šæœ¬\nä¸€ã€åˆ©ç”¨Pythonå¯åŠ¨SUMOdef train():    # å¯åŠ¨SUMO    sumo_cmd = [\"sumo-gui\", \"-c\", \"E:/SUMOProject/study1.sumocfg\", \"--start\"] #è¿™é‡Œæ³¨æ„æ›¿æ¢ä¸ºå¯¹åº”ä½ çš„SUMOé¡¹ç›®sumocfgæ–‡ä»¶è·¯å¾„    traci.start(sumo_cmd)        traci.close() #å…³é—­ä»¿çœŸï¼Œè¿™é‡Œcloseå†…éƒ¨å¯ä»¥é€‰å¡«å‚æ•°ï¼Œå¦‚æœä¸ºfalseåˆ™æ˜¯å¼ºåˆ¶å…³é—­ï¼Œä¸ç„¶ä¼šç­‰ç³»ç»Ÿå“åº”å®Œæ¯•åæ‰ä¼šå…³é—­\n\n\n\näºŒã€ä»¿çœŸäº¤äº’æ§åˆ¶çº¢ç»¿ç¯ç›¸ä½ \ntraci.trafficlight.setPhase(\"0\",2) #é€‰æ‹©ç›¸ä½ï¼Œä¹Ÿå°±æ˜¯é€‰æ‹©çº¢ç»¿ç¯ç­–ç•¥ï¼Œæ³¨æ„æ˜¯ä»0å¼€å§‹çš„\n\n\n\n\n\nè·å–ä»¿çœŸæ˜¯å¦æœ‰è½¦è¾†traci.simulation.getMinExpectedNumber()\n\næ¯”å¦‚ï¼š\ndef run():    \ttraci.trafficlight.setPhase(\"0\",2)        # whileå¾ªç¯ï¼Œå¦‚æœæ²¡æœ‰è½¦è¾†æ‰ç»“æŸ        while traci.simulation.getMinExpectedNumber() &gt; 0:            traci.simulationStep();        traci.close()        sys.stdout.flush()\n\n"},{"title":"YOLOå­¦ä¹ ","url":"/2025/01/18/learnnote/ren-gong-zhi-neng/yolo/","content":"YOLOå­¦ä¹ \næŒ‡æ ‡åˆ†æï¼š\n$$Precision={TP \\over TP+FP}$$\n\n\n\n","categories":["YOLO"],"tags":["YOLO"]},{"title":"YOLOv8ç½‘ç»œç»“æ„å›¾","url":"/2025/01/18/learnnote/ren-gong-zhi-neng/yolov8/","content":"YOLOv8ç½‘ç»œç»“æ„å›¾\n","categories":["YOLO"],"tags":["YOLO"]},{"title":"å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•","url":"/2023/12/10/learnnote/ren-gong-zhi-neng/juan-ji-shen-jing-wang-luo-suan-fa/","content":"å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•\n1ã€å·ç§¯ç¥ç»ç½‘ç»œ-CNN çš„åŸºæœ¬åŸç†\n å·ç§¯ç¥ç»ç½‘ç»œ(Convolutional Neural Networks, CNNs)æ˜¯ä¸€ç§æ·±åº¦å­¦ä¹ ç®—æ³•ï¼Œç‰¹åˆ«é€‚ç”¨äºå›¾åƒå¤„ç†å’Œåˆ†æã€‚å…¶è®¾è®¡çµæ„Ÿæ¥æºäºç”Ÿç‰©å­¦ä¸­è§†è§‰çš®å±‚çš„æœºåˆ¶ï¼Œæ˜¯ä¸€ç§å¼ºå¤§çš„ç‰¹å¾æå–å’Œåˆ†ç±»å·¥å…·ã€‚\n\n1.1ã€Layers\næ•´ä¸ªCNNæ˜¯ç”±è‹¥å¹²å±‚ä¸åŒç±»å‹çš„ç½‘ç»œè¿æ¥æ„æˆçš„çš„ã€‚ä¾‹å¦‚ä¸‹å›¾ï¼Œé¦–å…ˆç»è¿‡ä¸€æ¬¡å·ç§¯æ»¤æ³¢å¤„ç†ï¼Œå¾—åˆ°äº†C1ï¼ˆå·ç§¯å±‚ Feature mapï¼‰ï¼Œç„¶ååˆç»è¿‡äº†ä¸€æ¬¡ä¸‹é‡‡æ ·ï¼ˆæ± åŒ–ï¼‰å¤„ç†å¾—åˆ°äº†S2ï¼ˆä¸‹é‡‡æ ·å±‚ï¼‰ï¼Œä¹‹ååˆæ˜¯ä¸€æ¬¡å·ç§¯æ»¤æ³¢å¾—åˆ°C3å·ç§¯å±‚ï¼Œä¾æ¬¡å¤„ç†è‡³é€”ä¸­çš„C5ä½å…¨è¿æ¥å±‚ï¼Œè‡³æ­¤å·ç§¯çš„è¿‡ç¨‹ç»“æŸï¼Œè¢«æŠ½è±¡çš„ç‰¹å¾è¾“å…¥è‡³ä¼ ç»Ÿçš„å…¨è¿æ¥ç¥ç»ç½‘ç»œã€‚\n\n\n1.1.1 è¾“å…¥å±‚ï¼ˆInput Layerï¼‰\n è¿™æ˜¯ç½‘ç»œçš„æœ€åˆå±‚ï¼Œè´Ÿè´£æ¥æ”¶åŸå§‹åƒç´ æ•°æ®ã€‚æ¯ä¸ªåƒç´ çš„å€¼éƒ½è¢«è§†ä¸ºåŸå§‹ç‰¹å¾ã€‚\n\n1.1.2 å·ç§¯å±‚ï¼ˆConvolutional Layerï¼‰\nåœ¨å·ç§¯å±‚ä¸­ï¼Œä¸€ç»„å¯å­¦ä¹ çš„æ»¤æ³¢å™¨ï¼ˆå·ç§¯æ ¸ï¼‰åœ¨è¾“å…¥æ•°æ®ä¸Šè¿›è¡Œæ»‘åŠ¨æ“ä½œä»¥ç”Ÿæˆç‰¹å¾å›¾ï¼ˆFeature Mapsï¼Œä¹Ÿå°±æ˜¯ä¸‹å›¾çš„Convolved Featureï¼‰ã€‚å·ç§¯æ“ä½œå…è®¸ç½‘ç»œå­¦ä¹ åˆ°è¾“å…¥æ•°æ®çš„å±€éƒ¨ç‰¹å¾ã€‚æ­¤å¤–ï¼Œç”±äºæ»¤æ³¢å™¨ï¼ˆå·ç§¯æ ¸ï¼‰çš„æƒé‡åœ¨å›¾åƒçš„ä¸åŒéƒ¨åˆ†æ˜¯å…±äº«çš„ï¼Œå·ç§¯å±‚å¯ä»¥æ˜¾è‘—å‡å°‘æ¨¡å‹çš„å‚æ•°æ•°é‡ï¼Œä»è€Œå‡è½»è¿‡æ‹Ÿåˆçš„é£é™©ã€‚\næ€ä¹ˆç†è§£æƒé‡å…±äº«å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥è¿™100ä¸ªå‚æ•°ï¼ˆä¹Ÿå°±æ˜¯å·ç§¯æ“ä½œï¼‰çœ‹æˆæ˜¯æå–ç‰¹å¾çš„æ–¹å¼ï¼Œè¯¥æ–¹å¼ä¸ä½ç½®æ— å…³ã€‚è¿™å…¶ä¸­éšå«çš„åŸç†åˆ™æ˜¯ï¼šå›¾åƒçš„ä¸€éƒ¨åˆ†çš„ç»Ÿè®¡ç‰¹æ€§ä¸å…¶ä»–éƒ¨åˆ†æ˜¯ä¸€æ ·çš„ã€‚è¿™ä¹Ÿæ„å‘³ç€æˆ‘ä»¬åœ¨è¿™ä¸€éƒ¨åˆ†å­¦ä¹ çš„ç‰¹å¾ä¹Ÿèƒ½ç”¨åœ¨å¦ä¸€éƒ¨åˆ†ä¸Šï¼Œæ‰€ä»¥å¯¹äºè¿™ä¸ªå›¾åƒä¸Šçš„æ‰€æœ‰ä½ç½®ï¼Œæˆ‘ä»¬éƒ½èƒ½ä½¿ç”¨åŒæ ·çš„å­¦ä¹ ç‰¹å¾ã€‚\n\n\n å·ç§¯å±‚çš„è¿ç®—è¿‡ç¨‹å¦‚ä¸‹å›¾ï¼Œç”¨ä¸€ä¸ªå·ç§¯æ ¸æ‰«å®Œæ•´å¼ å›¾ç‰‡ï¼š\n\n\n\n==æ³¨ï¼š==é»„è‰²éƒ¨åˆ†æ¡†é€‰éƒ¨åˆ†çš„ä¸‹æ ‡çº¢è‰²æ•°å­—ä»£è¡¨çš„æ˜¯å·ç§¯æ ¸å†…çš„å€¼ã€‚\n\n\nè¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªè¿‡æ»¤å™¨ï¼ˆå·ç§¯æ ¸ï¼‰æ¥è¿‡æ»¤å›¾åƒçš„å„ä¸ªå°åŒºåŸŸï¼Œä»è€Œå¾—åˆ°è¿™äº›å°åŒºåŸŸçš„ç‰¹å¾å€¼ã€‚\nåœ¨å…·ä½“åº”ç”¨ä¸­ï¼Œå¾€å¾€æœ‰å¤šä¸ªå·ç§¯æ ¸ï¼Œå¯ä»¥è®¤ä¸ºï¼Œæ¯ä¸ªå·ç§¯æ ¸ä»£è¡¨äº†ä¸€ç§å›¾åƒæ¨¡å¼ï¼Œå¦‚æœæŸä¸ªå›¾åƒå—ä¸æ­¤å·ç§¯æ ¸å·ç§¯å‡ºçš„å€¼å¤§ï¼Œåˆ™è®¤ä¸ºæ­¤å›¾åƒå—ååˆ†æ¥è¿‘äºæ­¤å·ç§¯æ ¸ã€‚å¦‚æœæˆ‘ä»¬è®¾è®¡äº†6ä¸ªå·ç§¯æ ¸ï¼Œå¯ä»¥ç†è§£ï¼šæˆ‘ä»¬è®¤ä¸ºè¿™ä¸ªå›¾åƒä¸Šæœ‰6ç§åº•å±‚çº¹ç†æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç”¨6ç§åŸºç¡€æ¨¡å¼å°±èƒ½æç»˜å‡ºä¸€å‰¯å›¾åƒã€‚\n\n\n\nä»¥ä¸‹å°±æ˜¯25ç§ä¸åŒçš„å·ç§¯æ ¸çš„ç¤ºä¾‹ï¼š\n\n\n1.1.3 ReLUå±‚ï¼ˆRectified Linear Unit Layerï¼‰\nè¿™æ˜¯éçº¿æ€§æ“ä½œå±‚ï¼Œé€šå¸¸ç´§è·Ÿåœ¨å·ç§¯å±‚ä¹‹åã€‚å…¶ç›®çš„æ˜¯é€šè¿‡åº”ç”¨éçº¿æ€§å‡½æ•°å¦‚ReLUï¼ˆmax(0, x)ï¼‰æ¥å¢åŠ ç½‘ç»œçš„éçº¿æ€§ç‰¹æ€§ã€‚\n\n1.1.4 æ± åŒ–å±‚ï¼ˆPooling Layerï¼‰\nä¹Ÿç§°ä½œä¸‹é‡‡æ ·å±‚ï¼Œå…¶ä¸»è¦åŠŸèƒ½æ˜¯é™ä½ç‰¹å¾å›¾çš„ç©ºé—´å°ºå¯¸ï¼Œä»è€Œé™ä½æ¨¡å‹çš„è®¡ç®—å¤æ‚æ€§ï¼Œå¹¶åœ¨ä¸€å®šç¨‹åº¦ä¸Šæä¾›æ¨¡å‹çš„å¹³ç§»ä¸å˜æ€§ã€‚å¸¸è§çš„æ± åŒ–æ“ä½œæœ‰æœ€å¤§æ± åŒ–(Max Pooling)å’Œå¹³å‡æ± åŒ–(Average Pooling)ã€‚\nå½“å›¾åƒå¤ªå¤§æ—¶ï¼Œæ± åŒ–å±‚éƒ¨åˆ†å°†å‡å°‘å‚æ•°çš„æ•°é‡ã€‚ç©ºé—´æ± åŒ–ä¹Ÿç§°ä¸ºå­é‡‡æ ·æˆ–ä¸‹é‡‡æ ·ï¼Œå¯åœ¨ä¿ç•™é‡è¦ä¿¡æ¯çš„åŒæ—¶é™ä½æ•°æ®ç»´åº¦ï¼Œå¯ä»¥å…·æœ‰ä¸åŒçš„ç±»å‹ï¼Œå¦‚æœ€å¤§å€¼æ± åŒ–(Max Pooling)ï¼Œå¹³å‡æ± åŒ–(Average Pooling)ï¼ŒåŠ å’Œæ± åŒ–(Sum Pooling)ã€‚\næœ€å¸¸è§çš„æ˜¯æœ€å¤§å€¼æ± åŒ–ï¼Œå…¶å°†è¾“å…¥çš„å›¾åƒåˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªçŸ©å½¢åŒºåŸŸï¼Œå¯¹æ¯ä¸ªå­åŒºåŸŸè¾“å‡ºæœ€å¤§å€¼ã€‚è¿™ç§æœºåˆ¶èƒ½å¤Ÿæœ‰æ•ˆåœ°åŸå› åœ¨äºï¼Œåœ¨å‘ç°ä¸€ä¸ªç‰¹å¾ä¹‹åï¼Œå®ƒçš„ç²¾ç¡®ä½ç½®è¿œä¸åŠå®ƒå’Œå…¶ä»–ç‰¹å¾çš„ç›¸å¯¹ä½ç½®çš„å…³ç³»é‡è¦ã€‚æ± åŒ–å±‚ä¼šä¸æ–­åœ°å‡å°æ•°æ®çš„ç©ºé—´å¤§å°ï¼Œèƒ½å¤Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šæ§åˆ¶è¿‡æ‹Ÿåˆã€‚é€šå¸¸æ¥è¯´ï¼ŒCNNçš„å·ç§¯å±‚ä¹‹é—´éƒ½ä¼šå‘¨æœŸæ€§åœ°æ’å…¥æ± åŒ–å±‚ã€‚\n\n\n1.1.5 å…¨è¿æ¥å±‚ï¼ˆFully Connected Layerï¼‰\nåœ¨ä¸€ç³»åˆ—çš„å·ç§¯å±‚å’Œæ± åŒ–å±‚ä¹‹åï¼Œå…¨è¿æ¥å±‚è¢«ç”¨äºå¯¹ä¹‹å‰æå–çš„ç‰¹å¾è¿›è¡Œé«˜çº§åˆ«çš„æ¨ç†ã€‚åœ¨è¿™ä¸€å±‚ä¸­ï¼Œæ‰€æœ‰çš„è¾“å…¥éƒ½è¢«è¿æ¥åˆ°æ¯ä¸ªç¥ç»å…ƒï¼Œè¿™ä¸ä¼ ç»Ÿçš„ç¥ç»ç½‘ç»œç±»ä¼¼ã€‚è¿™ä¸ªéƒ¨åˆ†å°±æ˜¯æœ€åä¸€æ­¥äº†ï¼Œç»è¿‡å·ç§¯å±‚å’Œæ± åŒ–å±‚å¤„ç†è¿‡çš„æ•°æ®è¾“å…¥åˆ°å…¨è¿æ¥å±‚ï¼Œå¾—åˆ°æœ€ç»ˆæƒ³è¦çš„ç»“æœã€‚ç»è¿‡å·ç§¯å±‚å’Œæ± åŒ–å±‚é™ç»´è¿‡çš„æ•°æ®ï¼Œå…¨è¿æ¥å±‚æ‰èƒ½â€è·‘å¾—åŠ¨â€ï¼Œä¸ç„¶æ•°æ®é‡å¤ªå¤§ï¼Œè®¡ç®—æˆæœ¬é«˜ï¼Œæ•ˆç‡ä½ä¸‹ã€‚\n\n1.1.6 è¾“å‡ºå±‚ï¼ˆOutput Layerï¼‰\næœ€åï¼Œè¾“å‡ºå±‚é€šå¸¸ä½¿ç”¨softmaxæ¿€æ´»å‡½æ•°è¿›è¡Œå¤šç±»åˆ†ç±»ï¼Œæˆ–ä½¿ç”¨sigmoidæ¿€æ´»å‡½æ•°è¿›è¡ŒäºŒåˆ†ç±»ã€‚\n\n1.2 åå‘ä¼ æ’­ç®—æ³•æ¨å¯¼ï¼ˆBackpropagationï¼‰1.2.1 å›é¡¾DNNçš„åå‘ä¼ æ’­ç®—æ³•\næˆ‘ä»¬é¦–å…ˆå›é¡¾DNNçš„åå‘ä¼ æ’­ç®—æ³•ã€‚åœ¨DNNä¸­ï¼Œæˆ‘ä»¬æ˜¯é¦–å…ˆè®¡ç®—å‡ºè¾“å‡ºå±‚çš„$\\delta^L$:$$\\delta^L = \\frac{\\partial J(W,b)}{\\partial z^L} = \\frac{\\partial J(W,b)}{\\partial a^L}\\odot \\sigma{â€˜}(zL)$$\nã€€ã€€åˆ©ç”¨æ•°å­¦å½’çº³æ³•ï¼Œç”¨$\\delta^l+1$çš„å€¼ä¸€æ­¥æ­¥çš„å‘å‰æ±‚å‡ºç¬¬lå±‚çš„$\\delta^l$ï¼Œè¡¨è¾¾å¼ä¸ºï¼š$$\\delta^{l} = (\\frac{\\partial z^{l+1}}{\\partial z{l}})T\\delta^{l+1} = (W{l+1})T\\delta^{l+1}\\odot \\sigma{â€˜}(zl)$$\nã€€ã€€æœ‰äº†$\\delta ^l$çš„è¡¨è¾¾å¼ï¼Œä»è€Œæ±‚å‡º$W,b$çš„æ¢¯åº¦è¡¨è¾¾å¼ï¼š$$\\frac{\\partial J(W,b)}{\\partial W^l} = \\delta{l}(a)^T\\frac{\\partial J(W,b,x,y)}{\\partial b^l} = = \\delta^{l}$$\nã€€ã€€æœ‰äº†$W,b$æ¢¯åº¦è¡¨è¾¾å¼ï¼Œå°±å¯ä»¥ç”¨æ¢¯åº¦ä¸‹é™æ³•æ¥ä¼˜åŒ–$W,b$,æ±‚å‡ºæœ€ç»ˆçš„æ‰€æœ‰$W,b$çš„å€¼ã€‚\nã€€ã€€ç°åœ¨æˆ‘ä»¬æƒ³æŠŠåŒæ ·çš„æ€æƒ³ç”¨åˆ°CNNä¸­ï¼Œå¾ˆæ˜æ˜¾ï¼ŒCNNæœ‰äº›ä¸åŒçš„åœ°æ–¹ï¼Œä¸èƒ½ç›´æ¥å»å¥—ç”¨DNNçš„åå‘ä¼ æ’­ç®—æ³•çš„å…¬å¼ã€‚\n\n1.2.2 CNNçš„åå‘ä¼ æ’­ç®—æ³•æ€æƒ³\nè¦å¥—ç”¨DNNçš„åå‘ä¼ æ’­ç®—æ³•åˆ°CNNï¼Œæœ‰å‡ ä¸ªé—®é¢˜éœ€è¦è§£å†³ï¼š\nã€€ã€€1ï¼‰æ± åŒ–å±‚æ²¡æœ‰æ¿€æ´»å‡½æ•°ï¼Œè¿™ä¸ªé—®é¢˜å€’æ¯”è¾ƒå¥½è§£å†³ï¼Œæˆ‘ä»¬å¯ä»¥ä»¤æ± åŒ–å±‚çš„æ¿€æ´»å‡½æ•°ä¸º$\\sigma(z)=z$ï¼Œå³æ¿€æ´»åå°±æ˜¯è‡ªå·±æœ¬èº«ã€‚è¿™æ ·æ± åŒ–å±‚æ¿€æ´»å‡½æ•°çš„å¯¼æ•°ä¸º1.\nã€€ã€€2ï¼‰æ± åŒ–å±‚åœ¨å‰å‘ä¼ æ’­çš„æ—¶å€™ï¼Œå¯¹è¾“å…¥è¿›è¡Œäº†å‹ç¼©ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç°åœ¨éœ€è¦å‘å‰åå‘æ¨å¯¼$\\delta ^{lâˆ’1}$ï¼Œè¿™ä¸ªæ¨å¯¼æ–¹æ³•å’ŒDNNå®Œå…¨ä¸åŒã€‚\n  3ï¼‰å·ç§¯å±‚æ˜¯é€šè¿‡å¼ é‡å·ç§¯ï¼Œæˆ–è€…è¯´è‹¥å¹²ä¸ªçŸ©é˜µå·ç§¯æ±‚å’Œè€Œå¾—çš„å½“å‰å±‚çš„è¾“å‡ºï¼Œè¿™å’ŒDNNå¾ˆä¸ç›¸åŒï¼ŒDNNçš„å…¨è¿æ¥å±‚æ˜¯ç›´æ¥è¿›è¡ŒçŸ©é˜µä¹˜æ³•å¾—åˆ°å½“å‰å±‚çš„è¾“å‡ºã€‚è¿™æ ·åœ¨å·ç§¯å±‚åå‘ä¼ æ’­çš„æ—¶å€™ï¼Œä¸Šä¸€å±‚çš„$\\delta  ^{lâˆ’1}$é€’æ¨è®¡ç®—æ–¹æ³•è‚¯å®šæœ‰æ‰€ä¸åŒã€‚\n\nã€€ã€€4ï¼‰å¯¹äºå·ç§¯å±‚ï¼Œç”±äº$W$ä½¿ç”¨çš„è¿ç®—æ˜¯å·ç§¯ï¼Œé‚£ä¹ˆä»$\\delta ^l$æ¨å¯¼å‡ºè¯¥å±‚çš„æ‰€æœ‰å·ç§¯æ ¸çš„$W,b$çš„æ–¹å¼ä¹Ÿä¸åŒã€‚\nã€€ã€€ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œé—®é¢˜1æ¯”è¾ƒå¥½è§£å†³ï¼Œä½†æ˜¯é—®é¢˜2,3,4å°±éœ€è¦å¥½å¥½çš„åŠ¨ä¸€ç•ªè„‘ç­‹äº†ï¼Œè€Œé—®é¢˜2,3,4ä¹Ÿæ˜¯è§£å†³CNNåå‘ä¼ æ’­ç®—æ³•çš„å…³é”®æ‰€åœ¨ã€‚å¦å¤–å¤§å®¶è¦æ³¨æ„åˆ°çš„æ˜¯ï¼ŒDNNä¸­çš„$a_l,c_l$éƒ½åªæ˜¯ä¸€ä¸ªå‘é‡ï¼Œè€Œæˆ‘ä»¬CNNä¸­çš„$a_l,z_l$éƒ½æ˜¯ä¸€ä¸ªå¼ é‡ï¼Œè¿™ä¸ªå¼ é‡æ˜¯ä¸‰ç»´çš„ï¼Œå³ç”±è‹¥å¹²ä¸ªè¾“å…¥çš„å­çŸ©é˜µç»„æˆã€‚\nã€€ã€€ä¸‹é¢æˆ‘ä»¬å°±é’ˆå¯¹é—®é¢˜2,3,4æ¥ä¸€æ­¥æ­¥ç ”ç©¶CNNçš„åå‘ä¼ æ’­ç®—æ³•ã€‚\nã€€ã€€åœ¨ç ”ç©¶è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºå·ç§¯å±‚å¯ä»¥æœ‰å¤šä¸ªå·ç§¯æ ¸ï¼Œå„ä¸ªå·ç§¯æ ¸çš„å¤„ç†æ–¹æ³•æ˜¯å®Œå…¨ç›¸åŒä¸”ç‹¬ç«‹çš„ï¼Œä¸ºäº†ç®€åŒ–ç®—æ³•å…¬å¼çš„å¤æ‚åº¦ï¼Œæˆ‘ä»¬ä¸‹é¢æåˆ°å·ç§¯æ ¸éƒ½æ˜¯å·ç§¯å±‚ä¸­è‹¥å¹²å·ç§¯æ ¸ä¸­çš„ä¸€ä¸ªã€‚\n\n1.2.3 å·²çŸ¥æ± åŒ–å±‚çš„$\\delta ^l$ï¼Œæ¨å¯¼ä¸Šä¸€éšè—å±‚çš„$\\delta ^{l-1}$\næˆ‘ä»¬é¦–å…ˆè§£å†³ä¸Šé¢çš„é—®é¢˜2ï¼Œå¦‚æœå·²çŸ¥æ± åŒ–å±‚çš„$\\delta ^l$ï¼Œæ¨å¯¼å‡ºä¸Šä¸€éšè—å±‚çš„$\\delta ^{lâˆ’1}$ã€‚\nã€€ã€€åœ¨å‰å‘ä¼ æ’­ç®—æ³•æ—¶ï¼Œæ± åŒ–å±‚ä¸€èˆ¬æˆ‘ä»¬ä¼šç”¨MAXæˆ–è€…Averageå¯¹è¾“å…¥è¿›è¡Œæ± åŒ–ï¼Œæ± åŒ–çš„åŒºåŸŸå¤§å°å·²çŸ¥ã€‚ç°åœ¨æˆ‘ä»¬åè¿‡æ¥ï¼Œè¦ä»ç¼©å°åçš„è¯¯å·®$\\delta ^l$ï¼Œè¿˜åŸå‰ä¸€æ¬¡è¾ƒå¤§åŒºåŸŸå¯¹åº”çš„è¯¯å·®ã€‚\nã€€ã€€åœ¨åå‘ä¼ æ’­æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆä¼šæŠŠ$\\delta ^l$çš„æ‰€æœ‰å­çŸ©é˜µçŸ©é˜µå¤§å°è¿˜åŸæˆæ± åŒ–ä¹‹å‰çš„å¤§å°ï¼Œç„¶åå¦‚æœæ˜¯MAXï¼Œåˆ™æŠŠ$\\delta ^l$çš„æ‰€æœ‰å­çŸ©é˜µçš„å„ä¸ªæ± åŒ–å±€åŸŸçš„å€¼æ”¾åœ¨ä¹‹å‰åšå‰å‘ä¼ æ’­ç®—æ³•å¾—åˆ°æœ€å¤§å€¼çš„ä½ç½®ã€‚å¦‚æœæ˜¯Averageï¼Œåˆ™æŠŠ$\\delta ^l$çš„æ‰€æœ‰å­çŸ©é˜µçš„å„ä¸ªæ± åŒ–å±€åŸŸçš„å€¼å–å¹³å‡åæ”¾åœ¨è¿˜åŸåçš„å­çŸ©é˜µä½ç½®ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸€èˆ¬å«åšupsampleã€‚\nã€€ã€€ç”¨ä¸€ä¸ªä¾‹å­å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¡¨ç¤ºï¼šå‡è®¾æˆ‘ä»¬çš„æ± åŒ–åŒºåŸŸå¤§å°æ˜¯2x2ã€‚$\\delta ^l$çš„ç¬¬kä¸ªå­çŸ©é˜µä¸º:\n$\\delta ^l _k = \\begin{pmatrix} 2&amp;8 \\ 4&amp;6\\end{pmatrix}$\nç”±äºæ± åŒ–åŒºåŸŸä¸º2x2ï¼Œæˆ‘ä»¬å…ˆè®²$\\delta ^l _k$åšè¿˜åŸï¼Œå³å˜æˆï¼š\n$\\begin{pmatrix} 0&amp;0&amp;0&amp;0 \\ 0&amp;2&amp;8&amp;0 \\ 0&amp;4&amp;6&amp;0 \\ 0&amp;0&amp;0&amp;0 \\end{pmatrix}$\nå¦‚æœæ˜¯MAXï¼Œå‡è®¾æˆ‘ä»¬ä¹‹å‰åœ¨å‰å‘ä¼ æ’­æ—¶è®°å½•çš„æœ€å¤§å€¼ä½ç½®åˆ†åˆ«æ˜¯å·¦ä¸Šï¼Œå³ä¸‹ï¼Œå³ä¸Šï¼Œå·¦ä¸‹ï¼Œåˆ™è½¬æ¢åçš„çŸ©é˜µä¸ºï¼š\n$\\begin{pmatrix} 2&amp;0&amp;0&amp;0 \\ 0&amp;0&amp;0&amp;8 \\ 0 &amp;4&amp;0&amp;0 \\ 0&amp;0&amp;6&amp;0 \\end{pmatrix}$\nå¦‚æœæ˜¯Averageï¼Œåˆ™è¿›è¡Œå¹³å‡ï¼šè½¬æ¢åçš„çŸ©é˜µä¸ºï¼š\n$\\begin{pmatrix} 0.5&amp;0.5&amp;2&amp;2 \\ 0.5&amp;0.5&amp;2&amp;2 \\ 1&amp;1&amp;1.5&amp;1.5 \\ 1&amp;1&amp;1.5&amp;1.5 \\end{pmatrix}$\nè¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†ä¸Šä¸€å±‚ $\\frac{\\partial J(W,b)}{\\partial a_k^{l-1}} çš„å€¼ï¼Œè¦å¾—åˆ°\\delta_k^{l-1}ï¼š\\delta_k^{l-1}=({\\partial a^{l-1} _k \\over \\partial z ^{l-1} _k})^T{\\partial J(W,b) \\over \\partial a^{l-1} _k} = upsample(\\delta^l _k) \\bigodot \\sigma^{â€˜} (z^{l-1} _k)$\nå…¶ä¸­ï¼Œupsampleå‡½æ•°å®Œæˆäº†æ± åŒ–è¯¯å·®çŸ©é˜µæ”¾å¤§ä¸è¯¯å·®é‡æ–°åˆ†é…çš„é€»è¾‘ã€‚\næˆ‘ä»¬æ¦‚æ‹¬ä¸‹ï¼Œå¯¹äºå¼ é‡$\\delta ^{lâˆ’1}$ï¼Œæˆ‘ä»¬æœ‰ï¼š$\\delta^{l-1} = upsample(\\delta^l) \\odot \\sigma{â€˜}(z)$\n\n1.2.4 å·²çŸ¥å·ç§¯å±‚çš„$\\delta ^l$ï¼Œæ¨å¯¼ä¸Šä¸€éšè—å±‚çš„$\\delta ^{l-1}$\nå¯¹äºå·ç§¯å±‚çš„åå‘ä¼ æ’­ï¼Œæˆ‘ä»¬é¦–å…ˆå›å¿†ä¸‹å·ç§¯å±‚çš„å‰å‘ä¼ æ’­å…¬å¼ï¼š$ a^l= \\sigma(z^l) = \\sigma(a^{l-1}*W^l +b^l) $\nã€€ã€€å…¶ä¸­$n_in$ä¸ºä¸Šä¸€éšè—å±‚çš„è¾“å…¥å­çŸ©é˜µä¸ªæ•°ã€‚\nã€€ã€€åœ¨DNNä¸­ï¼Œæˆ‘ä»¬çŸ¥é“$\\delta ^{l-1}$å’Œ$\\delta ^l$çš„é€’æ¨å…³ç³»ä¸ºï¼š$\\delta^{l} = \\frac{\\partial J(W,b)}{\\partial z^l} =(\\frac{\\partial z^{l+1}}{\\partial z{l}})T \\frac{\\partial J(W,b)}{\\partial z^{l+1}} =(\\frac{\\partial z^{l+1}}{\\partial z{l}})T\\delta^{l+1}$\nã€€ã€€å› æ­¤è¦æ¨å¯¼å‡º$\\delta ^{l-1}$å’Œ$\\delta ^l$çš„é€’æ¨å…³ç³»ï¼Œå¿…é¡»è®¡ç®—${\\partial z^l \\over \\partial z^{l-1}}$çš„æ¢¯åº¦è¡¨è¾¾å¼ã€‚\nã€€ã€€æ³¨æ„åˆ°$z^l$å’Œ$z^{l-1}$çš„å…³ç³»ä¸ºï¼š$z^l = a{l-1}*Wl +b^l =\\sigma(z^{l-1})*W^l +b^l $\nã€€ã€€å› æ­¤æˆ‘ä»¬æœ‰ï¼š$\\delta^{l-1} = (\\frac{\\partial z^{l}}{\\partial z{l-1}})T\\delta^{l} = \\delta^{l}*rot180(W) \\odot \\sigma{â€˜}(z) $\nã€€ã€€è¿™é‡Œçš„å¼å­å…¶å®å’ŒDNNçš„ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºå¯¹äºå«æœ‰å·ç§¯çš„å¼å­æ±‚å¯¼æ—¶ï¼Œå·ç§¯æ ¸è¢«æ—‹è½¬äº†180åº¦ã€‚å³å¼å­ä¸­çš„$rot180()$ï¼Œç¿»è½¬180åº¦çš„æ„æ€æ˜¯ä¸Šä¸‹ç¿»è½¬ä¸€æ¬¡ï¼Œæ¥ç€å·¦å³ç¿»è½¬ä¸€æ¬¡ã€‚åœ¨DNNä¸­è¿™é‡Œåªæ˜¯çŸ©é˜µçš„è½¬ç½®ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆå‘¢ï¼Ÿç”±äºè¿™é‡Œéƒ½æ˜¯å¼ é‡ï¼Œç›´æ¥æ¨æ¼”å‚æ•°å¤ªå¤šäº†ã€‚æˆ‘ä»¬ä»¥ä¸€ä¸ªç®€å•çš„ä¾‹å­è¯´æ˜ä¸ºå•¥è¿™é‡Œæ±‚å¯¼åå·ç§¯æ ¸è¦ç¿»è½¬ã€‚\nã€€ã€€å‡è®¾æˆ‘ä»¬$lâˆ’1$å±‚çš„è¾“å‡º$a^{lâˆ’1}$æ˜¯ä¸€ä¸ª3x3çŸ©é˜µï¼Œç¬¬$l$å±‚çš„å·ç§¯æ ¸$W^l$æ˜¯ä¸€ä¸ª2x2çŸ©é˜µï¼Œé‡‡ç”¨1åƒç´ çš„æ­¥å¹…ï¼Œåˆ™è¾“å‡º$z^l$æ˜¯ä¸€ä¸ª2x2çš„çŸ©é˜µã€‚æˆ‘ä»¬ç®€åŒ–$b^l$éƒ½æ˜¯0,åˆ™æœ‰$a^{l-1}*W^l = z^{l}$\nã€€ã€€æˆ‘ä»¬åˆ—å‡º$a,W,z$çš„çŸ©é˜µè¡¨è¾¾å¼å¦‚ä¸‹ï¼š\n$\\begin{pmatrix} a_{11} &amp; a_{12} &amp; a_{13} \\ a_{21} &amp; a_{22} &amp; a_{23} \\ a_{31}&amp;a_{32}&amp;a_{33} \\end{pmatrix} * \\begin{pmatrix} w_{11}&amp;w_{12} \\ w_{21}&amp;w_{22}\\end{pmatrix}= \\begin{pmatrix}  z_{11}&amp;z_{12} \\ z_{21}&amp;z_{22}\\end{pmatrix}$\nã€€åˆ©ç”¨å·ç§¯çš„å®šä¹‰ï¼Œå¾ˆå®¹æ˜“å¾—å‡ºï¼š\n$z_{11}=a_{11}w_{11}+a_{12}w_{12}+a_{21}w_{21}+a_{22}w_{22} \\  z_{12}=a_{12}w_{11}+a_{13}w_{12}+a_{22}w_{21}+a_{23}w_{22} \\ z_{22}=a_{22}w_{11}+a_{23}w_{12}+a_{32}w_{21}+a_{33}w_{22}$\næ¥ç€æˆ‘ä»¬æ¨¡æ‹Ÿåå‘æ±‚å¯¼ï¼š$\\nabla a^{l-1} = \\frac{\\partial J(W,b)}{\\partial a^{l-1}} = ( \\frac{\\partial z^{l}}{\\partial a^{l-1}})T\\frac{\\partial J(W,b)}{\\partial z^{l}} =(\\frac{\\partial z^{l}}{\\partial a^{l-1}})T \\delta^{l} $\nã€€ã€€ä»ä¸Šå¼å¯ä»¥çœ‹å‡ºï¼Œå¯¹äº$a^{lâˆ’1}$çš„æ¢¯åº¦è¯¯å·®$âˆ‡a^{lâˆ’1}$ï¼Œç­‰äºç¬¬$l$å±‚çš„æ¢¯åº¦è¯¯å·®ä¹˜ä»¥${\\partial z^l \\over \\partial a^{l-1}}$,è€Œ${\\partial z^l \\over \\partial  a^{lâˆ’1}}$å¯¹åº”ä¸Šé¢çš„ä¾‹å­ä¸­ç›¸å…³è”çš„$w$çš„å€¼ã€‚å‡è®¾æˆ‘ä»¬çš„$z$çŸ©é˜µå¯¹åº”çš„åå‘ä¼ æ’­è¯¯å·®æ˜¯$\\delta _{11},\\delta _{12},\\delta _{21},\\delta _{22}$ç»„æˆçš„2x2çŸ©é˜µï¼Œåˆ™åˆ©ç”¨ä¸Šé¢æ¢¯åº¦çš„å¼å­å’Œ4ä¸ªç­‰å¼ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†åˆ«å†™å‡º$âˆ‡a^{lâˆ’1}$çš„9ä¸ªæ ‡é‡çš„æ¢¯åº¦ã€‚\nã€€ã€€æ¯”å¦‚å¯¹äº$a_{11}$çš„æ¢¯åº¦ï¼Œç”±äºåœ¨4ä¸ªç­‰å¼ä¸­$a_{12}$åªå’Œ$z_{11}$æœ‰ä¹˜ç§¯å…³ç³»ï¼Œä»è€Œæˆ‘ä»¬æœ‰ï¼š\nâ€‹\t\t$\\nabla a_{12} = \\delta_{11}w_{12} + \\delta_{12}w_{11}$\n   åŒæ ·çš„é“ç†æˆ‘ä»¬å¾—åˆ°ï¼š\n$\\nabla a_{13} = \\delta_{12}w_{12} \\ \\nabla a_{21} = \\delta_{11}w_{21} + \\delta_{21}w_{11} \\ \\nabla a_{22} = \\delta_{11}w_{22} + \\delta_{12}w_{21} + \\delta_{21}w_{12} + \\delta_{22}w_{11} \\ \\nabla a_{23} = \\delta_{12}w_{22} + \\delta_{22}w_{12} \\ \\nabla a_{31} = \\delta_{21}w_{21} \\ \\nabla a_{32} = \\delta_{21}w_{22} + \\delta_{22}w_{21} \\ \\nabla a_{33} = \\delta_{22}w_{22}$\n   è¿™ä¸Šé¢9ä¸ªå¼å­å…¶å®å¯ä»¥ç”¨ä¸€ä¸ªçŸ©é˜µå·ç§¯çš„å½¢å¼è¡¨ç¤ºï¼Œå³ï¼š\n$\\left( \\begin{array}{ccc} 0&amp;0&amp;0&amp;0 \\ 0&amp;\\delta_{11}&amp; \\delta_{12}&amp;0 \\ 0&amp;\\delta_{21}&amp;\\delta_{22}&amp;0 \\ 0&amp;0&amp;0&amp;0 \\end{array} \\right) * \\left( \\begin{array}{ccc} w_{22}&amp;w_{21}\\ w_{12}&amp;w_{11}\\end{array}\\right)  = \\left( \\begin{array}{ccc}\\nabla a_{11}&amp;\\nabla a_{12}&amp;\\nabla a_{13} \\ \\nabla a_{21}&amp; \\nabla a_{22}&amp;\\nabla a_{23} \\ \\nabla a_{31}&amp;\\nabla a_{32}&amp;\\nabla a_{33} \\end{array} \\right)$\n ä¸ºäº†ç¬¦åˆæ¢¯åº¦è®¡ç®—ï¼Œæˆ‘ä»¬åœ¨è¯¯å·®çŸ©é˜µå‘¨å›´å¡«å……äº†ä¸€åœˆ0ï¼Œæ­¤æ—¶æˆ‘ä»¬å°†å·ç§¯æ ¸ç¿»è½¬åå’Œåå‘ä¼ æ’­çš„æ¢¯åº¦è¯¯å·®è¿›è¡Œå·ç§¯ï¼Œå°±å¾—åˆ°äº†å‰ä¸€æ¬¡çš„æ¢¯åº¦è¯¯å·®ã€‚è¿™ä¸ªä¾‹å­ç›´è§‚çš„ä»‹ç»äº†ä¸ºä»€ä¹ˆå¯¹å«æœ‰å·ç§¯çš„å¼å­åå‘ä¼ æ’­æ—¶ï¼Œå·ç§¯æ ¸è¦ç¿»è½¬180åº¦çš„åŸå› ã€‚\n\n1.2.5. å·²çŸ¥å·ç§¯å±‚çš„$\\delta ^l$ï¼Œæ¨å¯¼è¯¥å±‚çš„$W,b$çš„æ¢¯åº¦\nã€€å¥½äº†ï¼Œæˆ‘ä»¬ç°åœ¨å·²ç»å¯ä»¥é€’æ¨å‡ºæ¯ä¸€å±‚çš„æ¢¯åº¦è¯¯å·®$\\delta ^l$äº†ï¼Œå¯¹äºå…¨è¿æ¥å±‚ï¼Œå¯ä»¥æŒ‰DNNçš„åå‘ä¼ æ’­ç®—æ³•æ±‚è¯¥å±‚$W,b$çš„æ¢¯åº¦ï¼Œè€Œæ± åŒ–å±‚å¹¶æ²¡æœ‰$W,b$,ä¹Ÿä¸ç”¨æ±‚$W,b$çš„æ¢¯åº¦ã€‚åªæœ‰å·ç§¯å±‚çš„$W,b$éœ€è¦æ±‚å‡ºã€‚\nã€€ã€€æ³¨æ„åˆ°å·ç§¯å±‚$z$å’Œ$W,b$çš„å…³ç³»ä¸ºï¼š$z^l = a^{l-1}*W^l +b$\nã€€ã€€å› æ­¤æˆ‘ä»¬æœ‰ï¼š$\\frac{\\partial J(W,b)}{\\partial W^{l}}=a *\\delta^l$\nã€€ã€€æ³¨æ„åˆ°æ­¤æ—¶å·ç§¯æ ¸å¹¶æ²¡æœ‰åè½¬ï¼Œä¸»è¦æ˜¯æ­¤æ—¶æ˜¯å±‚å†…çš„æ±‚å¯¼ï¼Œè€Œä¸æ˜¯åå‘ä¼ æ’­åˆ°ä¸Šä¸€å±‚çš„æ±‚å¯¼ã€‚å…·ä½“è¿‡ç¨‹æˆ‘ä»¬å¯ä»¥åˆ†æä¸€ä¸‹ã€‚\nã€€ã€€å’Œç¬¬4èŠ‚ä¸€æ ·çš„ä¸€ä¸ªç®€åŒ–çš„ä¾‹å­ï¼Œè¿™é‡Œè¾“å…¥æ˜¯çŸ©é˜µï¼Œä¸æ˜¯å¼ é‡ï¼Œé‚£ä¹ˆå¯¹äºç¬¬lå±‚ï¼ŒæŸä¸ªä¸ªå·ç§¯æ ¸çŸ©é˜µWçš„å¯¼æ•°å¯ä»¥è¡¨ç¤ºå¦‚ä¸‹ï¼š$\\frac{\\partial J(W,b)}{\\partial W_{pq}^{l}} = \\sum\\limits_i\\sum\\limits_j(\\delta_{ij} ^la_{i+p-1,j+q-1})$\nã€€ã€€å‡è®¾æˆ‘ä»¬è¾“å…¥$a$æ˜¯4x4çš„çŸ©é˜µï¼Œå·ç§¯æ ¸$W$æ˜¯3x3çš„çŸ©é˜µï¼Œè¾“å‡º$z$æ˜¯2x2çš„çŸ©é˜µ,é‚£ä¹ˆåå‘ä¼ æ’­çš„$z$çš„æ¢¯åº¦è¯¯å·®$\\delta$ä¹Ÿæ˜¯2x2çš„çŸ©é˜µã€‚\nã€€ã€€é‚£ä¹ˆæ ¹æ®ä¸Šé¢çš„å¼å­ï¼Œæˆ‘ä»¬æœ‰ï¼š\n$\\frac{\\partial J(W,b)}{\\partial W_{11}^{l}} = a_{11}\\delta_{11} + a_{12}\\delta_{12} + a_{21}\\delta_{21} + a_{22}\\delta_{22}$\n$\\frac{\\partial J(W,b)}{\\partial W_{12}^{l}} = a_{12}\\delta_{11} + a_{13}\\delta_{12} + a_{22}\\delta_{21} + a_{23}\\delta_{22}$\n$\\frac{\\partial J(W,b)}{\\partial W_{13}^{l}} = a_{13}\\delta_{11} + a_{14}\\delta_{12} + a_{23}\\delta_{21} + a_{24}\\delta_{22}$\n$\\frac{\\partial J(W,b)}{\\partial W_{21}^{l}} = a_{21}\\delta_{11} + a_{22}\\delta_{12} + a_{31}\\delta_{21} + a_{32}\\delta_{22}$\næœ€ç»ˆæˆ‘ä»¬å¯ä»¥ä¸€å…±å¾—åˆ°9ä¸ªå¼å­ã€‚æ•´ç†æˆçŸ©é˜µå½¢å¼åå¯å¾—ï¼š\n$\\frac{\\partial J(W,b)}{\\partial W^{l}} =\\left( \\begin{array}{ccc} a_{11}&amp;a_{12}&amp;a_{13}&amp;a_{14} \\ a_{21}&amp;a_{22}&amp;a_{23}&amp;a_{24} \\ a_{31}&amp;a_{32}&amp;a_{33}&amp;a_{34} \\a_{41}&amp;a_{42}&amp;a_{43}&amp;a_{44} \\end{array} \\right) * \\left( \\begin{array}{ccc}\\delta_{11}&amp; \\delta_{12} \\ \\delta_{21}&amp;\\delta_{22} \\end{array} \\right)$\nä»è€Œå¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°è¿™æ¬¡æˆ‘ä»¬ä¸ºä»€ä¹ˆæ²¡æœ‰åè½¬çš„åŸå› ã€‚\nã€€ã€€è€Œå¯¹äºb,åˆ™ç¨å¾®æœ‰äº›ç‰¹æ®Šï¼Œå› ä¸º$\\delta ^l$æ˜¯é«˜ç»´å¼ é‡ï¼Œè€Œ$b$åªæ˜¯ä¸€ä¸ªå‘é‡ï¼Œä¸èƒ½åƒDNNé‚£æ ·ç›´æ¥å’Œ$\\delta ^l$ç›¸ç­‰ã€‚é€šå¸¸çš„åšæ³•æ˜¯å°†$\\delta ^l$çš„å„ä¸ªå­çŸ©é˜µçš„é¡¹åˆ†åˆ«æ±‚å’Œï¼Œå¾—åˆ°ä¸€ä¸ªè¯¯å·®å‘é‡ï¼Œå³ä¸º$b$çš„æ¢¯åº¦ï¼š\n$\\frac{\\partial J(W,b)}{\\partial b^{l}} = \\sum\\limits_{u,v}(\\delta^l)_{u,v}$\n\n\nå‚è€ƒæ–‡æ¡£ï¼š C++ æ‰‹æ“ CNN å·ç§¯ç¥ç»ç½‘ç»œ - ç¼™äº‘å±±è½¦ç¥ - åšå®¢å›­ (cnblogs.com)\n\n","categories":["AI","NN"],"tags":["CNN"]},{"title":"å¸¸è§æ¿€æ´»å‡½æ•°","url":"/2023/12/11/learnnote/ren-gong-zhi-neng/chang-jian-ji-huo-han-shu/","content":"å¸¸è§æ¿€æ´»å‡½æ•°\n\n\n&gt; sigmoid: $$\\sigma (x) =  {1 \\over 1+ e^{-x}}$$\n\n\n\n\n\n&gt; $$Softmax(z_i) = {e^{z_j} \\over {\\sum_{j}e^{z_j}} }$$\n\n\n\n&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD\n\n&gt;&gt;&gt;&gt;&gt;&gt;&gt; ba9a30f9b6bc72c7c9ab853dfe8d7a734c1dc853\n&gt; tanh: $$tanh(x)={sinh x \\over cosh x} = {{e^x-e^{-x}} \\over {e^x + e^{-x}}}$$\n&gt;\n&gt; ![image-20250312185116260](./å¸¸è§æ¿€æ´»å‡½æ•°/images/image-20250312185116260.png)\n\n\n\n\n\n&gt; ReLu: $$max(0,x)$$\n&gt;\n&gt; ![image-20250312183640674](./å¸¸è§æ¿€æ´»å‡½æ•°/images/image-20250312183640674.png)\n\n\n\n\n\n&gt; Leaky ReLu: $$max(0.1x,x)$$\n\n\n\n\n\n&gt; Maxout: $$max(w^T_1 x + b1, w^T _2 x + b2)$$\n\n\n\n\nELU: \nè¯´æ˜ï¼šELUä¸ä¼šæœ‰æ¢¯åº¦æ¶ˆå¤±çš„å›°æ‰°\nä¸ Leaky-ReLU å’Œ PReLU ç±»ä¼¼ï¼Œä¸ ReLU ä¸åŒçš„æ˜¯ï¼ŒELU æ²¡æœ‰ç¥ç»å…ƒæ­»äº¡çš„é—®é¢˜(ReLU Dying é—®é¢˜æ˜¯æŒ‡å½“å‡ºç°å¼‚å¸¸è¾“å…¥æ—¶ï¼Œåœ¨åå‘ä¼ æ’­ä¸­ä¼šäº§ç”Ÿå¤§çš„æ¢¯åº¦ï¼Œè¿™ç§å¤§çš„æ¢¯åº¦ä¼šå¯¼è‡´ç¥ç»å…ƒæ­»äº¡å’Œæ¢¯åº¦æ¶ˆå¤±)ã€‚ å®ƒå·²è¢«è¯æ˜ä¼˜äº ReLU åŠå…¶å˜ä½“ï¼Œå¦‚ Leaky-ReLU(LReLU) å’Œ Parameterized-ReLU(PReLU)ã€‚ ä¸ ReLU åŠå…¶å˜ä½“ç›¸æ¯”ï¼Œä½¿ç”¨ ELU å¯åœ¨ç¥ç»ç½‘ç»œä¸­ç¼©çŸ­è®­ç»ƒæ—¶é—´å¹¶æé«˜å‡†ç¡®åº¦ã€‚\n\n\n","categories":["AI"],"tags":["AI","æ¿€æ´»å‡½æ•°"]},{"title":"å¼ºåŒ–å­¦ä¹ -é©¬å°”ç§‘å¤«å†³ç­–è¿‡ç¨‹ï¼ˆMDPï¼‰","url":"/2023/12/10/learnnote/ren-gong-zhi-neng/qiang-hua-xue-xi-ma-er-ke-fu-jue-ce-mdp/","content":"å¼ºåŒ–å­¦ä¹ -é©¬å°”ç§‘å¤«å†³ç­–è¿‡ç¨‹ï¼ˆMDPï¼‰\n1ã€å¼ºåŒ–å­¦ä¹ ä»‹ç»\n\nå¼ºåŒ–å­¦ä¹ ä»»åŠ¡é€šå¸¸ä½¿ç”¨é©¬å°”ç§‘å¤«å†³ç­–è¿‡ç¨‹ï¼ˆMarkov Decision Processï¼Œç®€ç§°MDPï¼‰æ¥æè¿°ï¼Œå…·ä½“è€Œè¨€ï¼šæœºå™¨å¤„åœ¨ä¸€ä¸ªç¯å¢ƒä¸­ï¼Œæ¯ä¸ªçŠ¶æ€ä¸ºæœºå™¨å¯¹å½“å‰ç¯å¢ƒçš„æ„ŸçŸ¥ï¼›æœºå™¨åªèƒ½é€šè¿‡åŠ¨ä½œæ¥å½±å“ç¯å¢ƒï¼Œå½“æœºå™¨æ‰§è¡Œä¸€ä¸ªåŠ¨ä½œåï¼Œä¼šä½¿å¾—ç¯å¢ƒæŒ‰æŸç§æ¦‚ç‡è½¬ç§»åˆ°å¦ä¸€ä¸ªçŠ¶æ€ï¼›åŒæ—¶ï¼Œç¯å¢ƒä¼šæ ¹æ®æ½œåœ¨çš„å¥–åŠ±å‡½æ•°åé¦ˆç»™æœºå™¨ä¸€ä¸ªå¥–èµã€‚ç»¼åˆè€Œè¨€ï¼Œå¼ºåŒ–å­¦ä¹ ä¸»è¦åŒ…å«å››ä¸ªè¦ç´ ï¼šçŠ¶æ€ã€åŠ¨ä½œã€è½¬ç§»æ¦‚ç‡ä»¥åŠå¥–èµå‡½æ•°ã€‚\n\n\næ ¹æ®ä¸Šå›¾ï¼Œagentï¼ˆæ™ºèƒ½ä½“ï¼‰åœ¨è¿›è¡ŒæŸä¸ªä»»åŠ¡æ—¶ï¼Œé¦–å…ˆä¸environmentè¿›è¡Œäº¤äº’ï¼Œäº§ç”Ÿæ–°çš„çŠ¶æ€stateï¼ŒåŒæ—¶ç¯å¢ƒç»™å‡ºå¥–åŠ±rewardï¼Œå¦‚æ­¤å¾ªç¯ä¸‹å»ï¼Œagentå’Œenvironmentä¸æ–­äº¤äº’äº§ç”Ÿæ›´å¤šæ–°çš„æ•°æ®ã€‚å¼ºåŒ–å­¦ä¹ ç®—æ³•å°±æ˜¯é€šè¿‡ä¸€ç³»åˆ—åŠ¨ä½œç­–ç•¥ä¸ç¯å¢ƒäº¤äº’ï¼Œäº§ç”Ÿæ–°çš„æ•°æ®ï¼Œå†åˆ©ç”¨æ–°çš„æ•°æ®å»ä¿®æ”¹è‡ªèº«çš„åŠ¨ä½œç­–ç•¥ï¼Œç»è¿‡æ•°æ¬¡è¿­ä»£åï¼Œagentå°±ä¼šå­¦ä¹ åˆ°å®Œæˆä»»åŠ¡æ‰€éœ€è¦çš„åŠ¨ä½œç­–ç•¥ã€‚\n2ã€é©¬å°”ç§‘å¤«å†³ç­–è¿‡ç¨‹ï¼ˆMarkov Processï¼‰\n é©¬å°”å¯å¤«æ€§å½“å‰çŠ¶æ€åŒ…å«äº†å¯¹æœªæ¥é¢„æµ‹æ‰€éœ€è¦çš„æœ‰ç”¨ä¿¡æ¯ï¼Œè¿‡å»ä¿¡æ¯å¯¹æœªæ¥é¢„æµ‹ä¸é‡è¦ï¼Œè¯¥å°±æ»¡è¶³äº†é©¬å°”ç§‘å¤«æ€§ï¼Œä¸¥æ ¼æ¥è¯´ï¼Œå°±æ˜¯æŸä¸€çŠ¶æ€ä¿¡æ¯åŒ…å«äº†æ‰€æœ‰ç›¸å…³çš„å†å²ï¼Œåªè¦å½“å‰çŠ¶æ€å¯çŸ¥ï¼Œæ‰€æœ‰çš„å†å²ä¿¡æ¯éƒ½ä¸å†éœ€è¦ï¼Œå½“å‰çŠ¶æ€å°±å¯ä»¥å†³å®šæœªæ¥ï¼Œåˆ™è®¤ä¸ºè¯¥çŠ¶æ€å…·æœ‰é©¬å°”ç§‘å¤«æ€§ã€‚ç”¨å…¬å¼æè¿°ä¸ºï¼š\n$$P(S_{t+1}|S_t)=p(S_{t+1}|S_1,S_2,Â·Â·Â·,S_t)$$\né©¬å°”ç§‘å¤«è¿‡ç¨‹åˆå«åšé©¬å°”ç§‘å¤«é“¾ï¼ˆMarkov Chainï¼‰,å®ƒæ˜¯ä¸€ä¸ªæ— è®°å¿†çš„éšæœºè¿‡ç¨‹ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªå…ƒç»„&lt;S, P&gt;è¡¨ç¤ºï¼Œå…¶ä¸­\n\nS æ˜¯æœ‰é™æ•°é‡çš„çŠ¶æ€é›†$S={s_1,s_2,s_3,\\cdots,s_t}$\nP æ˜¯çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µ$p(S_{t+1}=sâ€™|s_t=s)$å…¶ä¸­$sâ€™$è¡¨ç¤ºä¸‹ä¸€æ—¶åˆ»çš„çŠ¶æ€ï¼Œsè¡¨ç¤ºå½“å‰çŠ¶æ€å¦‚ä¸‹æ‰€ç¤ºï¼šå¯¹äºçŠ¶æ€$s_1$æ¥è¯´ï¼Œæœ‰0.1çš„æ¦‚ç‡ä¿æŒä¸å˜ï¼Œæœ‰0.2çš„æ¦‚ç‡è½¬ç§»åˆ°$s_2$çŠ¶æ€ï¼Œæœ‰0.7çš„æ¦‚ç‡è½¬ç§»åˆ°$s_4$çŠ¶æ€ã€‚\n\n\nå¯ä»¥ä½¿ç”¨çŸ©é˜µæ¥è¡¨ç¤ºï¼š\n\n3ã€é©¬å°”ç§‘å¤«å¥–åŠ±è¿‡ç¨‹ï¼ˆMarkov Reward Processï¼‰\n3.1ã€æ¦‚å¿µä»‹ç»\né©¬å°”ç§‘å¤«å¥–åŠ±è¿‡ç¨‹æ˜¯åœ¨é©¬å°”ç§‘å¤«è¿‡ç¨‹åŸºç¡€ä¸Šå¢åŠ äº†å¥–åŠ±å‡½æ•°Rå’Œè¡°å‡ç³»æ•°$\\gamma$ï¼Œç”¨$&lt; S,R,P,\\gamma &gt;$è¡¨ç¤º\n\nRï¼šè¡¨ç¤ºSçŠ¶æ€ä¸‹æŸä¸€æ—¶åˆ»çš„çŠ¶æ€$S_t$åœ¨ä¸‹ä¸€ä¸ªæ—¶åˆ»(t+1)èƒ½è·å¾—çš„å¥–åŠ±çš„æœŸæœ›\n\n$R_s = E[R_{t+1}|S_t =s]$\n\n$G_t$ï¼š æ”¶è·$G_t$ä¸ºåœ¨ä¸€ä¸ªé©¬å°”ç§‘å¤«å¥–åŠ±é“¾ä¸Šä»tæ—¶åˆ»å¼€å§‹å¾€åæ‰€æœ‰çš„å¥–åŠ±çš„è¡°å‡æ”¶ç›Šæ€»å’Œ\n\n$G_t = R_{t+1}+\\gamma R_{t+2}+ \\gamma ^2 R_{t+3} + Â·Â·Â·+\\gamma ^{T-t-1}R_T$\n\n$\\gamma$ï¼šæŠ˜æ‰£å› å­$ï¼ˆDiscount factory \\gamma \\in [0,1]ï¼‰$\n1ã€ä¸ºäº†é¿å…å‡ºç°çŠ¶æ€å¾ªç¯çš„æƒ…å†µ\n2ã€ç³»ç»Ÿå¯¹äºå°†æ¥çš„é¢„æµ‹å¹¶ä¸ä¸€å®šéƒ½æ˜¯å‡†ç¡®çš„ï¼Œæ‰€ä»¥è¦æ‰“æŠ˜æ‰£\nå¾ˆæ˜¾ç„¶$\\gamma$è¶Šé è¿‘1ï¼Œè€ƒè™‘çš„åˆ©ç›Šè¶Šé•¿è¿œã€‚\n$V(s)$:çŠ¶æ€ä»·å€¼å‡½æ•°ï¼ˆstate value functionè¡¨ç¤ºä»æ”¹çŠ¶æ€å¼€å§‹çš„é©¬å°”ç§‘å¤«é“¾æ”¶è·$G_t$çš„æœŸæœ›\n\n$v(s)=E[G_t|S_t =s]$\nä¾‹å­ï¼šå¯¹äºå¦‚ä¸‹çŠ¶æ€ï¼Œè®¾å®šè¿›å…¥$S_1$çŠ¶æ€å¥–åŠ±ä¸º5ï¼Œè¿›å…¥$S_7$çŠ¶æ€å¥–åŠ±ä¸º10ï¼Œå…¶ä½™çŠ¶æ€å¥–åŠ±ä¸º0ã€‚åˆ™Rå¯ä»¥å¦‚ä¸‹è¡¨ç¤ºï¼š$R=[5,0,0,0,0,0,10]$,æŠ˜æ‰£å¼•å­$\\gamma$ä¸º0.5ã€‚åˆ™å¯¹äºä¸‹é¢ä¸¤ä¸ªé©¬å°”ç§‘å¤«è¿‡ç¨‹è·å¾—çš„å¥–åŠ±ä¸ºï¼š\n\n$S_4,S_5,S_6,S_7: 0+0.50+0.50+0.125*10=1.25$\n$S_4,S_3,S_2,S_1: 0+0.50+0.250+0.125*5=0.625$\n\n\n3.2ã€Bellman Equation è´å°”æ›¼æ–¹ç¨‹\n$v(s) = E[G_t|S_t=s]$\n$= E[R_{t+1}+ \\gamma R_{t+2}+\\gamma ^2 R_{t+3}+Â·Â·Â·|S_t=s]$\n$= E[R_{t+1}+ \\gamma (R_{t+2} + \\gamma R_{t+3}+Â·Â·Â·)|S_t=s]$\n$= E[R_{t+1}+ \\gamma v(S_{t+1})|S_t=s]$\n$=E[R_{t+1}|S_t=s]+ \\gamma E[v(S_{t+1})|S_t=s]$\nå…¶ä¸­$E[R_{t+1}|S_t=s]]$ä»£è¡¨çš„å½“å‰å¥–åŠ±å‡½æ•°ï¼Œ$\\gamma E[v(S_{t+1})|S_t=s$ä¸ºä¸‹ä¸€æ—¶åˆ»çŠ¶æ€çš„ä»·å€¼æœŸæœ›\nä½¿ç”¨è´å°”æ›¼æ–¹ç¨‹çŠ¶æ€ä»·å€¼Vå¯ä»¥è¡¨ç¤ºä¸ºï¼š\n$V(s)= R(s) + \\gamma \\sum _{sâ€™ \\in S}P(sâ€™|s)V(sâ€™)$\nå…¶ä¸­$R(s)ä¸ºImmediate rewardï¼Œ\\gamma \\sum _{sâ€™ \\in S}P(sâ€™|s)V(sâ€™)ä¸ºDiscounted sum of future reward$\n\nS è¡¨ç¤ºä¸‹ä¸€æ—¶åˆ»çš„æ‰€æœ‰çŠ¶æ€ï¼Œ $sâ€™$è¡¨ç¤ºä¸‹ä¸€æ—¶åˆ»å¯èƒ½çš„çŠ¶æ€\n\né€šè¿‡è´å°”æ›¼æ–¹ç¨‹ï¼Œå¯ä»¥çœ‹åˆ°ä»·å€¼å‡½æ•°$v(s)$\n","categories":["AI","å¼ºåŒ–å­¦ä¹ "],"tags":["é©¬å°”ç§‘å¤«å†³ç­–"]},{"title":"è®¡ç®—æœºè¯­è¨€åˆ†ç±»","url":"/2024/06/22/learnnote/qi-ta/ji-suan-ji-yu-yan-fen-lei/","content":"è®¡ç®—æœºè¯­è¨€åˆ†ç±»\n1. æœºå™¨è¯­è¨€\næœºå™¨è¯­è¨€æ˜¯è®¡ç®—æœºæœ€åŸå§‹çš„è¯­è¨€ï¼Œæ˜¯ç”±0å’Œ1çš„ä»£ç æ„æˆï¼Œcpuåœ¨å·¥ä½œçš„æ—¶å€™åªè®¤è¯†æœºå™¨è¯­è¨€ï¼Œå³0å’Œ1çš„ä»£ç ã€‚\n2. æ±‡ç¼–è¯­è¨€\næ±‡ç¼–è¯­è¨€ï¼Œå³ä¸ºä¸€ç§ä½çº§è¯­è¨€ï¼Œå®ƒç”¨äººç±»å®¹æ˜“è®°å¿†çš„è¯­è¨€å’Œç¬¦å·æ¥è¡¨ç¤ºä¸€ç»„0å’Œ1çš„ä»£ç ï¼Œä¾‹å¦‚ANDä»£è¡¨åŠ æ³•ã€‚\n3. æ ‡è®°è¯­è¨€\næ ‡è®°è¯­è¨€ï¼šæ˜¯ä¸€ç§å°†æ–‡æœ¬ä»¥åŠæ–‡æœ¬ç›¸å…³çš„å…¶ä»–ä¿¡æ¯ç»“åˆèµ·æ¥ï¼Œå±•ç°å‡ºå…³äºæ–‡æ¡£ç»“æ„å’Œæ•°æ®å¤„ç†ç»†èŠ‚çš„ç”µè„‘æ–‡å­—ç¼–ç ã€‚\nä¸æ–‡æœ¬ç›¸å…³çš„å…¶ä»–ä¿¡æ¯ï¼ˆåŒ…æ‹¬æ–‡æœ¬çš„ç»“æ„å’Œè¡¨ç¤ºä¿¡æ¯ç­‰ï¼‰ä¸åŸæ¥çš„æ–‡æœ¬ç»“åˆåœ¨ä¸€èµ·ï¼Œä½†æ˜¯ä½¿ç”¨æ ‡è®°è¿›è¡Œæ ‡è¯†ã€‚æ ‡è®°è¯­è¨€ä¸ä»…ä»…æ˜¯ä¸€ç§è¯­è¨€ï¼Œå°±åƒè®¸å¤šè¯­è¨€ä¸€æ ·ï¼Œå®ƒéœ€è¦ä¸€ä¸ªè¿è¡Œæ—¶ç¯å¢ƒï¼Œä½¿å…¶æœ‰ç”¨ã€‚\n4. è„šæœ¬è¯­è¨€ï¼ˆè§£é‡Šå‹è¯­è¨€ï¼‰\nè„šæœ¬è¯­è¨€ï¼šæ˜¯ä¸ºäº†ç¼©çŸ­ç¼–ç¨‹è¯­è¨€çš„â€œç¼–å†™ã€ç¼–è¯‘ã€é“¾æ¥ã€è¿è¡Œâ€ç­‰è¿‡ç¨‹è€Œåˆ›å»ºçš„è®¡ç®—æœºç¼–ç¨‹è¯­è¨€ã€‚\næ˜¯ä¸€ç§ç”¨æ¥è§£é‡ŠæŸäº›ä¸œè¥¿çš„è¯­è¨€ï¼Œåˆè¢«ç§°ä¸ºæ‰©å»ºçš„è¯­è¨€ï¼Œæˆ–è€…åŠ¨æ€è¯­è¨€ï¼Œç”¨æ¥æ§åˆ¶è½¯ä»¶åº”ç”¨ç¨‹åºï¼Œè„šæœ¬é€šå¸¸ä»¥æ–‡æœ¬ä¿å­˜ï¼Œåªåœ¨è¢«è°ƒç”¨æ—¶è¿›è¡Œè§£é‡Šæˆ–ç¼–è¯‘ã€‚\nè„šæœ¬è¯­è¨€æ˜¯ä¸ºäº†ç¼©çŸ­ä¼ ç»Ÿçš„ç¼–å†™-ç¼–è¯‘-é“¾æ¥-è¿è¡Œï¼ˆedit-compile-link-runï¼‰è¿‡ç¨‹è€Œåˆ›å»ºçš„è®¡ç®—æœºç¼–ç¨‹è¯­è¨€ã€‚å®ƒçš„å‘½åèµ·æºäºä¸€ä¸ªè„šæœ¬â€œscreenplayâ€ï¼Œæ¯æ¬¡è¿è¡Œéƒ½ä¼šä½¿å¯¹è¯æ¡†é€å­—é‡å¤ã€‚\næ—©æœŸçš„è„šæœ¬è¯­è¨€ç»å¸¸è¢«ç§°ä¸ºæ‰¹é‡å¤„ç†è¯­è¨€æˆ–å·¥ä½œæ§åˆ¶è¯­è¨€ã€‚ ä¸€ä¸ªè„šæœ¬é€šå¸¸æ˜¯è§£é‡Šè¿è¡Œè€Œéç¼–è¯‘ã€‚\nè„šæœ¬è¯­è¨€é€šå¸¸éƒ½æœ‰ç®€å•ã€æ˜“å­¦ã€æ˜“ç”¨çš„ç‰¹æ€§ï¼Œç›®çš„å°±æ˜¯å¸Œæœ›èƒ½è®©ç¨‹åºå‘˜å¿«é€Ÿå®Œæˆç¨‹åºçš„ç¼–å†™å·¥ä½œã€‚\nå„ç§åŠ¨æ€è¯­è¨€ï¼Œå¦‚ASPã€PHPã€CGIã€JSPã€JavaScriptã€VBScriptç­‰ï¼Œéƒ½æ˜¯è„šæœ¬è¯­è¨€ã€‚\n1ã€è„šæœ¬è¯­æ³•æ¯”è¾ƒç®€å•ï¼Œæ¯”è¾ƒå®¹æ˜“æŒæ¡ï¼› \n2ã€è„šæœ¬ä¸åº”ç”¨ç¨‹åºå¯†åˆ‡ç›¸å…³ï¼Œæ‰€ä»¥åŒ…æ‹¬ç›¸å¯¹åº”ç”¨ç¨‹åºè‡ªèº«çš„åŠŸèƒ½ï¼› \n3ã€è„šæœ¬ä¸€èˆ¬ä¸å…·å¤‡é€šç”¨æ€§ï¼Œæ‰€èƒ½å¤„ç†çš„é—®é¢˜èŒƒå›´æœ‰é™ã€‚\n5. ç¼–ç¨‹è¯­è¨€ï¼ˆé«˜çº§è¯­è¨€ã€ç¼–è¯‘å‹è¯­è¨€ï¼‰\né«˜çº§è¯­è¨€ï¼Œå®ƒæ˜¯åœ¨ä½çº§è¯­è¨€çš„åŸºç¡€ä¸Šï¼Œé‡‡ç”¨æ¥è¿‘äºäººç±»è‡ªç„¶è¯­è¨€çš„å•è¯å’Œç¬¦å·æ¥è¡¨ç¤ºä¸€ç»„ä½çº§è¯­è¨€ç¨‹åºï¼Œä½¿ç¼–ç¨‹å˜å¾—æ›´åŠ ç®€å•ï¼Œæ˜“å­¦ï¼Œä¸”å†™å‡ºçš„ç¨‹åºå¯è¯»æ€§å¼ºã€‚\nç¼–ç¨‹è¯­è¨€ï¼ˆprogramming languageï¼‰ï¼šæ˜¯ç”¨æ¥å®šä¹‰è®¡ç®—æœºç¨‹åºçš„å½¢å¼è¯­è¨€ã€‚å®ƒæ˜¯ä¸€ç§è¢«æ ‡å‡†åŒ–çš„äº¤æµæŠ€å·§ï¼Œç”¨æ¥å‘è®¡ç®—æœºå‘å‡ºæŒ‡ä»¤ã€‚ä¸€ç§è®¡ç®—æœºè¯­è¨€è®©ç¨‹åºå‘˜èƒ½å¤Ÿå‡†ç¡®åœ°å®šä¹‰è®¡ç®—æœºæ‰€éœ€è¦ä½¿ç”¨çš„æ•°æ®ï¼Œå¹¶ç²¾ç¡®åœ°å®šä¹‰åœ¨ä¸åŒæƒ…å†µä¸‹æ‰€åº”å½“é‡‡å–çš„è¡ŒåŠ¨ã€‚\nç¼–è¯‘å‹è¯­è¨€ï¼šç¨‹åºåœ¨æ‰§è¡Œä¹‹å‰éœ€è¦ä¸€ä¸ªä¸“é—¨çš„ç¼–è¯‘è¿‡ç¨‹ï¼ŒæŠŠç¨‹åºç¼–è¯‘æˆ ä¸ºæœºå™¨è¯­è¨€çš„æ–‡ä»¶ï¼Œè¿è¡Œæ—¶ä¸éœ€è¦é‡æ–°ç¿»è¯‘ï¼Œç›´æ¥ä½¿ç”¨ç¼–è¯‘çš„ç»“æœå°±è¡Œäº†ã€‚ç¨‹åºæ‰§è¡Œæ•ˆç‡é«˜ï¼Œä¾èµ–ç¼–è¯‘å™¨ï¼Œè·¨å¹³å°æ€§å·®äº›\nå¦‚ Cã€C++ã€‚\n","categories":["å…¶ä»–"],"tags":["è®¡ç®—æœºè¯­è¨€"]},{"title":"Hadoopä½¿ç”¨","url":"/2024/07/01/learnnote/da-shu-ju/hadoop-shi-yong/","content":"Hadoopä½¿ç”¨\nHadoopä»‹ç»\nç‹­ä¹‰ä¸ŠHadoopæŒ‡çš„æ˜¯Apacheè½¯ä»¶åŸºé‡‘ä¼šçš„ä¸€æ¬¾å¼€æºè½¯ä»¶ã€‚\nç”¨Javaè¯­è¨€å®ç°ï¼Œå¼€æº\nå…è®¸ç”¨æˆ·ä½¿ç”¨ç®€å•çš„ç¼–ç¨‹æ¨¡å‹å®ç°è·¨æœºå™¨é›†ç¾¤å¯¹æµ·é‡æ•°æ®è¿›è¡Œåˆ†å¸ƒå¼è®¡ç®—å¤„ç†\n\nHadoopæ ¸å¿ƒç»„ä»¶\nHadoop HDFSï¼ˆåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨ç³»ç»Ÿï¼‰ï¼šè§£å†³æµ·é‡æ•°æ®å­˜å‚¨\nHadoop YARNï¼ˆé›†ç¾¤èµ„æºç®¡ç†å’Œäººç‰©è°ƒåº¦æ¡†æ¶ï¼‰ï¼šè§£å†³èµ„æºä»»åŠ¡è°ƒåº¦\nHadoop MapReduceï¼ˆåˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶ï¼‰ï¼šè§£å†³æµ·é‡æ•°æ®è®¡ç®—\n\nå¹¿ä¹‰ä¸ŠHadoopæŒ‡çš„æ˜¯å›´ç»•Hadoopæ‰“é€ çš„å¤§æ•°æ®ç”Ÿæ€åœˆã€‚\n\n\n\nHadoopå‘å±•å²\nHadoopä¹‹çˆ¶ï¼šDoug Cutting\n\nHadoopèµ·æºäºApache Luceneå­é¡¹ç›®ï¼šNutch\nNutchçš„è®¾è®¡ç›®æ ‡æ˜¯æ„å»ºä¸€ä¸ªå¤§å‹çš„å…¨ç½‘æœç´¢å¼•æ“ã€‚\né‡åˆ°ç“¶é¢ˆï¼šå¦‚ä½•è§£å†³æ•°åäº¿ç½‘é¡µçš„å­˜å‚¨å’Œç´¢å¼•é—®é¢˜\n\nGoogleä¸‰ç¯‡è®ºæ–‡\nã€ŠThe Google file systemã€‹ï¼šè°·æ­Œåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸGFS\nã€ŠMAPReduceï¼šSimplified Data Processing on Large Clustersã€‹ï¼šè°·æ­Œåˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶MapReduce\nã€ŠBigtableï¼šA Distributed Storage System for Structured Dataã€‹ï¼šè°·æ­Œç»“æ„åŒ–æ•°æ®å­˜å‚¨ç³»ç»Ÿ\n\n\nHadoopç°çŠ¶\nHDFSä½œä¸ºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨ç³»ç»Ÿï¼Œå¤„åœ¨ç”Ÿæ€åœˆçš„åº•å±‚ä¸æ ¸å¿ƒåœ°ä½ï¼›\n\nYARNä½œä¸ºåˆ†å¸ƒå¼é€šç”¨çš„é›†ç¾¤èµ„æºç®¡ç†ç³»ç»Ÿå’Œä»»åŠ¡è°ƒåº¦å¹³å°ï¼Œæ”¯æ’‘å„ç§è®¡ç®—å¼•æ“è®¡ç®—å¼•æ“è¿è¡Œï¼Œä¿è¯äº†Hadoopåœ°ä½ï¼›\n\nMapReduceä½œä¸ºå¤§æ•°æ®ç”Ÿæ€åœˆç¬¬ä¸€ä»£åˆ†å¸ƒå¼è®¡ç®—å¼•æ“ï¼Œç”±äºè‡ªèº«è®¾è®¡çš„æ¨¡å‹æ‰€äº§ç”Ÿçš„å¼Šç«¯ï¼Œå¯¼è‡´ä¼ä¸šä¸€çº¿å‡ ä¹ä¸å†ç›´æ¥ä½¿ç”¨MapReduceè¿›è¡Œç¼–ç¨‹å¤„ç†ï¼Œä½†æ˜¯å¾ˆå¤šè½¯ä»¶çš„åº•å±‚ä¾ç„¶åœ¨ä½¿ç”¨MapReduceå¼•æ“æ¥å¤„ç†æ•°æ®ã€‚\n\nç‹­ä¹‰ä¸ŠHadoopæŒ‡è½¯ä»¶ï¼Œå¹¿ä¹‰ä¸ŠHadoopæŒ‡ç”Ÿæ€åœˆ\n\n\nHadoopç‰¹æ€§ä¼˜ç‚¹\næ‰©å®¹èƒ½åŠ›ï¼šHadoopå®åœ¨å¯ç”¨çš„è®¡ç®—æœºé›†ç¾¤é—´åˆ†é…æ•°æ®å¹¶å®Œæˆè®¡ç®—ä»»åŠ¡çš„ï¼Œè¿™äº›é›†ç¾¤å¯æ–¹ä¾¿çµæ´»çš„æ–¹å¼æ‰©å±•åˆ°æ•°ä»¥åƒè®¡çš„èŠ‚ç‚¹ã€‚\nä½æˆæœ¬ï¼šHadoopé›†ç¾¤å…è®¸é€šè¿‡éƒ¨ç½²æ™®é€šå»‰ä»·çš„æœºå™¨ç»„æˆé›†ç¾¤æ¥å¤„ç†å¤§æ•°æ®ï¼Œä»¥è‡³äºæˆæœ¬å¾ˆä½ã€‚çœ‹é‡çš„æ˜¯é›†ç¾¤æ•´ä½“èƒ½åŠ›ã€‚\né«˜æ•ˆç‡ï¼šé€šè¿‡é«˜å¹¶å‘æ•°æ®ï¼Œhadoopå¯ä»¥åœ¨èŠ‚ç‚¹é—´åŠ¨æ€å¹¶è¡Œçš„ç§»åŠ¨æ•°æ®ï¼Œä½¿å¾—é€Ÿåº¦éå¸¸å¿«ã€‚\nå¯é æ€§ï¼šèƒ½è‡ªåŠ¨ç»´æŠ¤æ•°æ®çš„å¤šä»½å¤åˆ¶ï¼Œå¹¶ä¸”åœ¨ä»»åŠ¡å¤±è´¥åèƒ½è‡ªåŠ¨åœ°é‡æ–°éƒ¨ç½²ï¼ˆredeployï¼‰è®¡ç®—ä»»åŠ¡ã€‚æ‰€ä»¥Hadoopçš„æŒ‰ä½å­˜å‚¨å’Œå¤„ç†æ•°æ®çš„èƒ½åŠ›å€¼å¾—äººä»¬ä¿¡èµ–ã€‚\n\nHadoopå›½å†…åº”ç”¨\nç™¾åº¦\nç”¨æˆ·æœç´¢è¡¨å¾çš„éœ€æ±‚æ•°æ®ã€é˜¿æ‹‰ä¸çˆ¬è™«æ•°æ®å­˜å‚¨æ•°æ®åˆ†æå’ŒæŒ–æ˜ ç«ä»·æ’å\n\né˜¿é‡Œå·´å·´\nä¸ºå•¥ç”µå­å•†åŠ¡ç½‘ç»œå¹³å°æä¾›åº•å±‚çš„åŸºç¡€è®¡ç®—å’Œå­˜å‚¨æœåŠ¡äº¤æ˜“æ•°æ®ã€ä¿¡ç”¨æ•°æ®\n\nè…¾è®¯\nç”¨æˆ·å…³ç³»æ•°æ®\nåŸºäºHadoopã€Hiveæ„å»ºTDWï¼ˆè…¾è®¯åˆ†å¸ƒå¼æ•°æ®ä»“åº“ï¼‰\n\nåä¸º\nå¯¹Hadoopçš„HAæ–¹æ¡ˆï¼Œä»¥åŠHBaseé¢†åŸŸæœ‰æ·±å…¥ç ”ç©¶\n\n\nHadoopå‘è¡Œç‰ˆæœ¬\nå¼€æºç¤¾åŒºç‰ˆï¼šApacheå¼€æºç¤¾åŒºå‘è¡Œä¹Ÿæ˜¯å®˜æ–¹å‘è¡Œç‰ˆæœ¬\nä¼˜ç‚¹ï¼šæ›´æ–°è¿­ä»£å¿«\nç¼ºç‚¹ï¼šå…¼å®¹ç¨³å®šæ€§ä¸å‘¨\n\nå•†ä¸šå‘è¡Œç‰ˆï¼š\nå•†ä¸šå…¬å¸å‘è¡ŒåŸºäºApacheå¼€æºåè®®ï¼ŒæŸäº›æœåŠ¡éœ€è¦æ”¶è´¹\nä¼˜ç‚¹ï¼šç¨³å®šå…¼å®¹å¥½\nç¼ºç‚¹ï¼šæ”¶è´¹ ç‰ˆæœ¬æ›´æ–°æ…¢\n\nApacheå¼€æºç¤¾åŒºç‰ˆæœ¬\nhttp://hadoop.apache.org/\n\nå•†ä¸šå‘è¡Œç‰ˆæœ¬\nClouderaï¼šhttps://www.cloudera.com/products/open-source/apache-hadoop.html\nHortonworksï¼šhttps://www.cloudera.com/products/hdp.html\n\n\n\nHadoopæ¶æ„å˜è¿ï¼ˆ1.0-2.0å˜è¿ï¼‰\nHadoop 1.0\nHDFSï¼ˆåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨ï¼‰\nMapReduceï¼ˆèµ„æºç®¡ç†å’Œåˆ†å¸ƒå¼æ•°æ®å¤„ç†ï¼‰\n\nHadoop 2.0\nHDFSï¼ˆåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨ï¼‰\nMapReduceï¼ˆåˆ†å¸ƒå¼æ•°æ®å¤„ç†ï¼‰\nYARNï¼ˆé›†ç¾¤èµ„æºç®¡ç†ã€ä»»åŠ¡è°ƒåº¦ï¼‰\n\n\n\nHadoopæ¶æ„å˜è¿ï¼ˆ3.0æ–°ç‰ˆæœ¬ï¼‰Hadoop3.0æ¶æ„ç»„ä»¶å’ŒHadoop 2.0ç±»ä¼¼ï¼Œ3.0ç€é‡äºæ€§èƒ½ä¼˜åŒ–ã€‚\n\né€šç”¨æ–¹é¢\nç²¾ç®€å†…æ ¸ã€ç±»è·¯å¾„éš”ç¦»ã€shellè„šæœ¬é‡æ„\n\nHadoop HDFS\nECçº åˆ ç ã€å¤šNameNodeæ”¯æŒ\n\nHadoop MapReduce\nä»»åŠ¡æœ¬åœ°åŒ–ä¼˜åŒ–ã€å†…å­˜å‚æ•°è‡ªåŠ¨æ¨æ–­\n\nHadoop YARN\nTimeline Service V2ã€é˜Ÿåˆ—é…ç½®\n\n\n\nHadoopé›†ç¾¤æ•´ä½“æ¦‚è¿°\nHadoopé›†ç¾¤åŒ…æ‹¬ä¸¤ä¸ªé›†ç¾¤ï¼šHDFSé›†ç¾¤ã€YARNé›†ç¾¤\n\nä¸¤ä¸ªé›†ç¾¤é€»è¾‘ä¸Šåˆ†ç¦»ã€é€šå¸¸ç‰©ç†ä¸Šåœ¨ä¸€èµ·\n\nä¸¤ä¸ªé›†ç¾¤éƒ½æ˜¯æ ‡å‡†çš„ä¸»ä»æ¶æ„é›†ç¾¤\n\nHDFSé›†ç¾¤ï¼ˆåˆ†å¸ƒå¼å­˜å‚¨ï¼‰ï¼š\nä¸»è§’è‰²ï¼šNameNode\nä»è§’è‰²ï¼šDataNode\nä¸»è§’è‰²è¾…åŠ©è§’è‰²ï¼šSecondaryNameNode\n\nYARNé›†ç¾¤ï¼ˆèµ„æºç®¡ç†ã€è°ƒåº¦ï¼‰ï¼š\nä¸»è§’è‰²ï¼šResourceManager\nä»è§’è‰²ï¼šNodeManager\n\né€»è¾‘ä¸Šåˆ†ç¦»\nä¸¤ä¸ªé›†ç¾¤äº’ç›¸ä¹‹é—´æ²¡æœ‰ä¾èµ–ã€äº’ä¸å½±å“\n\nç‰©ç†ä¸Šåœ¨ä¸€èµ·\næŸäº›è§’è‰²è¿›ç¨‹å¾€å¾€éƒ¨ç½²åœ¨åŒä¸€å°ç‰©ç†æœåŠ¡å™¨ä¸Š\n\nMapReduceé›†ç¾¤å‘¢ï¼Ÿ\nMapReduceæ˜¯è®¡ç®—æ¡†æ¶ã€ä»£ç å±‚é¢çš„ç»„ä»¶ æ²¡æœ‰é›†ç¾¤ä¹‹è¯´\n\n\n\nHadoopå®‰è£…åŒ…ç›®å½•ç»“æ„\nbinï¼šHadoopæœ€åŸºæœ¬çš„ç®¡ç†è„šæœ¬å’Œä½¿ç”¨è„šæœ¬çš„ç›®å½•ï¼Œè¿™äº›è„šæœ¬æ˜¯sbinç›®å½•ä¸‹ç®¡ç†è„šæœ¬çš„åŸºç¡€å®ç°ï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›è„šæœ¬ç®¡ç†å’Œä½¿ç”¨Hadoop\netcï¼šHadoopé…ç½®æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•\nincludeï¼šå¯¹å¤–æä¾›çš„ç¼–ç¨‹åº“å¤´æ–‡ä»¶ï¼ˆå…·ä½“åŠ¨æ€åº“å’Œé™æ€åº“åœ¨libç›®å½•ä¸­ï¼‰ï¼Œè¿™äº›å¤´æ–‡ä»¶å‡æ˜¯ç”¨C++å®šä¹‰çš„ï¼Œé€šå¸¸ç”¨äºC++ç¨‹åºè®¿é—®HDFSæˆ–è€…ç¼–å†™MapReduceç¨‹åºã€‚\nlibï¼šæ”¹ç›®å½•åŒ…å«äº†Hadoopå¯¹å¤–æä¾›çš„ç¼–ç¨‹åŠ¨æ€åº“å’Œé™æ€åº“ï¼Œä¸includeç›®å½•ä¸­çš„å¤´æ–‡ä»¶ç»“åˆä½¿ç”¨ã€‚\nlibexecï¼šå„ä¸ªæœåŠ¡å¯¹ç”¨çš„shellé…ç½®æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼Œå¯ç”¨äºé…ç½®æ—¥å¿—è¾“å‡ºã€å¯åŠ¨å‚æ•°ï¼ˆæ¯”å¦‚JVMå‚æ•°ï¼‰ç­‰åŸºæœ¬ä¿¡æ¯ã€‚\nsbinï¼šHadoopç®¡ç†è„šæœ¬æ‰€åœ¨çš„ç›®å½•ï¼Œä¸»è¦åŒ…å«HDFSå’ŒYARNä¸­å„ç±»æœåŠ¡çš„å¯åŠ¨/å…³é—­è„šæœ¬ã€‚\nshareï¼šHadoopå„ä¸ªæ¨¡å—ç¼–è¯‘åçš„jaråŒ…æ‰€åœ¨çš„ç›®å½•ï¼Œå®˜æ–¹è‡ªå¸¦ç¤ºä¾‹ã€‚\n\né…ç½®æ–‡ä»¶æ¦‚è¿°\nå®˜æ–¹æ–‡æ¡£ï¼šhttps://hadoop.apache.org/docs/r3.3.0/\n\nç¬¬ä¸€ç±»1ä¸ªï¼šhadoop-env.sh\n\nç¬¬äºŒç±»4ä¸ªï¼š\nxxxx-site.xmlï¼Œsiteè¡¨ç¤ºçš„æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„é…ç½®ï¼Œä¼šè¦†ç›–defaultä¸­çš„é»˜è®¤é…ç½®ã€‚\ncore-site.xmlï¼Œæ ¸å¿ƒæ¨¡å—é…ç½®\nhdfs-site.xmlï¼Œhdfsæ–‡ä»¶ç³»ç»Ÿæ¨¡å—é…ç½®\nmapred-site.xmlï¼ŒMapReduceæ¨¡å—é…ç½®\nyarn-site.xmlï¼Œyarnæ¨¡å—é…ç½®\n\nç¬¬ä¸‰ç±»1ä¸ªï¼šworkers\n\næ‰€æœ‰çš„é…ç½®æ–‡ä»¶ç›®å½•ï¼š/export/server/hadoop-3.3.0/etc/hadoop\n\nä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆé…ç½®æ–‡ä»¶è·¯å¾„hadoop-3.3.0/etc/hadoopï¼‰\n\nhadoop-env.sh\nexport JAVA_HOME=/export/server/jdk1.8.0.241 #é…ç½®Javaç¯å¢ƒåœ¨å“ªexport HDFS_NAMENODE_USER=root #NAMENODEä½¿ç”¨çš„ç”¨æˆ·ï¼Œä»¥ä¸‹é…ç½®æ„æ€ä»¥æ­¤ç±»æ¨export HDFS_DATANODE_USER=root export HDFS_SECONDARYNAMENODE_USER=rootexport YARN_RESOURCEMANAGER_USER=rootexport YARN_NODEMANAGER_USER=root\n\ncore-site.xml\n&lt;!--è®¾ç½®é»˜è®¤ä½¿ç”¨çš„æ–‡ä»¶ç³»ç»ŸHadoopæ”¯æ’‘fileã€HDFSã€GFSã€ali|Amazonäº‘ç­‰æ–‡ä»¶ç³»ç»Ÿ--&gt;&lt;property&gt;    &lt;name&gt;fs.defaultFS&lt;/name&gt;    &lt;value&gt;hdfs://node1:8020&lt;/value&gt;&lt;/property&gt;&lt;!--è®¾ç½®Hadoopæœ¬åœ°ä¿å­˜æ•°æ®è·¯å¾„--&gt;&lt;property&gt;    &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;    &lt;value&gt;/export/data/hadoop-3.3.0&lt;/value&gt;&lt;/property&gt;&lt;!--è®¾ç½®HDFS web UIç”¨æˆ·èº«ä»½--&gt;&lt;property&gt;    &lt;name&gt;hadoop.http.staticuser.user&lt;/name&gt;    &lt;value&gt;root&lt;/value&gt;&lt;/property&gt;&lt;!--æ•´åˆhiveç”¨æˆ·ä»£ç†è®¾ç½®--&gt;&lt;property&gt;    &lt;name&gt;hadoop.proxyuser.root.hosts&lt;/name&gt;    &lt;value&gt;*&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;hadoop.proxyuser.root.groups&lt;/name&gt;    &lt;value&gt;*&lt;/value&gt;&lt;/property&gt;&lt;!--æ–‡ä»¶ç³»ç»Ÿåƒåœ¾æ¡¶ä¿å­˜æ—¶é—´--&gt;&lt;property&gt;    &lt;name&gt;fs.trash.interval&lt;/name&gt;    &lt;value&gt;1440&lt;/value&gt;&lt;/property&gt;\n\nhdfs-site.xml\n&lt;!-- è®¾ç½®SNNè¿›ç¨‹è¿è¡Œæœºå™¨ä½ç½®ä¿¡æ¯ --&gt;&lt;property&gt;    &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;    &lt;value&gt;node2:9868&lt;/value&gt;&lt;/property&gt;\n\nmapred-site.xml\n&lt;!-- è®¾ç½®MRç¨‹åºé»˜è®¤è¿è¡Œæ¨¡å¼ï¼šyarné›†ç¾¤æ¨¡å¼ localæœ¬åœ°æ¨¡å¼--&gt;&lt;property&gt;    &lt;name&gt;mapreduce.framework.name&lt;/name&gt;    &lt;value&gt;yarn&lt;/value&gt;&lt;/property&gt;&lt;!-- MRç¨‹åºå†å²æœåŠ¡åœ°å€ --&gt;&lt;property&gt;    &lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt;    &lt;value&gt;node1.10020&lt;/value&gt;&lt;/property&gt;&lt;!-- MRç¨‹åºå†å²æœåŠ¡å™¨webç«¯åœ°å€ --&gt;&lt;property&gt;    &lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt;    &lt;value&gt;node1:19888&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;    &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;    &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;&lt;/property&gt;\n\nyarn-site.xml\n&lt;!-- è®¾ç½®YARNé›†ç¾¤ä¸»è§’è‰²è¿è¡Œæœºå™¨ä½ç½® --&gt;&lt;property&gt;    &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;    &lt;value&gt;node1&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;    &lt;value&gt;mapreduce_shuffle&lt;/value&gt;&lt;/property&gt;&lt;!-- æ˜¯å¦å°†å¯¹å®¹å™¨å®æ–½ç‰©ç†å†…å­˜é™åˆ¶--&gt;&lt;property&gt;    &lt;name&gt;yarn.nodemanager.pmem-check-enabled&lt;/name&gt;    &lt;value&gt;false&lt;/value&gt;&lt;/property&gt;&lt;!-- æ˜¯å¦å°†å¯¹å®¹å™¨å®æ–½è™šæ‹Ÿå†…å­˜é™åˆ¶ --&gt;&lt;property&gt;    &lt;name&gt;yarn.nodemanager.vmem-check-enabled&lt;/name&gt;    &lt;value&gt;false&lt;/value&gt;&lt;/property&gt;&lt;!--å¼€å¯æ—¥å¿—èšé›†--&gt;&lt;property&gt;    &lt;name&gt;yarn.log-aggregation-enable&lt;/name&gt;    &lt;value&gt;true&lt;/value&gt;&lt;/property&gt;&lt;!-- è®¾ç½®yarnå†å²æœåŠ¡å™¨åœ°å€ --&gt;&lt;property&gt;    &lt;name&gt;yarn.log.server.url&lt;/name&gt;    &lt;value&gt;http://node1:19888/jobhistory/logs&lt;/value&gt;&lt;/property&gt;&lt;!-- å†å²æ—¥å¿—ä¿å­˜çš„æ—¶é—´ 7å¤© --&gt;&lt;property&gt;    &lt;name&gt;yarn.log-aggregation.retain-seconds&lt;/name&gt;    &lt;value&gt;604800&lt;/value&gt;&lt;/property&gt;\n\nworkers\nnode1.itcast.cnnode2.itcast.cnnode3.itcast.cn\n\n\nåˆ†å‘åŒæ­¥hadoopå®‰è£…åŒ…\ncd /export/serverscp -r hadoop-3.3.0 root@node2:$PWDscp -r hadoop-3.3.0 root@node3:$PWD\n\nå°†hadoopæ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼ˆ3å°æœºå™¨ï¼‰\nvim /etc/profileexport HADOOP_HOME=/export/server/hadoop-3.3.0export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin\n\né›†ç¾¤å¯åŠ¨å‡†å¤‡å·¥ä½œstep1ï¼šé›†ç¾¤è§„åˆ’ï¼š\n\nè§’è‰²è§„åˆ’çš„å‡†åˆ™\næ ¹æ®è½¯ä»¶å·¥ä½œç‰¹å¾å’ŒæœåŠ¡å™¨ç¡¬ä»¶èµ„æºæƒ…å†µåˆç†åˆ†é…\næ¯”å¦‚ä¾èµ–å†…å­˜å·¥ä½œçš„NameNodeæ˜¯ä¸æ˜¯éƒ¨ç½²åœ¨å¤§å†…å­˜æœºå™¨ä¸Šï¼Ÿ\n\nè§’è‰²è§„åˆ’æ³¨æ„äº‹é¡¹\nèµ„æºä¸Šæœ‰æŠ¢å¤ºå†²çªçš„ï¼Œå°½é‡ä¸è¦éƒ¨ç½²åœ¨ä¸€èµ·\nå·¥ä½œä¸Šä¸ªéœ€è¦äº’ç›¸é…åˆã€‚å°½é‡éƒ¨ç½²åœ¨ä¸€èµ·\n\n\n\næœåŠ¡å™¨\nè¿è¡Œè§’è‰²\n\n\n\nnode1.itcast.cn\nnamenode datanode resourcemanager nodemanager\n\n\nnode2.itcast.cn\nsecondarynamenode datanode nodemanager\n\n\nnode3.itcast.cn\nnode3.itcast.cn nodemanager\n\n\n\n\nstep2ï¼šæœåŠ¡å™¨åŸºç¡€ç¯å¢ƒå‡†å¤‡\n\né›†ç¾¤æ—¶é—´åŒæ­¥ï¼ˆ3å°æœºå™¨ï¼‰\nyum -y install ntpdate\nntpdate ntp4.aliyun.com\n\n\nåˆ›å»ºç»Ÿä¸€å·¥ä½œç›®å½•ï¼ˆ3å°æœºå™¨ï¼‰\nmkdir -p /export/server/ #è½¯ä»¶å®‰è£…è·¯å¾„\nmkdir -p /export/data #æ•°æ®å­˜å‚¨è·¯å¾„\nmkdir -p /export/software/ #å®‰è£…åŒ…å­˜æ”¾è·¯å¾„\n\n\n\nstep3ï¼šä¸Šä¼ å®‰è£…åŒ…ã€è§£å‹å®‰è£…åŒ…\n\nJDK1.8å®‰è£…ï¼ˆ3å°æœºå™¨ï¼‰\n\n\nä¸Šä¼ ã€è§£å‹Hadoopå®‰è£…åŒ…ï¼ˆnode1ï¼‰\n\n\n\nstep5ï¼šç¼–è¾‘Hadoopé…ç½®æ–‡ä»¶ï¼ˆ1ï¼‰\n\nhadoop-env.sh\n\n\n\nstep8ï¼šNameNode formatï¼ˆæ ¼å¼åŒ–æ“ä½œï¼‰(æ³¨æ„ï¼ï¼ï¼ï¼ï¼åƒä¸‡ä¸è¦æ‰§è¡Œå¤šæ¬¡ï¼Œåªéœ€è¦æ­å»ºå¥½åˆå§‹åŒ–çš„æ—¶å€™æ‰§è¡Œä¸€æ¬¡å°±è¡Œï¼Œä»¥åéƒ½ä¸ç”¨æ‰§è¡Œ)\n\né¦–æ¬¡å¯åŠ¨HDFSæ—¶ï¼Œå¿…é¡»å¯¹å…¶è¿›è¡Œæ ¼å¼åŒ–æ“ä½œã€‚\n\nformatæœ¬è´¨ä¸Šæ˜¯åˆå§‹åŒ–å·¥ä½œï¼Œè¿›è¡ŒHDFSæ¸…ç†å’Œå‡†å¤‡å·¥ä½œ\n\nå‘½ä»¤ï¼š\nhdfs namenode -format\n\n\n\n\næ‰‹åŠ¨é€ä¸ªè¿›ç¨‹å¯åœ\n\næ¯å°æœºå™¨ä¸Šæ¯æ¬¡æ‰‹åŠ¨å¯åŠ¨å…³é—­ä¸€ä¸ªè§’è‰²è¿›ç¨‹ï¼Œå¯ä»¥è¿›å‡†æ§åˆ¶æ¯ä¸ªè¿›ç¨‹å¯åœï¼Œé¿å…ç¾¤èµ·ç¾¤åœã€‚\n\nHDFSé›†ç¾¤\n#hadoop2.xç‰ˆæœ¬å‘½ä»¤hadoop-daemon.sh start|stop namenode|datanode|secondarynamenode#hadoop3.xç‰ˆæœ¬å‘½ä»¤hdfs --daemon start|stop namenoddatanodsecondarynamenode\n\nYARNé›†ç¾¤\n#hadoop2.xç‰ˆæœ¬å‘½ä»¤yarn-daemon.sh starstop resourcemanager|nodemanager#hadoop3.xç‰ˆæœ¬å‘½ä»¤yarn --daemon start|stop resourcemanager|nodemanager\n\nshellè„šæœ¬ä¸€é”®å¯åœ\n\nåœ¨node1ä¸Šï¼Œä½¿ç”¨è½¯ä»¶è‡ªå¸¦çš„shellè„šæœ¬ä¸€é”®å¯åŠ¨ã€‚å‰æï¼šé…ç½®å¥½æœºå™¨ä¹‹é—´çš„sshå…å¯†ç™»å½•å’Œworkersæ–‡ä»¶ã€‚\n\nHDFSé›†ç¾¤\nstart-dfs.sh\nstop-dfs.sh\n\nYARNé›†ç¾¤\nstart-yarn.sh\nstop-yarn.sh\n\nHadoopé›†ç¾¤\nstart-all.sh\nstop-all.sh\n\n\n\nè¿›ç¨‹çŠ¶æ€ã€æ—¥å¿—æŸ¥çœ‹\n\nå¯åŠ¨å®Œæ¯•ä¹‹åå¯ä»¥ä½¿ç”¨jpså‘½ä»¤æŸ¥çœ‹è¿›ç¨‹æ˜¯å¦å¯åŠ¨æˆåŠŸ\njps #jä»£è¡¨Javaï¼Œpsä»£è¡¨è¿›ç¨‹\n\n\n\nHadoopå¯åŠ¨æ—¥å¿—è·¯å¾„ï¼š/export/server/hadoop-3.3.0/logs/\n\n\n\nHDFSé›†ç¾¤\n\nåœ°å€ï¼šhttp://namenode_host:9870\nå…¶ä¸­namenode_hostæ˜¯namenodeè¿è¡Œæ‰€åœ¨æœºå™¨çš„ä¸»æœºåæˆ–è€…ip\nå¦‚æœä½¿ç”¨ä¸»æœºåè®¿é—®ï¼Œåˆ«å¿˜äº†åœ¨Windowsé…ç½®hosts\n\n\n\n","categories":["å¤§æ•°æ®"],"tags":["Hadoop"]},{"title":"å®å¡”å¸¸ç”¨æŒ‡ä»¤","url":"/2024/03/02/learnnote/bao-ta/bao-ta-chang-yong-zhi-ling/","content":"\næŸ¥çœ‹é¢æ¿å…¥å£ï¼ˆä¹Ÿå¯ä»¥é€šè¿‡è¯¥å‘½ä»¤åˆ¤æ–­æœåŠ¡å™¨æ˜¯å¦å®‰è£…äº†å®å¡”é¢æ¿ï¼‰\n/etc/init.d/bt default\n\n\n\nä½¿ç”¨ bt å‘½ä»¤ é‡ç½®ç”¨æˆ·å¯†ç \n\n\né‡å¯é¢æ¿\nbt restart\n\n","categories":["å®å¡”"],"tags":["å®å¡”"]},{"title":"å®éªŒå®¤åŸ¹è®­æŒ‡å—","url":"/2023/10/22/learnnote/shi-yan-shi-pei-xun-zhi-nan/shi-yan-shi-pei-xun-zhi-nan/","content":"åŸ¹è®­æŒ‡å—\nä¸€ã€å¸¸ç”¨ä¾¿æ·è½¯ä»¶åŸ¹è®­\n\nè¿™ä¸ªæ ¹æ®æƒ…å†µè¿›è¡Œ\næˆªå›¾è½¯ä»¶ä½¿ç”¨\nMarkdownç¬”è®°ä½¿ç”¨\n\näºŒã€é—®ç­”è‰ºæœ¯åŠGitåŸ¹è®­\n\nGité¡¹ç›®ç®¡ç†\n\nä¸‰ã€åŸºç¡€ç®—æ³•åŸ¹è®­æŒ‡å—\n1ã€Cè¯­è¨€åŸºç¡€è¯­æ³•\n1ï¼‰å˜é‡çš„ä½¿ç”¨ï¼ˆå±€éƒ¨å˜é‡ã€å…¨å±€å˜é‡ï¼‰\n2ï¼‰++iå’Œi++çš„åŒºåˆ«\n3ï¼‰å±€éƒ¨å˜é‡å’Œå…¨å±€å˜é‡\n4ï¼‰å‡½æ•°çš„ä½¿ç”¨\n5ï¼‰æ•°ç»„çš„ä½¿ç”¨ \n6ï¼‰æŒ‡é’ˆçš„ä½¿ç”¨\n7ï¼‰ç»“æ„ä½“çš„ä½¿ç”¨\n\n2ã€è¿­ä»£ç®—æ³•çš„ä½¿ç”¨\n1ï¼‰ç´¯åŠ \n2ï¼‰æ–æ³¢æ‹‰å¥‘æ•°åˆ—\n\n3ã€é€’å½’ç®—æ³•çš„ä½¿ç”¨\n1ï¼‰é€’å½’å®ç°ç´¯åŠ \n2ï¼‰é€’å½’å®ç°ä¸€ç»´æ•°ç»„çš„æŸ¥æ‰¾\n3ï¼‰é€’å½’å®ç°äºŒç»´æ•°ç»„çš„æŸ¥æ‰¾\n\n4ã€åŸºç¡€æ•°æ®ç»“æ„\n1ï¼‰é“¾è¡¨çš„å®ç°\n2ï¼‰æ ˆçš„å®ç°\n3ï¼‰é˜Ÿåˆ—çš„å®ç°\n4ï¼‰æ ‘çš„å®ç°\n\n5ã€åŸºç¡€ç®—æ³•\n1ï¼‰è´ªå¿ƒç®—æ³•å®ç°\n2ï¼‰å‰ç¼€å’Œç®—æ³•å®ç°ï¼ˆä¸€ç»´å‰ç¼€å’Œã€äºŒç»´å‰ç¼€å’Œï¼‰\n3ï¼‰å·®åˆ†ç®—æ³•å®ç°ï¼ˆä¸€ç»´å·®åˆ†ã€äºŒç»´å·®åˆ†ï¼‰\n4ï¼‰å…¨æ’åˆ—ç®—æ³•\n5ï¼‰DFSç®—æ³•å®ç°\n6ï¼‰BFSç®—æ³•å®ç°ï¼ˆè¿™é‡Œæ•™å­¦ä¸¤ç§å®ç°æ–¹å¼å³å¯ï¼Œä¸€ä¸ªåŸºäºæ ˆï¼Œä¸€ä¸ªåŸºäºé˜Ÿåˆ—ï¼Œè¿™é‡Œå­¦å®Œä¹‹åå¯ä»¥çœ‹æƒ…å†µå¸ƒç½®ä»»åŠ¡ï¼Œæ¯”å¦‚AIè´ªåƒè›‡ï¼‰\n7ï¼‰ä¼˜å…ˆé˜Ÿåˆ—å®ç°\n8ï¼‰äºŒåˆ†æŸ¥æ‰¾ç®—æ³•ï¼ˆæ•´å½¢äºŒåˆ†ï¼Œé«˜ç²¾åº¦äºŒåˆ†ï¼‰\n9ï¼‰æ±‚æœ€å¤§å…¬çº¦æ•°\n10ï¼‰æœ€å°å…¬å€æ•°ç®—æ³•\n11ï¼‰åˆ†è§£è´¨å› æ•°\n12ï¼‰æ±‚é˜¶ä¹˜çº¦æ•°\n13ï¼‰æ’åˆ—ç»„åˆæ•°å­¦\n14ï¼‰Dijkstraç®—æ³•\n15ï¼‰Kruskalç®—æ³•\n16ï¼‰åŸºç¡€DPç®—æ³•\n\n6ã€æ•°è®º\n1ï¼‰åˆ¤æ–­è´¨æ•°\n2ï¼‰æœ€å¤§å…¬å› æ•°\n3ï¼‰æœ€å°å…¬å€æ•°\n4ï¼‰äº’è´¨\né€†å…ƒ\nå®¹æ–¥åŸç†\n\nåˆ·é¢˜è®¡åˆ’\n\næ¯”èµ›å‰1ä¸ªæœˆæ¯æ—¥ä¸€é¢˜è®¡åˆ’ï¼ˆéš¾åº¦é€æ¸æé«˜ï¼‰\n\n\næ¯ä¸€åˆ°ä¸¤å‘¨è¿›è¡Œç®—æ³•åŒå‘¨èµ›ï¼ˆæ ¹æ®æƒ…å†µæ¥å®šï¼‰\n\n","categories":["å®éªŒå®¤"],"tags":["è®¡ç®—æœºåŸ¹è®­"]},{"title":"STM32å­¦ä¹ ","url":"/2023/03/22/learnnote/qian-ru-shi/stm32/","content":"STM32 å­¦ä¹ \n\nå·¥ç¨‹æ¶æ„ï¼š\nSTå»ºè®®æ˜¯å¦‚æœæ˜¯æƒ³è‡ªå·±å†™ä¸­æ–­çš„è¯ï¼Œæ˜¯å†™åœ¨è¿™ä¸ªä½ç½®ï¼›\nç›´æ¥æ“ä½œå¯„å­˜å™¨å¯ä»¥æŸ¥çœ‹stm32f10x.hï¼š\nstm32f10x.adc.cå°è£…äº†å¯„å­˜å™¨çš„æ“ä½œï¼Œæä¾›äº†æ›´åŠ äººæ€§åŒ–çš„æ“ä½œã€‚\n\nGPIOä»‹ç»\nGPIO(General Purpose Input Output)é€šç”¨è¾“å…¥è¾“å‡ºå£\nå¯é…ç½®ä¸º8ç§è¾“å…¥è¾“å‡ºæ¨¡å¼\nå¼•è„šç”µå¹³ï¼š0V~3.3Vï¼Œéƒ¨åˆ†å¼•è„šå¯å®¹å¿5V\nè¾“å‡ºæ¨¡å¼ä¸‹å¯æ§åˆ¶ç«¯å£è¾“å‡ºé«˜ä½ç”µå¹³ï¼Œç”¨ä»¥é©±åŠ¨LEDã€æ§åˆ¶èœ‚é¸£å™¨ã€æ¨¡æ‹Ÿé€šè®¯åè®®è¾“å‡ºæ—¶åºç­‰\nè¾“å…¥æ¨¡å¼ä¸‹è¯¾è¯»å–ç«¯å£çš„é«˜ä½ç”µå¹³æˆ–ç”µå‹ï¼Œç”¨äºè¯»å–æŒ‰é”®è¾“å…¥ã€å¤–æ¥æ¨¡å—ç”µå¹³ä¿¡å·è¾“å…¥ã€ADCç”µå‹é‡‡é›†ã€æ¨¡æ‹Ÿé€šè®¯åè®®æ¥æ”¶æ•°æ®ç­‰\n\nGPIOçš„åŸºæœ¬ç»“æ„\nGPIOä½ç»“æ„\né€šè¿‡é…ç½®GPIOçš„ç«¯å£é…ç½®å¯„å­˜å™¨ï¼Œç«¯å£å¯ä»¥é…ç½®æˆä»¥ä¸‹8ç§æ¨¡å¼\næµ®ç©º/ä¸Šæ‹‰/ä¸‹æ‹‰è¾“å…¥\nLEDå’Œèœ‚é¸£å™¨ä»‹ç»\nLEDï¼šå‘å…‰äºŒæç®¡ï¼Œæ­£å‘é€šç”µç‚¹äº®ï¼Œåå‘é€šç”µä¸äº®\næœ‰æºèœ‚é¸£å™¨ï¼šå†…éƒ¨è‡ªå¸¦éœ‡è¡æºï¼Œå°†æ­£è´Ÿææ¥ä¸Šç›´æµç”µå‹å³å¯æŒç»­å‘å£°ï¼Œé¢‘ç‡å›ºå®š\næ— æºèœ‚é¸£å™¨ï¼šå†…éƒ¨ä¸å¸¦éœ‡è¡æºï¼Œéœ€è¦æ§åˆ¶å™¨æä¾›éœ‡è¡è„‰å†²æ‰å¯å‘å£°ï¼Œè°ƒæ•´æä¾›éœ‡è¡è„‰å†²çš„é¢‘ç‡ï¼Œå¯å‘å‡ºä¸åŒé¢‘ç‡çš„å£°éŸ³\n\n\nå¯¹åº”ç¡¬ä»¶ç”µè·¯\nç”µç¯ä»£ç ï¼š#include \"stm32f10x.h\"int main(void){\t//RCC-&gt;APB2ENR = 0x00000010;\t//GPIOC-&gt;CRH = 0x00300000;\t//GPIOC-&gt;ODR = 0x00002000;\tRCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA,ENABLE);\tGPIO_InitTypeDef GPIO_InitStructure;\tGPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;\tGPIO_InitStructure.GPIO_Pin = GPIO_Pin_0;\tGPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;\tGPIO_Init(GPIOA, &amp;GPIO_InitStructure);\tGPIO_ResetBits(GPIOA,GPIO_Pin_0);\t\t\twhile(1){\t}\t//return 0;}\n\n\n\næŒ‰é”®ä»‹ç»ï¼š\næŒ‰é”®ï¼šå¸¸è§çš„è¾“å…¥è®¾å¤‡ï¼ŒæŒ‰ä¸‹å¯¼é€šï¼Œæ¾æ‰‹æ–­å¼€\næŒ‰é”®æŠ–åŠ¨ï¼šç”±äºæŒ‰é”®å†…éƒ¨ä½¿ç”¨çš„æ˜¯æœºæ¢°å¼å¼¹ç°§ç‰‡æ¥è¿›è¡Œé€šæ–­çš„ï¼Œæ‰€ä»¥åœ¨æŒ‰ä¸‹å’Œæ¾æ‰‹çš„ç¬é—´ä¼šä¼´éšæœ‰ä¸€è¿ä¸²çš„æŠ–åŠ¨\n\n\næŒ‰é’®æ§åˆ¶ä»£ç ï¼š#include \"stm32f10x.h\"#include \"Delay.h\"void Key_Init(void){\tRCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB, ENABLE);\t\tGPIO_InitTypeDef GPIO_InitStructure;\tGPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU; //ä¸Šæ‹‰è¾“å…¥\tGPIO_InitStructure.GPIO_Pin = GPIO_Pin_4|GPIO_Pin_12;\tGPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;\tGPIO_Init(GPIOB,&amp;GPIO_InitStructure);}int Key_GetNum(uint16_t btnID){\t\tint KeyNum = 0;\tif(GPIO_ReadInputDataBit(GPIOB,btnID) ==0){\t\tDelay_ms(20);\t\twhile(GPIO_ReadInputDataBit(GPIOB,btnID)==0);\t\tDelay_ms(20);\t\tKeyNum = 1;\t}\treturn KeyNum;}\n\n\n\n\n\næŒ‰é”®ä¸ä¼ æ„Ÿå™¨çš„æ¥æ³•\nä¸Šé¢ä¸¤ç§è§£æ³•æ˜¯æŒ‰ä¸‹ä¸ºé«˜ç”µå¹³ï¼Œæ¾å¼€æ˜¯ä½ç”µå¹³ã€‚ä¸‹é¢ä¸¤ç§è§£æ³•åä¹‹ã€‚ï¼ˆä¸€èˆ¬å¸¸ç”¨ä¸Šé¢ä¸¤ç§æ¥æ³•ï¼‰\n\n\nä¼ æ„Ÿå™¨æ¨¡å—ä»‹ç»ï¼š\nä¼ æ„Ÿå™¨æ¨¡å—ï¼šä¼ æ„Ÿå™¨å…ƒä»¶ï¼ˆå…‰æ•ç”µé˜»/çƒ­æ•ç”µé˜»/çº¢å¤–æ¥æ”¶ç®¡ç­‰)çš„ç”µé˜»ä¼šéšå¤–æ¥æ¨¡æ‹Ÿé‡çš„å˜åŒ–è€Œå˜åŒ–ï¼Œé€šè¿‡ä¸å®šå€¼ç”µé˜»åˆ†å‹å³å¯å¾—åˆ°æ¨¡æ‹Ÿç”µå‹è¾“å‡ºï¼Œå†é€šè¿‡ç”µå‹æ¯”è¾ƒå™¨è¿›è¡ŒäºŒå€¼åŒ–å³å¯å¾—åˆ°æ•°å­—ç”µå‹è¾“å‡º\n\n\n\nCè¯­è¨€æ•°æ®ç±»å‹ï¼š\n\nåœ¨51å•ç‰‡æœºä¸­intæ˜¯å 16ä½çš„ï¼Œè€Œåœ¨STM32ä¸­intæ˜¯å 32ä½çš„ï¼Œå¦‚æœè¦ç”¨16ä½çš„æ•°æ®ï¼Œè¦ç”¨shortæ¥è¡¨ç¤º\n\nOLEDé©±åŠ¨å‡½æ•°\n\nI2Cé€šè®¯\nI2Cæ€»çº¿ï¼ˆInter IC BUSï¼‰æ˜¯ç”±Philipså…¬å¸å¼€å‘çš„ä¸€ç§é€šç”¨æ•°æ®æ€»çº¿\nä¸¤æ ¹é€šè®¯çº¿ï¼šSCLï¼ˆSerial Clockï¼‰ã€SDAï¼ˆSerial Dataï¼‰\nåŒæ­¥ï¼ŒåŠåŒå·¥\nå¸¦æ•°æ®åº”ç­”\næ”¯æŒæ€»çº¿æŒ‚è½½å¤šè®¾å¤‡ï¼ˆä¸€ä¸»å¤šä»ã€å¤šä¸»å¤šä»ï¼‰\n\n\nç¡¬ä»¶ç”µè·¯ï¼š\nç®€å•åŒå‘ä¸²å£é€šä¿¡ç”±ä¸¤æ ¹é€šä¿¡çº¿ï¼ˆå‘é€ç«¯TXå’Œæ¥æ”¶ç«¯RXï¼‰\nTXä¸RXè¦äº¤å‰è¿æ¥\nå½“åªéœ€å•å‘çš„æ•°æ®ä¼ è¾“æ—¶ï¼Œå¯ä»¥åªæ¥ä¸€æ ¹é€šä¿¡çº¿\nå½“ç”µå¹³æ ‡å‡†ä¸ä¸€è‡´æ—¶ï¼Œéœ€è¦åŠ ç”µå¹³è½¬æ¢èŠ¯ç‰‡\n\n\n\nMPU6050ï¼š\nMPU6050æ˜¯ä¸€ä¸ªå…­è½´å§¿æ€ä¼ æ„Ÿå™¨ï¼Œå¯ä»¥æµ‹é‡èŠ¯ç‰‡è‡ªèº«Xã€Yï¼ŒZè½´çš„åŠ é€Ÿåº¦ã€è§’é€Ÿåº¦å‚æ•°ï¼Œé€šè¿‡æ•°æ®èåˆï¼Œå¯ä»¥è¿›ä¸€æ­¥å¾—åˆ°å§¿æ€è§’ï¼Œå¸¸åº”ç”¨äºå¹³è¡¡è½¦ã€é£è¡Œå™¨ç­‰éœ€è¦æ£€æµ‹è‡ªèº«å§¿æ€çš„åœºæ™¯\n3è½´åŠ é€Ÿåº¦è®¡ï¼ˆAccelerometerï¼‰ï¼šæµ‹é‡Xã€Yï¼ŒZè½´çš„åŠ é€Ÿåº¦\n3è½´é™€èºä»ªä¼ æ„Ÿå™¨ï¼ˆGyroscopeï¼‰ï¼šæµ‹é‡Xï¼ŒYï¼ŒZè½´çš„è§’é€Ÿåº¦\n\n\n\nEXTIä»‹ç»\nEXTI(Extern Interrupt)å¤–éƒ¨ä¸­æ–­\nEXTIå¯ä»¥æ£€æµ‹æŒ‡å®šGPIOå£çš„ç”µå¹³ä¿¡å·ï¼Œå½“å…¶æŒ‡å®šçš„GPIOäº§ç”Ÿç”µå¹³å˜åŒ–æ—¶ï¼ŒEXTIå°†ç«‹å³å‘NVICå‘å‡ºä¸­æ–­ç”³è¯·ï¼Œç»è¿‡NVICè£å†³åå³å¯ä¸­æ–­CPUä¸»ç¨‹åºï¼Œä½¿CPUæ‰§è¡ŒEXTIå¯¹åº”çš„ä¸­æ–­ç¨‹åº\næ”¯æ’‘çš„è§¦å‘æ–¹å¼ï¼šä¸Šå‡æ²¿/ä¸‹é™æ²¿/åŒè¾¹æ²¿/è½¯ä»¶è§¦å‘\næ”¯æ’‘çš„GPIOå£ï¼šæ‰€æœ‰GPIOå£ï¼Œä½†ç›¸åŒçš„Pinä¸èƒ½åŒæ—¶è§¦å‘ä¸­æ–­\né€šé“æ•°ï¼š16ä¸ªGPIO_Pinï¼Œå¤–åŠ PVDè¾“å‡ºã€RTCé—¹é’Ÿã€USBå”¤é†’ã€ä»¥å¤ªç½‘å”¤é†’\nè§¦å‘å“åº”æ–¹å¼ï¼šä¸­æ–­å“åº”/äº‹ä»¶å“åº”\n\nä¸­æ–­ç³»ç»Ÿ\nä¸­æ–­ï¼šåœ¨ä¸»ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå‡ºç°äº†ç‰¹å®šçš„ä¸­æ–­è§¦å‘æ¡ä»¶ï¼ˆä¸­æ–­æºï¼‰ï¼Œä½¿å¾—CPUæš‚åœå½“å‰æ­£åœ¨è¿è¡Œçš„ç¨‹åºï¼Œè½¬è€Œå»å¤„ç†ä¸­æ–­ç¨‹åºï¼Œå¤„ç†å®Œæˆååˆè¿”å›åŸæ¥è¢«æš‚åœçš„ä½ç½®ç»§ç»­è¿è¡Œ\nä¸­æ–­ä¼˜å…ˆçº§ï¼šå½“æœ‰å¤šä¸ªä¸­æ–­æºåŒæ—¶ç”³è¯·ä¸­æ–­æ—¶ï¼ŒCPUä¼šæ ¹æ®ä¸­æ–­æºçš„è½»é‡ç¼“æ€¥è¿›è¡Œè£å†³ï¼Œä¼˜å…ˆå“åº”æ›´åŠ ç´§æ€¥çš„ä¸­æ–­æº\nä¸­æ–­åµŒå¥—ï¼šå½“ä¸€ä¸ªä¸­æ–­ç¨‹åºæ­£åœ¨è¿è¡Œæ—¶ï¼Œåˆæœ‰æ–°çš„æ›´é«˜ä¼˜å…ˆçº§çš„ä¸­æ–­æºç”³è¯·ä¸­æ–­ï¼ŒCPUå†æ¬¡æš‚åœå½“å‰çš„ä¸­æ–­ç¨‹åºï¼Œè½¬è€Œå»å¤„ç†æ–°çš„ä¸­æ–­ç¨‹åºï¼Œå¤„ç†å®Œæˆåä¸€æ¬¡è¿›è¡Œè¿”å›\n\nä¸­æ–­æ‰§è¡Œæµç¨‹ï¼›\nSTM32ä¸­æ–­\nNVICåŸºæœ¬ç»“æ„\nNVICä¼˜å…ˆçº§åˆ†ç»„\nAFIOå¤ç”¨IOå£\nAFIOä¸»è¦ç”¨äºå¼•è„šå¤ç”¨åŠŸèƒ½çš„å­¦åˆ™å’Œé‡å®šä¹‰\nåœ¨STM32ä¸­ï¼ŒAFIOä¸»è¦å®Œæˆä¸¤ä¸ªä»»åŠ¡ï¼šå¤ç”¨åŠŸèƒ½å¼•è„šé‡æ˜ å°„ã€ä¸­æ–­å¼•è„šé€‰æ‹©\n\n\nEXTIæ¡†å›¾\næ—‹è½¬ç¼–ç å™¨ä»‹ç»\næ—‹è½¬ç¼–ç å™¨ï¼šç”¨æ¥æµ‹é‡ä½ç½®ã€é€Ÿåº¦æˆ–è€…æ—‹è½¬æ–¹å‘çš„è£…ç½®ï¼Œå½“å…¶æ—‹è½¬è½´æ—‹è½¬æ—¶ï¼Œå…¶è¾“å‡ºç«¯å¯ä»¥è¾“å‡ºä¸æ—‹è½¬é€Ÿåº¦å’Œæ–¹å‘å¯¹åº”çš„æ–¹æ³¢ä¿¡å·ï¼Œè¯»å–æ–¹æ³¢ä¿¡å·çš„é¢‘ç‡å’Œç›¸ä½ä¿¡æ¯å³å¯å¾—çŸ¥æ—‹è½¬è½´çš„é€Ÿåº¦å’Œæ–¹å‘\n\nç±»å‹ï¼šæœºæ¢°è§¦ç‚¹å¼/éœå°”ä¼ æ„Ÿå™¨å¼/å…‰æŸµå¼\n\n\n\næ—‹è½¬ç¼–ç å™¨ç¡¬ä»¶ç”µè·¯\næ³¨æ„ï¼š\n\nä¸­æ–­å‡½æ•°é‡Œï¼Œæœ€å¥½ä¸è¦æ‰§è¡Œè€—æ—¶è¿‡é•¿çš„ä»£ç ï¼Œä¸­æ–­å‡½æ•°è¦ç®€çŸ­å¿«é€Ÿï¼Œåˆ«åˆšè¿›ä¸­æ–­å°±æ‰§è¡Œä¸€ä¸ªDelayå¤šå°‘æ¯«ç§’è¿™æ ·çš„ä»£ç ï¼Œå› ä¸ºä¸­æ–­æ˜¯å¤„ç†çªå‘çš„äº‹æƒ…ï¼Œå¦‚æœä½ ä¸ºäº†ä¸€ä¸ªçªå‘çš„äº‹æƒ…å¾…ç€ä¸­æ–­ä¸å‡ºæ¥äº†ï¼Œé‚£ä¹ˆä¸»ç¨‹åºå°±ä¼šå—åˆ°å µå¡ï¼Œå¦å¤–å°±æ˜¯ï¼Œæœ€å¥½ä¸è¦åœ¨ä¸­æ–­å‡½æ•°å’Œä¸»å‡½æ•°è°ƒç”¨ç›¸åŒçš„å‡½æ•°æˆ–è€…æ“ä½œåŒä¸€ä¸ªç¡¬ä»¶ï¼Œå°¤å…¶æ˜¯ç¡¬ä»¶ç›¸å…³çš„å‡½æ•°ï¼Œæ¯”å¦‚OLEDæ˜¾ç¤ºå‡½æ•°ï¼Œå¦‚æœä½ æ—¢åœ¨ä¸»ç¨‹åºé‡Œè°ƒç”¨OLEDï¼Œåˆåœ¨ä¸­æ–­é‡Œè°ƒç”¨OLEDï¼ŒOLEDå°±ä¼šæ˜¾ç¤ºé”™è¯¯ã€‚\n\n","categories":["åµŒå…¥å¼","STM32"],"tags":["STM32"]},{"title":"å¥½ç”¨å·¥å…·æ”¶é›†è¡¨","url":"/2024/06/08/learnnote/gong-ju/hao-yong-gong-ju-shou-ji-biao/","content":"å¥½ç”¨å·¥å…·æ”¶é›†è¡¨\nåœ†å½¢å›¾ç‰‡è£å‰ªå™¨ï¼š\nåœ¨çº¿åœ†å½¢å›¾ç‰‡ç”Ÿæˆå™¨-ç…§ç‰‡åˆ¶ä½œåœ†å½¢å›¾å·¥å…·-æ±Ÿä¸‹ç§‘æŠ€åœ¨çº¿åº”ç”¨ (onlinedo.cn)\næ­£åˆ™åŒ¹é…å·¥å…·ï¼š\næ­£åˆ™è¡¨è¾¾å¼åœ¨çº¿æµ‹è¯• | èœé¸Ÿå·¥å…· (jyshare.com)\nRegexæ­£åˆ™è¡¨è¾¾å¼åœ¨çº¿æµ‹è¯• - æ­£åˆ™è¡¨è¾¾å¼åœ¨çº¿ç”Ÿæˆå·¥å…· - MKLabåœ¨çº¿å·¥å…·\nå›¾ç‰‡å‹ç¼©å·¥å…·ï¼š\nå‹ç¼©å›¾ç‰‡ï¼šåœ¨çº¿ç¼©å°å›¾ç‰‡å¤§å°ï¼ˆå…è´¹ï¼‰ (freecompress.com)\n","categories":["å·¥å…·"],"tags":["å·¥å…·"]},{"title":"è‹±è¯­å››çº§åˆ†å€¼è¯„ä¼°æ ‡å‡†","url":"/2023/09/17/learnnote/ying-yu/ying-yu-si-ji-fen-zhi-ping-gu/","content":"\nè‹±è¯­å››çº§æ€»åˆ†æ˜¯710åˆ†ã€‚\nä¸€ã€è‹±è¯­å››çº§ä½œæ–‡\nè¯´æ˜ï¼šå†™ä½œéƒ¨åˆ†å æ•´å¥—è¯•å·çš„15% =106.5åˆ†\nè¿™éƒ¨åˆ†è¦è¾¾åˆ°63.9åˆ†ä¸ºåŠæ ¼ã€‚\næ—¶é—´ï¼š30åˆ†é’Ÿ\näºŒã€è‹±è¯­å››çº§å¬åŠ›éƒ¨åˆ† =248.5åˆ†\nå¬åŠ›éƒ¨åˆ†å æ•´å¥—è¯•é¢˜çš„35%ï¼Œé™¤å¬åŠ›ç¯‡ç« å¤–æ¯ä¸ªé¢˜éƒ½æ˜¯7.1åˆ†ã€‚\n1ã€çŸ­ç¯‡æ–°é—» 7% å…±7å°é¢˜ï¼Œæ¯å°é¢˜7.1åˆ†ã€‚\n2 ã€é•¿å¯¹è¯ 8% 8ä¸ªé¢˜ç›® æ¯å°é¢˜7.1åˆ†ã€‚\n3ã€å¬åŠ›ç¯‡ç«  20% å…±10ä¸ªå°é¢˜ï¼Œæ¯å°é¢˜14.2åˆ†ã€‚\næ—¶é—´ï¼š25åˆ†é’Ÿã€‚è¿™éƒ¨åˆ†è¦è¾¾åˆ°149åˆ†ä¸ºåŠæ ¼ï¼Œåšå¯¹14ä¸ªå·¦å³å³å¯ã€‚\nä¸‰ã€è‹±è¯­å››çº§é˜…è¯»ç†è§£ 35% =248.5åˆ†\né˜…è¯»éƒ¨åˆ†å æ•´å¥—è¯•é¢˜çš„35%ï¼Œé€‰è¯å¡«ç©ºæ¯é¢˜3.55åˆ†ï¼Œå…¶ä½™æ¯é¢˜éƒ½æ˜¯7.1åˆ†ã€‚\n1ã€é€‰è¯å¡«ç©º 5% 10ä¸ªé¢˜ï¼Œæ¯å°é¢˜3.55åˆ†\n2ã€é•¿ç¯‡é˜…è¯» 10% 10ä¸ªé¢˜ï¼Œæ¯å°é¢˜7.1åˆ†ã€‚\n3ã€ä»”ç»†é˜…è¯» 20% 10ä¸ªé¢˜ å…±2ç¯‡ï¼Œä¸€ç¯‡5ä¸ªé¢˜ï¼Œæ¯å°é¢˜14.2åˆ†ã€‚\næ—¶é—´ï¼š40åˆ†é’Ÿ è¿™éƒ¨åˆ†è¦è¾¾åˆ°149åˆ†ä¸ºåŠæ ¼ï¼Œåšå¯¹18ä¸ªå·¦å³å³å¯ã€‚\nå››ã€è‹±è¯­å››çº§ç¿»è¯‘éƒ¨åˆ† æ±‰è¯‘è‹± 15% 30åˆ†é’Ÿ =106.5åˆ†\n","categories":["English"],"tags":["English","è‹±è¯­å››çº§"]},{"title":"æ“ä½œç³»ç»Ÿå¤ä¹ ","url":"/2023/12/28/learnnote/ji-suan-ji-cao-zuo-xi-tong-yuan-li/ji-suan-ji-cao-zuo-xi-tong-fu-xi/","content":"æ“ä½œç³»ç»Ÿå¤ä¹ \næ“ä½œç³»ç»Ÿæ¦‚å¿µã€å±‚æ¬¡\n æ“ä½œç³»ç»Ÿæ˜¯ä¸€ç§åºå¤§çš„ç³»ç»Ÿè½¯ä»¶ï¼Œç”±å¤§é‡å¤æ‚çš„ç¨‹åºå’Œä¼—å¤šçš„æ•°æ®ç»„åˆè€Œæˆï¼Œä»–å…·æœ‰å±‚æ¬¡å’Œæ¨¡å—ç»“æ„çš„ç‰¹ç‚¹ï¼Œå…¶å†…éƒ¨åˆ†ä¸ºä¸‰ä¸ªå±‚æ¬¡ï¼šæ“ä½œç³»ç»Ÿå¯¹è±¡ã€æ§åˆ¶å’Œç®¡ç†çš„è½¯ä»¶é›†åˆã€ç”¨æˆ·æ¥å£ã€‚\n\næ“ä½œç³»ç»Ÿçš„ç‰¹å¾1ã€å¹¶å‘æ€§\n\nå¹¶å‘æ€§æ˜¯æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„äº‹ä»¶åœ¨åŒä¸€æ—¶é—´é—´éš”å†…å‘ç”Ÿã€‚å¤šé“ç¨‹åºç¯å¢ƒä¸‹ï¼Œè®¡ç®—æœºç³»ç»Ÿä¸­åŒæ—¶å­˜åœ¨å¤šä¸ªè¿›ç¨‹ï¼Œå®è§‚ä¸Šï¼Œè¿™äº›è¿›ç¨‹åŒæ—¶æ‰§è¡Œï¼ŒåŒæ—¶å‘å‰æ¨è¿›ï¼›å¾®è§‚ä¸Šï¼Œå•å¤„ç†æœºä¸­ä»»ä½•æ—¶åˆ»åªèƒ½ç”±ä¸€ä¸ªè¿›ç¨‹åœ¨æ‰§è¡Œï¼Œå¤šä¸ªè¿›ç¨‹ä¹‹é—´æ˜¯äº¤æ›¿æ‰§è¡Œçš„ï¼Œå¤šå¤„ç†æœºä¸­è¿™äº›è¿›ç¨‹è¢«åˆ†é…åˆ°å¤šå¤„ç†æœºä¸Šå¹¶è¡Œæ‰§è¡Œã€‚å¹¶å‘çš„ç›®çš„æ˜¯æé«˜ç³»ç»Ÿèµ„æºçš„åˆ©ç”¨ç‡å’Œç³»ç»Ÿçš„ååé‡ã€‚\nå¹¶å‘å’Œå¹¶è¡Œæ˜¯ä¸¤ä¸ªæ—¢ç›¸ä¼¼åˆæœ‰åŒºåˆ«çš„æ¦‚å¿µã€‚å¹¶è¡Œæ˜¯ä»æŸä¸€æ—¶åˆ»å»è§‚å¯Ÿï¼Œä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶éƒ½åœ¨è¿è¡Œã€‚\n\n2ã€å…±äº«æ€§\n\nå…±äº«æ€§æ˜¯æŒ‡è®¡ç®—æœºç³»ç»Ÿä¸­çš„èµ„æºå¯è¢«å¤šä¸ªå¹¶å‘æ‰§è¡Œçš„è¿›ç¨‹ä½¿ç”¨ï¼Œè€Œä¸æ˜¯è¢«å…¶ä¸­æŸä¸ªè¿›ç¨‹ç‹¬å ä½¿ç”¨ã€‚æ ¹æ®èµ„æºçš„å±æ€§ï¼Œå…±äº«å¯åˆ†ä¸ºäº’æ–¥å…±äº«å’ŒåŒæ—¶å…±äº«ã€‚\nï¼ˆ1ï¼‰äº’æ–¥å…±äº«ã€‚ç³»ç»Ÿä¸­çš„èµ„æºï¼Œå¦‚æ‰“å°æœºã€æ‰«æä»ªç­‰ï¼Œåœ¨ä¸€æ®µæ—¶é—´å†…åªå…è®¸ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ã€‚å½“æŸä¸ªè¿›ç¨‹ä½¿ç”¨è¯¥èµ„æºæ—¶ï¼Œå…¶ä»–è¿›ç¨‹å¿…é¡»ç­‰å¾…ï¼Œåªæœ‰å½“è¯¥è¿›ç¨‹ä½¿ç”¨å®Œå¹¶é‡Šæ”¾åï¼Œå…¶ä»–è¿›ç¨‹æ‰å¯ä»¥ä½¿ç”¨è¯¥èµ„æºï¼Œå³è¿›ç¨‹ä¹‹é—´æ’ä»–ã€äº’æ–¥åœ°ä½¿ç”¨å…±äº«çš„èµ„æºã€‚\nï¼ˆ2ï¼‰åŒæ—¶å…±äº«ã€‚ç³»ç»Ÿä¸­æœ‰äº›èµ„æºåœ¨åŒä¸€æ®µæ—¶é—´å†…å…è®¸å¤šä¸ªè¿›ç¨‹åŒæ—¶è®¿é—®ã€‚è¿™é‡Œçš„åŒæ—¶è®¿é—®æ˜¯å®è§‚æ„ä¹‰ä¸Šçš„ã€‚\nå¹¶å‘æ€§å’Œå…±äº«æ€§æ˜¯æ“ä½œç³»ç»Ÿçš„ä¸¤ä¸ªæœ€åŸºæœ¬ç‰¹å¾ï¼Œå®ƒä»¬äº’ä¸ºå­˜åœ¨çš„æ¡ä»¶ã€‚ä¸€æ–¹é¢ï¼Œèµ„æºå…±äº«æ˜¯ä»¥è¿›ç¨‹çš„å¹¶å‘æ‰§è¡Œä¸ºå­˜åœ¨æ¡ä»¶ï¼Œè‹¥ç³»ç»Ÿä¸å…è®¸å¹¶å‘ï¼Œå°±ä¸å­˜åœ¨èµ„æºå…±äº«é—®é¢˜ã€‚å¦ä¸€æ–¹é¢ï¼Œè‹¥ç³»ç»Ÿä¸èƒ½æœ‰æ•ˆç®¡ç†å…±äº«èµ„æºï¼Œåˆ™å°†å½±å“è¿›ç¨‹çš„å¹¶å‘æ‰§è¡Œã€‚\n\n3ã€è™šæ‹Ÿæ€§\n\nè™šæ‹Ÿæ€§æ˜¯æŒ‡é€šè¿‡æŸç§æŠ€æœ¯ï¼Œå°†ä¸€ä¸ªç‰©ç†å®ä½“å˜æˆè‹¥å¹²ä¸ªé€»è¾‘å¯¹åº”ç‰©ã€‚ç‰©ç†å®ä½“æ˜¯å®é™…å­˜åœ¨çš„ï¼Œè€Œé€»è¾‘å¯¹åº”ç‰©æ˜¯è™šæ„çš„ï¼Œç”¨æˆ·ä½¿ç”¨æ—¶æ„Ÿè§‰æœ‰å¤šä¸ªå®ä½“å¯ä¾›ä½¿ç”¨ã€‚æ“ä½œç³»ç»Ÿé‡é‡‡ç”¨äº†å¤šç§è™šæ‹ŸæŠ€æœ¯ï¼Œå¦‚åˆ©ç”¨å¤šé“ç¨‹åºè®¾è®¡æŠ€æœ¯å®ç°è™šæ‹ŸCPUï¼Œé€šè¿‡è¯·æ±‚è°ƒå…¥è°ƒå‡ºæŠ€æœ¯å®ç°è™šæ‹Ÿå­˜å‚¨å™¨ï¼Œé€šè¿‡SPOOLingæŠ€æœ¯å®ç°è™šæ‹Ÿè®¾å¤‡ã€‚\n\n4ã€å¼‚æ­¥æ€§\n\n\näº§ç”Ÿæ­»é”çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•è§£é™¤æ­»é”ï¼Ÿ\n\näº§ç”Ÿæ­»é”çš„åŸå› æ˜¯å› ä¸ºç«äº‰ä¸å¯å‰¥å¤ºèµ„æºæˆ–ä¸´æ—¶èµ„æºæ—¶ï¼Œè¿›ç¨‹çš„æ¨è¿›é¡ºåºéæ³•ã€‚\nå¤„ç†æ­»é”çš„åŸºæœ¬åŠæ³•ï¼š\n1.é¢„é˜²æ­»é”ï¼šç ´åäº§ç”Ÿæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶çš„å…¶ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªã€‚\n2.é¿å…æ­»é”ï¼šåˆ©ç”¨ç®—æ³•æ¥é¿å…ï¼Œæ¯”å¦‚é“¶è¡Œå®¶ç®—æ³•ã€‚\n3.æ£€æµ‹å’Œè§£é™¤æ­»é”ï¼šå›æ”¶ç›¸åº”çš„èµ„æºï¼Œè¿›è¡Œèµ„æºçš„å†æ¬¡åˆ†é…ã€‚\n\n","categories":["æœŸæœ«å¤ä¹ "],"tags":["æ“ä½œç³»ç»Ÿ"]},{"title":"GFWåŸç†å’Œå°é”æŠ€æœ¯","url":"/2024/02/27/learnnote/ji-suan-ji-wang-luo/gfw-yuan-li-he-feng-suo-ji-zhu/","content":"GFWåŸç†å’Œå°é”æŠ€æœ¯\nä¸€ã€ç®€ä»‹\nè®¡ç®—æœºçš„é˜²ç«å¢™ï¼Œå’Œç‰©ç†æ„ä¹‰ä¸Šçš„å¢™å¹¶ä¸ä¸€æ ·ï¼Œç‰©ç†ä¸Šçš„å¢™å»ºç«‹ä»¥åï¼Œé‚£å°±æ—¢è¿›ä¸æ¥ï¼Œä¹Ÿå‡ºä¸å»äº†ã€‚è€Œè®¡ç®—æœºçš„å¢™ï¼Œåˆ™æ˜¯å¯ä»¥å¯¹ä¸¤ä¸ªæ–¹å‘è¿›è¡Œæ§åˆ¶ã€‚\nå…¶å®æˆ‘ä»¬ä»Šå¤©æ‰€è¯´çš„è®¡ç®—æœºé˜²ç«å¢™ï¼Œå¤§è‡´æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯å¯¹å†…çš„ï¼Œä¸€ç§æ˜¯å¯¹å¤–çš„ã€‚\nä¼ ç»Ÿæ„ä¹‰ä¸Šçš„é˜²ç«å¢™ï¼Œä¸€èˆ¬æ˜¯ç”¨æ¥é˜²æ­¢å¤–éƒ¨è®¿é—®çš„ï¼Œå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥è®¾ç½®ç¦æ­¢è®¿é—®æŸäº›IPæˆ–è€…ç½‘ç«™ï¼Œç¦æ­¢å†…éƒ¨è®¿é—®ã€‚\nç®€è€Œè¨€ä¹‹ï¼ŒGFWå¯¹ç½‘ç»œå†…å®¹çš„è¿‡æ»¤å’Œåˆ†ææ˜¯åŒå‘çš„ï¼ŒGFWä¸ä»…é’ˆå¯¹å›½å†…è¯»è€…è®¿é—®ä¸­å›½å¢ƒå¤–çš„ç½‘ç«™è¿›è¡Œå¹²æ‰°ï¼Œä¹Ÿå¹²æ‰°å›½å¤–è¯»è€…è®¿é—®ä¸»æœºåœ¨ä¸­å›½å¤§é™†çš„ç½‘ç«™ã€‚\næˆ‘ä»¬ä½¿ç”¨è®¡ç®—æœºçš„æ—¶å€™ï¼Œä¼šå¼€æ”¾å¾ˆå¤šç«¯å£ï¼Œæ¯”å¦‚22ï¼Œ139ï¼Œ3389ç­‰ç­‰ï¼Œè€Œä½œä¸ºéå¼€å‘è€…çš„ç”¨æˆ·ï¼Œå¾€å¾€ç”¨ä¸åˆ°è¿™äº›ç«¯å£ã€‚ å†è€ƒè™‘åˆ°ä½¿ç”¨è¿™äº›ç«¯å£çš„ç¨‹åºæœ‰çš„æ—¶å€™æ˜¯æœ‰æ¼æ´çš„ï¼Œå¼€æ”¾äº†å®¹æ˜“è¢«æ”»å‡»ï¼Œæ‰€ä»¥å¹²è„†æ‰“å¼€é˜²ç«å¢™å°é—­äº†å°±å¥½ã€‚ è¿™å°±å¥½æ¯”ä½ æ—¥å¸¸å®…åœ¨å®¶ï¼Œå¹¶ä¸éœ€è¦å‡ºé—¨ï¼Œå°±æŠŠé”å­”éƒ½å µæ­»æ¥ä¿è¯å®‰å…¨ä¸€æ ·ã€‚\nè€Œæˆ‘ä»¬ä»Šå¤©è®¨è®ºçš„ä¸»è§’ï¼Œä¸»è¦çš„åŠŸèƒ½ä¸æ˜¯é˜»æ­¢åˆ«äººè¿›æ¥ï¼ˆå…¥ä¾µï¼‰ï¼Œè€Œæ˜¯é˜»æ­¢ä½ å‡ºå»çš„ã€‚ ä½ è®¿é—®ä¸äº†Google/Youtube/Facebook/LINE/Twitter/ã€‚ã€‚ã€‚çš„æ ¹æœ¬åŸå› ï¼š é˜²ç«é•¿åŸï¼ŒGreatFireWallï¼Œç®€ç§°GFWã€‚\næ¯å½“è°ˆèµ·äº’è”ç½‘çš„å†å²ï¼Œéƒ½ä¼šæœ‰ä¸€ç§æå¦‚éš”ä¸–çš„æ„Ÿè§‰ï¼Œå½“å¹´ä¸Šç½‘å¤§éƒ¨åˆ†çš„ç½‘ç«™å¹¶ä¸éœ€è¦æ³¨å†Œï¼Œåšå®¢éšä¾¿çœ‹ï¼Œç”šè‡³å¯ä»¥åŒ¿åè¯„è®ºã€‚å°±ç®—è¦æ³¨å†Œï¼Œæœ‰ä¸ªé‚®ç®±å°±å¤Ÿäº†ï¼Œä¸éœ€è¦å®ååˆ¶ï¼ˆå®ååˆ¶åœ¨ä»Šå¤©çš„ä½“ç°æ˜¯å¤§éƒ¨åˆ†ç½‘ç«™æ³¨å†Œéƒ½è¦æ‰‹æœºå·ï¼‰ã€‚å¤§å®¶åœ¨ç½‘ä¸Šå¤§ä½“å‹å–„çš„è®¨è®ºï¼Œæ— ç§çš„åˆ†äº«ï¼Œè‡ªç”±çš„äº¤è°ˆã€‚å‡ ä¹æ‰€æœ‰çš„ç½‘ç«™ä¸éœ€è¦VPNå³å¯è®¿é—®ã€‚æœç´¢å¼•æ“å°±ç®¡æœç´¢ï¼ŒèŠå¤©è½¯ä»¶ä¹ŸåªèŠå¤©ï¼Œæ²¡æœ‰é‚£ä¹ˆå¤šå¼¹çª—å’Œæµæ°“è½¯ä»¶ã€‚é‚£æ˜¯äº’è”ç½‘çš„ç”°å›­æ—¶ä»£ã€‚\nå’Œä¹‹å‰çš„äº’ä¸è”ç½‘å…¬å¸æ˜¯å¦‚ä½•æ¶å¿ƒç”¨æˆ·çš„(æŒç»­æ›´æ–°)ä¸€æ ·ï¼Œè€ç½‘è™«åº”è¯¥éƒ½å¯¹è¿™äº›äº‹æƒ…æœ‰ä¸€äº›å°è±¡ï¼Œè€Œ00åä¹ƒè‡³10åå¯èƒ½å¹¶ä¸çŸ¥é“è¿™äº›é»‘å†å²ã€‚ ä¸è®ºæ˜¯å¯¿å¸ä¹‹ç¥ï¼Œè¿˜æ˜¯å…¶ä»–é¡¶çº§çš„å¨å¸ˆéƒ½è¯´è¿‡ï¼Œè¦æƒ³æˆä¸ºå¥½çš„å¨å¸ˆï¼Œé¦–å…ˆè¦åƒå¾—å‡ºä»€ä¹ˆæ˜¯ç¾é£Ÿã€‚æœ€è¿‘è¾—è½¬åä¾§ï¼Œæˆ‘è§‰å¾—æœ‰å¿…è¦æŠŠè¿™äº›å†…å®¹å†™å‡ºæ¥ï¼Œè®©äººçœ‹è§ï¼Œå“ªæ€•åªæ˜¯ä¸€ä¸¤ä¸ªäººï¼Œå‘Šè¯‰å¤§å®¶äº’è”ç½‘åŸæ¥åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œä»Šå¤©ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ ·å­ã€‚\n\näºŒã€å¢™çš„å†å²\n1987å¹´ï¼Œä¸­å›½å‘å‡ºäº†ç¬¬ä¸€å°ç”µå­é‚®ä»¶ï¼šâ€œAcross the Great Wall, we can reach every corner in the worldâ€ï¼ˆè¶Šè¿‡é•¿åŸï¼Œèµ°å‘ä¸–ç•Œæ¯ä¸ªè§’è½ï¼‰ã€‚ä»é‚£ä¸€å¹´å¼€å§‹ï¼Œæˆ‘ä»¬ç”¨äº’è”ç½‘å’Œè¿™ä¸ªä¸–ç•Œè”ç³»åœ¨ä¸€èµ·äº†ï¼Œä½†æ˜¯å°±åœ¨12å¹´åï¼Œé‚£ä¸ªè¶Šä¸è¿‡å»é•¿åŸï¼Œå›æ¥äº†ã€‚\n1998å¹´ï¼Œä¸ºäº†é˜²æ­¢å¤§å®¶è®¿é—®éƒ¨åˆ†ç½‘ç«™ï¼Œé’ˆå¯¹IPå’ŒDNSçš„æ±¡æŸ“ï¼Œå¼€å§‹äº†ã€‚ä¼´éšç€æ±¡æŸ“ï¼Œå¢™å’Œæ¢¯çš„è¾ƒé‡æ­£å¼å¼€å§‹ã€‚ æ—©æœŸçš„GFWä¸èƒ½ç§°ä¹‹ä¸ºå¢™ï¼Œæ›´åƒæ˜¯ä¸€ä¸ªè¡¥ä¸ï¼Œåªæ˜¯å•çº¯çš„æ±¡æŸ“DNSï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¿®æ”¹DNSæœåŠ¡å™¨å°±å¯ä»¥ç»•è¿‡å»ã€‚ åŠ ä¸Šå›½å†…çš„DNSä¹Ÿæµæ°“ï¼Œæ‰€ä»¥å¤§å®¶å¤§å¤šä¼šæŠŠDNSæ”¹æˆGoogleæä¾›çš„ 8.8.8.8/8.8.4.4ã€‚\nè¿™æ ·å¹¼ç¨šçš„å±è”½æ–¹å¼ï¼Œæ”¿åºœä¹ŸçŸ¥é“æ˜¯ä¸è¡Œçš„ï¼Œäºæ˜¯ï¼ŒçœŸæ­£çš„GFWæ­£å¼ç™»ä¸Šå†å²èˆå°ã€‚\né™¤äº†å±è”½ç‰¹å®šçš„IPæˆ–è€…åŸŸåä¹‹ç±»ï¼ŒGFWè¿˜ä¼šå®¡æŸ¥æµé‡å†…å®¹ï¼Œå› ä¸ºå½“æ—¶å¤§éƒ¨åˆ†çš„ç½‘ç«™éƒ½æ²¡æœ‰ç”¨HTTPSè¿›è¡ŒåŠ å¯†ï¼Œæ‰€ä»¥æµé‡æ˜¯éå¸¸é€æ˜çš„ï¼Œå®¡æŸ¥èµ·æ¥å¾ˆå®¹æ˜“ã€‚ å½“ç„¶ï¼Œä¹Ÿä¼šå¯¹URLè¿›è¡Œå®¡æŸ¥ï¼Œæœ‰ä¸€æ®µæ—¶é—´Googleæ— æ³•è®¿é—®ï¼Œå°±æ˜¯å› ä¸ºURLé‡Œé¢åˆä¸€ä¸ªå«gs_rfaiçš„å‚æ•°ï¼Œå…¶ä¸­â€œrfaâ€å­—æ ·ï¼Œä¸åœ¨å¤§é™†è¢«å°é”çš„è‡ªç”±äºšæ´²ç”µå°çš„ç½‘å€å’Œè‹±æ–‡ç¼©å†™å·§åˆè€Œè¢«GFWå±è”½ã€‚ è¿‘å‡ å¹´HTTPSæ™®åŠäº†ï¼Œé’ˆå¯¹å†…å®¹å®¡æŸ¥æ‰‹æ®µä¹Ÿå°±æ…¢æ…¢å¤±æ•ˆäº†ã€‚\nå¢™çš„å…¶å®ƒå‡çº§å°±ç®€å•çš„å¤šäº†ï¼Œä¸»è¦å°±æ˜¯ä¸¤ä¸ªä»»åŠ¡ï¼š\n\né’ˆå¯¹IPã€åŸŸååˆ—è¡¨çš„æ‰©å……ï¼Œæ‰©å¤§é»‘åå•èŒƒå›´ï¼›\nå¯¹æ–°å¢çš„ç¿»å¢™å·¥å…·çš„å°å µã€‚\n\nè¿™äº›æ˜¯åŠŸèƒ½ä¸Šçš„å‡çº§ï¼Œæ€§èƒ½ä¸Šä¹Ÿåœ¨å‡çº§ï¼Œæ®ä¼ è¯´16å¹´ï¼ŒGFWå°±æ‹¥æœ‰100å¤šå°å°å‹æœºåšçš„é›†ç¾¤äº†ï¼ˆè€Œä¸”ï¼Œå„åœ°çš„GFWä¼¼ä¹ä¹Ÿæ²¡èƒ½å®Œç¾çš„åŒæ­¥ï¼ˆä¹Ÿå¯èƒ½æ˜¯æ•…æ„çš„ï¼‰ï¼Œå¤§è‡´æ˜¯ä»¥çœä¸ºå•ä½ï¼Œæœ‰çš„æ—¶å€™ä¼šå‡ºç°æŸä¸ªç½‘ç«™åªèƒ½è¢«æŸäº›çœè®¿é—®çš„æƒ…å†µå‡ºç°ï¼‰ã€‚\nä¸¾äº›å‡çº§çš„ä¾‹å­ï¼š\n\næ¯”å¦‚ä½ ç”¨HTTP/SOCKSä»£ç†ç¿»å¢™ï¼Œé‚£æˆ‘å°±æ£€æµ‹ä»£ç†çš„æµé‡ç‰¹å¾ï¼ˆäºæ˜¯HTTP/SOCKSä»£ç†ï¼Œå’â€¦â€¦ï¼‰ã€‚\nä½ ç”¨SSHç¿»å¢™ï¼Œæˆ‘å°±æ£€æµ‹ä½ çš„æµé‡ç‰¹å¾ï¼Œåˆ†æä½ åˆ°åº•æ˜¯åœ¨æ‰§è¡Œå‘½ä»¤ï¼Œä¼ è¾“æ–‡ä»¶è¿˜æ˜¯åœ¨æ‰“éš§é“ç¿»å¢™\nä½†æ˜¯SSHéš§é“ç›®å‰ä»ç„¶å¯ç”¨ï¼ŒæŠ€æœ¯è§’åº¦è¯´ï¼Œå®Œå…¨åŒºåˆ†SSH/SFTPå’Œç¿»å¢™æµé‡è¿˜æ˜¯æœ‰éš¾åº¦çš„\n\n\nä½ ç”¨GoAgentç¿»å¢™ï¼Œé‚£æˆ‘å°±å±è”½Googleçš„æ‰€æœ‰IPã€‚\nä½ ç”¨PPTPç¿»å¢™ï¼Œé‚£æˆ‘å°±æ£€æµ‹PPTPçš„åè®®ï¼Œç›´æ¥æ€ã€‚\nOpenVPNä¹Ÿé­é‡äº†PPTPåŒæ ·çš„å¾…é‡ã€‚\nä½†æ˜¯AnyConnectæ²¡æœ‰ï¼Œå› ä¸ºå¾ˆå¤šå¤–ä¼åœ¨ä½¿ç”¨å®ƒè¿æ¥å…¬å¸å†…ç½‘ã€‚\nShadowsocksä¹Ÿå·®ç‚¹é­å—å’Œå„å¤§VPNä¸€æ ·çš„å¾…é‡ï¼Œä½†æ˜¯å› ä¸ºSSçš„æµé‡å®åœ¨éš¾ä»¥è¯†åˆ«ï¼Œæ‰€ä»¥å½“æ—¶ï¼ˆå¤§çº¦2015å¹´ï¼‰è§£å†³çš„æ–¹å¼æ›´åŠ ç²—æš´ï¼šè¯·Shadowsocksçš„ä½œè€…å–èŒ¶ã€‚è¯¦ç»†çœ‹ä¸‹å›¾ï¼š\n\n\n\nåæ¥ï¼ˆå¤§çº¦2020å¹´å‰ï¼‰Shadowsocksè¿˜æ˜¯è¢«è¯†åˆ«äº†ï¼Œå‚è§è¿™ä¸ªæŠ¥å‘Šã€‚\nç›®å‰æœ€å¼ºå¤§çš„å·¥å…·åº”è¯¥æ˜¯V2Rayï¼Œé™¤äº†æ”¯æŒçš„åè®®å¤šï¼Œå…¶ä¸­çš„VMessåè®®å¯¹è®¡ç®—æœºæ—¶é’Ÿçš„è¦æ±‚è®©è¿™ä¸ªç³»ç»Ÿå¯ä»¥æŠµå¾¡ä¸€å®šçš„æµé‡é‡æ”¾æ”»å‡»ã€‚\næœ€è¿‘å¤§å®¶å¼€å§‹ç”¨Vultr/Linodeæ­å»ºæœåŠ¡å™¨â€¦â€¦è¿™ä¸ªçš„ç¡®ä¸å¥½ç®¡ï¼Œä½†æ˜¯é‡è¦èŠ‚å‡æ—¥ï¼ˆæ¯å¹´0110æœˆ/0100æ—¥å‰åï¼Œå›½åº†ï¼Œä¸¤ä¼šï¼‰å°±æ‰¹é‡å±è”½è¿™äº›IPã€‚\nGFWä¸ä»…é˜²æ­¢å›½å†…ç”¨æˆ·è®¿é—®å›½å¤–ä¸»æœºï¼Œæœ‰çš„æ—¶å€™è¿˜ä¼šç¦æ­¢ä¸€äº›å¢ƒå¤–IPè®¿é—®å›½å†…çš„ä¸»æœºï¼Œè¿™æ ·å¯ä»¥å±è”½éƒ¨åˆ†ä½¿ç”¨å†…ç½‘ç©¿é€æŠ€æœ¯çš„äººã€‚\n\n\nä¸‰ã€ä»Šå¤©æˆ‘ä»¬æ€ä¹ˆç¿»å¢™\n\nHTTPSä»£ç†ï¼ŒTLSç»™HTTPä»£ç†ç©¿ä¸Šäº†é“ ç”²ï¼Œä½¿ä¹‹åˆèƒ½å†æˆ˜500å¹´ã€‚ä½†æ˜¯è€ƒè™‘åˆ°GFWä¼šä¸»åŠ¨åˆºæ¢ï¼Œæ‰€ä»¥æœ€å¥½å°†ä»£ç†çš„endpointéšè—åœ¨æ­£å¸¸ç½‘ç«™çš„æŸä¸ªå­è·¯å¾„ä¸‹ã€‚\nSSHéš§é“ï¼ŒSSHé‡‡ç”¨éå¯¹ç§°åŠ å¯†ï¼Œå†åŠ ä¸Šæœ‰å¹¿æ³›çš„æ­£å¸¸ç”¨é€”ï¼ˆç®¡ç†æœåŠ¡å™¨ï¼‰æ‰€ä»¥ç›®å‰SSHéš§é“è¿˜æ˜¯å¯ç”¨çš„ã€‚\nShadowsocks/V2Ray/GoProxy å…¶å®å¯ä»¥ç†è§£ä¸ºå¯¹ä½ çš„ä»£ç†æµé‡è¿›è¡ŒåŠ å¯†å’Œæ··æ·†çš„å·¥å…·ï¼Œä½†æ˜¯GFWåœ¨æ…¢æ…¢å°è¯•è¯†åˆ«è¿™äº›æµé‡ã€‚\néœ€è¦ç‰¹åˆ«è¯´æ˜ä¸€ä¸‹çš„æ˜¯ï¼ŒGoProxyæ¯”è¾ƒç‰¹æ®Šï¼Œæ”¯æŒå†…ç½‘ç©¿é€ã€‚\n\n\nAnyConnectç­‰å•†ç”¨æ–¹æ¡ˆã€‚\n\né™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰å†…ç½‘ç©¿é€ç­‰ä¸€ç³»åˆ—éªšæ“ä½œ å½“ç„¶ï¼Œè¿™ä¸€ç³»åˆ—æ•™ç¨‹ä¸èƒ½è¯´ç¿»å¢™ï¼Œä¹Ÿä¸èƒ½è¯´ç§‘å­¦ä¸Šç½‘ï¼Œè¦è¯´è¿æ¥å…¬å¸å†…ç½‘ï¼Œæœ¬è´¨ä¸Šï¼Œåœ¨å…¬å¸å¤–éƒ¨ç®¡ç†å…¬å¸å†…ç½‘å’Œç¿»å¢™çš„æŠ€æœ¯åŸºæœ¬ä¸€è‡´ï¼Œä½†æ˜¯ä¼šå¤šä¸€äº›è¯¸å¦‚æ··æ·†ä¹‹ç±»çš„ä¸å¿…è¦æ“ä½œã€‚ç„¶åæœ¬æ–‡ç« ä¸ä¼šä¼ æ’­ç¿»å¢™å…·ä½“æ•™å­¦ç­‰ï¼Œåªä½œä¸ºæŠ€æœ¯åˆ†æï¼Œç§è‡ªæ­å»ºæ¢¯å­åœ¨å›½å†…æ˜¯è¿æ³•çš„ï¼Œæˆ‘ä¹Ÿä¸æƒ³è¢«è¯·å–èŒ¶ã€‚\n\nå››ã€æˆ‘å¯¹å¢™çš„è®°å¿†äº‹å®ä¸Šï¼Œæˆ‘ä¸ªäººæ²¡æœ‰ç»å†è¿‡åªæœ‰DNSæ±¡æŸ“è¿™ä¸ªé˜¶æ®µï¼Œæˆ‘ç¬¬ä¸€æ¬¡æ„Ÿå—åˆ°å¢™çš„å¨åŠ›ï¼Œæ˜¯è°·æ­Œé€€å‡ºä¸­å›½ã€‚\nå±±é›¨æ¬²æ¥é£æ»¡æ¥¼ï¼Œäº‹å®ä¸Šï¼Œæ—©åœ¨2007ï½2009å¹´ï¼Œå°±å¼€å§‹å‡ºç°ä¸€äº›Googleæœç´¢çš„è´Ÿé¢æ–°é—»ï¼š\n\næ®äº†è§£ï¼Œä»Šå¹´ï¼‘æœˆå’Œï¼”æœˆï¼Œâ€œè°·æ­Œä¸­å›½â€ç½‘ç«™å› å­˜åœ¨å¤§é‡æ·«ç§½è‰²æƒ…å’Œä½ä¿—é“¾æ¥ï¼Œæ›¾ä¸¤æ¬¡è¢«äº’è”ç½‘è¿æ³•å’Œä¸è‰¯ä¿¡æ¯ä¸¾æŠ¥ä¸­å¿ƒå…¬å¼€æ›å…‰ã€‚è¿‘æœŸï¼Œä¸¾æŠ¥ä¸­å¿ƒåˆæ¥åˆ°å…¬ä¼—ä¸¾æŠ¥ï¼Œç»æ ¸æŸ¥å‘ç°ï¼Œâ€œè°·æ­Œä¸­å›½â€ç½‘ç«™ä»ç„¶å­˜åœ¨å¤§é‡æ·«ç§½è‰²æƒ…å’Œä½ä¿—ä¿¡æ¯ï¼ŒåŒ…æ‹¬å¤§é‡æå…¶ä½çº§ã€ä¸‘é™‹çš„è‰²æƒ…å›¾ç‰‡ã€è§†é¢‘å’Œæ–‡å­—ã€‚ ä¸¾æŠ¥ä¸­å¿ƒæœ‰å…³è´Ÿè´£äººè¡¨ç¤ºï¼Œâ€œè°·æ­Œä¸­å›½â€ç½‘ç«™æœªæŒ‰ç…§æˆ‘å›½æ³•å¾‹æ³•è§„çš„è¦æ±‚åšå¥½æ·«ç§½è‰²æƒ…å†…å®¹çš„è¿‡æ»¤å·¥ä½œï¼Œå¤§é‡å¢ƒå¤–äº’è”ç½‘ä¸Šçš„æ·«ç§½è‰²æƒ…ä¿¡æ¯é€šè¿‡è¯¥ç½‘ç«™ä¼ æ’­åˆ°æˆ‘å¢ƒå†…ï¼Œä¸¥é‡è¿åäº†ã€Šå…¨å›½äººå¤§å¸¸å§”ä¼šå…³äºç»´æŠ¤äº’è”ç½‘å®‰å…¨çš„å†³å®šã€‹å’Œå›½åŠ¡é™¢ã€Šäº’è”ç½‘ä¿¡æ¯æœåŠ¡ç®¡ç†åŠæ³•ã€‹ç­‰æ³•å¾‹æ³•è§„ï¼Œä»¥åŠæœ‰å…³è¡Œä¸šè‡ªå¾‹è§„èŒƒï¼Œä¸¥é‡ä¾µå®³é’å°‘å¹´èº«å¿ƒå¥åº·ï¼ŒæŸå®³å…¬ä¼—åˆ©ç›Šã€‚ ä¸¾æŠ¥ä¸­å¿ƒåœ¨å¼ºçƒˆè°´è´£â€œè°·æ­Œä¸­å›½â€ç½‘ç«™çš„åŒæ—¶ï¼Œè¿˜å»ºè®®ç›¸å…³æ‰§æ³•éƒ¨é—¨ä¾æ³•å¤„ç½šï¼Œå¹¶å¸Œæœ›å¹¿å¤§ç½‘æ°‘ç»§ç»­äºˆä»¥ç›‘ç£ã€‚\n\né‚£ä¹ˆè¿™äº›è‰²æƒ…è”æƒ³æ˜¯ä»€ä¹ˆå‘¢ï¼š\n\nä½†æ˜¯åæ¥æœ‰äººå‘ç°ï¼Œè¿™äº›è¯ä»¥å‰éƒ½æ²¡äººæœç´¢ï¼Œæ˜¯åœ¨æ–°é—»æ’­å‡ºçš„å‰äº›å¤©æ‰æœ‰äººæœç´¢ï¼Œæœç´¢é‡è¿˜å…¨éƒ¨æ¥è‡ªäºåŒ—äº¬ã€‚\n\næˆ‘åªèƒ½è¯´ï¼Œä½ ä»¬åŒ—äº¬äººå¥½BTâ€¦â€¦å½“æ—¶çš„è¯´æ³•æ˜¯ï¼Œè¿™ä¸ªäº‹æƒ…æ˜¯ç™¾åº¦ç­–åˆ’çš„ï¼Œçš„ç¡®ï¼Œæ·±å…¥ç†è§£æœç´¢å¼•æ“ï¼Œå¹¶ä¸”èƒ½åšå‡ºæœ‰æ•ˆçš„å†…å®¹æ”»å‡»ï¼Œæ€ä¹ˆçœ‹éƒ½ä¸åƒç”µè§†å°é‚£å¸®å­æ–‡ç§‘ç”Ÿèƒ½åšå‡ºæ¥çš„äº‹æƒ…ã€‚ åªå¯æƒœGoogleçš„æ—¥å¿—ç•™çš„å¤ªå…¨äº†ï¼Œè¢«å‘ç°äº†ã€‚\nå¾ˆå¤šäººè¯´Googleé€€å‡ºä¸­å›½æ˜¯å› ä¸ºä¸æ¥å—å®¡æŸ¥ï¼Œè¿™ä¸ªæ˜¯é”™è¯¯çš„ï¼Œäº‹å®ä¸Šï¼ŒGoogleä¸æ˜¯æ²¡æœ‰é…åˆä¸­å›½å®¡æŸ¥ï¼Œä¹Ÿä¸åªæœ‰ä¸­å›½è¦æ±‚Googleè¿›è¡Œå®¡æŸ¥ã€‚\n10å¹´å°±æœ‰äººæé—®ï¼Œä¸ºå•¥æ¸©åº¦è®¡å’Œèƒ¡èåœéƒ½ä¸èƒ½æœç´¢äº†(å‚è§è¿™é‡Œ)ã€‚\nä½†æ˜¯æŒ‰ç…§è§„åˆ™é…åˆå®¡æŸ¥æ˜¯ä¸å¤Ÿçš„ï¼Œå› ä¸ºæ ¹æœ¬å°±æ²¡æœ‰ä»€ä¹ˆè§„åˆ™ï¼Œæ”¿åºœå¯¹è°·æ­Œï¼ˆå½“ç„¶å¯¹å…¶å®ƒæ‰€æœ‰äº’è”ç½‘å…¬å¸éƒ½ä¸€æ ·ï¼‰çš„è¦æ±‚æ˜¯è‡ªæˆ‘å®¡æŸ¥ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿˜éœ€è¦é…åˆç½‘ä¿¡åŠç­‰ç¥ç§˜æœºæ„åšä¸€äº›èˆ†è®ºå¼•å¯¼ï¼š\n\nè¿™äº›èˆ†è®ºå¼•å¯¼å¹¶ä¸åˆç¬¦åˆæ”¿åºœä¸€èˆ¬çš„åŠäº‹æµç¨‹ï¼Œæ¯”å¦‚å‘çº¢å¤´æ–‡ä»¶ï¼Œé€šçŸ¥ï¼ŒåŠæ³•ä¹‹ç±»çš„ã€‚ å¾€å¾€å°±æ˜¯ä¸ªå¾®ä¿¡æ¶ˆæ¯æˆ–è€…é‚®ä»¶ï¼Œä¹ƒè‡³ä¸€ä¸ªç”µè¯ï¼Œä½†æ˜¯ä¸è®¾ç«‹ä¸“é—¨çš„éƒ¨é—¨åº”å¯¹è¿™ç§ä¸è§„èŒƒçš„åŠäº‹æ–¹å¼ï¼Œå…¬å¸å¯èƒ½å°±å¼€ä¸ä¸‹å»ã€‚\nå¤§è‡´æµç¨‹å°±æ˜¯ï¼Œä½ çš„ç½‘ç«™çš„å†…å®¹ï¼Œä½ è‡ªå·±çœ‹ç€åŠï¼Œæˆ‘è¿™é‡Œåªç»™å‡ºç²¾ç¥å’Œæ¨¡ç³Šçš„æŒ‡å¯¼æ„è§ï¼Œä½†æ˜¯å¦‚æœæˆ‘ï¼ˆæ”¿åºœéƒ¨é—¨ï¼‰è§‰å¾—ä½ å†…å®¹æœ‰é—®é¢˜ï¼Œé‚£å°±å…ˆçº¦è°ˆï¼Œè®©ä½ å†è‡ªå·±ç¢ç£¨ç¢ç£¨å“ªé‡Œåšé”™äº†ï¼Œè¦æ˜¯è¿˜æ˜¯ä¸æ»¡æ„ï¼Œ æˆ‘å°±å°é²¨ä½ ï¼š\n\nç®€è€Œè¨€ä¹‹å°±æ˜¯ï¼š\n\n2010å¹´ï¼ŒGoogleä¸æ”¿åºœå½»åº•è°ˆå´©äº†ï¼Œä½†æ˜¯è¿˜æ²¡ç­‰Googleå…³é—­æœåŠ¡ï¼Œé¦–å…ˆå°±é­åˆ°äº†DNSæ±¡æŸ“ï¼Œè¿™ä¸ªæ—¶å€™å¤§å®¶é€šè¿‡ä¿®æ”¹hostsæ–‡ä»¶è¿˜æ˜¯å¯ä»¥ä¸ŠGoogleçš„ï¼Œé‚£ä¸ªæ—¶å€™å¾€ä¸Šå¤§å¤šæµä¼ ç€å¥½å¤šhostsæ–‡ä»¶çš„ç‰ˆæœ¬ã€‚ åæ¥Googleå°±æŠŠgoogle.cnåšæˆäº†é™æ€é¡µé¢ï¼ŒæŒ‡å‘Googleé¦™æ¸¯ï¼Œä½†æ˜¯éšç€äº‹æ€æ¶åŒ–ï¼Œå…ˆæ˜¯ç”¨é¦™æ¸¯Googleæœç´¢å›½å®¶é¢†å¯¼äººçš„æ—¶å€™ä¼šè‡ªåŠ¨æ–­å¼€ï¼Œåæ¥é¦™æ¸¯çš„Googleä¹Ÿå¾ˆå¿«ä¸èƒ½ç”¨äº†ã€‚\nå°±æ˜¯ä»è¿™é‡Œå¼€å§‹ï¼Œæˆ‘æ„Ÿå—åˆ°äº†å¢™ï¼Œä¹Ÿå°±æ˜¯ä»è¿™é‡Œå¼€å§‹ï¼Œç™¾åº¦çš„æœç´¢è´¨é‡å¼€å§‹ä¸‹è·Œï¼Œå¹¿å‘Šè¶Šæ¥è¶Šå¤šï¼Œè¶Šæ¥è¶Šéšè”½ï¼Œå¹¿å‘Šè´¨é‡ä¹Ÿä¸‹é™ï¼Œå‡ºç°å¾ˆå¤šè™šå‡å¹¿å‘Šï¼Œæ¯”å¦‚è†ç”°ç³»çš„åŒ»é™¢ã€‚è¿™äº›éƒ½æ˜¯åè¯äº†ã€‚\nè¯¦æƒ…å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼Œå†™çš„ç›¸å¯¹ç¿”å®ã€‚\nä»¥åŠè¿™ä¸€ç¯‡ï¼šæ·±åº¦è°ƒæŸ¥ | ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½è®¿é—®è°·æ­Œï¼Ÿ(é•¿æ–‡æ…å…¥) å†™çš„æœ‰ç†æœ‰åŠ›ï¼Œè°ƒæŸ¥æ¸…æ™°ï¼Œè¯æ®ç¿”å®ï¼Œéƒ¨åˆ†ç¨å¾®æœ‰äº›å°é”™è¯¯ï¼Œä½†æ˜¯é•¿æ–‡éš¾å…æœ‰çº°æ¼ï¼Œç‘•ä¸æ©ç‘œï¼Œæˆ‘è®¤ä¸ºå€¼å¾—ä¸€è¯»ã€‚\näº”ã€å¢™çš„è®¾è®¡è€…è¯´åˆ°å¢™ï¼Œä¸å¾—ä¸è®¨è®ºä¸€ä¸‹å¢™çš„è®¾è®¡è€…ï¼šæ–¹æ»¨å…´æ•™æˆï¼Œè¿™ä¸ªäººåœ¨ä¸­æ–‡äº’è”ç½‘å¯è°“æ˜¯è‡­åæ˜­è‘—ã€‚ 2011å¹´ï¼Œæ–¹æ»¨å…´å‡ºç°åœ¨æ­¦æ±‰å¤§å­¦ï¼Œè¢«å­¦ç”Ÿç”¨é‹å­å’Œé¸¡è›‹ç ¸ã€‚ åŒå¹´ï¼Œæ–¹æ»¨å…´æ¥å—é‡‡è®¿çš„æ—¶å€™è¯´ï¼Œè‡ªå·±ç”µè„‘ä¸Šè£…äº†6ä¸ªVPNã€‚ 2013å¹´ï¼Œæ–¹æ»¨å…´åœ¨å¾®åšä¸Šå‘äº†ä¸€æ¡æ‹œå¹´å¾®åšï¼Œè½¬å‘è¯„è®ºä¸‡ä½™æ¬¡ï¼Œå¤§å¤šéƒ½æ˜¯â€œæ»šâ€ï¼Œè¯„è®ºåè¢«å’Œè°ï¼Œå¹¶è¢«æ°´å†›æ´—åœ°ã€‚ åŒå¹´ï¼Œæ–¹æ»¨å…´è¯´å› ä¸ºèº«ä½“åŸå› ä¸å†æ‹…ä»»åŒ—é‚®æ ¡é•¿èŒåŠ¡ï¼Œå¤§å®¶åœ¨ç½‘ç»œä¸Šè¡¨ç¤ºï¼šâ€œç¥ç—…é­”æ—©æ—¥æˆ˜èƒœæ ¡é•¿â€ã€‚ æœç´¢å¼•æ“ä¸Šæœç´¢æ–¹æ»¨å…´ï¼Œæœ‰çš„æ—¶å€™ä¼šè”æƒ³å‡ºæ¥â€œæ–¹æ»¨å…´æ­»äº†å—â€ã€‚ 2016å¹´ï¼Œæ–¹æ»¨å…´ä»¥æ°å‡ºæ ¡å‹èº«ä»½ï¼Œå›åˆ°å…¶æ¯æ ¡å“ˆå°”æ»¨å·¥ä¸šå¤§å­¦åšé¢˜ä¸ºã€Šå®šä¹‰ç½‘ç»œç©ºé—´å®‰å…¨ã€‹çš„æŠ¥å‘Šã€‚æŠ¥å‘Šä¸­ï¼Œä»–è¯•å›¾ä»¥éŸ©å›½æ”¿åºœä¹Ÿæ¶è®¾ç½‘ç»œé˜²ç«å¢™æ¥è®ºè¯ä¸­å›½æ¶è®¾ç½‘ç»œé˜²ç«å¢™çš„å¿…è¦æ€§ã€‚ä½†ç”±äºè®ºè¯å…¶è§‚ç‚¹çš„éŸ©å›½ç½‘é¡µè¢«é˜²ç«å¢™é˜»æŒ¡ï¼Œæ— æ³•ç™»å½•ï¼Œæ–¹æ»¨å…´åªèƒ½åœ¨ä¼—ç›®ç½ç½ä¹‹ä¸‹è¿æ¥VPNç»•è¿‡å¤§é™†çš„ç½‘ç»œé˜²ç«å¢™ç»§ç»­æ¼”è®²ã€‚ä½†è¿æ¥VPNåï¼Œ1åˆ†é’Ÿä¹‹å†…ä¾¿æ–­çº¿2æ¬¡ï¼Œåªå¾—ç”¨Googleæœç´¢ç½‘é¡µæˆªå±ã€‚ç”±äºåœºé¢å°´å°¬ï¼ŒæŠ¥å‘Šç»“æŸåæ²¡æœ‰å®‰æ’ä»»ä½•æé—®ç¯èŠ‚ã€‚\nè¯¦ç»†å†…å®¹å¯å‚è§Wiki\nå¯¹äºè¿™ä¸ªäººï¼Œæˆ‘åªè®¤å¯ä»–çš„ä¸€å¥è¯ï¼šä¸­å›½é˜²ç«å¢™ä¸è™šæ‹Ÿä¸“ç”¨ç½‘VPNä¹‹é—´æ˜¯åœºâ€œæ°¸æ’çš„æˆ˜äº‰â€ã€‚\nå…­ã€GFWæ˜¯æ€ä¹ˆæ‹¦ä½æˆ‘ä»¬çš„ï¼Ÿ1 å…³é”®å­—è¿‡æ»¤é˜»æ–­\nå…³é”®å­—è¿‡æ»¤ç³»ç»Ÿã€‚æ­¤ç³»ç»Ÿèƒ½å¤Ÿä»å‡ºå£ç½‘å…³æ”¶é›†åˆ†æä¿¡æ¯ï¼Œè¿‡æ»¤ã€å—…æ¢æŒ‡å®šçš„å…³é”®å­—ã€‚ä¸»è¦é’ˆå¯¹HTTPçš„é»˜è®¤ç«¯å£ï¼š80ç«¯å£ï¼Œå› ä¸ºHTTPä¼ æ’­çš„å†…å®¹æ˜¯æ˜æ–‡çš„å†…å®¹ï¼Œæ²¡æœ‰ç»è¿‡åŠ å¯†ï¼Œè€ŒGFWæ˜¯ä¸€ä¸ªIDS(Intrusion detection system)ã€‚æ™®é€šçš„å…³é”®è¯å¦‚æœå‡ºç°åœ¨HTTPè¯·æ±‚æŠ¥æ–‡çš„å¤´éƒ¨(å¦‚â€œHost: www.youtube.comâ€\\)æ—¶ï¼Œåˆ™ä¼šé©¬ä¸Šä¼ªè£…æˆå¯¹æ–¹å‘è¿æ¥ä¸¤ç«¯çš„è®¡ç®—æœºå‘é€RSTåŒ…å¹²æ‰°ä¸¤è€…æ­£å¸¸çš„TCPè¿æ¥ï¼Œè¿›è€Œä½¿è¯·æ±‚çš„å†…å®¹æ— æ³•ç»§ç»­æŸ¥çœ‹ã€‚å¦‚æœGFWåœ¨æ•°æ®æµä¸­å‘ç°äº†ç‰¹æ®Šçš„å†…æ–‡å…³é”®è¯(å¦‚è½®å­ï¼Œè¾¾èµ–ç­‰)æ—¶ï¼Œå…¶ä¹Ÿä¼šè¯•å›¾æ‰“æ–­å½“å‰çš„è¿æ¥ï¼Œä»è€Œæœ‰æ—¶ä¼šå‡ºç°ç½‘é¡µå¼€å¯ä¸€éƒ¨åˆ†åçªç„¶åœæ­¢çš„æƒ…å†µã€‚åœ¨ä»»ä½•é˜»æ–­å‘ç”Ÿåï¼Œä¸€èˆ¬åœ¨éšåçš„90ç§’å†…åŒä¸€IPåœ°å€å‡æ— æ³•æµè§ˆå¯¹åº”IPåœ°å€ç›¸åŒç«¯å£ä¸Šçš„å†…å®¹ã€‚\n\n2 IPåœ°å€å°é”\nIPåœ°å€å°é”æ˜¯GFWé€šè¿‡è·¯ç”±å™¨æ¥æ§åˆ¶çš„ï¼Œåœ¨é€šå¾€å›½å¤–çš„æœ€åä¸€ä¸ªç½‘å…³ä¸ŠåŠ ä¸Šä¸€æ¡ä¼ªé€ çš„è·¯ç”±è§„åˆ™ï¼Œå¯¼è‡´é€šå¾€æŸäº›è¢«å±è”½çš„ç½‘ç«™çš„æ‰€æœ‰IPæ•°æ®åŒ…æ— æ³•åˆ°è¾¾ã€‚è·¯ç”±å™¨çš„æ­£å¸¸å·¥ä½œæ–¹å¼æ˜¯å­¦ä¹ åˆ«çš„è·¯ç”±å™¨å¹¿æ’­çš„è·¯ç”±è§„åˆ™ï¼Œé‡åˆ°ç¬¦åˆå·²çŸ¥çš„IPè½¬å‘è§„åˆ™çš„æ•°æ®åŒ…ï¼Œåˆ™æŒ‰å·²ç»è§„åˆ™å‘é€ï¼Œé‡åˆ°æœªçŸ¥è§„åˆ™IPçš„æ•°æ®ï¼Œåˆ™è½¬å‘åˆ°ä¸Šä¸€çº§ç½‘å…³ã€‚\nè€ŒGFWå¯¹äºå¢ƒå¤–(ä¸­å›½å¤§é™†ä»¥å¤–)çš„XXç½‘ç«™ä¼šé‡‡å–ç‹¬ç«‹IPå°é”æŠ€æœ¯ã€‚ç„¶è€Œéƒ¨åˆ†XXç½‘ç«™ä½¿ç”¨çš„æ˜¯ç”±è™šæ‹Ÿä¸»æœºæœåŠ¡æä¾›å•†æä¾›çš„å¤šåŸŸåã€å•(åŒ)IPçš„ä¸»æœºæ‰˜ç®¡æœåŠ¡ï¼Œè¿™å°±ä¼šé€ æˆäº†å°ç¦æŸä¸ªIPåœ°å€ï¼Œå°±ä¼šé€ æˆæ‰€æœ‰ä½¿ç”¨è¯¥æœåŠ¡æä¾›å•†æœåŠ¡çš„å…¶å®ƒä½¿ç”¨ç›¸åŒIPåœ°å€æœåŠ¡å™¨çš„ç½‘ç«™ç”¨æˆ·ä¸€åŒé­æ®ƒï¼Œå°±ç®—æ˜¯æ­£å¸¸çš„ç½‘ç«™ï¼Œä¹Ÿä¸èƒ½å¹¸å…ã€‚å…¶ä¸­çš„å†…å®¹å¯èƒ½å¹¶æ— ä¸å½“ä¹‹å¤„ï¼Œä½†ä¹Ÿä¸èƒ½åœ¨ä¸­å›½å¤§é™†æ­£å¸¸è®¿é—®ã€‚ç°åœ¨GFWé€šå¸¸ä¼šå°†åŒ…å«XXä¿¡æ¯çš„ç½‘ç«™æˆ–ç½‘é¡µçš„URLåŠ å…¥å…³é”®å­—è¿‡æ»¤ç³»ç»Ÿï¼Œå¹¶å¯ä»¥é˜²æ­¢æ°‘ä¼—é€è¿‡æ™®é€šæµ·å¤–HTTPä»£ç†æœåŠ¡å™¨è¿›è¡Œè®¿é—®ã€‚\n\n3 ç‰¹å®šç«¯å£å°é”\nGFWä¼šä¸¢å¼ƒç‰¹å®šIPåœ°å€ä¸Šç‰¹å®šç«¯å£çš„æ‰€æœ‰æ•°æ®åŒ…ï¼Œä½¿è¯¥IPåœ°å€ä¸ŠæœåŠ¡å™¨çš„éƒ¨åˆ†åŠŸèƒ½(å¦‚SSHçš„22ã€VPNçš„1723æˆ–SSLçš„443ç«¯å£ç­‰)æ— æ³•åœ¨ä¸­å›½å¤§é™†å¢ƒå†…æ­£å¸¸ä½¿ç”¨ã€‚\nåœ¨ä¸­å›½ç§»åŠ¨ã€ä¸­å›½è”é€šç­‰éƒ¨åˆ†ISP(æ‰‹æœºIPæ®µ)ï¼Œæ‰€æœ‰çš„PPTPç±»å‹çš„VPNéƒ½è¢«å°é”ã€‚\n2011å¹´3æœˆèµ·ï¼ŒGFWå¼€å§‹å¯¹Googleéƒ¨åˆ†æœåŠ¡å™¨çš„IPåœ°å€å®æ–½è‡ªåŠ¨å°é”(æŒ‰æ—¶é—´æ®µ)æŸäº›ç«¯å£ï¼ŒæŒ‰æ—¶æ®µå¯¹www.google.com(ç”¨æˆ·ç™»å½•æ‰€æœ‰GoogleæœåŠ¡æ—¶éœ€æ­¤åŸŸååŠ å¯†éªŒè¯)å’Œmail.google.comçš„å‡ åä¸ªIPåœ°å€çš„443ç«¯å£å®æ–½è‡ªåŠ¨å°é”ï¼Œå…·ä½“æ˜¯æ¯10æˆ–15åˆ†é’Ÿå¯ä»¥è¿é€šï¼Œæ¥ç€æ–­å¼€ï¼Œ10æˆ–15åˆ†é’Ÿåå†è¿é€šï¼Œå†æ–­å¼€ï¼Œå¦‚æ­¤å¾ªç¯ï¼Œä»¤ä¸­å›½å¤§é™†ç”¨æˆ·å’ŒGoogleä¸»æœºä¹‹é—´çš„è¿æ¥å‡ºç°é—´æ­‡æ€§ä¸­æ–­ï¼Œä½¿å…¶å„é¡¹æœåŠ¡å‡ºç°é—®é¢˜ã€‚GFWè¿™æ ·çš„å°é”æ‰‹æ³•å¾ˆé«˜æ˜ï¼Œå› ä¸ºGmailå¹¶éè¢«å®Œå…¨é˜»æ–­ï¼Œè¿™ä»¤é—®é¢˜çœ‹ä¸Šå»å¥½åƒå‡ºè‡ªGoogleæœ¬èº«ã€‚è¿™å°±æ˜¯ä½ ä»¬è®¤ä¸ºGoogleæŠ½é£çš„åŸå› ã€‚\n\n4 SSLè¿æ¥é˜»æ–­\nGFWä¼šé˜»æ–­ç‰¹å®šç½‘ç«™çš„SSLåŠ å¯†è¿æ¥ï¼Œæ–¹æ³•æ˜¯é€šè¿‡ä¼ªè£…æˆå¯¹æ–¹å‘è¿æ¥ä¸¤ç«¯çš„è®¡ç®—æœºå‘é€RSTåŒ…(RESET)å¹²æ‰°ä¸¤è€…é—´æ­£å¸¸çš„TCPè¿æ¥ï¼Œè¿›è€Œæ‰“æ–­ä¸ç‰¹å®šIPåœ°å€ä¹‹é—´çš„SSL(HTTPSï¼Œ443ç«¯å£)æ¡æ‰‹(å¦‚Gmailã€Googleæ–‡ä»¶ã€Googleç½‘ä¸Šè®ºå›ç­‰çš„SSLåŠ å¯†è¿æ¥)ï¼Œä»è€Œå¯¼è‡´SSLè¿æ¥å¤±è´¥ã€‚\nå½“ç„¶ç”±äºSSLæœ¬èº«çš„ç‰¹ç‚¹ï¼Œè¿™å¹¶ä¸æ„å‘³ç€ä¸ç½‘ç«™ä¼ è¾“çš„å†…å®¹å¯è¢«ç ´è¯‘ã€‚\n\n5 DNSåŠ«æŒå’Œæ±¡æŸ“\nGFWä¸»è¦é‡‡ç”¨DNSåŠ«æŒå’Œæ±¡æŸ“æŠ€æœ¯ï¼Œä½¿ç”¨Ciscoæä¾›çš„IDSç³»ç»Ÿæ¥è¿›è¡ŒåŸŸååŠ«æŒï¼Œé˜²æ­¢è®¿é—®è¢«è¿‡æ»¤çš„ç½‘ç«™ï¼Œ2002å¹´Googleè¢«å°é”æœŸé—´å…¶åŸŸåå°±è¢«åŠ«æŒåˆ°ç™¾åº¦ã€‚ä¸­å›½éƒ¨åˆ†ISPä¹Ÿä¼šé€šè¿‡æ­¤æŠ€æœ¯æ’å…¥å¹¿å‘Šã€‚\nå¯¹äºå«æœ‰å¤šä¸ªIPåœ°å€æˆ–ç»å¸¸å˜æ›´IPåœ°å€é€ƒé¿å°é”çš„åŸŸåï¼ŒGFWé€šå¸¸ä¼šä½¿ç”¨æ­¤æ–¹æ³•è¿›è¡Œå°é”ã€‚å…·ä½“æ–¹æ³•æ˜¯å½“ç”¨æˆ·å‘DNSæœåŠ¡å™¨æäº¤åŸŸåè¯·æ±‚æ—¶ï¼ŒDNSè¿”å›è™šå‡(æˆ–ä¸è§£æ)çš„IPåœ°å€ã€‚\nå…¨çƒä¸€å…±æœ‰13ç»„æ ¹åŸŸåæœåŠ¡å™¨(Root Server)ï¼Œç›®å‰ä¸­å›½å¤§é™†æœ‰Fã€Iè¿™2ä¸ªæ ¹åŸŸDNSé•œåƒï¼Œä½†ç°åœ¨å‡å·²å› ä¸ºå¤šæ¬¡DNSæ±¡æŸ“å¤–å›½ç½‘ç»œï¼Œè€Œè¢«æ–­å¼€ä¸å›½é™…äº’è”ç½‘çš„è¿æ¥ã€‚\nDNSåŠ«æŒå’Œæ±¡æŸ“æ˜¯é’ˆå¯¹æŸäº›ç½‘ç«™çš„æœ€ä¸¥é‡çš„å¹²æ‰°ã€‚\nå¹²æ‰°çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š\nä¸€ç§æ˜¯é€šè¿‡ç½‘ç»œæœåŠ¡æä¾›å•†(Internet Service Provider)æä¾›çš„DNSæœåŠ¡å™¨è¿›è¡ŒDNSæ¬ºéª—ï¼Œå½“äººä»¬è®¿é—®æŸä¸ªç½‘ç«™æ—¶ï¼Œéœ€è¦è¦æŠŠåŸŸåè½¬æ¢ä¸ºä¸€ä¸ªIPåœ°å€ï¼ŒDNSæœåŠ¡å™¨è´Ÿè´£å°†åŸŸåè½¬æ¢ä¸ºIPåœ°å€ï¼Œä¸­å›½å¤§é™†çš„ISPæ¥å—é€šä¿¡ç®¡ç†å±€çš„å±è”½ç½‘ç«™çš„æŒ‡ä»¤ååœ¨DNSæœåŠ¡å™¨é‡ŒåŠ å…¥æŸäº›ç‰¹å®šåŸŸåçš„è™šå‡è®°å½•ï¼Œå½“ä½¿ç”¨æ­¤DNSæœåŠ¡å™¨çš„ç½‘ç»œç”¨æˆ·è®¿é—®æ­¤ç‰¹å®šç½‘ç«™æ—¶ï¼ŒDNSæœåŠ¡ä¾¿ç»™å‡ºè™šå‡çš„IPåœ°å€ï¼Œå¯¼è‡´è®¿é—®ç½‘ç«™å¤±è´¥ï¼Œç”šè‡³è¿”å›ISPè¿è¥å•†æä¾›çš„å‡ºé”™é¡µé¢å’Œå¹¿å‘Šé¡µé¢ã€‚\nå¦ä¸€ç§æ˜¯GFWåœ¨DNSæŸ¥è¯¢ä½¿ç”¨çš„UDPçš„53ç«¯å£ä¸Šæ ¹æ®blacklistè¿›è¡Œè¿‡æ»¤ï¼Œé‡åˆ°é€šå¾€å›½å¤–çš„ä½¿ç”¨UDP53ç«¯å£è¿›è¡ŒæŸ¥è¯¢çš„DNSè¯·æ±‚ï¼Œå°±è¿”å›ä¸€ä¸ªè™šå‡çš„IPåœ°å€ã€‚\n\n6 åŠ å¯†è¿æ¥çš„å¹²æ‰°\nåŠ å¯†è¿æ¥ä¸æ€»æ˜¯åŠ å¯†çš„ï¼Œå…¬é’¥è¿˜æ˜¯æ˜æ–‡çš„ï¼Œæ‰€ä»¥ GFW å°±èƒ½è¯†åˆ«å‡ºç‰¹å®šæœåŠ¡çš„è¯ä¹¦ã€‚ç„¶ååœ¨é‡åˆ° â€œé»‘åå•â€ åŠ å¯†è¿æ¥æ—¶ï¼Œå®ƒä¼šå‘é€RSTæ•°æ®åŒ…ï¼Œå¹²æ‰°åŒæ–¹æ­£å¸¸çš„ TCP è¿æ¥ï¼Œè¿›è€Œåˆ‡æ–­åŠ å¯†è¿æ¥çš„æ¡æ‰‹ã€‚å³ä½¿ GWF æœ‰è¿™ä¹ˆå¤šé˜´æ‹›ï¼Œæˆ‘ä»¬è¿˜æ˜¯æœ‰åŠæ³•çš„ï¼Œæœ¬æ–‡ä¸»è¦ä¹Ÿæ˜¯è¯´è¿™ä¸ªçš„ã€‚\n\næ–‡ç« å¼•ç”¨ï¼šabout-firewall/ä¸­å›½ç½‘ç»œé˜²ç«é•¿åŸç®€å².md at main Â· yzxsblog/about-firewall (github.com)\nfq-book/docs/abc/gfw.md at master Â· hoochanlon/fq-book (github.com)\n","categories":["è®¡ç®—æœºç½‘ç»œ"],"tags":["GFW"]},{"title":"TCP/IPçŸ¥è¯†","url":"/2024/06/10/learnnote/ji-suan-ji-wang-luo/tcpip-zhi-shi/","content":"TCP/IPçŸ¥è¯†\nå…³äºTCP/IP\nTCP/IPï¼ˆTransmission Control Protocol/Internet Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®/ç½‘é™…åè®®ï¼‰æ˜¯æŒ‡èƒ½å¤Ÿåœ¨å¤šä¸ªä¸åŒç½‘ç»œé—´å®ç°ä¿¡æ¯ä¼ è¾“çš„åè®®ç°‡ã€‚TCP/IPåè®®ä¸ä»…ä»…æŒ‡çš„æ˜¯TCP å’ŒIPä¸¤ä¸ªåè®®ï¼Œè€Œæ˜¯æŒ‡ä¸€ä¸ªç”±FTPã€SMTPã€TCPã€UDPã€IPç­‰åè®®æ„æˆçš„åè®®ç°‡ï¼Œ åªæ˜¯å› ä¸ºåœ¨TCP/IPåè®®ä¸­TCPåè®®å’ŒIPåè®®æœ€å…·ä»£è¡¨æ€§ï¼Œæ‰€ä»¥è¢«ç§°ä¸ºTCP/IPåè®®ã€‚ æ¯”å¦‚ï¼šTCPï¼ŒUDPï¼ŒIPï¼ŒFTPï¼ŒHTTPï¼ŒICMPï¼ŒSMTP ç­‰éƒ½å±äº TCP/IP æ—å†…çš„åè®®ã€‚æ³¨æ„ï¼šTCP/IPåè®®ä¸æ˜¯TCPå’ŒIPè¿™ä¸¤ä¸ªåè®®çš„åˆç§°ï¼Œè€Œæ˜¯æŒ‡å› ç‰¹ç½‘æ•´ä¸ªTCP/IPåè®®æ— (ä¹Ÿå°±æ˜¯æ•´ä¸ªæ¡†æ¶åè®®)ã€‚\n\n\nIPï¼š\nIPæ‰€æä¾›çš„æœåŠ¡é€šå¸¸è¢«è®¤ä¸ºæ˜¯æ— è¿æ¥çš„å’Œä¸å¯é çš„ï¼Œå®ƒå°†å·®é”™æ§åˆ¶å’Œæµé‡æ§åˆ¶ä¹‹ç±»çš„æœåŠ¡æˆæƒç»™äº†å…¶ä»–çš„å„å±‚åè®®ï¼Œè¿™æ­£æ˜¯TCP/IP èƒ½å¤Ÿé«˜æ•ˆç‡å·¥ä½œçš„ä¸€ä¸ªé‡è¦ä¿è¯ã€‚ç½‘ç»œå±‚çš„åŠŸèƒ½ä¸»è¦ç”±IPæ¥æä¾›ï¼Œé™¤äº†æä¾›ç«¯åˆ°ç«¯çš„åˆ†ç»„åˆ†å‘åŠŸèƒ½å¤–ï¼ŒIPè¿˜æä¾›å¾ˆå¤šæ‰©å……åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œä¸ºäº†å…‹æœæ•°æ®é“¾è·¯å±‚å¯¹å¸§å¤§å°çš„é™åˆ¶ï¼Œç½‘ç»œå±‚æä¾›äº†æ•°æ®åˆ†å—å’Œé‡ç»„åŠŸèƒ½ï¼Œè¿™ä½¿å¾—å¾ˆå¤§çš„IPæ•°æ®åŒ…èƒ½ä»¥è¾ƒå°çš„åˆ†ç»„åœ¨ç½‘ç»œä¸Šä¼ è¾“ã€‚\nARPï¼š\nARP(Address Resolution Protocolï¼Œåœ°å€è§£æåè®®)ç”¨äºåŠ¨æ€åœ°å®ŒæˆIPåœ°å€å‘ç‰©ç†åœ°å€çš„è½¬æ¢ã€‚ç‰©ç†åœ°å€é€šå¸¸æ˜¯æŒ‡è®¡ç®—æœºçš„ç½‘å¡åœ°å€ï¼Œä¹Ÿç§°ä¸ºMAC(Medai Access Controlï¼Œåª’ä½“è®¿é—®æ§åˆ¶)åœ°å€ï¼Œæ¯å—ç½‘å¡éƒ½æœ‰å”¯ä¸€çš„åœ°å€ã€‚\nRARPï¼š\nRARP(Reverse Address Resolution Protocolï¼Œåå‘åœ°å€è§£æåè®®)ç”¨äºåŠ¨æ€å®Œæˆç‰©ç†åœ°å€å‘IPåœ°å€çš„è½¬æ¢ã€‚\nICMPï¼š\nICMP(Internet Control Message Protocolï¼Œç½‘é™…æ§åˆ¶æŠ¥æ–‡åè®®)æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºå‘é€å·®é”™æŠ¥æ–‡çš„åè®®ï¼Œç”±äºIPåè®®æ˜¯ä¸€ç§å°½åŠ›ä¼ é€çš„é€šä¿¡åè®®ï¼Œå³ä¼ é€çš„æ•°æ®å¯èƒ½ä¸¢å¤±ã€é‡å¤ã€å»¶è¿Ÿæˆ–ä¹±åºä¼ é€’ï¼Œæ‰€ä»¥éœ€è¦ä¸€ç§å°½é‡é¿å…å·®é”™å¹¶èƒ½åœ¨å‘ç”Ÿå·®é”™æ—¶æŠ¥å‘Šçš„æœºåˆ¶ï¼Œè¿™å°±æ˜¯ICMPçš„åŠŸèƒ½ã€‚\nIGMPï¼š\nIGMP(Internet Group Management Protocolï¼Œç½‘é™…ç»„ç®¡ç†åè®®)å…è®¸Internetä¸­çš„è®¡ç®—æœºå‚åŠ å¤šæ’­ï¼Œæ˜¯è®¡ç®—æœºç”¨åšå‘ç›¸é‚»å¤šç›®è·¯ç”±å™¨æŠ¥å‘Šå¤šç»„æˆå‘˜çš„åè®®ã€‚å¤šç›®è·¯ç”±å™¨æ˜¯æ”¯æŒç»„æ’­çš„è·¯ç”±å™¨ï¼Œå®ƒå‘æœ¬åœ°ç½‘ç»œå‘é€IGMPæŸ¥è¯¢ï¼Œè®¡ç®—æœºé€šè¿‡å‘é€IGMPæŠ¥å‘Šæ¥åº”ç­”æŸ¥è¯¢ã€‚å¤šç›®è·¯ç”±å™¨è´Ÿè´£å°†ç»„æ’­åŒ…è½¬å‘åˆ°ç½‘ç»œä¸­æ‰€æœ‰ç»„æ’­æˆå‘˜ã€‚\n\n1ã€ç‰©ç†å±‚\n   ç‰©ç†å±‚æ˜¯OSIæ¨¡å‹çš„ç¬¬ä¸€å±‚ï¼Œä¸»è¦åŠŸèƒ½æ˜¯ï¼šåˆ©ç”¨ä¼ è¾“ä»‹è´¨ä¸ºæ•°æ®é“¾è·¯å±‚æä¾›ç‰©ç†è¿æ¥ï¼Œå®ç°æ¯”ç‰¹æµçš„é€æ˜ä¼ è¾“ã€‚å®ƒè´Ÿè´£ç®¡ç†ç”µè„‘é€šä¿¡è®¾å¤‡å’Œç½‘ç»œåª’ä½“ä¹‹é—´çš„äº’é€šã€‚è¯¥å±‚ä¼ é€’æ˜¯æ¯”ç‰¹æµï¼Œä¸»è¦çš„è®¾å¤‡æœ‰åŒ…æ‹¬äº†é’ˆè„šã€é›†çº¿å™¨ã€ä¸­ç»§å™¨ã€ç½‘å¡ã€ä¸»æœºæ¥å£å¡ç­‰ã€‚\n2ã€æ•°æ®é“¾è·¯å±‚\n  æ•°æ®é“¾è·¯å±‚ä¸»è¦åŠŸèƒ½ï¼šåœ¨ç‰©ç†å±‚æä¾›æ¯”ç‰¹æµæœåŠ¡çš„åŸºç¡€ä¸Šï¼Œå»ºç«‹ç›¸é‚»ç»“ç‚¹ä¹‹é—´çš„æ•°æ®é“¾è·¯ï¼Œé€šè¿‡å·®é”™æ§åˆ¶æä¾›æ•°æ®å¸§(Frame)åœ¨ä¿¡é“ä¸Šæ— å·®é”™çš„ä¼ è¾“ã€‚\nåœ¨è®¡ç®—æœºç½‘ç»œä¸­ç”±äºå„ç§å¹²æ‰°çš„å­˜åœ¨ï¼Œç‰©ç†é“¾è·¯æ˜¯ä¸å¯é çš„ï¼Œå› æ­¤ï¼Œé€šè¿‡å·®é”™æ§åˆ¶ã€æµé‡æ§åˆ¶æ–¹æ³•ï¼Œä½¿æœ‰å·®é”™çš„ç‰©ç†çº¿è·¯å˜ä¸ºæ— å·®é”™çš„æ•°æ®é“¾è·¯ï¼Œå³æä¾›å¯é çš„é€šè¿‡ç‰©ç†ä»‹è´¨ä¼ è¾“æ•°æ®çš„æ–¹æ³•ã€‚\næ•°æ®é“¾è·¯å±‚å°†æ¯”ç‰¹ç»„åˆæˆå­—èŠ‚è¿›è€Œç»„åˆæˆå¸§(frame),é€šè¿‡MACåœ°å€è¿›è¡Œå¯»å€ï¼Œè®¿é—®ä»‹è´¨ã€‚\næˆ‘ä»¬å¸¸ç”¨çš„æ¥å…¥äº¤æ¢æœº(äºŒå±‚äº¤æ¢æœº)å°±æ˜¯å·¥ä½œåœ¨è¿™å±‚ï¼Œäº¤äº’æœºè¿æ¥çš„è®¾å¤‡åœ¨åŒä¸€ä¸ªå¹¿æ’­åŸŸï¼Œå¦‚æœæƒ³æŠ“æŸä¸ªè®¾å¤‡çš„ç½‘ç»œåŒ…ï¼Œå°±å¯ä»¥ä½¿ç”¨äº¤æ¢æœºå°†ç”µè„‘å’Œè®¾å¤‡äº’è”ã€‚\n3ã€ç½‘ç»œå±‚\nâ€‹    ç½‘ç»œå±‚æ˜¯ä¸ƒå±‚æ¨¡å‹ä¸­å¤æ‚çš„ï¼ŒèŒ«èŒ«æœºæµ·ä¸­ï¼Œä¸¤å°è®¡ç®—æœºé¡ºåˆ©çš„ç‰µæ‰‹å°±é ç½‘ç»œå±‚ï¼Œæ¯”å¦‚æˆ‘ä»¬è®¿é—®ç™¾åº¦ï¼Œå°†æ•°æ®é“¾è·¯å±‚æä¾›çš„å¸§è½¬åŒ–æˆæ•°æ®åŒ…(packets)ï¼Œè¯¥æ•°æ®åŒ…åŒ…å«IPå¤´ã€‚é€šè¿‡è·¯å¾„é€‰æ‹©ã€åˆ†æ®µç»„åˆã€é¡ºåºã€è¿›/å‡ºè·¯ç”±ç­‰æ§åˆ¶ï¼Œå°†æˆ‘ä»¬æœºå™¨çš„è®¿é—®ä¿¡æ¯ä»æˆ‘ä»¬çš„æœºå™¨ä¼ é€åˆ°ç™¾åº¦çš„æœåŠ¡å™¨ï¼Œè¿™ä¸­é—´ç»è¿‡å¾ˆå¤šé€šä¿¡å­ç½‘ï¼Œä¹Ÿæœ‰Nä¸ªè·¯å¾„å¯ä»¥é€‰æ‹©ï¼Œå¦‚ä½•é€‰æ‹©ä¸€æ¡æœ€ä¼˜è·¯å¾„ï¼Œæ˜¯è¯¥å±‚é‡è¦çš„åŠŸèƒ½ã€‚\nåœ¨æ•°æ®é“¾è·¯å±‚ï¼Œåœ¨ä¸€ä¸ªå¹¿æ’­åŸŸçš„å†…éƒ¨é‡‡ç”¨çš„æ˜¯MACå¯»å€ï¼›åœ¨ç½‘ç»œå±‚ï¼Œå®ç°ä¸åŒçš„å­ç½‘å¹³é¢é—´é‡‡ç”¨çš„IPå¯»å€ã€‚æ‰€ä»¥å’ŒIPç›¸å…³çš„éƒ½æ˜¯ä¸‰å±‚ï¼Œæ¯”å¦‚æˆ‘ä»¬ping ä¸€ä¸ªipåœ°å€çœ‹é€šä¸é€šï¼Œå°±æ˜¯çœ‹ç½‘ç»œå±‚æ˜¯å¦è¿é€šã€‚\nè¿™å±‚çš„ä¸»è¦è®¾å¤‡å°±æ˜¯è·¯ç”±å™¨ï¼Œç†ŸçŸ¥çš„æ˜¯å®¶åº­è·¯ç”±å™¨(ç°åœ¨éƒ½è¢«ç§°ä¸ºwifi)ã€‚\n4ã€ä¼ è¾“å±‚\n  ä¼ è¾“å±‚èµ·åˆ°æ‰¿ä¸Šå¯ä¸‹çš„ä½œç”¨ï¼Œä¸€æ–¹é¢å‘é«˜å±‚å±è”½ä¸‹å±‚æ•°æ®é€šä¿¡çš„ç»†èŠ‚ï¼Œå³å‘ç”¨æˆ·é€æ˜åœ°ä¼ é€æŠ¥æ–‡ï¼Œå¦ä¸€æ–¹é¢å°†æ•°æ®ä¼ é€’åˆ°ç½‘ç»œå±‚ï¼Œå¹¶ç¡®ä¿æ•°æ®èƒ½æ­£ç¡®æ— è¯¯åœ°ä¼ é€åˆ°ç½‘ç»œå±‚ã€‚å› æ­¤ï¼Œä¼ è¾“å±‚æä¾›å»ºç«‹ã€ç»´æŠ¤å’Œæ‹†é™¤ä¼ è¾“è¿æ¥çš„åŠŸèƒ½ï¼Œè·Ÿè¸ªæ•°æ®å•å…ƒç¢ç‰‡ã€ä¹±åºåˆ°è¾¾çš„ æ•°æ®åŒ…å’Œå…¶å®ƒåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­å¯èƒ½å‘ç”Ÿçš„å±é™©ï¼Œä¿è¯æŠ¥æ–‡çš„æ­£ç¡®ä¼ è¾“ã€‚\næˆ‘ä»¬é€šå¸¸è¯´çš„æ£€æŸ¥ä¸‹443,80ç«¯å£é€šä¸é€šï¼Œå°±æ˜¯æŒ‡çš„æ˜¯ä¼ è¾“å±‚ç«¯å£ï¼Œä»Šå¤©è¦è®²çš„TCP/UDPåè®®å°±æ˜¯è¯¥å±‚çš„åè®®ï¼Œå¦å¤–å¤§åé¼é¼çš„è´Ÿè½½LVSä¹Ÿæ˜¯å·¥ä½œåœ¨å››å±‚ä¸Šã€‚\n5ã€ä¼šè¯å±‚\n  ä¼šè¯å±‚æ˜¯ç”¨æˆ·åº”ç”¨ç¨‹åºå’Œç½‘ç»œä¹‹é—´çš„æ¥å£ï¼Œä¸»è¦ä»»åŠ¡æ˜¯ï¼šå‘ä¸¤ä¸ªå®ä½“çš„è¡¨ç¤ºå±‚æä¾›å»ºç«‹å’Œä½¿ç”¨è¿æ¥çš„æ–¹æ³•ã€‚å°†ä¸åŒå®ä½“ä¹‹é—´çš„è¡¨ç¤ºå±‚çš„è¿æ¥ç§°ä¸ºä¼šè¯ã€‚å› æ­¤ä¼šè¯å±‚çš„ä»»åŠ¡å°±æ˜¯ç»„ç»‡å’Œåè°ƒä¸¤ä¸ªä¼šè¯è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œå¹¶å¯¹æ•°æ®äº¤æ¢è¿›è¡Œç®¡ç†ã€‚ä¼šè¯æ§åˆ¶å’Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨å‡å±äºè¿™ä¸€å±‚çš„åŠŸèƒ½ã€‚\n6ã€è¡¨ç¤ºå±‚\n   è¡¨ç¤ºå±‚å¯¹æ¥è‡ªåº”ç”¨å±‚çš„å‘½ä»¤å’Œæ•°æ®è¿›è¡Œè§£é‡Šï¼Œå¯¹å„ç§è¯­æ³•èµ‹äºˆç›¸åº”çš„å«ä¹‰ï¼Œå¹¶æŒ‰ç…§ä¸€å®šçš„æ ¼å¼ä¼ é€ç»™ä¼šè¯å±‚ã€‚å…¶ä¸»è¦åŠŸèƒ½æ˜¯â€œå¤„ç†ç”¨æˆ·ä¿¡æ¯çš„è¡¨ç¤ºé—®é¢˜ï¼Œå¦‚ç¼–ç ã€æ•°æ®æ ¼å¼è½¬æ¢å’ŒåŠ å¯†è§£å¯†â€ç­‰ã€‚\næ•°æ®çš„å‹ç¼©å’Œè§£å‹ç¼©ï¼Œ åŠ å¯†å’Œè§£å¯†ç­‰å·¥ä½œéƒ½ç”±è¡¨ç¤ºå±‚è´Ÿè´£ã€‚\n7ã€åº”ç”¨å±‚\nåº”ç”¨å±‚æ˜¯è®¡ç®—æœºç”¨æˆ·ï¼Œä»¥åŠå„ç§åº”ç”¨ç¨‹åºå’Œç½‘ç»œä¹‹é—´çš„æ¥å£ï¼Œå…¶åŠŸèƒ½æ˜¯ç›´æ¥å‘ç”¨æˆ·æä¾›æœåŠ¡ï¼Œå®Œæˆç”¨æˆ·å¸Œæœ›åœ¨ç½‘ç»œä¸Šå®Œæˆçš„å„ç§å·¥ä½œã€‚åº”ç”¨å±‚ä¸ºç”¨æˆ·æä¾›çš„æœåŠ¡å’Œåè®®ï¼Œæ¯”å¦‚httpï¼Œftpï¼Œtelnetç­‰ã€‚\nåœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œå°†ä¼ è¾“å±‚ä»¥ä¸Šç»Ÿç§°ä¸ºåº”ç”¨å±‚ï¼Œåˆ’åˆ†TCP/IPäº”å±‚æ¨¡å‹ã€‚\n\nå…³ä¸è·¯ç”±è½¬å‘åˆ†ç»„\nTCP/IPçš„ä½“ç³»ç»“æ„æ¯”è¾ƒç®€å•ï¼Œå®ƒåªæœ‰å››å±‚ã€‚è·¯ç”±å™¨åœ¨è½¬å‘åˆ†ç»„æ—¶æœ€é«˜åªç”¨åˆ°ç½‘ç»œå±‚è€Œæ²¡æœ‰ç”¨åˆ°è¿è¾“å±‚å’Œåº”ç”¨å±‚ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆ==æ³¨ï¼š==ç½‘ç»œæ¥å£å±‚å°±æ˜¯æ•°æ®é“¾è·¯å±‚å’Œç‰©ç†å±‚ä¸€èµ·ã€‚ç½‘é™…å±‚å°±æ˜¯ç½‘ç»œå±‚ã€‚è¿è¾“å±‚å°±æ˜¯ä¼ è¾“å±‚ã€‚TCP/IPå››å±‚æ¨¡å‹ä¸­å¯èƒ½ä¼šå°†è¿è¾“å±‚åˆ’åˆ†åˆ°åº”ç”¨å±‚å½“ä¸­ï¼‰ï¼š\n\nè¿˜æœ‰ä¸€ç§æ–¹æ³•ï¼Œå°±æ˜¯åˆ†å±‚æ¬¡ç”»å‡ºå…·ä½“çš„åè®®æ¥è¡¨ç¤ºTCP/IPåè®®æ—ï¼Œåº”ç”¨å±‚å’Œç½‘ç»œæ¥å£å±‚éƒ½æœ‰å¤šç§åè®®ï¼Œä¸Šå±‚çš„å„ç§åè®®éƒ½å‘ä¸‹æ±‡èšåˆ°ä¸€ä¸ªIPåè®®ä¸­ã€‚è¿™è¡¨æ˜ï¼ŒTCP/IPåè®®å¯ä»¥ä¸ºå„å¼å„æ ·çš„åº”ç”¨æä¾›æœåŠ¡ï¼ˆeverything over IPï¼‰ï¼ŒåŒæ—¶TCP/IPåè®®ä¹Ÿå…è®¸IPåè®®åœ¨å„å¼å„æ ·çš„ç½‘ç»œæ„æˆçš„äº’è”ç½‘ä¸Šè¿è¡Œï¼ˆIP over everythingï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸éš¾çœ‹å‡ºIPåè®®åœ¨å› ç‰¹ç½‘ä¸­çš„æ ¸å¿ƒä½œç”¨ï¼š \nâ€‹    é€šè¿‡ä¸‹å›¾ï¼Œåˆ©ç”¨åè®®æ ˆçš„æ¦‚å¿µæ¥è¯´æ˜åœ¨å› ç‰¹ç½‘ä¸­å®¢æˆ·æœåŠ¡å™¨ï¼ˆB/Sï¼‰çš„å·¥ä½œæ–¹å¼ã€‚\nâ€‹    ä¸»æœºAå’ŒBéƒ½æœ‰å„è‡ªçš„åè®®æ ˆã€‚ä¸»æœºAä¸­çš„åº”ç”¨è¿›ç¨‹ï¼ˆå³å®¢æˆ·è¿›ç¨‹ï¼‰å‘ä¸»æœºBåº”ç”¨å±‚çš„æœåŠ¡è¿›ç¨‹å‘å‡ºè¯·æ±‚ï¼Œè¯·æ±‚å»ºç«‹è¿æ¥ã€‚ç„¶åï¼Œ****ä¸»æœº*Bçš„æœåŠ¡å™¨è¿›ç¨‹æ¥æ”¶Açš„å®¢æˆ·è¿›ç¨‹å‘æ¥çš„è¯·æ±‚ï¼Œç„¶åå»ºç«‹è¿æ¥ã€‚æ‰€æœ‰çš„è¿™äº›é€šä¿¡ï¼Œéƒ½å¿…é¡»ä½¿ç”¨ä¸‹é¢å„å±‚æ‰€æä¾›çš„æœåŠ¡*ï¼Œè‹¥ä»…ä»…è€ƒè™‘å®¢æˆ·è¿›ç¨‹å’ŒæœåŠ¡è¿›ç¨‹çš„äº¤äº’ï¼Œåˆ™å¦‚å›¾é¡¶éƒ¨è™šçº¿æ‰€ç¤ºã€‚\n \nICMPåè®®\nICMPï¼šInternetæ§åˆ¶æŠ¥æ–‡åè®®ï¼Œé€šå¸¸è¢«è®¤ä¸ºæ˜¯IPå±‚çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ã€‚ä¼ é€’å·®é”™æŠ¥æ–‡ä»¥åŠå…¶ä»–éœ€è¦æ³¨æ„çš„ä¿¡æ¯ã€‚ICMPæŠ¥æ–‡é€šå¸¸è¢«IPå±‚æˆ–æ›´é«˜åè®®ï¼ˆTCP/UDPï¼‰ä½¿ç”¨ã€‚ICMPæŠ¥æ–‡æ˜¯åœ¨IPæ•°æ®æŠ¥å†…è¢«ä¼ è¾“çš„ã€‚è¿™é‡Œæ³¨æ„ICMPçš„åŠŸèƒ½æ˜¯æ£€é”™è€Œä¸æ˜¯çº é”™.\n\n\nICMPæŠ¥æ–‡ç±»å‹\nå›¾ä¸­ä¸ºå„ç§ç±»å‹çš„ICMPæŠ¥æ–‡å¯¹åº”ç±»å‹ï¼Œä¸åŒç±»å‹ç”±æŠ¥æ–‡ä¸­çš„ç±»å‹å­—æ®µå’Œä»£ç å­—æ®µå…±åŒå†³å®šã€‚æœ€åä¸¤åˆ—åˆ™æ˜¾ç¤ºæ­¤ICMPæŠ¥æ–‡ä¸ºæŸ¥è¯¢æŠ¥æ–‡è¿˜æ˜¯å·®é”™æŠ¥æ–‡ï¼Œå› ä¸ºICMPå·®é”™æŠ¥æ–‡æœ‰æ—¶éœ€è¦åšç‰¹æ®Šå¤„ç†ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å¯¹å®ƒä»¬è¿›è¡ŒåŒºåˆ†ã€‚å½“å‘é€ä¸€ä»½ICMPå·®é”™æŠ¥æ–‡æ—¶ï¼ŒæŠ¥æ–‡å§‹ç»ˆåŒ…å«IPçš„é¦–éƒ¨å’Œäº§ç”ŸICMPå·®é”™æŠ¥æ–‡çš„IPæ•°æ®æŠ¥çš„å‰8ä¸ªå­—èŠ‚ã€‚è¿™æ ·ï¼Œæ¥æ”¶ICMPå·®é”™æŠ¥æ–‡çš„æ¨¡å—å°±ä¼šæŠŠå®ƒä¸æŸä¸ªç‰¹å®šçš„åè®®å’Œç”¨æˆ·è¿›è¡Œè”ç³»èµ·æ¥ã€‚\nICMPåœ°å€æ©ç è¯·æ±‚ä¸åº”ç­”ICMPåœ°å€æ©ç è¯·æ±‚ç”¨äºæ— ç›˜ç³»ç»Ÿåœ¨å¼•å¯¼è¿‡ç¨‹ä¸­è·å–è‡ªå·±çš„å­ç½‘æ©ç ã€‚ç³»ç»Ÿå¹¿æ’­å®ƒçš„ICMPè¯·æ±‚æŠ¥æ–‡ã€‚æ— ç›˜ç³»ç»Ÿè·å–å­ç½‘æ©ç çš„å¦ä¸€ä¸ªæ–¹æ³•æ—¶BOOTPåè®®ã€‚ICMPåœ°å€æ©ç è¯·æ±‚å’Œåº”ç­”æŠ¥æ–‡çš„æ ¼å¼å¦‚ä¸‹ï¼š\n\nICMPæŠ¥æ–‡ä¸­çš„æ ‡è¯†ç¬¦å’Œåºåˆ—å·å­—æ®µç”±å‘é€ç«¯ä»»æ„é€‰æ‹©è®¾å®šï¼Œè¿™äº›å€¼åœ¨åº”ç­”ä¸­å°†è¢«è¿”å›ã€‚\nICMPæ—¶é—´æˆ³è¯·æ±‚ä¸åº”ç­”\nICMPæ—¶é—´æˆ³è¯·æ±‚å…è®¸å‘å¦ä¸€ä¸ªç³»ç»ŸæŸ¥è¯¢å½“å‰æ—¶é—´ã€‚è¿”å›çš„å»ºè®®å€¼æ—¶è‡ªåˆå¤œå¼€å§‹è®¡ç®—çš„æ¯«ç§’æ•°ï¼Œåè°ƒçš„ç»Ÿä¸€æ—¶é—´ï¼Œç”±äºè¿”å›çš„æ—¶é—´æ˜¯ä»åˆå¤œå¼€å§‹ç®—çš„ï¼Œå› æ­¤è°ƒç”¨è€…å¿…é¡»é€šè¿‡å…¶ä»–æ–¹æ³•è·å–å½“æ—¶çš„æ—¥æœŸï¼Œè¿™æ˜¯å®ƒçš„ç¼ºé™·ã€‚\n\n\nè¯·æ±‚ç«¯å¡«å†™å‘èµ·æ—¶é—´æˆ³ï¼Œå‘é€æŠ¥æ–‡ï¼Œåº”ç­”ç³»ç»Ÿæ”¶åˆ°è¯·æ±‚æŠ¥æ–‡æ—¶å¡«å†™æ¥æ”¶æ—¶é—´æˆ³ï¼Œåœ¨å‘é€æ—¶å¡«å†™å‘é€æ—¶é—´æˆ³ï¼Œä½†æ˜¯ï¼Œå®é™…ä¸Šï¼Œå¤§å¤šæ•°çš„å®ç°æŠŠåé¢ä¸¤ä¸ªå­—æ®µéƒ½è®¾ç½®æˆç›¸åŒçš„å€¼ã€‚\nICMPä¸å¯è¾¾å·®é”™ICMPå·®é”™æŠ¥æ–‡ï¼Œå³ç«¯å£ä¸å¯è¾¾æŠ¥æ–‡ï¼Œå®ƒæ˜¯ICMPç›®çš„ä¸å¯åˆ°è¾¾æŠ¥æ–‡ä¸­çš„ä¸€ç§ã€‚\n\nICMPçš„ä¸€ä¸ªè§„åˆ™æ˜¯ï¼ŒICMPå·®é”™æŠ¥æ–‡å¿…é¡»åŒ…æ‹¬ç”Ÿæˆè¯¥å·®é”™æŠ¥æ–‡çš„æ•°æ®æŠ¥IPé¦–éƒ¨ï¼Œè¿˜å¿…é¡»è‡³å°‘åŒ…æ‹¬è·Ÿåœ¨è¯¥IPé¦–éƒ¨åé¢çš„å‰8ä¸ªå­—èŠ‚\n\nTCPåè®®\nTCPä»‹ç»ï¼šTCPåè®®ï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼ˆè‹±è¯­ï¼šTransmission Control Protocolï¼Œç¼©å†™ä¸ºï¼šTCPï¼‰æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„é€šä¿¡åè®®\nTCPæŠŠè¿æ¥ä½œä¸ºæœ€åŸºæœ¬çš„æŠ½è±¡å•å…ƒï¼Œæ¯æ¡TCPè¿æ¥æœ‰ä¸¤ä¸ªç«¯ç‚¹ï¼ŒTCPè¿æ¥çš„ç«¯ç‚¹å³å¥—æ¥å­—ã€‚å¥—æ¥å­—socket = ï¼ˆIPåœ°å€+ç«¯å£å·ï¼‰TCPè¿æ¥={socket1ï¼Œsocket2}={ï¼ˆIP1:port1ï¼‰ï¼Œï¼ˆIP2,port2ï¼‰}TCPæä¾›å…¨åŒå·¥é€šä¿¡ã€‚\n\n\n\næºç«¯å£å·ï¼šæœ¬æ¬¡TCPè¿æ¥ä¸­ï¼Œå‘èµ·è¿æ¥çš„ä¸»æœºä½¿ç”¨çš„ç«¯å£å·ï¼›\nç›®çš„ç«¯å£å·ï¼šæœ¬æ¬¡TCPè¿æ¥ä¸»ï¼Œæ¥å—è¿æ¥çš„ä¸»æœºä½¿ç”¨çš„ç«¯å£å·ï¼›\nåºå·ï¼šé€šè¿‡TCPä¼ è¾“çš„æ¯ä¸€ä¸ªæ•°æ®æ®µï¼Œéƒ½æœ‰ä¸€ä¸ªåºå·ï¼Œä½œç”¨æ˜¯ä¸ºäº†ç¡®è®¤æ­¤æ•°æ®æ®µçš„é¡ºåºã€‚ç½‘ç»œä¸­å…è®¸ä¼ è¾“çš„æ•°æ®é•¿åº¦æ˜¯æœ‰é™åˆ¶çš„ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬è¦é€šè¿‡TCPä¼ è¾“ä¸€ä¸ªè¾ƒå¤§çš„æ•°æ®æ—¶ï¼ŒTCPä¼šå°†æ•°æ®åˆ‡å‰²æˆå¾ˆå¤šå°çš„æ•°æ®æ®µè¿›è¡Œä¼ è¾“ã€‚è€Œå°†è¿™äº›å°çš„æ•°æ®æ®µå‘é€åˆ°ç›®çš„ä¸»æœºæ—¶ï¼ˆå‘é€æ–¹ä¼šåŒæ—¶å‘é€å¤šä¸ªæ•°æ®ï¼‰ï¼Œå¹¶ä¸èƒ½ä¿è¯å®ƒä»¬æ˜¯æŒ‰é¡ºåºåˆ°è¾¾ç›®çš„åœ°ï¼Œæ‰€ä»¥å¯¹äºæ¯ä¸€ä¸ªæ•°æ®æ®µï¼Œéƒ½è¦æœ‰ä¸€ä¸ªåºå·ï¼Œæ¥æ ‡è¯†å®ƒä»¬æ˜¯å±äºæ€»æ•°æ®çš„å“ªä¸€éƒ¨åˆ†ï¼Œä»¥ä¿è¯åœ¨ç›®çš„ä¸»æœºä¸­èƒ½å°†ä»–ä»¬é‡æ–°æ‹¼æ¥ã€‚\nç¡®è®¤åºå·ï¼šæ¥æ”¶æ–¹è‹¥æ¥æ”¶åˆ°ä¸€ä¸ªæ•°æ®æ®µï¼Œä¼šå‘é€ä¸€ä¸ªç¡®è®¤æŠ¥æ–‡ç»™å‘é€æ–¹ï¼Œå‘Šè¯‰å‘é€æ–¹å·²ç»æ¥æ”¶åˆ°è¿™ä¸ªæ•°æ®æ®µï¼Œè€Œç¡®è®¤åºå·çš„ä½œç”¨å°±æ˜¯å‘Šè¯‰å‘é€æ–¹æ¥æ”¶åˆ°äº†å“ªæ¡æ•°æ®æ®µã€‚è‹¥æ¥æ”¶æ–¹æ¥æ”¶åˆ°äº†åºå·ä¸ºnçš„æŠ¥æ–‡æ®µï¼Œåˆ™ç¡®è®¤åºå·å°†æ˜¯n+1ï¼Œè¡¨ç¤ºå®ƒå·²ç»æ¥æ”¶äº†nï¼Œä¸‹ä¸€æ¡æƒ³è¦æ¥æ”¶n+1ï¼›\né¦–éƒ¨é•¿åº¦ï¼šTCPæŠ¥æ–‡çš„é¦–éƒ¨+é€‰é¡¹çš„å­—èŠ‚æ•°ï¼›\nACKï¼šåªæœ‰1 bitçš„æ ‡å¿—ä½ï¼Œè‹¥ä¸º1ï¼Œè¡¨ç¤ºè¿™ä¸ªæ•°æ®æ®µä¸­çš„ç¡®è®¤åºå·æ˜¯æœ‰æ•ˆçš„ï¼Œå³è¿™ä¸ªæ•°æ®æŠ¥æ˜¯å¯¹ä¹‹å‰æ¥æ”¶åˆ°çš„æŸä¸ªæŠ¥æ–‡çš„ç¡®è®¤ï¼ˆä¸€ä¸ªTCPæŠ¥æ–‡å¯ä»¥åŒæ—¶ä½œä¸ºç¡®è®¤æŠ¥æ–‡å’Œä¼ é€’æ•°æ®æŠ¥æ–‡ï¼‰ã€‚\nRSTï¼šåªæœ‰1 bitçš„æ ‡å¿—ä½ï¼Œè‹¥å®¢æˆ·ç«¯å‘æœåŠ¡å™¨çš„ä¸€ä¸ªç«¯å£è¯·æ±‚å»ºç«‹TCPè¿æ¥ï¼Œä½†æ˜¯æœåŠ¡å™¨çš„é‚£ä¸ªç«¯å£å¹¶ä¸å…è®¸å»ºç«‹è¿æ¥ï¼ˆæ¯”å¦‚æ²¡å¼€å¯æ­¤ç«¯å£ï¼‰ï¼Œåˆ™æœåŠ¡å™¨ä¼šå›é€ä¸€ä¸ªTCPæŠ¥æ–‡ï¼Œå°†RSTä½ç½®ä¸º1ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯ä¸è¦å†å‘è¿™ä¸ªç«¯å£å‘èµ·è¿æ¥ï¼›\nSYNï¼šåªæœ‰1 bitçš„æ ‡å¿—ä½ï¼Œè‹¥ä¸º1ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€æ¡å»ºç«‹è¿æ¥çš„TCPæŠ¥æ–‡æ®µï¼›\nFINï¼šåªæœ‰1 bitçš„æ ‡å¿—ä½ï¼Œè‹¥ä¸º1ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€æ¡æ–­å¼€è¿æ¥çš„TCPæŠ¥æ–‡æ®µï¼›\n\nå¯¹äºTCPæŠ¥æ–‡æ ¼å¼ï¼Œå°±å…ˆä»‹ç»è¿™ä¹ˆå¤šï¼Œå…¶ä½™çš„éƒ¨åˆ†è™½ç„¶ä¹Ÿå¾ˆé‡è¦ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä½œç”¨äºTCPè¿æ¥çš„å»ºç«‹ä¸æ–­å¼€ï¼Œæ‰€ä»¥å°±ä¸åœ¨è¿™é‡Œå™è¿°äº†ã€‚\nä¸è¦å°†ç¡®è®¤åºå·Ackä¸æ ‡å¿—ä½ä¸­çš„ACKææ··\nçª—å£ï¼šè¡¨ç¤ºå‘é€/æ¥æ”¶ç¼“å­˜çª—å£å¤§å°ã€‚å¦‚ä¸‹å›¾ï¼š\n\nTCPè¿æ¥å»ºç«‹ä¸æ–­å¼€ä¸ºäº†ä¿è¯å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„å¯é è¿æ¥ï¼ŒTCPå»ºç«‹è¿æ¥æ—¶å¿…é¡»è¦è¿›è¡Œä¸‰æ¬¡ä¼šè¯ï¼Œä¹Ÿå«TCPä¸‰æ¬¡æ¡æ‰‹ï¼Œè¿›è¡Œä¸‰æ¬¡æ¡æ‰‹çš„ç›®çš„æ˜¯ä¸ºäº†ç¡®è®¤åŒæ–¹çš„æ¥æ”¶èƒ½åŠ›å’Œå‘é€èƒ½åŠ›æ˜¯å¦æ­£å¸¸ã€‚\nä¸¾ä¸ªæ —å­å…¬å®‰å±€é•¿ç‹å“¥ å’Œ é™ˆæŸæ‰“ç”µè¯\nå…¬å®‰å±€ï¼šä½ å¥½ï¼é™ˆæŸï¼Œå¬å¾—åˆ°å—ï¼Ÿï¼ˆä¸€æ¬¡ä¼šè¯ï¼‰é™ˆæŸï¼šå¬åˆ°äº†ï¼Œç‹å“¥ï¼Œä½ èƒ½å¬åˆ°å— ï¼ˆäºŒæ¬¡ä¼šè¯ï¼‰å…¬å®‰å±€ï¼šå¬åˆ°äº†ï¼Œä½ è¿‡æ¥è‡ªé¦–å§ ï¼ˆå¼€å§‹ä¼šè¯ï¼‰ï¼ˆä¸‰æ¬¡ä¼šè¯ï¼‰\né€šè¿‡è¿™ä¸ªä¾‹å­æˆ‘ä»¬å¯ä»¥çŸ¥é“ä¸‰æ¬¡ä¼šè¯çš„ç›®çš„å°±æ˜¯ä¸ºäº†ç¡®ä¿åŒæ–¹çš„è¿æ¥æ­£å¸¸ï¼ŒåŒç†ï¼ŒTCPä¸‰æ¬¡æ¡æ‰‹ä¹Ÿæ˜¯è¿™ä¸ªè¿‡ç¨‹ã€‚\nTCPå»ºç«‹è¿æ¥çš„è¿‡ç¨‹ä¸­éœ€è¦å‘é€ä¸‰æ¬¡æŠ¥æ–‡ï¼Œæ‰€ä»¥TCPå»ºç«‹è¿æ¥ä¹Ÿè¢«ç§°ä¸ºä¸‰æ¬¡æ¡æ‰‹ï¼Œæ¥ä¸‹æ¥æˆ‘å°±æ¥è®²è®²è¿™ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹ï¼Œå‡è®¾å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘èµ·TCPè¿æ¥ï¼š\n\nç¬¬ä¸€æ­¥ï¼šå®¢æˆ·ç«¯çš„TCPç¨‹åºé¦–å…ˆå‘æœåŠ¡å™¨çš„TCPç¨‹åºå‘é€ä¸€ä¸ªTCPæŠ¥æ–‡ã€‚è¿™ä¸ªæŠ¥æ–‡ä¸åŒ…å«æ•°æ®ï¼Œä¸”å®ƒçš„SYNæ ‡å¿—ä½è¢«ç½®ä¸º1ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€æ¡å»ºç«‹è¿æ¥çš„TCPæŠ¥æ–‡æ®µï¼Œå› æ­¤è¿™ä¸ªæŠ¥æ–‡æ®µä¹Ÿè¢«ç§°ä¸ºSYNæŠ¥æ–‡æ®µã€‚å®¢æˆ·ç«¯çš„TCPç¨‹åºéšæœºé€‰æ‹©ä¸€ä¸ªåºå·ä½œä¸ºå®¢æˆ·ç«¯æŠ¥æ–‡çš„åˆå§‹åºå·ï¼ˆå‡è®¾åºå·ä¸ºclient_isnï¼‰ï¼Œæ”¾å…¥è¿™ä¸ªæŠ¥æ–‡æ®µçš„åºå·éƒ¨åˆ†ã€‚è¿™ä¸ªæŠ¥æ–‡æ®µç”±è¿è¾“å±‚ä¼ é€’åˆ°ç½‘ç»œå±‚åï¼Œè¢«å°è£…åœ¨ä¸€ä¸ªIPæ•°æ®æŠ¥ä¸­å‘å¾€æœåŠ¡å™¨ï¼›\nç¬¬äºŒæ­¥ï¼šåŒ…å«SYNæŠ¥æ–‡æ®µçš„IPæ•°æ®æŠ¥è¢«æœåŠ¡å™¨æ¥æ”¶ï¼ŒæœåŠ¡å™¨çš„ç½‘ç»œå±‚å°†SYNæ•°æ®æŠ¥æŠ½å–å‡ºæ¥ï¼Œäº¤ç»™è¿è¾“å±‚ï¼ŒåŒæ—¶æœåŠ¡å™¨ä¸ºè¯¥TCPè¿æ¥åˆ†é…èµ„æºï¼ˆåŒ…æ‹¬å‘é€ç¼“å­˜ã€æ¥æ”¶ç¼“å­˜å’Œå˜é‡ç­‰ï¼‰ï¼Œå¹¶å‘å®¢æˆ·å‘é€å…è®¸è¿æ¥çš„TCPæŠ¥æ–‡æ®µã€‚è¿™æ¡å…è®¸è¿æ¥çš„æŠ¥æ–‡æ®µä¸åŒ…å«æ•°æ®ï¼ŒSYNæ ‡å¿—ä½ä¹Ÿè¢«ç½®ä¸º1ï¼ŒåŒæ—¶å®ƒçš„ACKæ ‡å¿—ä½ä¹Ÿè¢«ç½®ä¸º1ï¼Œè¡¨ç¤ºå®ƒæ˜¯SYNæŠ¥æ–‡æ®µçš„ç¡®è®¤æŠ¥æ–‡ï¼Œæ‰€ä»¥è¿™æ¡å…è®¸è¿æ¥çš„æŠ¥æ–‡æ®µä¹Ÿè¢«ç§°ä¸ºSYNACKæŠ¥æ–‡æ®µã€‚æœåŠ¡å™¨éšæœºé€‰æ‹©ä¸€ä¸ªåºå·ï¼Œä½œä¸ºæœåŠ¡å™¨æŠ¥æ–‡æ®µçš„åˆå§‹åºå·ï¼ˆå‡è®¾ç§°ä¸ºserver_isnï¼‰ï¼Œå¹¶å°†å…¶æ”¾å…¥SYNACKæŠ¥æ–‡æ®µçš„åºå·éƒ¨åˆ†ï¼ŒåŒæ—¶ç¡®è®¤å·å­—æ®µè¢«è®¾ç½®ä¸ºclient_isn + 1ï¼ˆSYNæŠ¥æ–‡æ®µçš„åºå·+1ï¼‰ã€‚è¿™ä¸ªæŠ¥æ–‡æ®µå¯ä»¥è§£é‡Šä¸ºæœåŠ¡å™¨å‘å®¢æˆ·ç«¯è¯´ï¼šâ€œæˆ‘æ”¶åˆ°äº†ä½ çš„è¿æ¥è¯·æ±‚ï¼Œæˆ‘å…è®¸ä½ è¿æ¥ï¼Œæˆ‘çš„åˆå§‹åºå·æ˜¯server_isnâ€ã€‚\nç¬¬ä¸‰æ­¥ï¼šå½“å®¢æˆ·ç«¯æ¥æ”¶åˆ°SYNACKæŠ¥æ–‡æ®µåï¼Œå®ƒä¹Ÿå°†ä¸ºTCPè¿æ¥åˆ†é…èµ„æºï¼ˆç¼“å­˜å’Œå˜é‡ï¼‰ï¼ŒåŒæ—¶ç”Ÿæˆä¸€æ¡SYNACKæŠ¥æ–‡æ®µçš„ç¡®è®¤æŠ¥æ–‡ï¼Œå¹¶å‘é€ç»™æœåŠ¡å™¨ã€‚ç”±äºç»è¿‡ä¸Šé¢ä¸¤ä¸ªæ­¥éª¤ï¼Œå·²ç»ç®—æ˜¯å»ºç«‹äº†è¿æ¥ï¼Œæ‰€ä»¥è¿™æ¬¡çš„SYNæ ‡å¿—ä½å°†è¢«ç½®ä¸º0ï¼Œè€Œä¸æ˜¯1ï¼ˆACKæ ‡å¿—ä½æ˜¯1ï¼‰ã€‚åŒæ—¶ï¼Œè¿™æ¡æŠ¥æ–‡æ®µçš„åºå·è¢«è®¾ç½®ä¸ºclient_isn + 1ï¼ˆç¬¬ä¸€æ¡å®¢æˆ·æŠ¥æ–‡çš„åºå·æ˜¯client_isnï¼Œè€Œè¿™æ˜¯å®ƒçš„ä¸‹ä¸€æ¡ï¼Œæ‰€ä»¥+1ï¼‰ï¼Œè€Œç¡®è®¤åºå·è¢«è®¾ç½®ä¸ºserver_isn + 1ï¼ˆç¬¬ä¸€æ¡æœåŠ¡å™¨æŠ¥æ–‡çš„åºå·æ˜¯server_isnï¼Œå®¢æˆ·ç«¯æˆåŠŸæ¥æ”¶ï¼Œæ‰€ä»¥æœŸæœ›æœåŠ¡å™¨ä¸‹ä¸€æ¬¡å‘é€server_isn + 1ï¼‰ã€‚å’Œä¸Šé¢ä¸¤æ¡æŠ¥æ–‡ä¸åŒï¼Œç¬¬ä¸‰æ¡æŠ¥æ–‡å¯ä»¥æºå¸¦æ•°æ®ï¼Œæ¯”å¦‚HTTPçš„è¯·æ±‚å°±æ˜¯åœ¨TCPçš„ç¬¬ä¸‰æ¬¡æ¡æ‰‹æŠ¥æ–‡ä¸­å‘é€åˆ°æœåŠ¡å™¨çš„ã€‚\n\nâ€ƒâ€ƒç»è¿‡ä¸Šé¢è¿™ä¸‰ä¸ªæ­¥éª¤ï¼ŒTCPè¿æ¥å°±ç®—æ­£å¼å»ºç«‹å®Œæ¯•ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å¯ä»¥ç›¸äº’å‘é€æ•°æ®äº†ã€‚ä¸‹é¢æ˜¯è¿™ä¸ªè¿‡ç¨‹çš„å›¾ç‰‡å½¢å¼ï¼š\n\nä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡æ¡æ‰‹è€Œä¸æ˜¯ä¸¤æ¬¡â€ƒâ€ƒé¦–å…ˆæˆ‘ä»¬è¦æ˜ç¡®ï¼Œä¸¤æ¬¡æ¡æ‰‹æ˜¯å¿…è¦çš„ã€‚ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯å°†SYNæŠ¥æ–‡å‘é€åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ¥æ”¶åˆ°æŠ¥æ–‡åï¼Œå³å¯ç¡®è®¤å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨æ˜¯å¯è¾¾çš„ï¼›è€ŒæœåŠ¡å™¨å‘å®¢æˆ·ç«¯å‘é€å“åº”çš„SYNACKæŠ¥æ–‡ï¼Œå®¢æˆ·ç«¯æ¥æ”¶åˆ°åï¼Œå³å¯ç¡®è®¤æœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯ä¹Ÿæ˜¯å¯è¾¾çš„ã€‚è‡³æ­¤ï¼Œè¿æ¥å·²ç»ç®—æ˜¯å»ºç«‹ï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜è¦æœ‰ç¬¬ä¸‰æ¬¡æ¡æ‰‹å‘¢ï¼Ÿ\nâ€ƒâ€ƒå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„æ¡æ‰‹è¿‡ç¨‹ï¼Œä¸ä»…ä»…æ˜¯ç¡®è®¤äº’ç›¸å¯è¾¾çš„è¿‡ç¨‹ï¼Œæ›´é‡è¦çš„æ˜¯ä¸€ä¸ªåŒæ­¥çš„è¿‡ç¨‹ï¼ŒSYNå°±æ˜¯åŒæ­¥ï¼ˆSynchronizeï¼‰çš„ç¼©å†™ã€‚å¯¹äºTCPæŠ¥æ–‡æ®µæ¥è¯´ï¼Œåºå·æ˜¯ä¸€ä¸ªè‡³å…³é‡è¦çš„éƒ¨åˆ†ï¼Œå®ƒä¿è¯äº†TCPä¼ è¾“æ•°æ®çš„å®Œæ•´æ€§ã€‚è€Œæˆ‘ä»¬ä¸Šé¢ä¹Ÿè¯´è¿‡ï¼ŒTCPæŠ¥æ–‡çš„åˆå§‹åºå·ä¸æ˜¯ä»0å¼€å§‹çš„ï¼Œè€Œæ˜¯ä¸€ä¸ªéšæœºçš„åºå·ï¼Œè€Œæ‰€è°“çš„åŒæ­¥ï¼Œå°±æ˜¯TCPå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨äº’ç›¸åŒæ­¥åˆå§‹åºå·çš„è¿‡ç¨‹ã€‚ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯å‘é€SYNæŠ¥æ–‡ï¼Œå°†è‡ªå·±çš„åˆå§‹åºå·å‘é€åˆ°äº†æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ¥æ”¶åˆ°åï¼Œå‘å®¢æˆ·ç«¯å‘é€SYNACKæŠ¥æ–‡æ®µï¼Œå‘Šè¯‰å®¢æˆ·ç«¯å·²ç»æ”¶åˆ°äº†å®ƒçš„åˆå§‹åºå·ï¼ŒåŒæ—¶åœ¨è¿™ä¸ªæŠ¥æ–‡æ®µä¸­å¸¦ä¸Šäº†è‡ªå·±çš„åˆå§‹åºå·ã€‚è¿™ä¸ªæ—¶å€™ï¼Œç¬¬ä¸‰æ¬¡æ¡æ‰‹çš„ä½œç”¨å°±å‡ºæ¥äº†ï¼šç¬¬ä¸‰æ¬¡æ¡æ‰‹å®é™…ä¸Šå°±æ˜¯å®¢æˆ·ç«¯åœ¨å‘Šè¯‰æœåŠ¡å™¨ï¼Œè‡ªå·±å·²ç»æ”¶åˆ°äº†å®ƒçš„åˆå§‹åºå·ï¼Œå®Œæˆäº†åŒæ­¥ï¼Œå¯ä»¥å¼€å§‹ç›¸äº’ä¼ è¾“æ•°æ®äº†ã€‚è‹¥æ²¡æœ‰ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼ŒæœåŠ¡å™¨å°†æ— æ³•ä¿è¯å®¢æˆ·ç«¯æ¥æ”¶åˆ°äº†è‡ªå·±çš„SYNACKæŠ¥æ–‡æ®µï¼Œè‹¥æ­¤æ—¶SYNACKæŠ¥æ–‡æ®µä¸¢å¤±ï¼Œå®¢æˆ·ç«¯ä¸çŸ¥é“æœåŠ¡å™¨çš„åˆå§‹åºå·ï¼Œå°†æ— æ³•å¤„ç†ä¹‹ååˆ°è¾¾å®¢æˆ·ç«¯çš„æ•°æ®ã€‚\nâ€ƒâ€ƒåœ¨å¾ˆå¤šä¹¦ç±å’Œç½‘ä¸Šçš„åšå®¢ä¸­è¿˜æµä¼ å¦å¤–ä¸€ç§è¯´æ³•ã€‚è‹¥ä»…ä»…æ˜¯ä¸¤æ¬¡æ¡æ‰‹ï¼Œå°†äº§ç”Ÿä»¥ä¸‹é—®é¢˜ï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€SYNæŠ¥æ–‡æ®µè¯·æ±‚å»ºç«‹è¿æ¥ï¼Œä½†æ˜¯æ²¡æœ‰åœ¨æŒ‡å®šæ—¶é—´å†…æ”¶åˆ°SYNACKæŠ¥æ–‡æ®µï¼Œæ‰€ä»¥å®¢æˆ·ç«¯è®¤ä¸ºSYNæŠ¥æ–‡æ®µåœ¨ç½‘ç»œä¸­ä¸¢å¤±ï¼Œåˆ™å†æ¬¡å‘é€SYNæŠ¥æ–‡æ®µï¼Œå¹¶æˆåŠŸæ¥æ”¶åˆ°äº†SYNACKæŠ¥æ–‡æ®µï¼Œä½†æ˜¯å®¢æˆ·ç«¯åœ¨å¾ˆçŸ­çš„æ—¶é—´å†…å°±æ–­å¼€äº†TCPè¿æ¥ã€‚ç„¶è€Œï¼Œæœ€åˆçš„SYNæŠ¥æ–‡å¹¶æ²¡æœ‰ä¸¢å¤±ï¼Œåªæ˜¯ä¼ è¾“æ—¶å»¶å¤ªé•¿ï¼Œè¿‡äº†è®¸ä¹…æ‰åˆ°è¾¾ã€‚ç­‰å®ƒåˆ°è¾¾æœåŠ¡å™¨æ—¶ï¼Œå…¶å®å®¢æˆ·ç«¯å·²ç»ä¸æœåŠ¡å™¨å»ºç«‹è¿‡TCPè¿æ¥ï¼Œå¹¶ä¸”å·²ç»æ–­å¼€äº†ã€‚æ­¤æ—¶æœåŠ¡å™¨æ¥æ”¶åˆ°è¿™æ¡SYNæŠ¥æ–‡æ®µï¼Œä»¥ä¸ºå®¢æˆ·ç«¯åˆæƒ³å»ºç«‹ä¸€æ¡æ–°çš„è¿æ¥ï¼Œäºæ˜¯å‘å®¢æˆ·ç«¯å›é€ACKæŠ¥æ–‡ï¼Œå¹¶ä¸ºè¿æ¥åˆ†é…äº†èµ„æºã€‚ç”±äºæ²¡æœ‰ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼ŒæœåŠ¡å™¨å°†ä¸çŸ¥é“è¿™å…¶å®æ˜¯ä¸Šä¸€æ¬¡è¿æ¥çš„æŠ¥æ–‡ï¼Œäºæ˜¯å°†å®ƒåˆ›å»ºä¸€ä¸ªæ–°çš„TCPè¿æ¥å¹¶ç»´æŒï¼Œç›´è‡³å› ä¸ºå¤ªä¹…æ²¡æœ‰æ¥æ”¶åˆ°æ•°æ®è€Œé‡Šæ”¾ã€‚è¿™ç§æƒ…å†µéå¸¸æµªè´¹èµ„æºï¼Œæ‰€ä»¥ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µçš„å‘ç”Ÿï¼Œæ‰éœ€è¦å®¢æˆ·ç«¯çš„å†ä¸€æ¬¡ç¡®è®¤ã€‚\nâ€ƒâ€ƒå®é™…ä¸Šï¼Œä¸Šé¢æ‰€è¿°çš„ç¬¬ä¸€ç‚¹æ‰æ˜¯TCPä¸‰æ¬¡æ¡æ‰‹çš„åŸå› ï¼Œç¬¬äºŒä¸ªåªèƒ½ç®—æ˜¯é¡ºå¸¦çš„å¥½å¤„å§ï¼Œä»å»ºç«‹è¿æ¥çš„æŠ¥æ–‡è¢«ç§°ä¸ºSYNï¼ˆåŒæ­¥ï¼‰å°±å¯ä»¥çœ‹å‡ºè¿™ç‚¹ã€‚\nTCPå››æ¬¡æŒ¥æ‰‹çš„è¿‡ç¨‹â€ƒâ€ƒè¯´å®Œäº†ä¸‰æ¬¡æ¡æ‰‹ï¼Œä¸‹é¢æ¥è¯´è¯´å››æ¬¡æŒ¥æ‰‹çš„è¿‡ç¨‹ã€‚TCPåœ¨æ–­å¼€è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´è¦äº¤æ¢å››æ¬¡æŠ¥æ–‡ï¼Œæ‰€ä»¥ï¼ŒTCPçš„æ–­å¼€è¿æ¥ä¹Ÿå«å››æ¬¡æŒ¥æ‰‹ã€‚\n\nç¬¬ä¸€æ­¥ï¼šå®¢æˆ·ç«¯è¿›ç¨‹å‘å‡ºæ–­å¼€è¿æ¥æŒ‡ä»¤ï¼Œè¿™å°†å¯¼è‡´å®¢æˆ·ç«¯çš„TCPç¨‹åºåˆ›å»ºä¸€ä¸ªç‰¹æ®Šçš„TCPæŠ¥æ–‡æ®µï¼Œå‘é€åˆ°æœåŠ¡å™¨ã€‚è¿™ä¸ªæŠ¥æ–‡æ®µçš„FINå­—æ®µè¢«ç½®ä¸º1ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€æ¡æ–­å¼€è¿æ¥çš„æŠ¥æ–‡ï¼›\nç¬¬äºŒæ­¥ï¼šæœåŠ¡å™¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯å‘æ¥çš„æ–­å¼€è¿æ¥æŠ¥æ–‡ï¼Œå‘å®¢æˆ·ç«¯å›é€è¿™ä¸ªæŠ¥æ–‡çš„ç¡®è®¤æŠ¥æ–‡ï¼ˆACKå­—æ®µä¸º1ï¼‰ï¼Œå‘Šè¯‰æœåŠ¡å™¨å·²ç»æ¥æ”¶åˆ°FINæŠ¥æ–‡ï¼Œå¹¶å…è®¸æ–­å¼€è¿æ¥ï¼›\nç¬¬ä¸‰æ­¥ï¼šæœåŠ¡å™¨å‘é€å®Œç¡®è®¤æŠ¥æ–‡åï¼ŒæœåŠ¡å™¨çš„TCPç¨‹åºåˆ›å»ºä¸€æ¡è‡ªå·±çš„æ–­å¼€è¿æ¥æŠ¥æ–‡ï¼Œæ­¤æŠ¥æ–‡çš„FINå­—æ®µè¢«ç½®ä¸º1ï¼Œç„¶åå‘å¾€å®¢æˆ·ç«¯ï¼›\nç¬¬å››æ­¥ï¼šå®¢æˆ·ç«¯æ¥æ”¶åˆ°æœåŠ¡å™¨å‘æ¥çš„FINæŠ¥æ–‡æ®µï¼Œåˆ™äº§ç”Ÿä¸€æ¡ç¡®è®¤æŠ¥æ–‡ï¼ˆACKä¸º1ï¼‰ï¼Œå‘é€ç»™æœåŠ¡å™¨ï¼Œå‘ŠçŸ¥æœåŠ¡å™¨å·²ç»æ¥æ”¶åˆ°äº†å®ƒçš„æ–­å¼€æŠ¥æ–‡ã€‚æœåŠ¡å™¨æ¥æ”¶åˆ°è¿™æ¡ACKæŠ¥æ–‡æ®µåï¼Œé‡Šæ”¾TCPè¿æ¥ç›¸å…³çš„èµ„æºï¼ˆç¼“å­˜å’Œå˜é‡ï¼‰ï¼Œè€Œå®¢æˆ·ç«¯ç­‰å¾…ä¸€æ®µæ—¶é—´åï¼ˆåŠåˆ†é’Ÿã€ä¸€åˆ†é’Ÿæˆ–ä¸¤åˆ†é’Ÿï¼‰ï¼Œä¹Ÿé‡Šæ”¾å¤„äºå®¢æˆ·ç«¯çš„ç¼“å­˜å’Œå˜é‡ï¼›\n\nâ€ƒâ€ƒä»¥ä¸Šå°±æ˜¯å››æ¬¡æŒ¥æ‰‹çš„è¿‡ç¨‹ï¼Œç›¸å¯¹å»ºç«‹è¿æ¥æ¥è¯´è¦ç®€å•ä¸€äº›ã€‚ä»¥ä¸Šæ˜¯ä»¥å®¢æˆ·ç«¯è¯·æ±‚æ–­å¼€è¿æ¥æ¥ä¸¾ä¾‹ï¼Œä½†å…¶å®ä¹Ÿå¯ä»¥ç”±æœåŠ¡å™¨æ–­å¼€è¿æ¥ã€‚\n\nå®¢æˆ·ç«¯ä¸ºä»€ä¹ˆè¦ç­‰å¾…ä¸€æ®µæ—¶é—´å†é‡Šæ”¾èµ„æºçœ‹å®Œä¸Šé¢å››æ¬¡æŒ¥æ‰‹çš„è¿‡ç¨‹ï¼Œå¯èƒ½æœ‰çš„äººä¼šæœ‰ç–‘é—®ï¼Œå››æ¬¡æŒ¥æ‰‹ä¹‹åï¼Œè¿æ¥ä¸æ˜¯å·²ç»æ–­å¼€äº†å—ï¼Œä¸ºä»€ä¹ˆå®¢æˆ·ç«¯è¿˜è¦ç­‰å¾…ä¸€æ®µæ—¶é—´å†é‡Šæ”¾èµ„æºå‘¢ï¼ŸåŸå› æœ‰ä¸¤ä¸ªï¼š\n\nåŸå› ä¸€ï¼šå®¢æˆ·ç«¯æ¥æ”¶åˆ°æœåŠ¡å™¨å‘é€çš„FINæŠ¥æ–‡åï¼ˆç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼‰ï¼Œä¼šå›é€ä¸€æ¡ç¡®è®¤æŠ¥æ–‡ï¼ˆç¬¬å››æ¬¡æŒ¥æ‰‹ï¼‰ï¼Œä½†æ˜¯ï¼Œå®¢æˆ·ç«¯å¹¶ä¸çŸ¥é“è¿™æ¡ç¡®è®¤æŠ¥æ–‡æ˜¯å¦å¯ä»¥é¡ºåˆ©åˆ°è¾¾æœåŠ¡å™¨ã€‚è‹¥è¿™æ¡ç¡®è®¤æŠ¥æ–‡åœ¨ä¼ é€åˆ°æœåŠ¡å™¨çš„è¿‡ç¨‹ä¸­æŸåã€ä¸¢å¤±æˆ–è¶…æ—¶ï¼Œå°†å¼•èµ·æœåŠ¡å™¨é‡æ–°å‘é€FINæŠ¥æ–‡ï¼Œå®¢æˆ·ç«¯æ¥æ”¶åˆ°åï¼Œå°†éœ€è¦å†æ¬¡å‘é€ä¸€æ¡ç¡®è®¤æŠ¥æ–‡ï¼Œç›´åˆ°æœåŠ¡å™¨æ­£ç¡®æ¥æ”¶ã€‚ä½†æ˜¯ï¼Œå®¢æˆ·ç«¯å‘é€ç¡®è®¤æŠ¥æ–‡åï¼Œç«‹åˆ»é‡Šæ”¾èµ„æºï¼Œå°†å¯¼è‡´æ— æ³•å¤„ç†é‡ä¼ çš„FINæŠ¥æ–‡ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œç›´åˆ°ç¡®è®¤æ²¡æœ‰å‡ºç°ä¸Šè¿°æƒ…å†µå‡ºç°å†é‡Šæ”¾èµ„æºã€‚\nåŸå› äºŒï¼šTCPå››æ¬¡æŒ¥æ‰‹å®Œæˆåï¼Œç†è®ºä¸Šå·²ç»æ–­å¼€äº†è¿æ¥ï¼Œä½†æ˜¯è¿™ä¸ä»£è¡¨ä¹‹å‰é€šè¿‡è¿™æ¡è¿æ¥å‘é€çš„æ‰€æœ‰æ•°æ®éƒ½å¤„ç†å®Œæ¯•äº†ï¼Œæœ‰äº›å¯èƒ½è¿˜åœ¨ç½‘ç»œä¸­ä¼ è¾“ã€‚è‹¥åœ¨å››æ¬¡æŒ¥æ‰‹åï¼Œç«‹å³é‡Šæ”¾å®¢æˆ·ç«¯çš„èµ„æºï¼Œç„¶åå®¢æˆ·ç«¯ç«‹å³ä»¥åŒä¸€ä¸ªæºç«¯å£ï¼Œå‘æœåŠ¡å™¨çš„åŒä¸€ä¸ªç›®çš„ç«¯å£å†æ¬¡å»ºç«‹ä¸€ä¸ªTCPè¿æ¥ï¼Œè¿™ä¸ªè¿æ¥å’Œä¸Šä¸€ä¸ªçš„ æºç«¯å£+æºIP+ç›®çš„ç«¯å£+ç›®çš„IP éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œæ­¤æ—¶å°†ä¼šäº§ç”Ÿé—®é¢˜ã€‚è‹¥ä¸Šä¸€æ¬¡è¿æ¥é—ç•™åœ¨ç½‘ç»œä¸­çš„æŠ¥æ–‡æ­¤æ—¶åˆ°è¾¾ï¼Œå°†ä¼šè¢«å½“åšæ–°è¿æ¥ä¼ è¾“çš„æ•°æ®å¤„ç†ï¼Œäºæ˜¯å¯èƒ½ä¼šäº§ç”Ÿä¸€äº›ä¸å¯é¢„ä¼°çš„é”™è¯¯ã€‚æ‰€ä»¥ï¼Œå®¢æˆ·ç«¯åœ¨æ–­å¼€è¿æ¥åï¼Œéœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œç›´åˆ°ç½‘ç»œä¸­é—ç•™çš„æ•°æ®éƒ½æ­»æ‰ï¼Œæ‰é‡Šæ”¾èµ„æºï¼Œè€Œåœ¨èµ„æºæ²¡æœ‰è¢«é‡Šæ”¾å‰ï¼Œæ˜¯ä¸å…è®¸å»ºç«‹ä¸€ä¸ª æºç«¯å£+æºIP+ç›®çš„ç«¯å£+ç›®çš„IP éƒ½ä¸€æ¨¡ä¸€æ ·çš„TCPè¿æ¥çš„ï¼ˆå› ä¸ºTCPå¥—æ¥å­—ç”±è¿™å››éƒ¨åˆ†æ ‡è¯†ï¼‰ã€‚\n\næ–­å¼€è¿æ¥ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹â€ƒâ€ƒæœ‰çš„äººå¯èƒ½ä¹Ÿä¼šæƒ³ï¼Œæ–­å¼€è¿æ¥ä¸ºä»€ä¹ˆæ˜¯å››æ¬¡æŒ¥æ‰‹ï¼Œä¸èƒ½æ˜¯ä¸¤æ¬¡å‘¢ï¼Ÿå…¶ä¸­ä¸€æ–¹è¯·æ±‚æ–­å¼€è¿æ¥ï¼Œå¦ä¸€æ–¹ç¡®è®¤å³å¯ï¼Œä¸ºä»€ä¹ˆè¿™ä¸ªè¿‡ç¨‹éœ€è¦ä¸¤è¾¹å„å‘èµ·ä¸€æ¬¡ï¼ŸåŸå› å°±æ˜¯ï¼šTCPè¿æ¥æ˜¯å…¨åŒå·¥çš„ã€‚ä»€ä¹ˆæ˜¯å…¨åŒå·¥ï¼Œå³Aä¸Bå»ºç«‹è¿æ¥ï¼Œåˆ™Aå¯ä»¥å‘Bå‘é€æ•°æ®ï¼Œè€ŒBä¹Ÿå¯ä»¥å‘Aå‘é€æ•°æ®ã€‚\nâ€ƒâ€ƒæˆ‘ä»¬çŸ¥é“æ–­å¼€è¿æ¥çš„è¯·æ±‚ä»€ä¹ˆæ—¶å€™å‘èµ·ï¼Ÿå½“ç„¶å°±æ˜¯åœ¨ä¸å†æœ‰æ•°æ®éœ€è¦å‘é€æ—¶ã€‚æˆ‘ä»¬ä¾æ—§ä»¥å®¢æˆ·ç«¯å‘æœåŠ¡å™¨æ–­å¼€è¿æ¥ä¸ºä¾‹ã€‚å‡è®¾å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å»ºç«‹äº†ä¸€ä¸ªTCPè¿æ¥ï¼Œåœ¨å®¢æˆ·ç«¯éœ€è¦å‘æœåŠ¡å™¨å‘é€çš„æ•°æ®éƒ½å‘é€å®Œåï¼Œå®¢æˆ·ç«¯å°±å¯ä»¥å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªFINæŠ¥æ–‡æ®µï¼Œè¯·æ±‚æ–­å¼€è¿æ¥ï¼›æœåŠ¡å™¨æ¥æ”¶åˆ°åï¼Œå°†ä¼šå›é€ä¸€ä¸ªACKæŠ¥æ–‡ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯ï¼Œè‡ªå·±å·²ç»æ”¶åˆ°äº†å®ƒæ–­å¼€è¿æ¥çš„è¯·æ±‚ã€‚è‹¥åªæœ‰ä¸¤æ¬¡æŒ¥æ‰‹ï¼Œè¿™ä¸ªæ—¶å€™è¿æ¥å°±ç®—æ˜¯æ–­å¼€äº†ã€‚ä½†æ˜¯è¿™æ ·çœŸçš„åˆç†å—ï¼Ÿç­”æ¡ˆå½“ç„¶æ˜¯å¦å®šçš„ã€‚\nâ€ƒâ€ƒå®¢æˆ·ç«¯å‘é€å®Œæ•°æ®åï¼Œå‘Šè¯‰æœåŠ¡å™¨ï¼Œæˆ‘æ²¡æœ‰æ•°æ®äº†ï¼Œå¯ä»¥å’Œä½ æ–­å¼€ï¼Œä½†æ˜¯ä¸ä»£è¡¨æœåŠ¡å™¨æ²¡æœ‰æ•°æ®éœ€è¦å‘é€åˆ°å®¢æˆ·ç«¯äº†å‘€ã€‚TCPæ˜¯ä¸€ä¸ªå…¨åŒå·¥çš„è¿æ¥ï¼Œä»£è¡¨æœåŠ¡å™¨ä¹Ÿæœ‰å¯èƒ½æœ‰æ•°æ®éœ€è¦å‘é€åˆ°å®¢æˆ·ç«¯ã€‚æ‰€ä»¥ï¼Œåªæœ‰å½“ä¸¤ç«¯çš„æ•°æ®éƒ½å‘é€å®Œæ¯•ï¼Œè¿æ¥æ‰èƒ½å®‰å…¨çš„æ–­å¼€ã€‚å› æ­¤ï¼ŒæœåŠ¡å™¨æ¥æ”¶åˆ°äº†å®¢æˆ·ç«¯çš„FINæŠ¥æ–‡æ®µï¼Œä»–ä¼šç­‰åˆ°è‡ªå·±æ‰€æœ‰çš„æ•°æ®å‘é€å®Œï¼Œç„¶åä¹Ÿå‘å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªFINæŠ¥æ–‡ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯æˆ‘ä¹Ÿæ²¡æ•°æ®äº†ï¼Œè¿™æ—¶å€™è¿æ¥æ‰èƒ½çœŸæ­£æ–­å¼€ï¼Œä¸¤ç«¯å„è‡ªé‡Šæ”¾èµ„æºã€‚\nå…³ä¸WiresharkæŠ“åŒ…æ˜¾ç¤ºçš„â€œä¸‰æ¬¡æ¡æ‰‹é—®é¢˜â€\nä¸ºä»€ä¹ˆæŠ“åˆ°çš„ TCP æŒ¥æ‰‹æ˜¯ä¸‰æ¬¡ï¼Œè€Œä¸æ˜¯ä¹¦ä¸Šè¯´çš„å››æ¬¡ï¼Ÿ\n\nå› ä¸ºæœåŠ¡å™¨ç«¯æ”¶åˆ°å®¢æˆ·ç«¯çš„ FIN åï¼ŒæœåŠ¡å™¨ç«¯åŒæ—¶ä¹Ÿè¦å…³é—­è¿æ¥ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠ ACK å’Œ FIN åˆå¹¶åˆ°ä¸€èµ·å‘é€ï¼ŒèŠ‚çœäº†ä¸€ä¸ªåŒ…ï¼Œå˜æˆäº†â€œä¸‰æ¬¡æŒ¥æ‰‹â€ã€‚\nè€Œé€šå¸¸æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨ç«¯æ”¶åˆ°å®¢æˆ·ç«¯çš„ FIN åï¼Œå¾ˆå¯èƒ½è¿˜æ²¡å‘é€å®Œæ•°æ®ï¼Œæ‰€ä»¥å°±ä¼šå…ˆå›å¤å®¢æˆ·ç«¯ä¸€ä¸ª ACK åŒ…ï¼Œç¨ç­‰ä¸€ä¼šå„¿ï¼Œå®Œæˆæ‰€æœ‰æ•°æ®åŒ…çš„å‘é€åï¼Œæ‰ä¼šå‘é€ FIN åŒ…ï¼Œè¿™ä¹Ÿå°±æ˜¯å››æ¬¡æŒ¥æ‰‹äº†ã€‚\nå¦‚ä¸‹å›¾ï¼Œå°±æ˜¯å››æ¬¡æŒ¥æ‰‹çš„è¿‡ç¨‹ï¼š\n\nUDPåè®®\nUDPåè®®å·¥ä½œåŸç†UDPï¼ˆUser Datagram Protocolï¼Œç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰æ˜¯ä¸€ç§æ— è¿æ¥çš„ä¼ è¾“å±‚åè®®ï¼Œå…·æœ‰ç®€å•ã€é«˜æ•ˆçš„ç‰¹ç‚¹ï¼Œé€‚ç”¨äºä¸€äº›å¯¹æ•°æ®å¯é æ€§è¦æ±‚ä¸é«˜çš„åº”ç”¨åœºæ™¯ã€‚UDPåè®®é€šè¿‡å°†æ•°æ®åˆ†å‰²æˆå°çš„æ•°æ®åŒ…è¿›è¡Œä¼ è¾“ï¼Œæ¯ä¸ªæ•°æ®åŒ…éƒ½åŒ…å«æºç«¯å£å·å’Œç›®æ ‡ç«¯å£å·ä¿¡æ¯ï¼Œä»¥ä¾¿æ¥æ”¶æ–¹èƒ½å¤Ÿæ­£ç¡®åœ°å°†æ•°æ®åŒ…äº¤ç»™ç›¸åº”çš„åº”ç”¨ç¨‹åºã€‚\nUDPåè®®çš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š\nå‘é€ç«¯ï¼šå½“UDPæƒ³è¦ä¼ é€æ•°æ®æ—¶ï¼Œå®ƒä¼šæŠ“å–æ¥è‡ªåº”ç”¨ç¨‹åºçš„æ•°æ®ï¼Œå¹¶å°½å¯èƒ½å¿«åœ°å°†å…¶å‘é€åˆ°ç½‘ç»œä¸Šã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒUDPä¸ä¼šå»ºç«‹è¿æ¥ï¼Œå› æ­¤æ— éœ€ç­‰å¾…æ¥æ”¶æ–¹çš„å“åº”ï¼Œå…¶ä¼ è¾“é€Ÿåº¦ä»…å—åº”ç”¨ç¨‹åºç”Ÿæˆæ•°æ®çš„é€Ÿåº¦ã€è®¡ç®—æœºèƒ½åŠ›å’Œä¼ è¾“å¸¦å®½çš„é™åˆ¶ã€‚æ•°æ®åŒ…ï¼šUDPåè®®å°†æ•°æ®åˆ†å‰²æˆå°çš„æ•°æ®åŒ…ï¼Œæ¯ä¸ªæ•°æ®åŒ…éƒ½åŒ…å«æºç«¯å£å·å’Œç›®æ ‡ç«¯å£å·ï¼Œä»¥åŠé•¿åº¦å’Œæ ¡éªŒå’Œç­‰å­—æ®µã€‚å…¶ä¸­ï¼Œæ ¡éªŒå’Œç”¨äºæ£€æµ‹æ•°æ®çš„å®Œæ•´æ€§ï¼Œä»¥ç¡®ä¿æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ²¡æœ‰è¢«æŸåã€‚æ¥æ”¶ç«¯ï¼šåœ¨æ¥æ”¶ç«¯ï¼ŒUDPå°†æ¯ä¸ªæ¶ˆæ¯æ®µæ”¾åœ¨é˜Ÿåˆ—ä¸­ï¼Œåº”ç”¨ç¨‹åºæ¯æ¬¡ä»é˜Ÿåˆ—ä¸­è¯»å–ä¸€ä¸ªæ¶ˆæ¯æ®µè¿›è¡Œå¤„ç†ã€‚ç”±äºUDPä¸ä¿è¯æ•°æ®çš„å¯é ä¼ è¾“ï¼Œå› æ­¤æ¥æ”¶æ–¹éœ€è¦è‡ªè¡Œå¤„ç†å¯èƒ½çš„æ•°æ®ä¸¢å¤±æˆ–ä¹±åºé—®é¢˜ã€‚\n\n\n16ä½UDPé•¿åº¦, è¡¨ç¤ºæ•´ä¸ªæ•°æ®æŠ¥(UDPé¦–éƒ¨+UDPæ•°æ®)çš„æœ€å¤§é•¿åº¦;\nå¦‚æœæ ¡éªŒå’Œå‡ºé”™, å°±ä¼šç›´æ¥ä¸¢å¼ƒ;\n\nTCPå’ŒUDPçš„åŒºåˆ«\n\n\n\nåŒºåˆ«\nudp\ntcp\n\n\n\né¢å‘è¿æ¥\né¢å‘éè¿æ¥\né¢å‘è¿æ¥\n\n\nä¼ è¾“é€Ÿåº¦\nå¿«\næ…¢\n\n\nå¯é æ€§\nä¸å¯é \nå¯é \n\n\nåº”ç”¨åœºæ™¯\næ•°æ®é‡å°ï¼Œå¯¹å¯é æ€§è¦æ±‚ä¸å¾ˆé«˜çš„åœºæ™¯ã€‚æ¯”å¦‚ï¼šqqå‘é€æ¶ˆæ¯\næ•°æ®é‡ç›¸å¯¹è¾ƒå¤§ï¼Œå¯¹å¯é æ€§è¦æ±‚é«˜çš„åœºæ™¯\n\n\nHttpåè®®\nï¼ˆ1ï¼‰é¦–å…ˆï¼Œhttpã€tcpã€udpå¹¶ä¸æ˜¯åœ¨ä¸€ä¸ªå±‚ï¼ˆosiä¸ƒå±‚æ¨¡å‹ï¼‰ä¸­ï¼Œhttpåœ¨åº”ç”¨å±‚ï¼Œtcpå’Œudpåœ¨ä¼ è¾“å±‚ã€‚\nï¼ˆ2ï¼‰httpæ˜¯åŸºäºtcpçš„ï¼Œå› ä¸ºå‘é€httpè¯·æ±‚æ—¶ï¼Œä¼šå…ˆè¿›è¡Œtcpä¸‰æ¬¡æ¡æ‰‹çš„è¿æ¥ã€‚\nï¼ˆ3ï¼‰httpçš„é•¿è¿æ¥ä¸çŸ­è¿æ¥ï¼Œå…¶å®å°±æ˜¯tcpçš„é•¿è¿æ¥ä¸çŸ­è¿æ¥ã€‚http1.1å¼€å§‹é»˜è®¤ä½¿ç”¨é•¿è¿æ¥ï¼Œä¹Ÿå°±æ˜¯ connection é»˜è®¤ä½¿ç”¨ keep-aliveå…³é”®å­—ã€‚é•¿è¿æ¥å°±æ˜¯åªéœ€è¦åœ¨ç¬¬ä¸€æ¬¡è¿æ¥æ—¶è¿›è¡Œtcpä¸‰æ¬¡æ¡æ‰‹ï¼Œæ¥ä¸‹æ¥å°±ä¸éœ€è¦äº†ï¼Œå¯ä»¥ä¸€ç›´ä½¿ç”¨è¿™ä¸ªè¿æ¥ï¼Œä¸ä¼šç«‹å³å…³é—­ï¼Œä¸çŸ­è¿æ¥ä¸åŒã€‚çŸ­è¿æ¥æ˜¯ï¼Œæ¯æ¬¡clientå’Œserverè¿›è¡Œhttpæ“ä½œå°±å»ºç«‹ä¸€ä¸ªè¿æ¥ï¼Œè¯·æ±‚ç»“æŸå°±ä¸­æ–­è¿æ¥ã€‚è™½ç„¶http1.0æ”¯æŒé•¿è¿æ¥ï¼Œä½†æ˜¯é»˜è®¤çš„è¿˜æ˜¯çŸ­è¿æ¥ã€‚\nHTTP/1.0æ˜¯æ— çŠ¶æ€ã€æ— è¿æ¥çš„åº”ç”¨å±‚åè®®ã€‚\n\næ— è¿æ¥ï¼šæ¯æ¬¡è¯·æ±‚éƒ½è¦å»ºç«‹è¿æ¥ï¼Œéœ€è¦ä½¿ç”¨ keep-alive å‚æ•°å»ºç«‹é•¿è¿æ¥ã€HTTP1.1é»˜è®¤é•¿è¿æ¥keep-alive\næ— æ³•å¤ç”¨è¿æ¥ï¼Œæ¯æ¬¡å‘é€è¯·æ±‚éƒ½è¦è¿›è¡ŒTCPè¿æ¥ï¼ŒTCPçš„è¿æ¥é‡Šæ”¾éƒ½æ¯”è¾ƒè´¹äº‹ï¼Œä¼šå¯¼è‡´ç½‘ç»œåˆ©ç”¨ç‡ä½\n\nHTTP/1.1\n\n\nç‰¹ç‚¹\nç®€å•HTTP åŸºæœ¬çš„æŠ¥æ–‡æ ¼å¼å°±æ˜¯ header + bodyï¼Œå¤´éƒ¨ä¿¡æ¯ä¹Ÿæ˜¯ key-value ç®€å•æ–‡æœ¬çš„å½¢å¼ï¼Œæ˜“äºç†è§£\nçµæ´»ã€æ˜“æ‰©å±•å„ç±»è¯·æ±‚æ–¹æ³•ã€URLã€çŠ¶æ€ç ï¼Œç­‰æ¯ä¸ªç»„æˆéƒ½æ²¡æœ‰å›ºå®šæ­»ï¼Œå¼€å‘è€…å¯ä»¥è‡ªå®šä¹‰ä¸æ‰©å……HTTPåœ¨åº”ç”¨å±‚å…¶ä¸‹å±‚å¯ä»¥çµæ´»å˜åŒ–ï¼ˆhttpså°±æ˜¯HTTPä¸TCPä¹‹é—´å¢åŠ SSL/TSLå®‰å…¨ä¼ è¾“åè®®ï¼‰\nåº”ç”¨å¹¿æ³›ã€æ”¯æŒè·¨å¹³å°\n\nä¼˜ç¼ºç‚¹\næ— çŠ¶æ€å¥½å¤„ï¼šæœåŠ¡å™¨ä¸ç”¨é¢å¤–èµ„æºè®°å½•ï¼Œå‡è½»æœåŠ¡å™¨è´Ÿæ‹…ï¼Œæé«˜CPUå†…å­˜åˆ©ç”¨æ•ˆç‡åå¤„ï¼šæ¯æ¬¡éƒ½è¦ç¡®è®¤éªŒè¯ä¿¡æ¯ï¼›ä¸€èˆ¬é€šè¿‡Cookieè§£å†³ï¼ˆCookie é€šè¿‡åœ¨è¯·æ±‚å’Œå“åº”æŠ¥æ–‡ä¸­å†™å…¥ Cookie ä¿¡æ¯æ¥æ§åˆ¶å®¢æˆ·ç«¯çš„çŠ¶æ€ã€‚ï¼‰\næ˜æ–‡ä¼ è¾“ï¼š ä¼ è¾“è¿‡ç¨‹ä¸­ä¿¡æ¯å¯ä»¥æŠ“åŒ…ç›´æ¥è·å–ï¼Œä¿¡æ¯æš´éœ²ã€å®‰å…¨æ€§å·®\nä¸å®‰å…¨ï¼šé€šä¿¡ä½¿ç”¨æ˜æ–‡ä¼ è¾“ã€ä¿¡æ¯æ³„éœ²ä¸éªŒè¯é€šä¿¡åŒæ–¹èº«ä»½ã€æœ‰å¯èƒ½è¿›å…¥ä¼ªè£…ç½‘ç«™æ— æ³•è¯æ˜æŠ¥æ–‡å®Œæ•´æ€§éƒ½å¯¼è‡´ä¸å®‰å…¨çš„é—®é¢˜\n\nè§£å†³æ–¹å¼ï¼šå¯ä»¥ç”¨ HTTPS çš„æ–¹å¼è§£å†³ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡å¼•å…¥ SSL/TLS å±‚ï¼Œä½¿å¾—æ›´å®‰å…¨ã€‚\nHTTPåè®®å±‚æ¬¡ç»“æ„å›¾ç°åœ¨ä¸»æµæµè§ˆå™¨å¤§éƒ¨åˆ†ä½¿ç”¨çš„éƒ½æ˜¯HTTP/1.1åè®®ï¼Œä¹Ÿæœ‰éƒ¨åˆ†æ”¯æŒHTTP/2.0ï¼›ç»å¤§éƒ¨åˆ†ç½‘ç«™éƒ½å‡çº§ä¸ºHTTPSæ›´ä¿è¯å®‰å…¨æ€§\nå‚è€ƒï¼š\n\nã€Šè®¡ç®—æœºç½‘ç»œâ€”â€”è‡ªé¡¶å‘ä¸‹æ–¹æ³•ï¼ˆåŸä¹¦ç¬¬ä¸ƒç‰ˆï¼‰ã€‹\nå¤šç¯‡åšå®¢\n\n","categories":["è®¡ç®—æœºç½‘ç»œ"],"tags":["TCP/IP"]},{"title":"eNSPä½¿ç”¨","url":"/2023/12/04/learnnote/ji-suan-ji-wang-luo/ensp-shi-yong/","content":"eNSPä½¿ç”¨\n1. åŸºæœ¬æ¦‚å¿µ\n1.VRPæ¦‚å¿µï¼šé€šç”¨è·¯ç”±å¹³å°ï¼Œåä¸ºå…¬å¸æ•°æ®é€šä¿¡äº§å“çš„é€šç”¨ç½‘ç»œæ“ä½œç³»ç»Ÿå¹³å°ï¼Œæ‹¥æœ‰ä¸€è‡´çš„ç½‘ç»œç•Œé¢ã€ç”¨æˆ·ç•Œé¢å’Œç®¡ç†ç•Œé¢ã€‚\n2.VRPä½œç”¨ï¼šé€šè¿‡å‘½ä»¤è¡Œå¯¹è®¾å¤‡ä¸‹å‘å„ç§å‘½ä»¤å®ç°å¯¹è®¾å¤‡çš„é…ç½®å’Œæ—¥å¸¸ç»´æŠ¤æ“ä½œã€‚\n3.å‘½ä»¤è¡Œæ¥å£ï¼ˆCLIï¼‰ï¼šç”¨æˆ·ç™»å½•åˆ°è·¯ç”±å™¨åå‡ºç°å‘½ä»¤è¡Œæç¤ºç¬¦ï¼Œæ˜¯ç”¨æˆ·ä¸è·¯ç”±å™¨è¿›è¡Œäº¤äº’çš„å¸¸ç”¨å·¥å…·ã€‚\n\nä»€ä¹ˆæ˜¯WANå£ï¼š\n\nå¹¿åŸŸç½‘æ¥å£ï¼Œè¿æ¥çŒ«æˆ–å…‰çŒ«ã€å…¥æˆ·å…‰çº¤å®½å¸¦ç­‰å¤–éƒ¨ç½‘ç»œï¼›\n\nä»€ä¹ˆäº‹LANå£ï¼š\n\næœ¬åœ°ç½‘æ¥å£ï¼Œè¿æ¥å°å¼ç”µè„‘ã€ç¬”è®°æœ¬ï¼Œç”µè§†æœºã€äº¤æ¢æœºç­‰å†…éƒ¨ç½‘ç»œï¼Œå°†ä¸€æ ¹ç½‘çº¿ä¸€ç«¯è¿æ¥ä»»æ„ä¸€ä¸ªLANå£ï¼Œä¸€ç«¯è¿æ¥è‡ªå·±å®¶é‡Œéœ€è¦è”ç½‘çš„è®¾å¤‡ï¼›\n\nä¸ºä»€ä¹ˆéœ€è¦VLANæ—©æœŸä»¥å¤ªç½‘æ˜¯ä¸€ç§åŸºäºCSMA/CDï¼ˆCarrier Sense Multiple Access/Collision Detectionï¼‰çš„å…±äº«é€šè®¯ä»‹è´¨çš„æ•°æ®ç½‘ç»œé€šè®¯æŠ€æœ¯ã€‚å½“ä¸»æœºæ•°ç›®è¾ƒå¤šæ—¶ä¼šå¯¼è‡´å†²çªä¸¥é‡ã€å¹¿æ’­æ³›æ»¥ã€æ€§èƒ½æ˜¾è‘—ä¸‹é™ç”šè‡³é€ æˆç½‘ç»œä¸å¯ç”¨ç­‰é—®é¢˜ã€‚é€šè¿‡äºŒå±‚è®¾å¤‡å®ç°LANäº’è¿è™½ç„¶å¯ä»¥è§£å†³å†²çªä¸¥é‡çš„é—®é¢˜ï¼Œä½†ä»ç„¶ä¸èƒ½éš”ç¦»å¹¿æ’­æŠ¥æ–‡å’Œæå‡ç½‘ç»œè´¨é‡ã€‚\nåœ¨è¿™ç§æƒ…å†µä¸‹å‡ºç°äº†VLANæŠ€æœ¯ã€‚è¿™ç§æŠ€æœ¯å¯ä»¥æŠŠä¸€ä¸ªLANåˆ’åˆ†æˆå¤šä¸ªé€»è¾‘çš„VLANï¼Œæ¯ä¸ªVLANæ˜¯ä¸€ä¸ªå¹¿æ’­åŸŸï¼ŒVLANå†…çš„ä¸»æœºé—´é€šä¿¡å°±å’Œåœ¨ä¸€ä¸ªLANå†…ä¸€æ ·ï¼Œè€ŒVLANé—´åˆ™ä¸èƒ½ç›´æ¥äº’é€šï¼Œå¹¿æ’­æŠ¥æ–‡å°±è¢«é™åˆ¶åœ¨ä¸€ä¸ªVLANå†…ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚\n\nå› æ­¤ï¼ŒVLANå…·å¤‡ä»¥ä¸‹ä¼˜ç‚¹ï¼š\n\né™åˆ¶å¹¿æ’­åŸŸï¼šå¹¿æ’­åŸŸè¢«é™åˆ¶åœ¨ä¸€ä¸ªVLANå†…ï¼ŒèŠ‚çœäº†å¸¦å®½ï¼Œæé«˜äº†ç½‘ç»œå¤„ç†èƒ½åŠ›ã€‚\nå¢å¼ºå±€åŸŸç½‘çš„å®‰å…¨æ€§ï¼šä¸åŒVLANå†…çš„æŠ¥æ–‡åœ¨ä¼ è¾“æ—¶ç›¸äº’éš”ç¦»ï¼Œå³ä¸€ä¸ªVLANå†…çš„ç”¨æˆ·ä¸èƒ½å’Œå…¶å®ƒVLANå†…çš„ç”¨æˆ·ç›´æ¥é€šä¿¡ã€‚\næé«˜äº†ç½‘ç»œçš„å¥å£®æ€§ï¼šæ•…éšœè¢«é™åˆ¶åœ¨ä¸€ä¸ªVLANå†…ï¼Œæœ¬VLANå†…çš„æ•…éšœä¸ä¼šå½±å“å…¶ä»–VLANçš„æ­£å¸¸å·¥ä½œã€‚\nçµæ´»æ„å»ºè™šæ‹Ÿå·¥ä½œç»„ï¼šç”¨VLANå¯ä»¥åˆ’åˆ†ä¸åŒçš„ç”¨æˆ·åˆ°ä¸åŒçš„å·¥ä½œç»„ï¼ŒåŒä¸€å·¥ä½œç»„çš„ç”¨æˆ·ä¹Ÿä¸å¿…å±€é™äºæŸä¸€å›ºå®šçš„ç‰©ç†èŒƒå›´ï¼Œç½‘ç»œæ„å»ºå’Œç»´æŠ¤æ›´æ–¹ä¾¿çµæ´»ã€‚\n\nå¸¸ç”¨æŒ‡ä»¤è¿›å…¥ç”¨æˆ·è§†å›¾\nsystem-view\n\n\n\nå‘½ä»¤è§†å›¾[Hwawei]ä¸‹â€”â€”sysnameå‘½ä»¤â€”â€”ä¿®æ”¹è·¯ç”±å™¨åç§°ã€‚\nsysname R1\n\nå‘½ä»¤è§†å›¾ [ Huawei ]â€”â€”interfaceâ€”â€”è¿›å…¥æ¥å£è§†å›¾â€”â€”é…ç½®â€”â€”returnâ€”â€”ç›´æ¥å›åˆ°ç”¨æˆ·è§†å›¾\næ¥å£è§†å›¾åŠŸèƒ½ï¼šä½¿ç”¨ip address å‘½ä»¤é…ç½®æ¥å£IPåœ°å€ã€å­ç½‘æ©ç \n\n1.clock datetimeå‘½ä»¤ï¼šè®¾ç½®å½“å‰æ—¶é—´å’Œæ—¥æœŸï¼ˆç”¨æˆ·è§†å›¾ï¼‰2.clock timezoneå‘½ä»¤ï¼šè®¾ç½®æ‰€åœ¨æ—¶åŒºï¼ˆå‘½ä»¤è§†å›¾ï¼‰ã€æ³¨æ„ï¼šä¸€èˆ¬å…ˆé…ç½®æ—¶åŒºï¼Œå†é…ç½®æ—¶é—´å’Œæ—¥æœŸã€‘\n\nå…³é—­çƒ¦äººçš„æç¤ºä¿¡æ¯ï¼š\nun in en //å…³é—­çƒ¦äººçš„æç¤ºä¿¡æ¯\n\n\n\nè·¯ç”±é…ç½®IPåœ°å€ï¼š\nint g 0/0/0ip add 192.168.1.1 24\n\né…ç½®PCçš„æ˜¥åœ°å€ä¸ç½‘å…³ï¼š\nip add 192.168.1.2 24gateway 192.168.1.254\n\n\n\nåˆ›å»ºVLAN\nvlan 10 //è¿™ä¸ªæ„æ€æ˜¯åˆ›å»ºä¸€ä¸ªvlan 10ç»„åˆ«\n\nvlan batch 10 20 30 //\n\n\n\nè¿›å…¥å¯¹åº”æ¥å£å¹¶è¿›è¡Œç®¡ç†\nint g 0/0/1 //æ„æ€æ˜¯è¿›å…¥001å·æ¥å£\n\né…ç½®æ¥å£ç±»å‹ä¸ºaccessç±»å‹\nport link-type access //é…ç½®ç«¯å£ç±»å‹\n\né…ç½®å½“å‰ç«¯å£ä¸ºæŒ‡å®švlanæ”¾è¡Œ\nport default vlan 10 //è¿™é‡Œå°±æ˜¯æŒ‡å®šæ”¾è¡Œæˆ–è€…è¯´æ¥å…¥vlan10\n\n\n\né…ç½®æ¥å£ç±»å‹ä¸ºtrunkç±»å‹\nport link-type trunk //é…ç½®ç«¯å£ç±»å‹\n\nport trunk allow-pass vlan all  //è¿™ä¸ªæ„æ€å°±æ˜¯è®¾ç½®trunkä¸ºæ”¾è¡Œæ‰€æœ‰çš„vlan\n\n\n\nå…³äºaccsså’Œtruckç«¯å£çš„åŒºåˆ«ï¼š\n\n1ã€ç«¯å£ç”¨é€”ä¸åŒï¼štruckç«¯å£ä¸ºä¸å…¶å®ƒäº¤æ¢æœºç«¯å£ç›¸è¿çš„VLANæ±‡èšå£ï¼Œaccessç«¯å£ä¸ºäº¤æ¢æœºä¸VLANåŸŸä¸­ä¸»æœºç›¸è¿çš„ç«¯å£ï¼›\n2ã€trunkä¸€èˆ¬æ˜¯æ‰“tagæ ‡è®°çš„ï¼Œä¸€èˆ¬åªå…è®¸æ‰“äº†è¯¥tagæ ‡è®°çš„vlané€šè¿‡ï¼Œæ‰€ä»¥è¯¥ç«¯å£å¯ä»¥å…è®¸å¤šä¸ªæ‰“tagæ ‡è®°çš„vlané€šè¿‡ï¼Œè€Œaccssç«¯å£ä¸€èˆ¬æ˜¯untagä¸å¤§æ ‡è®°çš„ç«¯å£ï¼Œè€Œä¸”ä¸€ä¸ªaccess vlanç«¯å£åªå…è®¸ä¸€ä¸ªaccess vlan é€šè¿‡ã€‚\nAccessç±»å‹ç«¯å£ï¼šåªèƒ½å±äº1ä¸ªVLANï¼Œä¸€èˆ¬ç”¨äºè¿æ¥è®¡ç®—æœºç«¯å£ï¼›\nTrunkç±»å‹ç«¯å£ï¼šå¯ä»¥å…è®¸å¤šä¸ªVLANé€šè¿‡,å¯ä»¥æ¥æ”¶å’Œå‘é€å¤šä¸ªVLAN æŠ¥æ–‡,\nä¸€èˆ¬ç”¨äºäº¤æ¢æœºä¸äº¤æ¢æœºç›¸å…³çš„æ¥å£ã€‚\nHybridç±»å‹ç«¯å£ï¼šå¯ä»¥å…è®¸å¤šä¸ªVLANé€šè¿‡ï¼Œå¯ä»¥æ¥æ”¶å’Œå‘é€å¤šä¸ªVLAN æŠ¥æ–‡ï¼Œ\nå¯ä»¥ç”¨äºäº¤æ¢æœºçš„é—´è¿æ¥ä¹Ÿå¯ä»¥ç”¨äºè¿æ¥ç”¨æˆ·è®¡ç®—æœºã€‚\n\né…ç½®å½“å‰æ¥å£æ‰€å±VLAN\nport default vlan 10  //é…ç½®æ¥å£çš„æ‰€å±vlan\n\ndis vlan   //æŸ¥çœ‹vlané…ç½®\n\n\n\n\n\nå¼€å¯DHCPåŠŸèƒ½\ndhcp enable\n\nåˆ›å»ºIPåœ°å€æ± \nip pool aa\n\nç»™IPåœ°å€æ± æ·»åŠ IPåœ°å€ç½‘æ®µ\nnetwork 10.1.1.0 mask 24\n\nç»™ipåœ°å€é…ç½®ç½‘å…³\ngateway-list 10.1.1.1\n\né…ç½®DNS\ndns-list 1.1.1.1\n\né€‰æ‹©DHCPé…ç½®æ–¹å¼\ndhcp select global\n\næŸ¥çœ‹æ‰€æœ‰å¯¹åº”ç«¯å£é…ç½®\ndis port vlan //\n\næŸ¥çœ‹è·³è¡¨\ntracert xxx.xxx.xxx.xxx \n\nåˆ›å»ºé“¾è·¯èšåˆ\nin eth 1 //åˆ›å»ºé“¾è·¯èšåˆï¼Œæ ‡ç­¾ä¸º1\n\nè¿›å…¥é“¾è·¯èšåˆæ ‡ç­¾\nin eth1 //è¿›å…¥é“¾è·¯èšåˆæ ‡ç­¾1\n\nå°†å½“å‰æ¥å£æ·»åŠ åˆ°æŒ‡å®šæ ‡ç­¾çš„é“¾è·¯èšåˆé‡Œé¢\neth 1 //æŠŠå½“å‰æ¥å£åŠ å…¥åˆ°æ ‡ç­¾åç§°ä¸º1çš„é“¾è·¯èšåˆé‡Œé¢ï¼Œè®°ä½æ­¤æŒ‡ä»¤å¿…é¡»è¦å…ˆè¿›å…¥éœ€è¦åŠ å…¥çš„æ¥å£æ‰èƒ½ä½¿ç”¨\n\nè®¾å®šacl\nacl 2000 //è¿™é‡Œ2000-2999æŒ‡çš„æ˜¯åŸºæœ¬aclacl 3000-3999  //è¿™é‡Œæ˜¯é«˜çº§aclï¼ŒåŠŸèƒ½æŒ‡å®šæ›´å¤š\n\nè¯¦ç»†å‚è€ƒï¼š\nåä¸º-ACL-è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼ˆåŸºç¡€ç†è®ºä¸é…ç½®å®éªŒè¯¦è§£ï¼‰_enspè®¾ç½®aclè‡ªåŠ¨æ’åº-CSDNåšå®¢\nè®¾å®šrule\nrule 1 premit source 172.16.1.0 0.0.0.255//è¿™é‡Œæ„æ€æ˜¯å…è®¸æ‰€æœ‰172.16.1.xç½‘æ®µçš„ipç»™è¿‡\n\nè¿™é‡Œä¸€å®šè¦æ³¨æ„ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ˜¯æ‰€æœ‰æµé‡éƒ½ç»™ç›´æ¥é€šè¿‡ï¼Œæ‰€ä»¥è¦æ‹¦æˆªçš„æ—¶å€™ä¸€å®šè¦æ³¨æ„è®¾å®šå¥½deny any\nå¦‚ä½•é…ç½®è™šæ‹Ÿç”¨æˆ·ç»ˆç«¯ï¼Ÿ\n1ã€è¿›å…¥è™šæ‹Ÿç”¨æˆ·ç»ˆç‚¹æ¥å£\nuer-interface vty 0 4 //è¿›å…¥è™šæ‹Ÿç”¨æˆ·ç»ˆç«¯æ¥å£,è¿™é‡Œ0 4ä»£è¡¨å¯ä»¥åŒæ—¶æœ‰5ä¸ªç”¨æˆ·ç™»å½•authentication-mode password  //è®¾ç½®è®¤è¯æ¨¡å¼ä¸ºå¯†ç è®¤è¯set authentication password cipher huawei //è®¾ç½®å¯†ç ä¸ºå¯†æ–‡æ ¼å¼çš„â€œhuaweiâ€user privilege level 3 //è®¾ç½®ç”¨æˆ·æƒé™ç­‰çº§ä¸º3ï¼Œç™»å½•æƒé™èŒƒå›´ä¸º0-15ï¼Œå…¶ä¸­0-2åªå…·å¤‡ç”¨æˆ·è§†å›¾æƒé™ï¼Œ3-15å…·å¤‡ç³»ç»Ÿè§†å›¾æƒé™ï¼ˆç›¸å½“äºæœ€é«˜æƒé™ï¼‰\n\n\n\n\n\n\n\naaaæ¨¡å¼è®¤è¯\n\nAAAæä¾›çš„å®‰å…¨æœåŠ¡å…·ä½“æ˜¯æŒ‡ï¼š\n\nè®¤è¯ï¼ˆAuthenticationï¼‰ï¼šæ˜¯å¯¹ç”¨æˆ·çš„èº«ä»½è¿›è¡ŒéªŒè¯ï¼Œåˆ¤æ–­å…¶æ˜¯å¦ä¸ºåˆæ³•ç”¨æˆ·ã€‚\næˆæƒï¼ˆAuthorizationï¼‰ï¼šæ˜¯å¯¹é€šè¿‡è®¤è¯çš„ç”¨æˆ·ï¼Œæˆæƒå…¶å¯ä»¥ä½¿ç”¨å“ªäº›æœåŠ¡ã€‚\nè®¡è´¹ï¼ˆAccountingï¼‰ï¼šæ˜¯è®°å½•ç”¨æˆ·ä½¿ç”¨ç½‘ç»œæœåŠ¡çš„èµ„æºæƒ…å†µï¼Œè¿™äº›ä¿¡æ¯å°†ä½œä¸ºè®¡è´¹çš„ä¾æ®ã€‚\n\n\n\n é…ç½®aaaæ¨¡å¼ï¼Œè®¾ç½®è´¦æˆ·ä¸º admin å¯†ç ä¸º123456ï¼ˆåªæ˜¯ä¸ºäº†è®¤è¯ï¼Œæ‰æ˜¯ç®€å•å¯†ç ï¼‰ï¼Œå¹¶è®¾ç½®ç”¨æˆ·ç­‰çº§ä¸º3\naaauserlocal-user admin password cipher 123456 privilege level 3local-user admin service-type telnet //é…ç½®è¯¥ç”¨æˆ·çš„æ¥ç±»å‹ä¸ºtelnet\n\n è¿›å…¥VTYç•Œé¢ï¼Œå°†è®¤è¯æ¨¡å¼ä¿®æ”¹ä¸ºaaa\n\nå¦‚ä½•è®¾ç½®ç›´æ¥è¿›å…¥æ§åˆ¶å°å°±éœ€è¦å¯†ç ï¼Ÿ\nè®¾ç½®å¯†ç ï¼š\nuser-interface console 0 //è¿›å…¥æ§åˆ¶å°set authentication password cipher nihao mimaauthenticcation-mode password å¼€å¯mimaidle-timeout 1 //è®¾ç½®æ—¶é—´\n\nå–æ¶ˆå¯†ç ï¼š\nuser-interface console 0 //è¿›å…¥æ§åˆ¶å°undo authenticcation-mode //å–æ¶ˆæ‰å¯†ç \n\nè·¯ç”±å¦‚ä½•å’Œäº¤æ¢æœºé€šè®¯ï¼ˆpingé€šï¼‰\næ³¨æ„ï¼ï¼ï¼ äº¤æ¢æœºå¯¹åº”è·¯ç”±ç›¸è¿æ¥çš„æ¥å£ä¸€å®šè¦é…ç½®accessï¼Œå¹¶ä¸”ä¸€å®šè¦ç»‘å®šä¸€ä¸ªvlanï¼Œè¿™ä¸ªvlanä¹Ÿå¿…é¡»è¦æœ‰åœ°å€ã€‚ä¸èƒ½ä½¿ç”¨trunkï¼Œä¸ç„¶æ— æ•ˆï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼\n\nä¸‰æ­¥è®¾ç½®NATï¼šç¬¬ä¸€æ­¥ï¼šå»ºç«‹natåœ°å€è®¿é—®è¡¨ï¼ˆå°±æ˜¯ä»è¿™é‡Œå‡ºå»è®¿é—®å¤–ç½‘çš„æ—¶å€™ï¼Œç”¨ä»€ä¹ˆåœ°å€ï¼‰\nnat address-group 1 64.1.1.4 64.1.1.4       //è¿™ä¸ªæ„æ€ä½¿ç”¨64.1.1.4åˆ°64.1.1.4è¿™ä¸ªåŒºé—´çš„åœ°å€å»è®¿é—®\nä¸åŒVlanä¹‹é—´é€šè®¯\n//äº¤æ¢æœºå¯ä»¥å­æ¥å£åˆ’åˆ†ï¼Œç›´æ¥è¿›å…¥å­æ¥å£0.10ï¼Œå»ºè®®ä¸vlanä¸€è‡´[R1]int g0/0/0.10//é…ç½®vlanå°è£…ç»“æ„ï¼Œï¼ˆdot1qä¸ºIEEE802.1qåè®®ï¼Œè¯¥å­æ¥å£å±äºvlan10ï¼‰[R1-GigabitEthernet0/0/0.10]dot1q termination vid 10//ä¸ºè¯¥å­æ¥å£æ·»åŠ ipåœ°å€ï¼ˆå³vlan10ä¸‹é¢æ‰€å±ä¸»æœºçš„ç½‘å…³åœ°å€ï¼‰[R1-GigabitEthernet0/0/0.10]ip address 192.168.10.1 24//å¼€å¯å‘ä¸‹arpå¹¿æ’­è¯·æ±‚åŠŸèƒ½[R1-GigabitEthernet0/0/0.10]arp broadcast enable //è¿›å…¥å­æ¥å£0.10ï¼Œå»ºè®®ä¸å¯¹åº”çš„vlanä¸€è‡´[R1-GigabitEthernet0/0/0.10]int g0/0/0.20//é…ç½®vlanå°è£…ç»“æ„ï¼ŒåŒä¸Š[R1-GigabitEthernet0/0/0.20]dot1q termination vid 20//ä¸ºè¯¥å­æ¥å£æ·»åŠ ipåœ°å€ï¼ŒåŒä¸Š[R1-GigabitEthernet0/0/0.20]ip address 192.168.20.1 24//å¼€å¯å¹¿æ’­è¯·æ±‚åŠŸèƒ½ï¼ŒåŒä¸Š[R1-GigabitEthernet0/0/0.20]arp broadcast enable \n\n\n\nç»ˆç»“vlan\ndot1q termination vid 10                    //é…ç½®å­æ¥å£çš„ç»ˆç»“VLAN ID\n\nå¼€å¯å­æ¥å£çš„ARPå¹¿æ’­åŠŸèƒ½\narp broadcast enable\n\n","categories":["è®¡ç½‘","ç»„ç½‘å®ä¹ ","eNSP"],"tags":["è®¡ç½‘","ç»„ç½‘å®ä¹ "]},{"title":"æ­£å‘ä»£ç†å’Œåå‘ä»£ç†","url":"/2024/03/16/learnnote/ji-suan-ji-wang-luo/zheng-xiang-dai-li-he-fan-xiang-dai-li/","content":"æ­£å‘ä»£ç†å’Œåå‘ä»£ç†ä¸€ã€ä»£ç†\nä»£ç†å°±ç›¸å½“äºä¸­é—´å•†,æœ¬æ¥Aå’ŒBæ˜¯å¯ä»¥ç›´æ¥è¿æ¥çš„,ä½†æ˜¯æ­¤æ—¶æ·»åŠ äº†ä¸€ä¸ªCåœ¨ä¸­é—´,Aè·ŸBä¸ç›´æ¥è¿æ¥,è€Œæ˜¯é€šè¿‡Cä½œä¸ºä¸­ä»‹è¿›è¡Œè¿æ¥ã€‚æœ€å¸¸è§çš„ä¾‹å­å°±æ˜¯äºŒæ‰‹ä¸œ,å…¶å®å¾ˆå¤šæˆ‘ä»¬ç§Ÿæˆ¿å­æ—¶ç­¾çº¦çš„äººä¸æ˜¯æˆ¿å­çš„çœŸæ­£æˆ¿ä¸œ,è€Œæ˜¯æˆ¿ä¸œå§”æ‰˜çš„ä¸­ä»‹,æˆ¿ä¸œä¸æƒ³ç®¡äº‹æˆ–è€…æˆ¿å­å¤ªå¤š,åªé è‡ªå·±æ— æ³•è¿›è¡Œç®¡ç†,æ‰€ä»¥æ‰ä¼šé€šè¿‡ä¸­ä»‹(ä»£ç†)è¿›è¡Œå¤„ç†,åƒè›‹å£³ã€è‡ªå¦‚è¿™æ ·çš„ç§Ÿæˆ¿è½¯ä»¶å…¶å®ä¹Ÿæ˜¯ä¸­ä»‹çš„ä¸€ç§,çœŸæ­£çš„æˆ¿ä¸œæ˜¯ç›´æ¥å°†æˆ¿å­å§”æ‰˜ç»™è¿™æ ·çš„ç¬¬ä¸‰æ–¹ä¸­ä»‹è¿›è¡Œå‡ºç§Ÿã€‚\nä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚æ˜¯ç”±: client(å®¢æˆ·ç«¯) -&gt; proxy(ä»£ç†) -&gt; server(æœåŠ¡ç«¯) ç»„æˆã€‚\näºŒã€æ­£å‘ä»£ç†\næ­£å‘ä»£ç†: é¡ºç€è¯·æ±‚çš„æ–¹å‘è¿›è¡Œçš„ä»£ç†ï¼Œå³ä»£ç†æœåŠ¡å™¨å®ƒæ˜¯ç”±ä½ é…ç½®ä¸ºä½ æœåŠ¡ï¼Œå»è¯·æ±‚ç›®æ ‡æœåŠ¡å™¨åœ°å€ã€‚\nä¸¾ä¾‹ä¸€: å¦‚æˆ‘ä»¬ç°åœ¨æƒ³è¦è®¿é—®è°·æ­Œ,ä½†æ˜¯ç”±äºæŸäº›åŸå› ,æ— æ³•ç›´æ¥è®¿é—®åˆ°è°·æ­Œ,æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿æ¥ä¸€å°ä»£ç†æœåŠ¡å™¨,ä»£ç†æœåŠ¡å°†æˆ‘ä»¬çš„è¯·æ±‚æäº¤åˆ°è°·æ­Œ,ç„¶åå†å°†è°·æ­Œçš„å“åº”åé¦ˆç»™æˆ‘ä»¬,å¯¹äºè°·æ­Œè€Œè¨€,å®ƒåªçŸ¥é“æœ‰ä¸€ä¸ªè¯·æ±‚è¿‡æ¥,ä½†æ˜¯å®ƒå¹¶ä¸ä¼šçŸ¥é“æˆ‘ä»¬æ˜¯æ— æ³•ç›´æ¥è®¿é—®å®ƒçš„ã€‚\n\næ­£å‘ä»£ç†çš„ä½œç”¨:\n\nè®¿é—®åŸæ¥æ— æ³•è®¿é—®çš„èµ„æºï¼Œå¦‚google\nå¯ä»¥åšç¼“å­˜ï¼ŒåŠ é€Ÿè®¿é—®èµ„æº\nå¯¹å®¢æˆ·ç«¯è®¿é—®æˆæƒï¼Œä¸Šç½‘è¿›è¡Œè®¤è¯\nä»£ç†å¯ä»¥è®°å½•ç”¨æˆ·è®¿é—®è®°å½•ï¼ˆä¸Šç½‘è¡Œä¸ºç®¡ç†ï¼‰ï¼Œå¯¹å¤–éšè—ç”¨æˆ·ä¿¡æ¯\n\nä¸‰ã€åå‘ä»£ç†\nåå‘ä»£ç†: è·Ÿæ­£å‘ä»£ç†ç›¸å,å®ƒæ˜¯ä¸ºç›®æ ‡æœåŠ¡å™¨è¿›è¡ŒæœåŠ¡çš„,ä½†æ˜¯è¯·æ±‚çš„æµç¨‹è¿˜æ˜¯: clieng -&gt; proxy -&gt; serverã€‚\nä¸¾ä¾‹: æ¯”å¦‚æˆ‘ä»¬è®¿é—®ç™¾åº¦ç½‘ç«™ï¼Œç™¾åº¦çš„ä»£ç†æœåŠ¡å™¨å¯¹å¤–çš„åŸŸåä¸º https://www.baidu.com ã€‚å…·ä½“å†…éƒ¨çš„æœåŠ¡å™¨èŠ‚ç‚¹æˆ‘ä»¬ä¸çŸ¥é“ã€‚ç°å®ä¸­æˆ‘ä»¬é€šè¿‡è®¿é—®ç™¾åº¦çš„ä»£ç†æœåŠ¡å™¨åï¼Œä»£ç†æœåŠ¡å™¨ç»™æˆ‘ä»¬è½¬å‘è¯·æ±‚åˆ°ä»–ä»¬Nå¤šçš„æœåŠ¡å™¨èŠ‚ç‚¹ä¸­çš„ä¸€ä¸ªç»™æˆ‘ä»¬è¿›è¡Œæœç´¢åå°†ç»“æœè¿”å›,æ­¤æ—¶,ä»£ç†æœåŠ¡å™¨å¯¹æˆ‘ä»¬å®¢æˆ·ç«¯æ¥è¯´å°±å……å½“äº†æä¾›å“åº”çš„æœåŠ¡å™¨,ä½†æ˜¯å¯¹äºç›®æ ‡æœåŠ¡å™¨æ¥è¯´,å®ƒåªæ˜¯è¿›è¡Œäº†ä¸€ä¸ªè¯·æ±‚å’Œè½¬å‘çš„åŠŸèƒ½ã€‚\n\nåå‘ä»£ç†çš„ä½œç”¨:\n\nä¿è¯å†…ç½‘çš„å®‰å…¨ï¼Œé˜»æ­¢webæ”»å‡»ï¼Œå¤§å‹ç½‘ç«™ï¼Œé€šå¸¸å°†åå‘ä»£ç†ä½œä¸ºå…¬ç½‘è®¿é—®åœ°å€ï¼ŒWebæœåŠ¡å™¨æ˜¯å†…ç½‘ã€‚\nè´Ÿè½½å‡è¡¡ï¼Œé€šè¿‡åå‘ä»£ç†æœåŠ¡å™¨æ¥ä¼˜åŒ–ç½‘ç«™çš„è´Ÿè½½ã€‚\n\nå››ã€ä¸¤è€…çš„åŒºåˆ«ä¸è”ç³»\næ­£å‘ä»£ç†å³æ˜¯å®¢æˆ·ç«¯ä»£ç†, ä»£ç†å®¢æˆ·ç«¯, æœåŠ¡ç«¯ä¸çŸ¥é“å®é™…å‘èµ·è¯·æ±‚çš„å®¢æˆ·ç«¯.\nåå‘ä»£ç†å³æ˜¯æœåŠ¡ç«¯ä»£ç†, ä»£ç†æœåŠ¡ç«¯, å®¢æˆ·ç«¯ä¸çŸ¥é“å®é™…æä¾›æœåŠ¡çš„æœåŠ¡ç«¯.\n\nè”ç³»:\n1ã€æ­£å‘ä»£ç†ä¸­ï¼Œproxyå’ŒclientåŒå±ä¸€ä¸ªLANï¼Œå¯¹serveré€æ˜ï¼›\n2ã€åå‘ä»£ç†ä¸­ï¼Œproxyå’ŒserveråŒå±ä¸€ä¸ªLANï¼Œå¯¹clienté€æ˜ã€‚\näº”ã€æ€»ç»“\näº‹å®ä¸Š,æ­£å‘ä»£ç†å’Œåå‘ä»£ç†çš„ä½œç”¨éƒ½æ˜¯è¿›è¡Œè¯·æ±‚å’Œè½¬å‘,ä½†æ˜¯ä¸ºäº†åŒºåˆ«æ­£å‘ä»£ç†,æ‰€ä»¥åå‡ºç°çš„å°±æˆä¸ºåå‘ä»£ç†ã€‚\nç”Ÿæ´»ä¸­æœ€å¸¸è§çš„ä¾‹å­:\n1ã€æ­£å‘ä»£ç†: å–ç¥¨çš„é»„ç‰›\n2ã€åå‘ä»£ç†: å‡ºç§Ÿæˆ¿çš„äºŒæ‰‹ä¸œ\næ–‡ç« æˆªè‡ªï¼šä¸€æ–‡å¸®ä½ æ¢³ç†æ¸…æ¥šã€Œæ­£å‘ä»£ç†å’Œåå‘ä»£ç†çš„åŒºåˆ«ä¸è”ç³»ã€ - çŸ¥ä¹ (zhihu.com)\n","categories":["è®¡ç½‘"],"tags":["ä»£ç†","v2ray"]},{"title":"UMLç±»å›¾","url":"/2024/01/02/learnnote/ruan-jian-gong-cheng/uml-lei-tu/","content":"UMLç±»å›¾\nä¸€ã€UMLåŸºç¡€çŸ¥è¯†æ‰«ç›²\n1ã€æ¦‚å¿µ ï¼š UMLè¿™ä¸‰ä¸ªå­—æ¯çš„å…¨ç§°æ˜¯Unified Modeling Languageï¼Œç›´æ¥ç¿»è¯‘å°±æ˜¯ç»Ÿä¸€å»ºæ¨¡è¯­è¨€ï¼Œç®€å•åœ°è¯´å°±æ˜¯ä¸€ç§æœ‰ç‰¹æ®Šç”¨é€”çš„è¯­è¨€ã€‚\n2ã€ä½œç”¨ ï¼šUMLå¯å¸®åŠ©æˆ‘ä»¬åšè½¯ä»¶éœ€æ±‚åˆ†æå’Œè½¯ä»¶è®¾è®¡çš„å·¥ä½œï¼Œæ˜¯ç³»ç»Ÿåˆ†æå’Œè®¾è®¡é˜¶æ®µçš„é‡è¦äº§ç‰©ï¼Œä¹Ÿæ˜¯ç³»ç»Ÿç¼–ç å’Œæµ‹è¯•çš„é‡è¦æ¨¡å‹ä¾æ®ã€‚\n3ã€åˆ†ç±»1ï¼‰ é™æ€å›¾ ï¼šä¸»è¦æç»˜äº†ç±»ã€å¯¹è±¡å’Œæ•°æ®ç»“æ„åŠå…¶å­˜åœ¨äºä»–ä»¬ä¹‹é—´çš„å…³ç³»ã€‚ ç±»å›¾å°±æ˜¯å…¶ä¸­ä¸€ç§ã€‚2ï¼‰åŠ¨æ€å›¾ : ä¸»è¦æç»˜æ‰§è¡Œæµç¨‹ã€å®ä½“æ”¹å˜çŠ¶æ€çš„æ–¹å¼ã€‚ä¾‹å¦‚ ï¼š æµç¨‹å›¾3ï¼‰ç‰©ç†å›¾ ï¼š æç»˜åº“æ–‡ä»¶ã€å­—èŠ‚æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶ç­‰ä»¥åŠå­˜åœ¨äºä»–ä»¬ä¹‹é—´çš„å…³ç³»\näºŒã€å¦‚ä½•ç”¨ç±»å›¾è¡¨ç¤ºä¸€ä¸ªç±»\nç±»å›¾: ç”¨äºæè¿°ç³»ç»Ÿä¸­æ‰€åŒ…å«çš„ç±»ä»¥åŠå®ƒä»¬ä¹‹é—´çš„ç›¸äº’å…³ç³»ï¼Œå¸®åŠ©äººä»¬ç®€åŒ–å¯¹ç³»ç»Ÿçš„ç†è§£ï¼Œå®ƒæ˜¯ç³»ç»Ÿåˆ†æå’Œè®¾è®¡é˜¶æ®µçš„é‡è¦äº§ç‰©ï¼Œä¹Ÿæ˜¯ç³»ç»Ÿç¼–ç å’Œæµ‹è¯•çš„é‡è¦æ¨¡å‹ä¾æ®ã€‚\nclassDiagramclass PersonPerson: +age intPerson: -mobilePhone StringPerson: #sex charPerson: +speak() void\n\nå¯¹åº”Javaå¦‚ä¸‹ä»£ç ï¼š\npublic class Person {    public int age;    private String mobilePhone;    protected char sex;    public static void speak(){    }}\n\n1ã€- æ˜¯private çš„æ„æ€ï¼Œå¯¹åº”ç§æœ‰æˆå‘˜(å˜é‡ã€æ–¹æ³•)\n2ã€+ æ˜¯public çš„æ„æ€ï¼Œå…¬å¼€ç»™å¤–éƒ¨è®¿é—®çš„æˆå‘˜(å˜é‡ã€æ–¹æ³•)\n3ã€# æ˜¯protectedçš„æ„æ€ï¼Œåªèƒ½åœ¨æœ¬ç±»æˆ–å­ç±»è®¿é—®æˆå‘˜(å˜é‡ã€æ–¹æ³•)\n4ã€UML è§„å®šçš„å±æ€§(Attribute)è¡¨è¾¾å¼\n\n   å¯è§æ€§ åç§°:ç±»å‹ [ = ç¼ºçœå€¼ ]\nå…¶ä¸­ :\n1&gt; å¯è§æ€§ :è¡¨ç¤ºè¯¥å±æ€§å¯¹äºç±»å¤–çš„å…ƒç´ è€Œè¨€æ˜¯å¦å¯è§ï¼Œ         åŒ…æ‹¬å…¬æœ‰(public)ã€ç§æœ‰(private)å’Œå—ä¿æŠ¤(protected)ä¸‰ç§ï¼Œ         åœ¨ç±»å›¾ä¸­åˆ†åˆ«ç”¨ç¬¦å·+ã€-å’Œ#è¡¨ç¤º\n2&gt; åç§°  :è¡¨ç¤ºå±æ€§åï¼Œç”¨ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤º\n3&gt; ç±»å‹  :è¡¨ç¤ºå±æ€§çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹\n4&gt; ç¼ºçœå€¼ :æ˜¯ä¸€ä¸ªå¯é€‰é¡¹ï¼Œå³å±æ€§çš„åˆå§‹å€¼ã€‚\n\n5ã€UMLæ–¹æ³•(Operation)è¡¨è¾¾å¼\n\nå¯è§æ€§ åç§°(å‚æ•°åˆ—è¡¨) [ : è¿”å›ç±»å‹]\nå…¶ä¸­ :\n1&gt; å¯è§æ€§   :  å®šä¹‰ä¸å±æ€§çš„å¯è§æ€§å®šä¹‰ç›¸åŒ\n2&gt; åç§°     : å³æ–¹æ³•åï¼Œç”¨ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤º\n3&gt; å‚æ•°åˆ—è¡¨ : è¡¨ç¤ºæ–¹æ³•çš„å‚æ•°ï¼Œå…¶è¯­æ³•ä¸å±æ€§çš„å®šä¹‰ç›¸ä¼¼ï¼Œå‚æ•°ä¸ªæ•°æ˜¯ä»»æ„çš„ï¼Œå¤šä¸ªå‚æ•°ä¹‹é—´ç”¨é€—å·â€œï¼Œâ€éš”å¼€\n4&gt; è¿”å›ç±»å‹ : æ˜¯ä¸€ä¸ªå¯é€‰é¡¹ï¼Œè¡¨ç¤ºæ–¹æ³•çš„è¿”å›å€¼ç±»å‹ï¼Œ             ä¾èµ–äºå…·ä½“çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¯ä»¥æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œ             ä¹Ÿå¯ä»¥æ˜¯ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹ï¼Œè¿˜å¯ä»¥æ˜¯ç©ºç±»å‹(void)ï¼Œ             å¦‚æœæ˜¯æ„é€ æ–¹æ³•ï¼Œåˆ™æ— è¿”å›ç±»å‹ã€‚\n\n6ã€å†…éƒ¨ç±»çš„è¡¨ç¤º\n","categories":["è½¯ä»¶å·¥ç¨‹"],"tags":["UML"]},{"title":"è®¾è®¡æ¨¡å¼","url":"/2024/05/19/learnnote/ruan-jian-gong-cheng/she-ji-mo-shi/","content":"è®¾è®¡æ¨¡å¼\nä¸€ã€è®¾è®¡æ¨¡å¼ç®€ä»‹\nè®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰ä»£è¡¨äº†æœ€ä½³çš„å®è·µï¼Œé€šå¸¸è¢«æœ‰ç»éªŒçš„é¢å‘å¯¹è±¡çš„è½¯ä»¶å¼€å‘äººå‘˜æ‰€é‡‡ç”¨ã€‚è®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶å¼€å‘äººå‘˜åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­é¢ä¸´çš„ä¸€èˆ¬é—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚è¿™äº›è§£å†³æ–¹æ¡ˆæ˜¯ä¼—å¤šè½¯ä»¶å¼€å‘äººå‘˜ç»è¿‡ç›¸å½“é•¿çš„ä¸€æ®µæ—¶é—´çš„è¯•éªŒå’Œé”™è¯¯æ€»ç»“å‡ºæ¥çš„ã€‚\nè®¾è®¡æ¨¡å¼æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨çš„ã€å¤šæ•°äººçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»ç¼–ç›®çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ã€‚ä½¿ç”¨è®¾è®¡æ¨¡å¼æ˜¯ä¸ºäº†é‡ç”¨ä»£ç ã€è®©ä»£ç æ›´å®¹æ˜“è¢«ä»–äººç†è§£ã€ä¿è¯ä»£ç å¯é æ€§ã€‚ æ¯«æ— ç–‘é—®ï¼Œè®¾è®¡æ¨¡å¼äºå·±äºä»–äººäºç³»ç»Ÿéƒ½æ˜¯å¤šèµ¢çš„ï¼Œè®¾è®¡æ¨¡å¼ä½¿ä»£ç ç¼–åˆ¶çœŸæ­£å·¥ç¨‹åŒ–ï¼Œè®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶å·¥ç¨‹çš„åŸºçŸ³ï¼Œå¦‚åŒå¤§å¦çš„ä¸€å—å—ç –çŸ³ä¸€æ ·ã€‚é¡¹ç›®ä¸­åˆç†åœ°è¿ç”¨è®¾è®¡æ¨¡å¼å¯ä»¥å®Œç¾åœ°è§£å†³å¾ˆå¤šé—®é¢˜ï¼Œæ¯ç§æ¨¡å¼åœ¨ç°å®ä¸­éƒ½æœ‰ç›¸åº”çš„åŸç†æ¥ä¸ä¹‹å¯¹åº”ï¼Œæ¯ç§æ¨¡å¼éƒ½æè¿°äº†ä¸€ä¸ªåœ¨æˆ‘ä»¬å‘¨å›´ä¸æ–­é‡å¤å‘ç”Ÿçš„é—®é¢˜ï¼Œä»¥åŠè¯¥é—®é¢˜çš„æ ¸å¿ƒè§£å†³æ–¹æ¡ˆï¼Œè¿™ä¹Ÿæ˜¯è®¾è®¡æ¨¡å¼èƒ½è¢«å¹¿æ³›åº”ç”¨çš„åŸå› ã€‚\näºŒã€ä»€ä¹ˆæ˜¯ GOFï¼ˆå››äººå¸®ï¼Œå…¨æ‹¼ Gang of Fourï¼‰ï¼Ÿ\nåœ¨ 1994 å¹´ï¼Œç”± Erich Gammaã€Richard Helmã€Ralph Johnson å’Œ John Vlissides å››äººåˆè‘—å‡ºç‰ˆäº†ä¸€æœ¬åä¸º Design Patterns - Elements of Reusable Object-Oriented Softwareï¼ˆä¸­æ–‡è¯‘åï¼šè®¾è®¡æ¨¡å¼ - å¯å¤ç”¨çš„é¢å‘å¯¹è±¡è½¯ä»¶å…ƒç´ ï¼‰ çš„ä¹¦ï¼Œè¯¥ä¹¦é¦–æ¬¡æåˆ°äº†è½¯ä»¶å¼€å‘ä¸­è®¾è®¡æ¨¡å¼çš„æ¦‚å¿µã€‚\nå››ä½ä½œè€…åˆç§° GOFï¼ˆå››äººå¸®ï¼Œå…¨æ‹¼ Gang of Fourï¼‰ã€‚ä»–ä»¬æ‰€æå‡ºçš„è®¾è®¡æ¨¡å¼ä¸»è¦æ˜¯åŸºäºä»¥ä¸‹çš„é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ã€‚\n\nå¯¹æ¥å£ç¼–ç¨‹è€Œä¸æ˜¯å¯¹å®ç°ç¼–ç¨‹ã€‚\nä¼˜å…ˆä½¿ç”¨å¯¹è±¡ç»„åˆè€Œä¸æ˜¯ç»§æ‰¿ã€‚\n\nä¸‰ã€è®¾è®¡æ¨¡å¼çš„ä½¿ç”¨\nè®¾è®¡æ¨¡å¼åœ¨è½¯ä»¶å¼€å‘ä¸­çš„ä¸¤ä¸ªä¸»è¦ç”¨é€”ã€‚\nå¼€å‘äººå‘˜çš„å…±åŒå¹³å°è®¾è®¡æ¨¡å¼æä¾›äº†ä¸€ä¸ªæ ‡å‡†çš„æœ¯è¯­ç³»ç»Ÿï¼Œä¸”å…·ä½“åˆ°ç‰¹å®šçš„æƒ…æ™¯ã€‚ä¾‹å¦‚ï¼Œå•ä¾‹è®¾è®¡æ¨¡å¼æ„å‘³ç€ä½¿ç”¨å•ä¸ªå¯¹è±¡ï¼Œè¿™æ ·æ‰€æœ‰ç†Ÿæ‚‰å•ä¾‹è®¾è®¡æ¨¡å¼çš„å¼€å‘äººå‘˜éƒ½èƒ½ä½¿ç”¨å•ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼å‘Šè¯‰å¯¹æ–¹ï¼Œç¨‹åºä½¿ç”¨çš„æ˜¯å•ä¾‹æ¨¡å¼ã€‚\næœ€ä½³çš„å®è·µè®¾è®¡æ¨¡å¼å·²ç»ç»å†äº†å¾ˆé•¿ä¸€æ®µæ—¶é—´çš„å‘å±•ï¼Œå®ƒä»¬æä¾›äº†è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­é¢ä¸´çš„ä¸€èˆ¬é—®é¢˜çš„æœ€ä½³è§£å†³æ–¹æ¡ˆã€‚å­¦ä¹ è¿™äº›æ¨¡å¼æœ‰åŠ©äºç»éªŒä¸è¶³çš„å¼€å‘äººå‘˜é€šè¿‡ä¸€ç§ç®€å•å¿«æ·çš„æ–¹å¼æ¥å­¦ä¹ è½¯ä»¶è®¾è®¡ã€‚\nå››ã€è®¾è®¡æ¨¡å¼çš„ç±»å‹\næ ¹æ®è®¾è®¡æ¨¡å¼çš„å‚è€ƒä¹¦ Design Patterns - Elements of Reusable Object-Oriented Softwareï¼ˆä¸­æ–‡è¯‘åï¼šè®¾è®¡æ¨¡å¼ - å¯å¤ç”¨çš„é¢å‘å¯¹è±¡è½¯ä»¶å…ƒç´ ï¼‰ ä¸­æ‰€æåˆ°çš„ï¼Œæ€»å…±æœ‰ 23 ç§è®¾è®¡æ¨¡å¼ã€‚è¿™äº›æ¨¡å¼å¯ä»¥åˆ†ä¸ºä¸‰å¤§ç±»ï¼šåˆ›å»ºå‹æ¨¡å¼ï¼ˆCreational Patternsï¼‰ã€ç»“æ„å‹æ¨¡å¼ï¼ˆStructural Patternsï¼‰ã€è¡Œä¸ºå‹æ¨¡å¼ï¼ˆBehavioral Patternsï¼‰ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜ä¼šè®¨è®ºå¦ä¸€ç±»è®¾è®¡æ¨¡å¼ï¼šJ2EE è®¾è®¡æ¨¡å¼ã€‚\n\n\n\nåºå·\næ¨¡å¼ &amp; æè¿°\nåŒ…æ‹¬\n\n\n\n1\nåˆ›å»ºå‹æ¨¡å¼ è¿™äº›è®¾è®¡æ¨¡å¼æä¾›äº†ä¸€ç§åœ¨åˆ›å»ºå¯¹è±¡çš„åŒæ—¶éšè—åˆ›å»ºé€»è¾‘çš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ new è¿ç®—ç¬¦ç›´æ¥å®ä¾‹åŒ–å¯¹è±¡ã€‚è¿™ä½¿å¾—ç¨‹åºåœ¨åˆ¤æ–­é’ˆå¯¹æŸä¸ªç»™å®šå®ä¾‹éœ€è¦åˆ›å»ºå“ªäº›å¯¹è±¡æ—¶æ›´åŠ çµæ´»ã€‚\nå·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factory Patternï¼‰å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰\n\n\n2\nç»“æ„å‹æ¨¡å¼ è¿™äº›æ¨¡å¼å…³æ³¨å¯¹è±¡ä¹‹é—´çš„ç»„åˆå’Œå…³ç³»ï¼Œæ—¨åœ¨è§£å†³å¦‚ä½•æ„å»ºçµæ´»ä¸”å¯å¤ç”¨çš„ç±»å’Œå¯¹è±¡ç»“æ„ã€‚\né€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰è¿‡æ»¤å™¨æ¨¡å¼ï¼ˆFilterã€Criteria Patternï¼‰ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰\n\n\n3\nè¡Œä¸ºå‹æ¨¡å¼ è¿™äº›æ¨¡å¼å…³æ³¨å¯¹è±¡ä¹‹é—´çš„é€šä¿¡å’Œäº¤äº’ï¼Œæ—¨åœ¨è§£å†³å¯¹è±¡ä¹‹é—´çš„è´£ä»»åˆ†é…å’Œç®—æ³•çš„å°è£…ã€‚\nè´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰ç©ºå¯¹è±¡æ¨¡å¼ï¼ˆNull Object Patternï¼‰ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Patternï¼‰è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰\n\n\n4\nJ2EE æ¨¡å¼ è¿™äº›è®¾è®¡æ¨¡å¼ç‰¹åˆ«å…³æ³¨è¡¨ç¤ºå±‚ã€‚è¿™äº›æ¨¡å¼æ˜¯ç”± Sun Java Center é‰´å®šçš„ã€‚\nMVC æ¨¡å¼ï¼ˆMVC Patternï¼‰ä¸šåŠ¡ä»£è¡¨æ¨¡å¼ï¼ˆBusiness Delegate Patternï¼‰ç»„åˆå®ä½“æ¨¡å¼ï¼ˆComposite Entity Patternï¼‰æ•°æ®è®¿é—®å¯¹è±¡æ¨¡å¼ï¼ˆData Access Object Patternï¼‰å‰ç«¯æ§åˆ¶å™¨æ¨¡å¼ï¼ˆFront Controller Patternï¼‰æ‹¦æˆªè¿‡æ»¤å™¨æ¨¡å¼ï¼ˆIntercepting Filter Patternï¼‰æœåŠ¡å®šä½å™¨æ¨¡å¼ï¼ˆService Locator Patternï¼‰ä¼ è¾“å¯¹è±¡æ¨¡å¼ï¼ˆTransfer Object Patternï¼‰\n\n\nä¸‹é¢ç”¨ä¸€ä¸ªå›¾ç‰‡æ¥æ•´ä½“æè¿°ä¸€ä¸‹è®¾è®¡æ¨¡å¼ä¹‹é—´çš„å…³ç³»ï¼š\n\näº”ã€è®¾è®¡æ¨¡å¼çš„ä¼˜ç‚¹\n\næä¾›äº†ä¸€ç§å…±äº«çš„è®¾è®¡è¯æ±‡å’Œæ¦‚å¿µï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿæ›´å¥½åœ°æ²Ÿé€šå’Œç†è§£å½¼æ­¤çš„è®¾è®¡æ„å›¾ã€‚\næä¾›äº†ç»è¿‡éªŒè¯çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥æé«˜è½¯ä»¶çš„å¯ç»´æŠ¤æ€§ã€å¯å¤ç”¨æ€§å’Œçµæ´»æ€§ã€‚\nä¿ƒè¿›äº†ä»£ç çš„é‡ç”¨ï¼Œé¿å…äº†é‡å¤çš„è®¾è®¡å’Œå®ç°ã€‚\né€šè¿‡éµå¾ªè®¾è®¡æ¨¡å¼ï¼Œå¯ä»¥å‡å°‘ç³»ç»Ÿä¸­çš„é”™è¯¯å’Œé—®é¢˜ï¼Œæé«˜ä»£ç è´¨é‡ã€‚\n\nå…­ã€è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™\n1ã€å¼€é—­åŸåˆ™ï¼ˆOpen Close Principleï¼‰\nå¼€é—­åŸåˆ™çš„æ„æ€æ˜¯ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚åœ¨ç¨‹åºéœ€è¦è¿›è¡Œæ‹“å±•çš„æ—¶å€™ï¼Œä¸èƒ½å»ä¿®æ”¹åŸæœ‰çš„ä»£ç ï¼Œå®ç°ä¸€ä¸ªçƒ­æ’æ‹”çš„æ•ˆæœã€‚ç®€è¨€ä¹‹ï¼Œæ˜¯ä¸ºäº†ä½¿ç¨‹åºçš„æ‰©å±•æ€§å¥½ï¼Œæ˜“äºç»´æŠ¤å’Œå‡çº§ã€‚æƒ³è¦è¾¾åˆ°è¿™æ ·çš„æ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»ï¼Œåé¢çš„å…·ä½“è®¾è®¡ä¸­æˆ‘ä»¬ä¼šæåˆ°è¿™ç‚¹ã€‚\n2ã€é‡Œæ°ä»£æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰\né‡Œæ°ä»£æ¢åŸåˆ™æ˜¯é¢å‘å¯¹è±¡è®¾è®¡çš„åŸºæœ¬åŸåˆ™ä¹‹ä¸€ã€‚ é‡Œæ°ä»£æ¢åŸåˆ™ä¸­è¯´ï¼Œä»»ä½•åŸºç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»ä¸€å®šå¯ä»¥å‡ºç°ã€‚LSP æ˜¯ç»§æ‰¿å¤ç”¨çš„åŸºçŸ³ï¼Œåªæœ‰å½“æ´¾ç”Ÿç±»å¯ä»¥æ›¿æ¢æ‰åŸºç±»ï¼Œä¸”è½¯ä»¶å•ä½çš„åŠŸèƒ½ä¸å—åˆ°å½±å“æ—¶ï¼ŒåŸºç±»æ‰èƒ½çœŸæ­£è¢«å¤ç”¨ï¼Œè€Œæ´¾ç”Ÿç±»ä¹Ÿèƒ½å¤Ÿåœ¨åŸºç±»çš„åŸºç¡€ä¸Šå¢åŠ æ–°çš„è¡Œä¸ºã€‚é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å¯¹å¼€é—­åŸåˆ™çš„è¡¥å……ã€‚å®ç°å¼€é—­åŸåˆ™çš„å…³é”®æ­¥éª¤å°±æ˜¯æŠ½è±¡åŒ–ï¼Œè€ŒåŸºç±»ä¸å­ç±»çš„ç»§æ‰¿å…³ç³»å°±æ˜¯æŠ½è±¡åŒ–çš„å…·ä½“å®ç°ï¼Œæ‰€ä»¥é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å¯¹å®ç°æŠ½è±¡åŒ–çš„å…·ä½“æ­¥éª¤çš„è§„èŒƒã€‚\n3ã€ä¾èµ–å€’è½¬åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰\nè¿™ä¸ªåŸåˆ™æ˜¯å¼€é—­åŸåˆ™çš„åŸºç¡€ï¼Œå…·ä½“å†…å®¹ï¼šé’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“ã€‚\n4ã€æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼‰\nè¿™ä¸ªåŸåˆ™çš„æ„æ€æ˜¯ï¼šä½¿ç”¨å¤šä¸ªéš”ç¦»çš„æ¥å£ï¼Œæ¯”ä½¿ç”¨å•ä¸ªæ¥å£è¦å¥½ã€‚å®ƒè¿˜æœ‰å¦å¤–ä¸€ä¸ªæ„æ€æ˜¯ï¼šé™ä½ç±»ä¹‹é—´çš„è€¦åˆåº¦ã€‚ç”±æ­¤å¯è§ï¼Œå…¶å®è®¾è®¡æ¨¡å¼å°±æ˜¯ä»å¤§å‹è½¯ä»¶æ¶æ„å‡ºå‘ã€ä¾¿äºå‡çº§å’Œç»´æŠ¤çš„è½¯ä»¶è®¾è®¡æ€æƒ³ï¼Œå®ƒå¼ºè°ƒé™ä½ä¾èµ–ï¼Œé™ä½è€¦åˆã€‚\n5ã€è¿ªç±³ç‰¹æ³•åˆ™ï¼Œåˆç§°æœ€å°‘çŸ¥é“åŸåˆ™ï¼ˆDemeter Principleï¼‰\næœ€å°‘çŸ¥é“åŸåˆ™æ˜¯æŒ‡ï¼šä¸€ä¸ªå®ä½“åº”å½“å°½é‡å°‘åœ°ä¸å…¶ä»–å®ä½“ä¹‹é—´å‘ç”Ÿç›¸äº’ä½œç”¨ï¼Œä½¿å¾—ç³»ç»ŸåŠŸèƒ½æ¨¡å—ç›¸å¯¹ç‹¬ç«‹ã€‚\n6ã€åˆæˆå¤ç”¨åŸåˆ™ï¼ˆComposite Reuse Principleï¼‰\nåˆæˆå¤ç”¨åŸåˆ™æ˜¯æŒ‡ï¼šå°½é‡ä½¿ç”¨åˆæˆ/èšåˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿ã€‚\n","categories":["è½¯ä»¶å·¥ç¨‹"],"tags":["è®¾è®¡æ¨¡å¼"]},{"title":"ä¸€å…ƒç§¯åˆ†","url":"/2024/01/24/learnnote/gao-deng-shu-xue/yi-yuan-wei-fen/","content":"ä¸€å…ƒå¾®åˆ†\nå¸¸è€ƒé¢˜å‹\nå¯¼æ•°å’Œå¾®åˆ†çš„æ¦‚å¿µ\nå¾®åˆ†æ³•å’Œå¯¼æ•°çš„è®¡ç®—\nåˆ‡çº¿é—®é¢˜\nå‡¹å‡¸å‡½æ•°çš„æ€§è´¨ä¸åˆ¤æ–­\næ±‚å‡½æ•°åœ¨å®šä¹‰åŸŸä¸Šçš„å•è°ƒåŒºé—´ä¸æå€¼ç‚¹ï¼Œå‡¹å‡¸åŒºé—´ä¸æ‹ç‚¹\næ±‚æ¸è¿›ç°é‡‘çš„é—®é¢˜ã€‚\n\n\næ±‚æé™æ—¶ï¼Œå½“åˆ†å­æŠ½è±¡ä¸ºå‡½æ•°ï¼Œè€ƒè™‘ç”¨å¯¼æ•°å®šä¹‰æ±‚è§£è¯•è¯•\nå¯¼æ•°çš„å®šä¹‰ï¼šè®¾å‡½æ•°$y=f(x)åœ¨x_0 çš„æŸä¸´åŸŸæœ‰å®šä¹‰ï¼Œè‹¥æé™\\lim\\limits_{â–³x \\to 0}{x_0+â–³x \\over â–³x}$\n==æ³¨ï¼š== è¿™é‡Œä¸‰ä¸ªâ–³xå¿…é¡»éƒ½è¦ä¸€æ ·\n\n æ›²çº¿ä¸Šä»»æ„ä¸€ç‚¹å¤„çš„åˆ‡çº¿æ–œç‡ç­‰äºè¯¥ç‚¹çš„æ¨ªåæ ‡çš„å¹³æ–¹ï¼Œä¸”æ›²çº¿è¿‡åæ ‡çš„åŸç‚¹ï¼Œæ±‚æ›²çº¿çš„æ–¹ç¨‹\nå¾®åˆ†æ–¹ç¨‹çš„å®šä¹‰ï¼šå«æœ‰æœªçŸ¥å‡½æ•°å…¶å¯¼æ•°æˆ–å¾®åˆ†çš„æ–¹ç¨‹ï¼Œç§°ä¹‹ä¸ºå¾®åˆ†æ–¹ç¨‹\nå¾®åˆ†æ–¹ç¨‹é€šè¿‡ç§¯åˆ†æ¥æ±‚è§£\næ–¹ç¨‹çš„é˜¶ï¼šå«æœ‰æœªçŸ¥å‡½æ•°å¯¼æ•°æ–¹ç¨‹ä¸­å…¶å¯¼æ•°çš„æœ€é«˜é˜¶æ•°\n","categories":["æ•°å­¦"],"tags":["å¾®åˆ†"]},{"title":"å‡½æ•°","url":"/2023/09/18/learnnote/gao-deng-shu-xue/han-shu/","content":"\nè€ƒè¯•å†…å®¹æ¦‚è¦ï¼šï¼ˆä¸€ï¼‰å‡½æ•°çš„æ¦‚å¿µåŠå¸¸è§å‡½æ•°ï¼ˆäºŒï¼‰å‡½æ•°çš„æ€§è´¨å¸¸è€ƒé¢˜å‹ä¸å…¸å‹ä¾‹é¢˜é¢˜å‹ä¸€ å‡½æ•°çš„æ€§è´¨é¢˜å‹äºŒå¤åˆå‡½æ•°\nå•è°ƒå‡½æ•°ä¸€å®šæœ‰åå‡½æ•°ï¼Œä½†åä¹‹åˆ™ä¸ç„¶ï¼ˆå……åˆ†ä½†ä¸å¿…è¦æ¡ä»¶ï¼‰\nä¸€å…ƒäºŒæ¬¡å‡½æ•°æ±‚æ ¹å…¬å¼ï¼š\n$\\displaystyle x=\\frac{-b\\pm\\sqrt{b^2-4ac}}{2a}$\nå®šä¹‰4\tå°†å¹‚å‡½æ•°ï¼ŒæŒ‡æ•°ï¼Œå¯¹æ•°ï¼Œä¸‰è§’ï¼Œåä¸‰è§’ç»Ÿç§°ä¸ºåŸºæœ¬åˆç­‰å‡½æ•°ã€‚äº†è§£å®ƒä»¬çš„å®šä¹‰åŸŸï¼Œæ€§è´¨ï¼Œå›¾å½¢ã€‚\nå¹‚å‡½æ•°\næŒ‡æ•°å‡½æ•°\nå¯¹æ•°å‡½æ•°\nä¸‰è§’å‡½æ•°\nåä¸‰è§’å‡½æ•°\nå®šä¹‰5\tç”±å¸¸æ•°å’ŒåŸºæœ¬åˆç­‰å‡½æ•°ç»è¿‡æœ‰é™æ¬¡çš„åŠ ã€å‡ä¹˜ã€é™¤å’Œå¤åˆæ‰€å¾—åˆ°ä¸”èƒ½ç”¨ä¸€ä¸ªè§£æå¼è¡¨ç¤ºçš„å‡½æ•°ï¼Œç§°ä¸ºåˆç­‰å‡½æ•°ã€‚\nå¸¸è§å¥‡å‡½æ•°$\\sin xã€\\tan xã€\\arcsin xã€\\ln\\frac{1-x}{1+x}ã€\\ln(x+\\sqrt{1+x^2})ã€\\frac{e^x-1}{e^x+1}ã€f(x)-f(-x)$\nå¸¸è§å¶å‡½æ•°\n$x^2ã€|x|ã€\\cos xã€f(x)+f(-x)$\nç›¸å…³å®šç†\nå¥‡+å¥‡=å¥‡ï¼›\nå¶+å¶=å¶ï¼›\nå¥‡xå¥‡=å¶\nå¶xå¶=å¶\nå¥‡xå¶=å¥‡\n","categories":["æ•°å­¦"],"tags":["å‡½æ•°"]},{"title":"å‡½æ•°ã€æé™ã€è¿ç»­","url":"/2023/10/21/learnnote/gao-deng-shu-xue/han-shu-ji-xian-lian-xu/","content":"ç¬¬ä¸€ç« \tå‡½æ•°ã€æé™ã€è¿ç»­\nç¬¬ä¸€èŠ‚\nç¬¬äºŒèŠ‚\næé™å­˜åœ¨çš„å‡†åˆ™ï¼š\n1ï¼‰å¤¹é€¼å‡†åˆ™ï¼š\n\nå¸¸ç”¨åœ¨æ•°åˆ—né¡¹å’Œ\n\n2ï¼‰å•è°ƒæœ‰ç•Œå‡†åˆ™\n\nå•è°ƒæœ‰ç•Œæ•°åˆ—å¿…æœ‰æé™ã€‚\nå•è°ƒå¢ã€æœ‰ä¸Šç•Œçš„æ•°åˆ—å¿…æœ‰æé™ï¼›\nå•è°ƒå‡ã€æœ‰ä¸‹ç•Œçš„æ•°åˆ—å¿…æœ‰æé™ï¼›\né€’æ¨å…³ç³»çš„æ•°åˆ—æé™å¾€å¾€å¯ä»¥ä½¿ç”¨ï¼›\n\nç¬¬ä¸‰èŠ‚\n","categories":["æ•°å­¦"],"tags":["å‡½æ•°","æé™"]},{"title":"å‡½æ•°æ±‚æé™","url":"/2023/09/18/learnnote/gao-deng-shu-xue/han-shu-qiu-ji-xian/","content":"å‡½æ•°æ±‚æé™\n\nå¸¸ç”¨çš„æ±‚æé™æ–¹æ³•ï¼ˆ8ç§ï¼‰\næ–¹æ³•1 åˆ©ç”¨åŸºæœ¬æé™æ±‚æé™\næ–¹æ³•2 åˆ©ç”¨ç­‰ä»·æ— ç©·å°ä»£æ¢æ±‚æé™\næ–¹æ³•3 åˆ©ç”¨æœ‰ç†è¿ç®—æ³•åˆ™æ±‚æé™\næ–¹æ³•4 åˆ©ç”¨æ´›å¿…è¾¾æ³•åˆ™æ±‚æé™\næ–¹æ³•5 åˆ©ç”¨æ³°å‹’å…¬å¼æ±‚æé™\næ–¹æ³•6 åˆ©ç”¨å¤¹é€¼åŸç†æ±‚æé™\næ–¹æ³•7 åˆ©ç”¨å•è°ƒæœ‰ç•Œå‡†åˆ™æ±‚æé™\næ–¹æ³•8 åˆ©ç”¨å®šç§¯åˆ†å®šä¹‰æ±‚æé™\n\næ–¹æ³•1 åˆ©ç”¨åŸºæœ¬æé™æ±‚æé™1ï¼‰å¸¸ç”¨çš„åŸºæœ¬æé™   \n\n$\\lim\\limits_{x\\rarr0} \\frac{sin x}{x} = 1$\n$\\lim\\limits_{x\\rarr0}(1+x)^\\frac{1}{x} = e$ \n$\\lim\\limits_{x\\rarr\\infty}(1+\\frac{1}{x})^x=e$ ï¼ˆè¿™é‡Œæ³¨æ„ä¸€ä¸‹ï¼Œæ¯”å¦‚$\\lim\\limits_{x\\to \\infty}(1+{(\\pm)a \\over x})^x = e^{(\\pm)a}$ï¼‰\n$\\lim\\limits_{x\\rarr0}\\frac{a^x-1}{x} = \\ln a$\n$\\lim\\limits_{n\\to \\infty}{\\sqrt[n]{n}} = 1$\n$\\lim\\limits_{n\\to \\infty}\\sqrt[n]{a} =1,(a&gt;0)$\n$\\lim\\limits_{x\\to \\infty}{a_n x^n+a_{n-1} x^{n-1}+â€¦+a_1x+a_0 \\over b_mx^m + b_{m-1} x^{m-1}+â€¦+b_1x+b_0} = \\begin{cases}{a_n \\over b_m},n=m,\\ 0,n&lt;m,\\ \\infty, n&gt;m.\\end{cases}$\n$\\lim\\limits_{x \\to \\infty}x^n = \\begin{cases} 0,|x|&lt;1,\\ \\infty, |x|&gt;1, \\ 1,x=1, \\ ä¸å­˜åœ¨, x=-1.\\end{cases}$\n$\\lim\\limits_{n\\to \\infty} e^{nx} = \\begin{cases} 0,x&lt;0,\\ +\\infty,x&gt;0, \\ 1, x=0.\\end{cases}$\n\n2ï¼‰â€$1^{\\infty}$â€ å‹æé™å¸¸ç”¨ç»“è®º\n\nè‹¥$\\lim{\\alpha(x)}=0, \\lim{\\beta{(x)}=\\infty}ï¼Œä¸”\\lim{\\alpha(x)\\beta(x) = A}$\nåˆ™$\\lim{(1+\\alpha(x))^{\\beta(x)}}=e^A$\nå¯ä»¥å½’çº³ä¸ºä»¥ä¸‹ä¸‰æ­¥ï¼š \n1ï¼‰å†™æ ‡å‡†å½¢å¼\tåŸå¼=$\\lim{[1+\\alpha(x)]^{\\beta(x)}};$\n2ï¼‰æ±‚æé™\t$\\lim{\\alpha(x)\\beta(x)} =A;$\n3ï¼‰å†™ç»“æœ\tåŸå¼$=e^A.$\n\næ–¹æ³•2 åˆ©ç”¨ç­‰ä»·æ— ç©·å°ä»£æ¢æ±‚æé™ï¼ˆ1ï¼‰ä»£æ¢åŸåˆ™ï¼š\n\naï¼‰ä¹˜é™¤å…³ç³»å¯ä»¥æ¢\n$è‹¥{\\alpha}ç­‰ä»·äº\\alpha_1 , \\beta ç­‰ä»·äº \\beta_1,åˆ™$\n$\\lim{\\alpha \\over \\beta} = \\lim{\\alpha_1 \\over \\beta} = lim{\\alpha \\over \\beta_1}$\nbï¼‰åŠ å‡å…³ç³»åœ¨ä¸€å®šæ¡ä»¶ä¸‹å¯ä»¥æ¢\n$è‹¥\\alpha \\sim \\alpha_1 , \\beta \\sim \\beta_1 , ä¸”\\lim{\\alpha_1 \\over \\beta_1} = A  \\neq 1 åˆ™ \\alpha-\\beta \\sim \\alpha_1 - \\beta_1.$\n$è‹¥\\alpha \\sim \\alpha_1, \\beta \\sim \\beta_1,ä¸” lim{\\alpha \\over \\beta_1} = A \\neq -1, \\alpha + \\beta \\sim \\alpha_1 + \\beta_1.$\n\nï¼ˆ2ï¼‰å¸¸ç”¨çš„ç­‰ä»·æ— ç©·å°ï¼šå½“$x\\to 0$æ—¶\n\n$x \\sim sinx \\sim tanx \\sim arcsinx \\sim arctanx \\sim ln(1+x) \\sim e^x-1;$\n$a^x-1 \\sim xlna, ~~~~~~~~~~(1+x)^{\\alpha}-1 \\sim \\alpha x,~~~~~~~~~~ 1-cos^{\\alpha}x \\sim {\\alpha \\over 2}x^2$\n$x-sinx \\sim {1 \\over 6}x^3 ~~~~~~~~~~tanx-x \\sim {1 \\over 3}x^3$\n$arcsinx -x \\sim {1 \\over 6}x^3 ~~~~~~~~~~ x-arctanx \\sim {1 \\over 3}x^3$\n\n\n$x-ln(1+x) \\sim \\frac{1}{2}x^2$\n\nç‰¹æ®Šä¾‹é¢˜æ³¨æ„ï¼š\nï¼ˆ2006å¹´2ï¼‰æ±‚æé™$\\lim_\\limits{x \\to  0} {1 \\over x^3}[({2+cosx \\over 3})^x-1]$\n\nè§£2ï¼šåŸå¼=$\\lim_\\limits{x \\to  0} {1 \\over x^3}[(1+{cosx-1 \\over 3})^x-1]$\n==æ³¨ï¼š==å½“$x \\to 0 æ—¶,(1+x)^{\\alpha} -1 \\sim \\alpha x . è¿™ä¸ªç»“è®ºæ¨å¹¿å¯å¾—:$\nè‹¥$\\alpha(x) \\to 0 , \\alpha(x) \\beta(x) \\to 0,$\nåˆ™$(1+\\alpha(x))^{\\beta (x)}-1 \\sim \\alpha (x) \\beta (x)$\n\næ–¹æ³•3 åˆ©ç”¨æœ‰ç†è¿ç®—æ³•åˆ™æ±‚æé™æœ‰ç†è¿ç®—æ³•åˆ™\n\n$è‹¥\\lim f(x)=A, \\lim g(x)=B,é‚£ä¹ˆ(æ³¨æ„ä¸¤è€…éƒ½æ˜¯å­˜åœ¨æé™çš„æ„æ€)ï¼š$\n$\\lim(f(x) \\pm g(x))= \\lim f(x) \\pm \\lim g(x)$\n$\\lim(f(x)Â·g(x)) = \\lim f(x) Â· \\lim g(x)$\n$\\lim({f(x) \\over g(x)}) = {\\lim f(x) \\over \\lim g(x)} (B \\neq 0)$\n==æ³¨ï¼š==\n1ï¼‰$å­˜åœ¨ \\pm ä¸å­˜åœ¨ = ä¸å­˜åœ¨ï¼›$\n2ï¼‰$ä¸å­˜åœ¨ \\pm ä¸å­˜åœ¨ = ä¸ä¸€å®š.$\n3ï¼‰$å­˜åœ¨ \\times \\div ä¸å­˜åœ¨ =ä¸ä¸€å®šï¼›$\n4ï¼‰$ä¸å­˜åœ¨ \\times \\div ä¸å­˜åœ¨ = ä¸ä¸€å®š.$\n\næ–¹æ³•4 åˆ©ç”¨æ´›å¿…è¾¾æ³•åˆ™æ±‚æé™æ´›å¿…è¾¾æ³•åˆ™\n\nè‹¥ 1ï¼‰$\\lim_\\limits{x \\to x_0}{f(x)} = \\lim_\\limits{x \\to x_0}{g(x)} = 0 (\\infty);$\n2ï¼‰$f(x)å’Œ g(x)åœ¨x_0çš„æŸå»å¿ƒé¢†åŸŸå†…å¯å¯¼ï¼Œä¸”gâ€™(x) \\neq 0;$\n3ï¼‰$\\lim_\\limits{x \\to x_0}{fâ€™(x) \\over gâ€™(x)}å­˜åœ¨(æˆ– \\infty);$\n$åˆ™\\lim_\\limits{x \\to x_0}{f(x) \\over g(x)} = \\lim_\\limits{x \\to x_0}{fâ€™(x) \\over gâ€™(x)}.$\n==æ³¨:==$ln|x|æ±‚å¯¼ä»ç„¶æ˜¯{1 \\over x}$\n\n\n==æ³¨ï¼š==\n1ï¼‰é€‚ç”¨ç±»å‹$~~~~~~~~~~{0 \\over 0};{\\infty \\over \\infty};0Â·\\infty;\\infty-\\infty; 1^{\\infty}; \\infty ^0 ; 0^0$\n2ï¼‰è§£é¢˜æ€è·¯$~~~~~~~~~~ {0\\over 0} Â·{\\infty \\over \\infty} \\Larr {\\begin{cases}0Â·\\infty {\\Larr \\begin{cases} 1^{\\infty} \\ {\\infty}^0 \\ 0^0 \\end{cases}} \\ \\infty - \\infty \\end{cases}}$\n\næ–¹æ³•5 åˆ©ç”¨æ³°å‹’å…¬å¼æ±‚æé™\n$å®šä¹‰ï¼ˆæ³°å‹’å…¬å¼ï¼‰è®¾f(x)åœ¨x=x_0å¤„né˜¶å¯å¯¼ï¼Œåˆ™$\n$f(x)=f(x_0)+fâ€™(x_0)(x-x_0)+Â·Â·Â·+{f^{(x)}(x_0) \\over n!}(x-x_0)^n+o(x-x_0)^n$\nå‡ ä¸ªå¸¸ç”¨çš„æ³°å‹’å…¬å¼\n$(1) e^x=1+x+{x^2 \\over 2!}+Â·Â·Â·+{x^n \\over n!}+ o(x^n)$\n$(2)sinx =x-{x^3 \\over 3!}+Â·Â·Â·+(-1)^{n-1}{x^{2n-1} \\over (2n-1)!} + o(x^{2n})$\n$(3) cosx= 1-{x^2 \\over 2!}+Â·Â·Â·+(-1)^n{x^{2n} \\over (2n)!}+ o(x^{2n})$\n$(4) ln(1+x)=x-{x^2 \\over 2}+Â·Â·Â·+(-1)^{n-1}{x^n \\over n}+o(x^n)$\n$(5) (1+x)^{\\alpha}=1+\\alpha x + {\\alpha (\\alpha -1) \\over 2!}x^2+Â·Â·Â· + {\\alpha (\\alpha -1)Â·Â·Â·(\\alpha -n +1) \\over n!}x^n+o(x^n)$\n\næ–¹æ³•6 åˆ©ç”¨å¤¹é€¼åŸç†æ±‚æé™æ–¹æ³•7 åˆ©ç”¨å•è°ƒæœ‰ç•Œå‡†åˆ™æ±‚æé™æ–¹æ³•8 åˆ©ç”¨å®šç§¯åˆ†å®šä¹‰æ±‚æé™","categories":["æ•°å­¦"],"tags":["å‡½æ•°","æé™"]},{"title":"å‡½æ•°çš„è¿ç»­æ€§","url":"/2023/12/16/learnnote/gao-deng-shu-xue/han-shu-de-lian-xu-xing/","content":"ç¬¬ä¸‰èŠ‚ å‡½æ•°çš„è¿ç»­æ€§\nï¼ˆä¸€ï¼‰è¿ç»­æ€§çš„æ¦‚å¿µ\n\n\nï¼ˆäºŒï¼‰é—´æ–­ç‚¹åŠå…¶åˆ†ç±»1.é—´æ–­ç‚¹çš„å®šä¹‰\n\n\n\n2.é—´æ–­ç‚¹çš„åˆ†ç±»\n\n\n\nä»€ä¹ˆå«åšå¯å»é—´æ–­ç‚¹ï¼š\n\nç»™å®šä¸€ä¸ªå‡½æ•°f (x)ï¼Œå¦‚æœxâ‚€æ˜¯å‡½æ•°f (x)çš„é—´æ–­ç‚¹ï¼Œå¹¶ä¸”f (x)åœ¨xâ‚€å¤„çš„å·¦æé™å’Œå³æé™å‡å­˜åœ¨çš„ç‚¹ç§°ä¸ºç¬¬ä¸€ç±»é—´æ–­ç‚¹ã€‚ è‹¥f (x)åœ¨xâ‚€å¤„å¾—åˆ°å·¦ã€å³æé™å‡å­˜åœ¨ä¸”ç›¸ç­‰çš„é—´æ–­ç‚¹ï¼Œç§°ä¸ºå¯å»é—´æ–­ç‚¹ã€‚\n\nï¼ˆä¸‰ï¼‰è¿ç»­æ€§çš„è¿ç®—ä¸æ€§è´¨\n\n\nï¼ˆå››ï¼‰é—­åŒºé—´ä¸Šè¿ç»­å‡½æ•°çš„æ€§è´¨\n\n\n\n","categories":["æ•°å­¦"],"tags":["å‡½æ•°"]},{"title":"å„ç±»å‡½æ•°æ±‚å¯¼","url":"/2024/01/24/learnnote/gao-deng-shu-xue/ge-lei-han-shu-qiu-dao/","content":"å„ç±»å‡½æ•°æ±‚å¯¼\nå¸¸è§æ±‚å¯¼\n","categories":["æ•°å­¦"],"tags":["å¯¼æ•°"]},{"title":"å¯¹æ•°å‡½æ•°ç›¸å…³å†…å®¹","url":"/2023/11/17/learnnote/gao-deng-shu-xue/dui-shu-han-shu-xiang-guan/","content":"å¯¹æ•°å‡½æ•°ç›¸å…³å†…å®¹\nåŸºæœ¬çŸ¥è¯†ï¼š\n$log_a(1) = 0;$\n$log_a(a)=1;$\n$log_ab*log_ba =1;$\n\nå¯¹æ•°è¿ç®—æ³•åˆ™1ã€ä¸¤ä¸ªæ­£æ•°çš„ç§¯çš„å¯¹æ•°ï¼Œç­‰äºåŒä¸€åº•æ•°çš„è¿™ä¸¤ä¸ªæ•°çš„å¯¹æ•°çš„å’Œï¼Œå³ï¼š\n\n $log_a(mn)=log_am+log_an$\n\n2ã€ä¸¤ä¸ªæ­£æ•°å•†çš„å¯¹æ•°ï¼Œç­‰äºåŒä¸€åº•æ•°çš„è¢«é™¤æ•°çš„å¯¹æ•°å‡å»é™¤æ•°å¯¹æ•°çš„å·®ï¼Œå³ï¼š\n\n$log_a({m\\over n})=log_am-log_an$\n\n3ã€ä¸€ä¸ªæ­£æ•°å¹‚çš„å¯¹æ•°ï¼Œç­‰äºå¹‚çš„åº•æ•°çš„å¯¹æ•°ä¹˜ä»¥å¹‚çš„æŒ‡æ•°ï¼Œå³ï¼š\n\n$log_am^n = nlog_am$\n\n4ã€è‹¥å¼ä¸­å¹‚æŒ‡æ•°åˆ™æœ‰ä»¥ä¸‹çš„æ­£æ•°çš„ç®—æœ¯æ ¹çš„å¯¹æ•°è¿ç®—æ³•åˆ™:ä¸€ä¸ªæ­£æ•°çš„ç®—æœ¯æ ¹çš„å¯¹æ•°ï¼Œç­‰äºè¢«å¼€æ–¹æ•°çš„å¯¹æ•°é™¤ä»¥æ ¹æŒ‡æ•°ï¼Œå³ï¼š\n\n$log_a{\\sqrt[n]{m}} = {1\\over n}log_am$\n\n5ã€æ¨å¯¼\n\n$a^m\\cdot a^n =a^{m+n}(m,n\\in R)$\n${a^m \\over a^n} = a^{m-n}(m,n\\in R)$\n$(a^m)^n= a^{mn}(m,n\\in R)$\n$(ab)^n=a^b\\cdot b^n (n\\in R)$\n$log_aM + log_aN = ?$\n\n","categories":["æ•°å­¦"],"tags":["å¯¹æ•°"]},{"title":"æé™æ¦‚å¿µ","url":"/2023/10/08/learnnote/gao-deng-shu-xue/ji-xian-de-gai-nian/","content":"$$||a|-|b||&lt;=|a-b|$$\nè§åˆ°eæ— ç©·å°±æ³¨æ„åˆ†å·¦å³ã€‚\nè§åˆ°arctanä¹Ÿè¦æ³¨æ„åˆ†å·¦å³ã€‚\nä»€ä¹ˆæ˜¯ç­‰ä»·æ— ç©·å°ï¼šç­‰ä»·æ— ç©·å°æ„å‘³ç€ï¼š\n\n $$\\lim\\limits_{x\\rarr0}\\frac{a(x)}{b(x)}=1$$\n\næ¯”å¦‚:\n\n$$a(x)=x^2 å’Œ b(x)=3x^2$$\nè¿™ä¸ªéƒ½æ˜¯äºŒé˜¶çš„ï¼Œä½†æ˜¯å®ƒä»¬å¹¶éç­‰ä»·æ— ç©·å°ï¼Œå› ä¸ºç­‰ä»·æ— ç©·å°æ„å‘³ç€ï¼š\n$$\\lim\\limits_{x\\rarr0}\\frac{a(x)}{b(x)}=1$$\nè€Œä¸Šé¢è¿™ä¸ªä¾‹å­ç»“æœæ˜¯$$3\\neq1$$\nè¿™å°±å«åŒé˜¶ä¸ç­‰ä»·æ— ç©·å°ï¼Œå› ä¸ºåŒé˜¶æ— ç©·å°åŒ…æ‹¬ç­‰ä»·æ— ç©·å°\n\næ— ç©·å°çš„æ€§è´¨\næœ‰é™ä¸ªæ— ç©·å°çš„å’Œä»æ˜¯æ— ç©·å°ã€‚\næœ‰é™ä¸ªæ— ç©·å°çš„ç§¯ä»æ˜¯æ— ç©·å°ã€‚\næ— ç©·å°é‡ä¸æœ‰ç•Œé‡çš„ç§¯ä»æ˜¯æ— ç©·å°ã€‚\n\næ— ç©·å¤§é‡\næ— ç©·å¤§é‡çš„æ¦‚å¿µï¼Œè‹¥å‡½æ•°$$f(x)å½“x\\rarr x_0(æˆ–x\\rarr\\infty)æ—¶è¶‹äºæ— ç©·ï¼Œåˆ™ç§°f(x)ä¸ºx\\rarr x_0(æˆ–x \\rarr \\infty)æ—¶çš„æ— ç©·å¤§é‡ã€‚$$\nå³:è‹¥å¯¹ä»»æ„ç»™çš„çš„M&gt;0ï¼Œæ€»å­˜åœ¨$$\\delta$$ &gt;0ï¼Œå½“\n$$0&lt;|x-x_0|&lt;\\deltaæ—¶ï¼Œæ¨ªæœ‰|f(x)|&gt;M$$.\n\nå¸¸ç”¨çš„ä¸€äº›æ— ç©·å¤§é‡çš„æ¯”è¾ƒ\nï¼ˆ1ï¼‰å½“$$x\\rarr+\\inftyæ—¶$$\n$$ln^\\alpha x &lt;&lt; x^\\beta &lt;&lt; a^x$$\nå…¶ä¸­$$\\alpha&gt;0,\\beta &gt;0 ,a&gt;1$$\n(2)æ•°åˆ—é‡Œé¢å½“$$n\\rarr \\inftyæ—¶$$\n$$ln^\\alpha n&lt;&lt; n^\\beta &lt;&lt; n! &lt;&lt; n^n$$\nå…¶ä¸­$$\\alpha&gt;0,\\beta&gt;0,a&gt;1$$\n\næ— ç©·å¤§é‡çš„æ€§è´¨\nï¼ˆ1ï¼‰ä¸¤ä¸ªï¼ˆæœ‰é™ä¸ªï¼‰æ— ç©·å¤§é‡çš„ç§¯ä»ä¸ºæ— ç©·å¤§é‡ï¼›\nï¼ˆ2ï¼‰æ— ç©·å¤§é‡ä¸æœ‰ç•Œå˜é‡ä¹‹å’Œä»ä¸ºæ— ç©·å¤§é‡ã€‚\n\næ— ç©·å¤§é‡ä¸æ— ç•Œå˜é‡çš„å…³ç³»ï¼š\n1ï¼‰æ•°åˆ—$${x_n}$$æ˜¯æ— ç©·å¤§é‡ï¼š\n$$\\forall M&gt;0,\\exists N&gt;0,å½“n&gt;Næ—¶ï¼Œæ’æœ‰|x_n|&gt;M.$$\n2ï¼‰æ•°åˆ—$${x_n}$$æ˜¯æ— ç•Œå˜é‡ï¼š\n$$\\forall M &gt;0,\\exists N&gt;0,ä½¿|x_N|&gt;M.$$\n$$æ— ç©·å¤§é‡\\Rarræ— ç•Œå˜é‡$$\n\næ— ç©·å¤§é‡ä¸æ— ç©·å°é‡çš„å…³ç³»\nåœ¨åŒä¸€æé™è¿‡ç¨‹ä¸­ï¼Œå¦‚æœ$f(x)$æ˜¯æ— ç©·å¤§ï¼Œåˆ™$\\frac{1}{f(x)}$æ˜¯æ— ç©·å°ï¼›åä¹‹ï¼Œå¦‚æœ$f(x)$æ˜¯æ— ç©·å°ï¼Œä¸”$f(x)\\ne 0$ï¼Œåˆ™$\\frac{1}{f(x)}$æ˜¯æ— ç©·å¤§ï¼›\n\n","categories":["æ•°å­¦"],"tags":["æé™"]},{"title":"å¯¼æ•°çš„å®šä¹‰","url":"/2024/01/24/learnnote/gao-deng-shu-xue/gao-shu-2-1-dao-shu-de-ding-yi/","content":"é«˜æ•°2-1 å¯¼æ•°çš„å®šä¹‰\nå¸¸è€ƒé¢˜å‹ä¸å…¸å‹ä¾‹é¢˜ï¼š\n1.å¯¼æ•°å®šä¹‰ï¼›==éš¾ç‚¹==\n2.å¤åˆå‡½æ•°ã€éšå‡½æ•°ã€å‚æ•°æ–¹ç¨‹æ±‚å¯¼ï¼›\n3.é«˜é˜¶å¯¼æ•°;==éš¾ç‚¹==\n4.å¯¼æ•°åº”ç”¨;\n\næ–œç‡å’Œå¯¼æ•°å¯¼æ•°ï¼ˆDerivativeï¼‰ï¼Œä¹Ÿå«å¯¼å‡½æ•°å€¼ã€‚åˆåå¾®å•†ï¼Œæ˜¯å¾®ç§¯åˆ†å­¦ä¸­é‡è¦çš„æ¦‚å¿µã€‚å¯¼æ•°å…¶å®å°±æ˜¯å‡½æ•°åœ¨æŸä¸€ä¸ªç‚¹çš„æ–œç‡ï¼Œæˆ–è€…å¯ä»¥è¯´æˆæ˜¯è¯¥ç‚¹çš„ç¬æ—¶å˜åŒ–ç‡ã€‚\nï¼ˆä¸€ï¼‰å¯¼æ•°ä¸å¾®åˆ†çš„æ¦‚å¿µ1.å¯¼æ•°çš„æ¦‚å¿µ\nå®šä¹‰1ï¼ˆå¯¼æ•°ï¼‰$fâ€™(x_0)= \\lim_\\limits{â–³x \\to 0}{â–³y \\over â–³x} = \\lim_\\limits{â–³x \\to 0}{f(x_0 + â–³x)-f(x_0) \\over â–³x}$\n$fâ€™(x_0) = \\lim_\\limits{x \\to x_0}{f(x)-f(x_0) \\over x-x_0}$\nå®šä¹‰2ï¼ˆå·¦å¯¼æ•°ï¼‰$fâ€™-(x_0)= \\lim\\limits{â–³x \\to 0^-}{â–³y \\over â–³x} = \\lim_\\limits{â–³x \\to 0^-}{f(x_0 + â–³x)-f(x_0) \\over â–³x}$\nå®šä¹‰3ï¼ˆå³å¯¼æ•°ï¼‰$fâ€™+(x_0) = \\lim\\limits{â–³x \\to 0^+}{â–³y \\over â–³x} = \\lim_\\limits{â–³x \\to 0^+}{f(x_0 + â–³x)-f(x_0) \\over â–³x}$\nå®šç†1 å¯å¯¼çš„å……è¦æ¡ä»¶ï¼šå·¦å³å¯¼æ•°éƒ½å­˜åœ¨ä¸”ç›¸ç­‰ã€‚å·¦å³å¯¼æ•°éƒ½å­˜åœ¨ä¸”ç›¸ç­‰æ‰èƒ½æ¨å‡ºå¯å¯¼ã€‚\n\nå³ï¼š$å¯å¯¼\\Lrarr å·¦å³å¯¼æ•°éƒ½å­˜åœ¨ä¸”ç›¸ç­‰$\n\nå®šä¹‰4ï¼ˆåŒºé—´ä¸Šå¯å¯¼åŠå¯¼å‡½æ•°ï¼‰ \n\nç»™ä¸€ä¸ª(aï¼Œb)åŒºé—´ä¸Šå¯å¯¼æ˜¯æŒ‡åœ¨è¿™ä¸ªåŒºé—´å†…æ¯ä¸ªç‚¹éƒ½æœ‰å¯¼æ•°ï¼Œæˆ‘ä»¬å°±ç§°ä¸ºåœ¨è¿™ä¸ªåŒºé—´ä¸Šå¯å¯¼ã€‚\n\nï¼ˆä¸€ï¼‰ å¯¼æ•°çš„å®šä¹‰ä¾‹ï¼š(1994å¹´3)å·²çŸ¥$fâ€™(x_0)=-1ï¼Œåˆ™\\lim_\\limits{x \\to 0}{x \\over f(x_0-2x)-f(x_0 - x) }= ?.$\n==æ³¨==ï¼šå¦‚æœåªåªéœ€è¦ç­”æ¡ˆçš„é¢˜ç›®å¯ä»¥ä½¿ç”¨å…·ä½“å‡½æ•°æ³•æ¥è§£è¿™ç§é¢˜ã€‚ä½†æ˜¯å…·ä½“å‡½æ•°æ³•ä¸èƒ½ä½¿ç”¨åœ¨è§£ç­”é¢˜ï¼ï¼ï¼\n\n\n\n\nä¾‹20æ³¨æ„ï¼Œè¿™é¢˜è€ƒçš„æ˜¯å¯¼æ•°å®šä¹‰çš„é€†å‘æ¨å¯¼ï¼Œè€Œæ˜¯å¦å¯å¯¼å¿…é¡»è¦æ»¡è¶³å…¶å…¨éƒ¨æ¡ä»¶æ‰è¡Œï¼Œå³ï¼šå¯ä»¥é€šè¿‡å…¶å¯¼åŸºæœ¬å½¢å¼ï¼Œå…¶ä¸­å¯å˜é¡¹å¿…é¡»æ˜¯è¶‹äº0å¹¶ä¸”ä¸ç­‰äº0ï¼Œè€Œä¸”å…¶ä¸­è¶‹äº0å¿…é¡»æ»¡è¶³æ­£è´Ÿçš„è¶‹äºï¼Œä¸èƒ½æ˜¯å•è¾¹ã€‚\n\nå¾®åˆ†çš„æ¦‚å¿µ\n$å®šä¹‰5ï¼ˆå¾®åˆ†ï¼‰å¦‚æœâ–³y=f(x_0 +â–³x)- f(x_0)å¯ä»¥è¡¨ç¤ºä¸º$\n$â–³y=Aâ–³x+ o(â–³x)~~~~~~~~~~~~~(â–³x \\to 0)$\n==æ³¨ï¼š==è¿™é‡Œ$o(â–³x)$æŒ‡çš„æ˜¯$â–³x$çš„é«˜é˜¶æ— ç©·å°\n$åˆ™ç§°å‡½æ•°f(x)åœ¨ç‚¹x_0 å¤„å¯å¾®ï¼Œç§° Aâ–³xä¸ºå¾®åˆ†ï¼Œè®°ä¸º$\n$dy=Aâ–³x$\nå¾®åˆ†å…¶å®å°±æ˜¯å‡½æ•°è¯¥å˜é‡çš„è¿‘ä¼¼å€¼\n\n","categories":["æ•°å­¦"],"tags":["å¯¼æ•°"]},{"title":"ä¸ªäººç®—æ³•å­¦ä¹ è¿›åº¦è¡¨","url":"/2024/03/08/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-bi-ji/ge-ren-suan-fa-xue-xi-jin-du-biao/","content":"ä¸ªäººç®—æ³•å­¦ä¹ è¿›åº¦è¡¨\n\n\n\nç®—æ³•åç§°\næ˜¯å¦å·²å­¦\nç®—æ³•åç§°ç§°\næ˜¯å¦å·²å­¦\nç®—æ³•åç§°\næ˜¯å¦å·²å­¦\nç®—æ³•åç§°ç§°\næ˜¯å¦å·²å­¦\n\n\n\nDFS\nâœ…\nBFS\nâœ…\näºŒåˆ†\nâœ…\nå…¨æ’åˆ—\nâœ…\n\n\nå·®åˆ†\nâœ…\nå‰ç¼€å’Œ\nâœ…\näºŒç»´å·®åˆ†\nâœ…\näºŒç»´å‰ç¼€å’Œ\nâœ…\n\n\næ ‘çŠ¶æ•°ç»„\nâœ…\nå¹¶æŸ¥é›†\nâœ…\nè´ªå¿ƒ\nâœ…\nçº¿æ€§ç­›\nâœ…\n\n\næœæ•™ç­›\nâœ…\nDijkstra\nâœ…\nKruskal\nâœ…\nManacher\nâœ…\n\n\né€†å…ƒ\nâœ…\nå¿«é€Ÿå¹‚\nâœ…\nè´¨å› æ•°åˆ†è§£\nâœ…\nPrim\nâœ…\n\n\nSegment Tree(çº¿æ®µæ ‘)\nâœ…\nèƒŒåŒ…DP\nâœ…\nçº¿æ€§DP\nâœ…\nçŠ¶æ€å‹ç¼©DP\nâœ…\n\n\næ ‘å½¢DP\nâœ…\næ•°ä½DP\nâœ…\näº’è´¨\nâœ…\nKMP\nâœ…\n\n\né“¾å¼å‘å‰æ˜Ÿ\nâœ…\næ¨¡æ‹Ÿé€€ç«\nâœ…\nSTè¡¨\nâœ…\n\n\n\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•"]},{"title":"æ•°ä½DPé¢˜ç›®çš„è®¨è®º","url":"/2023/06/09/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-bi-ji/shu-wei-dp-de-tao-lun/","content":"æ•°ä½DPé¢˜ç›®çš„è®¨è®º\nè¯´æ˜ï¼š\nå°±ç›®å‰æ¥è¯´ï¼Œæ‰€é‡è§çš„æ•°ä½DPçš„é¢˜ç›®ç±»å‹ä¸»è¦å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§ç±»å‹ï¼š\n1ã€å„ä¸ªä½ä¹‹é—´æ•°å­—çš„å·®å¼‚ç»Ÿè®¡\nå…¸å‹çš„é¢˜ç›®æœ‰ï¼šClassy Numbers - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n2ã€æ•°å­—çš„ç¬¦åˆè¦æ±‚ç»Ÿè®¡\nå…¸å‹çš„é¢˜ç›®æœ‰ï¼š[P2657 SCOI2009] windy æ•° - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["DP"]},{"title":"æ ‘å½¢DPçš„è®¨è®º","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-bi-ji/shu-xing-dp-de-tao-lun/","content":"æ ‘å½¢DPçš„è®¨è®º\nè®¨è®ºï¼š\nå…³äºæ ‘å½¢DPã€‚æ ‘å½¢DPæ¯”è¾ƒé€‚åˆè§£å†³ä¸€äº›æœ‰ç›¸äº’å…³ç³»å’Œä¾èµ–çš„çš„é¢˜å‹ï¼Œæ¯”è¾ƒå…¸å‹çš„æœ‰æ²¡æœ‰ä¸Šå¸çš„èˆä¼šã€é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆã€è¿™ä¸€ç±»é¢˜ç›®ã€‚\né¦–å…ˆæˆ‘å…ˆè¯´ä¸€ä¸‹å…³äºæ ‘å½¢DPï¼Œé¡¾åæ€ä¹‰å…¶å«ä¹‰å°±æ˜¯åœ¨æ ‘è¿™ç§æ•°æ®ç»“æ„ä¸Šè¿›è¡ŒDPç®—æ³•çš„è¿ç®—ã€‚\n\næ ‘ä¸ŠèƒŒåŒ…DP\nè®¨è®ºï¼š\næ ‘ä¸ŠèƒŒåŒ…DPè¿™ç±»æ˜¯æ¯”è¾ƒå…¸å‹çš„æ ‘å½¢DPé¢˜ç›®ã€‚å…¶ä¸­ä¸»è¦å†™é¢˜æ­¥éª¤ä¸ºè¿™å‡ ç‚¹ï¼š\né¦–å…ˆæ‰¾åˆ°æˆ‘ä»¬éœ€è¦DPçš„å®¹é‡ã€‚ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„èƒŒåŒ…å®¹ç§¯å¤§å°ï¼Œç„¶åå°±æ˜¯æ‰¾åˆ°æˆ‘ä»¬çš„éœ€è¦DPçš„ç‰©å“ï¼Œå¸¸è§„çš„æ ‘ä¸ŠDPé¢˜ä¸»è¦å…³é”®æ•°æ®å°±è¿™ä¸¤ä¸ªã€‚è¿™é‡Œæˆ‘å°±æ‹¿æ¯”è¾ƒå…¸å‹çš„ä¸€é“é¢˜æ¥è¯´ä¸€ä¸‹ã€‚\n(ä»¥ä¸‹é¢˜ç›®ä¸ºè“æ¡¥å®˜æ–¹çš„VIPé¢˜ï¼Œæˆ‘çœ‹æ¯”è¾ƒå…¸å‹å°±æŠŠå®ƒæˆªä¸‹æ¥äº†)\n\n\nç”±å›¾å¯çŸ¥ï¼Œæˆ‘ä»¬çš„èƒŒåŒ…å®¹é‡ä¸ºVã€‚å•†åœºä¸€å…±æœ‰Nä»¶ç‰©å“ã€‚ç¬¬iä»¶ç‰©å“çš„ä½“ç§¯ä¸º$$w_i$$ï¼Œä»·å€¼ä¸º$$v_i$$ï¼Œå…¶ä¸­ä¾èµ–çš„ä¸»ç‰©ä»¶ä¸º$$s_i$$ã€‚\nè¿™é‡Œæˆ‘ä»¬å®šä¹‰ä»ç¬¬äºŒè¡Œè¾“å…¥çš„æ•°æ®ä½œä¸ºä¸‹æ ‡ä¸º1çš„ç‰©å“ï¼Œä»¥æ­¤ç±»æ¨ã€‚åœ¨æ„å»ºæ ‘çš„æ—¶å€™æˆ‘ä»¬å°±ä»¥0ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œ1æ„æ€ä¸ºç¬¬ä¸€ä»¶ç‰©å“ï¼Œ2ä¸ºç¬¬äºŒä»¶ç‰©å“ä¾æ¬¡ç±»æ¨ã€‚\nä»è¿™æˆ‘ä»¬å°±å¯ä»¥ä¸‹æ‰‹ï¼Œæˆ‘ä»¬ä»æµ‹è¯•æ•°æ®ä½œä¸ºä¾‹å­è¿›è¡Œå¼•å…¥ã€‚ä»¥ä¸‹ä¸ºæˆ‘ä¾æ® æµ‹è¯•æ•°æ®ç”»çš„æ ‘å½¢DPçš„æ ‘å½¢å›¾ï¼š\n\nè¿™é‡Œåœˆé‡Œé¢çš„æ•°å­—ä»£è¡¨çš„æ˜¯ç‰©å“çš„ç¼–å·ï¼Œç¼–å·ä¸º0å¯ä»¥å¿½ç•¥ä»–åªä½œä¸ºæ ¹èŠ‚ç‚¹ã€‚å…¶é™„è¿‘çš„wã€vã€såˆ†åˆ«ä»£è¡¨å¯¹åº”ç¼–å·ç‰©å“çš„ä½“ç§¯ã€ä»·å€¼ã€ä¾èµ–çš„çˆ¶ç‰©å“ã€‚\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["DP"]},{"title":"ç«èµ›ç®—æ³•ä½¿ç”¨åˆ†æ","url":"/2024/03/08/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-bi-ji/jing-sai-suan-fa-shi-yong-fen-xi/","content":"ç«èµ›ç®—æ³•ä½¿ç”¨åˆ†æ\n\nè¯´æ˜ï¼š\n\n\nå…³äºç®—æ³•åˆ†ææœ¬äººå…¨å‡­ç»éªŒä¹‹è°ˆï¼Œå…·ä½“è¿˜æ˜¯è¦æ ¹æ®è‡ªèº«å’Œé¢˜ç›®æƒ…å†µè€Œå®š\n\né’ˆå¯¹æœ‰åºæ€§æ•°æ®ï¼ˆå•è°ƒå¢ã€æˆ–è€…å‡ï¼‰å¯ä»¥è”æƒ³åˆ°äºŒåˆ†æˆ–è€…åŒæŒ‡é’ˆç­‰ç®—æ³•\né’ˆå¯¹æ—¶åºæ€§æ•°æ®å¯ä»¥è”æƒ³ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ã€‚\nå¸¦æœ‰çŠ¶æ€ç»‘å®šçš„å¯ä»¥è”æƒ³DP\næ•°å­—æˆ–è€…å­—ç¬¦ç‰¹å¾ç»Ÿè®¡çš„å¯ä»¥å°è¯•è”æƒ³æ•°ä½DPæˆ–è€…Manacheræˆ–è€…KMP\næ•°æ®åŒºé—´æ“ä½œç±»å¯ä»¥è”æƒ³å·®åˆ†ã€å‰ç¼€å’Œã€æ ‘çŠ¶æ•°ç»„ã€çº¿æ®µæ ‘\nçŸ©é˜µç±»å¯ä»¥è¯•ç€è”æƒ³çº¬åº¦å‹ç¼©åè¿›è¡ŒåŒæŒ‡é’ˆï¼Œæˆ–è€…ä½¿ç”¨äºŒåˆ†å·®åˆ†æˆ–è€…äºŒç»´å‰ç¼€å’Œ\nå…³äºçº¿æ€§å¹³å‡ç±»é¢˜å‹å¯ä»¥æ€è€ƒä¸€ä¸‹æ–¹å·®ç›¸å…³çš„æ•°å­¦å®šç†å’Œå¹³å‡ç›¸å…³çš„æ•°å­¦å®šç†\nå‰ç¼€å’Œçš„é—®é¢˜å¼€æ•°ç»„æœ€å¥½æ˜¯ä»1å¼€å§‹æ¯”è¾ƒå¥½\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•"]},{"title":"ç®—æ³•é¢˜å‹åˆ†æ","url":"/2024/03/18/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-bi-ji/suan-fa-ti-xing-fen-xi/","content":"ç®—æ³•é¢˜å‹åˆ†æ\nDFSç®—æ³•ï¼š\næ•°æ®ç±»æ¨¡æ‹Ÿç±»ç®—æ³•é¢˜\nåœ°å›¾æ¨¡æ‹Ÿç±»ç®—æ³•é¢˜\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["ç®—æ³•é¢˜å‹åˆ†æ"]},{"title":"è€ƒç ”æ•°æ®ç»“æ„ä¸ç®—æ³•","url":"/2024/01/24/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-bi-ji/kao-yan-shu-ju-jie-gou-yu-suan-fa/","content":"è€ƒç ”æ•°æ®ç»“æ„ä¸ç®—æ³•\nå¸¸è§å››ç±»åŸºæœ¬ç»“æ„\né›†åˆ\nçº¿æ€§ç»“æ„\næ ‘å½¢ç»“æ„\nç½‘çŠ¶ç»“æ„\n\ngraph TB;  A[æ•°æ®å¾—é€»è¾‘ç»“æ„]--&gt;B[çº¿æ€§ç»“æ„];  A--&gt;C[éçº¿æ€§ç»“æ„];  B--&gt;D[ä¸€èˆ¬çº¿æ€§ç»“æ„];  B--&gt;E[å—é™çº¿æ€§è¡¨];  B--&gt;F[çº¿æ€§è¡¨æ¨å¹¿];  E--&gt;G[æ ˆå’Œé˜Ÿåˆ—];  E--&gt;H[ä¸²];  F--&gt;I[æ•°ç»„];  C--&gt;J[é›†åˆ];  C--&gt;K[æ ‘å½¢ç»“æ„];  C--&gt;L[å›¾çŠ¶ç»“æ„];  K--&gt;M[ä¸€èˆ¬æ ‘];  K--&gt;N[äºŒå‰æ ‘];  L--&gt;O[æœ‰å‘å›¾];  L--&gt;P[æ— å‘å›¾];\n\n\n\næ ‘\näºŒå‰æ ‘äºŒå‰æ ‘çš„å¸¸è§éå†æ–¹å¼ï¼š\nå…ˆæ ¹åºéå†\nä¸­æ ¹åºéå†\nåæ ¹åºéå†\n==æ³¨:==è¿™é‡Œçš„æ ¹æŒ‡çš„æ˜¯ç›¸å¯¹å­æ ‘çš„æ ¹\n\nå…ˆæ ¹åºéå†å·§å¦™æ–¹æ³•ï¼š\næŠ€å·§ï¼šä»æ¯ä¸ªç»“ç‚¹å¼•å‡ºä¸€æ¡çº¿æ¥ï¼Œç”»çš„æ–¹å¼ä¸ºä»å·¦ç”»çº¿å†å‘ä¸‹ç”»çº¿ã€‚è®©ä»å·¦å¾€å³æ•°å‡ºç›¸åº”çš„ç»“æœå³å¯ã€‚\n==æ³¨:==æ‰€ç”»çº¿æ¡ä¸èƒ½äº¤å‰ã€‚\n\n\nä¸­æ ¹åºéå†å·§å¦™æ–¹æ³•ï¼š\næŠ€å·§ï¼šä»æ¯ä¸ªç»“ç‚¹å¼•å‡ºä¸€æ¡çº¿æ¥ï¼Œç”»çš„æ–¹å¼ä¸ºç›´æ¥ç”»æ–œç›´çº¿ï¼Œæ•°å‡ºç›¸åº”çš„ç»“æœå³å¯ã€‚\n==æ³¨:==æ‰€ç”»çº¿æ¡ä¸èƒ½äº¤å‰ã€‚\n\n\nåæ ¹åºéå†å·§å¦™æ–¹æ³•ï¼š\næŠ€å·§ï¼šä»æ¯ä¸ªç»“ç‚¹å¼•å‡ºä¸€æ¡çº¿æ¥ï¼Œç”»çš„æ–¹å¼ä¸ºä»å³ç”»çº¿å†å‘ä¸‹ç”»çº¿ã€‚è®©ä»å·¦å¾€å³æ•°å‡ºç›¸åº”çš„ç»“æœå³å¯ã€‚\n==æ³¨:==æ‰€ç”»çº¿æ¡ä¸èƒ½äº¤å‰ã€‚\n\n\nå“ˆå¤«æ›¼æ ‘å“ˆå¤«æ›¼å®é™…ç”¨é€”ï¼š\nå‹ç¼©ï¼Œå…¶ä¸­å‹ç¼©åˆ†ä¸ºæœ‰æŸå‹ç¼©å’Œæ— æŸå‹ç¼©ï¼Œå…¶ä¸­å“ˆå¤«æ›¼ä¸ºæ— æŸå‹ç¼©\n\nå¦‚ä½•æ„å»ºå“ˆå¤«æ›¼æ ‘ï¼š1ã€æŠŠæ‰€æœ‰èŠ‚ç‚¹çœ‹æˆä¸€æ£µæ ‘\n2ã€æ‰¾æƒå€¼æœ€å°çš„ä¸¤ä¸ªæ ‘çš„èŠ‚ç‚¹ï¼Œç»„æˆä¸€é¢—æ–°çš„æ ‘\nä¾‹å¦‚ä»¥ä¸‹ï¼š\n\nå‡å¦‚æœ‰æƒé›†w={5,7,2,3,6,8,9}ã€‚\nå¯¹åº”å­—ç¬¦     A,B,C,D,E,F,G\n\nä»ä¸€åˆ°ä¸ƒè¿™å‡ ä¸ªæ­¥éª¤å¯ä»¥å¾—çŸ¥ï¼Œå…¶å®å°±æ˜¯å¯¹äºå…¶å…ƒç´ è¿›è¡Œä¼˜å…ˆé˜Ÿåˆ—çš„å‡ºé˜Ÿå’Œå…¥é˜Ÿï¼Œç„¶åå¯¹æ‰€å‡ºé˜Ÿçš„å…ƒç´ ç»„æˆä¸€æ£µæ ‘ï¼Œå…¶æ ‘æ ¹ä¸ºå…¶æƒå€¼æ€»å’Œï¼Œå¦‚æ­¤å¾€å¤ï¼Œç›´è‡³åˆå¹¶æˆä¸€æ£µæ ‘ã€‚\n\nWPLï¼šå¸¦æƒè·¯å¾„é•¿åº¦ã€‚\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•"]},{"title":"è´¹é©¬å°å®šç†","url":"/2024/04/10/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-bi-ji/fei-ma-xiao-ding-li/","content":"è´¹é©¬å°å®šç†\nè¯´æ˜ï¼š\nè´¹é©¬å°å®šç†æ˜¯æ•°è®ºä¸­çš„ä¸€ä¸ªé‡è¦å®šç†ï¼Œå®ƒæè¿°äº†è´¨æ•°çš„ä¸€ç§æ€§è´¨ã€‚è´¹é©¬å°å®šç†ç”±17ä¸–çºªæ³•å›½æ•°å­¦å®¶çš®åŸƒå°”Â·å¾·Â·è´¹é©¬æå‡ºï¼Œæ˜¯ä»–åœ¨ç»™äºˆæ•°è®ºçš„è´¡çŒ®ä¹‹ä¸€ã€‚\nè´¹é©¬å°å®šç†é™ˆè¿°å¦‚ä¸‹ï¼š\nå¦‚æœpæ˜¯ä¸€ä¸ªè´¨æ•°ï¼Œè€Œaæ˜¯ä¸€ä¸ªä¸æ˜¯pçš„å€æ•°çš„æ•´æ•°ï¼Œåˆ™$a^{p-1} \\equiv 1 \\pmod{p}$\nå…¶ä¸­ï¼Œaæ˜¯ä»»æ„æ•´æ•°ï¼Œpæ˜¯ä¸€ä¸ªè´¨æ•°ã€‚\nç®€å•æ¥è¯´ï¼Œè´¹é©¬å°å®šç†è¡¨æ˜ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªè´¨æ•°pï¼Œé‚£ä¹ˆå¯¹äºä»»æ„ä¸æ˜¯pçš„å€æ•°çš„æ•´æ•°aï¼Œaçš„p-1æ¬¡å¹‚é™¤ä»¥pçš„ä½™æ•°ç­‰äº1ã€‚è¿™æ„å‘³ç€åœ¨æ¨¡pä¸‹ï¼Œaçš„p-1æ¬¡å¹‚ä¸1åŒä½™ã€‚\nè´¹é©¬å°å®šç†çš„æ¨è®ºåŒ…æ‹¬ï¼š\n\nåœ¨æ¨¡pä¸‹ï¼Œå¦‚æœaä¸æ˜¯pçš„å€æ•°ï¼Œåˆ™$a^p \\equiv a \\pmod{p}$ã€‚\nåœ¨æ¨¡pä¸‹ï¼Œå¦‚æœaä¸æ˜¯pçš„å€æ•°ï¼Œåˆ™$a^{p-2} \\equiv \\frac{1}{a} \\pmod{p}$ï¼Œè¿™è¯´æ˜äº†æ±‚æ¨¡è´¨æ•°çš„é€†å…ƒçš„ä¸€ç§æ–¹æ³•ã€‚\n\nè´¹é©¬å°å®šç†åœ¨å¯†ç å­¦ã€è®¡ç®—æœºç§‘å­¦å’Œæ•°å­¦ä¸­æœ‰å¹¿æ³›çš„åº”ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨ç´ æ•°æµ‹è¯•å’Œå»ºç«‹åŠ å¯†ç®—æ³•çš„å®‰å…¨æ€§è¯æ˜æ–¹é¢ã€‚\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["è´¹é©¬å°å®šç†"]},{"title":"BFSç®—æ³•æ¨¡æ¿","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/bfs/","content":"BFS\nä»‹ç»ï¼š\nBFSä¸­æ–‡å«åšå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ŒBFSç®—æ˜¯æš´åŠ›æœç´¢çš„å…¶ä¸­ä¸€ç§ç®—æ³•ï¼Œè¿™ä¸ªç®—æ³•ä¸»è¦è¿˜æ˜¯å¯ä»¥è§£å†³ä¸€äº›æœ€å°è·¯å¾„çš„é—®é¢˜ï¼Œä»¥åŠæœç´¢é—®é¢˜ï¼Œæ¯”å¦‚è¿·å®«é—®é¢˜ç­‰ç­‰ï¼Œå…¶ä¸»è¦æ€æƒ³å°±æ˜¯é€šè¿‡ç©·ä¸¾æ‰€æœ‰å¯èƒ½èµ°çš„è·¯å¹¶æ‰¾åˆ°ç­”æ¡ˆæˆ–è€…è¯•å‡ºæœ€ä¼˜ç­”æ¡ˆï¼Œä¸è¿‡ä»–ç›¸å¯¹äºDFSè¯´å…¶æœ‰ç‚¹å°±åœ¨äºå¹¿æ’’ç½‘ï¼Œæ—¶é—´å¤æ‚åº¦è¦æ¯”DFSä½ã€‚\n\nJavaä»£ç æ¨¡æ¿ï¼š\n/** * @description: TODO * @author é•¿ç™½å´ * @date 2023/3/25 17:42 * @version 1.0 */import java.util.LinkedList;import java.util.Queue;/** * BFSç®—æ³•æ¨¡æ¿ï¼ŒBFSç®—æ³•çš„æ¨¡æ¿å†™æ³•ä¸»è¦åˆ†ä¸ºè¿™å‡ æ­¥éª¤ï¼š * 1ã€é€‰æ‹©BFSçš„å®ç°æ–¹å¼ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯åŸºäºé˜Ÿåˆ—ï¼Œä¸€ç§æ˜¯åŸºäºæ ˆã€‚ * 2ã€åˆ¤æ–­æ˜¯å¦åˆ°è¾¾è¦æ±‚æ¡ä»¶ * 3ã€ç©·ä¸¾æ‰€æœ‰å¯èƒ½èµ°çš„æ–¹å‘ * 4ã€é€šè¿‡ç¬¬2æ­¥ç©·ä¸¾çš„æ–¹å‘ç„¶åå»èµ°ï¼Œå½“ç„¶èµ°ä¹‹å‰è¿˜è¦è¿‡æ»¤é‚£äº›ä¸åˆæ ¼çš„æ–¹å‘ï¼Œæ¯”å¦‚è¿™è¿™ä¸ªæ–¹å‘çš„ä¸‹ä¸€æ­¥èµ°è¿‡äº†ï¼Œä¸èƒ½å†èµ°äº†ï¼Œæˆ–è€…è¿™ä¸ªæ–¹å‘çš„ä¸‹ä¸€æ­¥æœ‰å¢™ä¹Ÿä¸èƒ½èµ°ç­‰ï¼Œ *    å®é™…çš„æ‹¦æˆªæ¡ä»¶æ ¹æ®é¢˜ç›®è¦æ±‚æ·»åŠ ã€‚ * 5ã€æœ€åå°†èƒ½èµ°çš„å…¥é˜Ÿæˆ–å…¥æ ˆã€‚ * å› ä¸ºBFSçš„ç®—æ³•çš„ç‰¹æ€§ï¼ŒåŸºäºé˜Ÿåˆ—çš„BFSç¬¬ä¸€æ¬¡æ‰€æœç´¢åˆ°çš„è·¯å¾„å°±æ˜¯æœ€çŸ­è·¯å¾„ã€‚ * è­¦å‘Šï¼šå¦‚æœä½ æ˜¯æƒ³æƒ³é€šè¿‡BFSå»æŸ¥æ‰¾æœ€ä¼˜æ­¥æ•°ä»¥åŠæœ€ä¼˜è·¯å¾„æ¨èé€‰æ‹©åŸºäºé˜Ÿåˆ—ï¼ŒåŸºäºæ ˆå¯èƒ½å‡ºæ¯›ç—…ã€‚ */public class Main {    public static void main(String[] args) {        int map[][] = new int[20][20]; //è¿™ä¸ªæ•°ç»„å°±æ˜¯åœ°å›¾        int state[][] = new int[map.length][map[0].length]; //è¿™ä¸ªæ•°ç»„å……å½“æ ‡è®°èµ°è¿‡çš„è·¯çš„æ•°ç»„        int minStep = bfs(map,0,0,19,19); //è¿™é‡Œè¿”å›çš„å€¼æ˜¯ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€å°æ­¥æ•°    }    public static int bfs(int map[][]/*ä¼ å…¥åœ°å›¾,0ä¸ºå¯ä»¥èµ°ï¼Œ1ä¸ºå¢™*/,int nx/*èµ·ç‚¹xåæ ‡*/,int ny/*èµ·ç‚¹çš„yåæ ‡*/,int ex/*ç»ˆç‚¹çš„xåæ ‡*/,int ey/*ç»ˆç‚¹çš„yåæ ‡*/){        Queue&lt;int[]&gt; data = new LinkedList&lt;&gt;(); //ç”¨äºBFSçš„é˜Ÿåˆ—ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥æ”¹æˆæ ˆ        int state[][] = new int[map.length][map[0].length]; //ç”¨äºè®°å½•èµ°è¿‡çŠ¶æ€çš„æ•°ç»„ï¼Œ0ä¸ºæœªèµ°è¿‡ï¼Œ1ä¸ºèµ°è¿‡        data.add(new int[]{nx,ny,0}); //å°†èµ·ç‚¹åŠ å…¥åˆ°é˜Ÿåˆ—        state[ny][nx]=1; //å°†èµ·ç‚¹æ ‡è®°ä¸ºèµ°è¿‡        int minStep =Integer.MAX_VALUE; //ç”¨äºè®°å½•åˆ°è¾¾ç»ˆç‚¹çš„æœ€å°æ­¥æ•°        while(!data.isEmpty()){            int point[] = data.poll(); //å‡ºé˜Ÿ(æ ˆ)            //åˆ¤æ–­æ˜¯å¦åˆ°è¾¾ç»ˆç‚¹            if(point[0]==ex &amp;&amp; point[1]==ey){                minStep = Math.min(point[2],minStep); //æ›´æ–°æœ€å°æ­¥æ•°                break;            }            //ç©·ä¸¾æ‰€æœ‰å¯èƒ½èµ°çš„æ–¹å‘            int next[][] ={                    {point[0],point[1]-1},//ä¸Š                    {point[0],point[1]+1},//ä¸‹                    {point[0]-1,point[1]},//å·¦                    {point[0]+1,point[1]},//å³            };            for(int i= 0 ; i&lt; next.length ; ++i){                //è¿‡æ»¤æ•°ç»„è¶Šç•Œ                if(next[i][0]&lt;0 || next[i][1]&lt;0 || next[i][1]&gt;=map.length || next[i][0]&gt;=map[0].length)                    continue;                //è¿‡æ»¤éšœç¢ç‰©ï¼Œæ¯”å¦‚å¢™                if(map[next[i][1]][next[i][0]]==1)                    continue;                //è¿‡æ»¤èµ°è¿‡çš„æ ¼å­                if(state[next[i][1]][next[i][0]]==1)                    continue;                //å…¶ä»–é™„åŠ è¿‡æ»¤æ¡ä»¶å¯ä»¥æ ¹æ®é¢˜ç›®è¦æ±‚åšè°ƒæ•´                //......                state[next[i][1]][next[i][0]]=1; //å°†å³å°†è¦èµ°çš„æ ¼å­æ ‡è®°ä¸ºèµ°è¿‡                data.offer(new int[]{next[i][0],next[i][1],point[2]+1}); //å°†è¦èµ°çš„æ ¼å­åŠ å…¥åˆ°é˜Ÿåˆ—            }        }        return minStep;    }}\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["ç®—æ³•","BFS"]},{"title":"BinarySearch","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/binarysearch/","content":"BinarySearch\nè¯´æ˜ï¼š\nBinarySearchä¸­æ–‡åˆå«åšäºŒåˆ†æŸ¥æ‰¾ï¼Œè¿™æ˜¯ä¸€ç§æŸ¥æ‰¾ç±»çš„ç®—æ³•ï¼Œä½†æ˜¯å…¶ä½¿ç”¨æ˜¯æœ‰ä¸€å®šçš„é™åˆ¶çš„ï¼Œé‚£å°±æ˜¯å¿…é¡»è¦åŒºé—´ç±»å¿…é¡»è¦æ»¡è¶³ç›¸åº”çš„å•è°ƒæ€§ï¼Œä¸ç„¶çš„è¯æ˜¯æ— æ³•ä½¿ç”¨çš„ã€‚\n\nJavaä»£ç æ¨¡æ¿ï¼šæ•´å½¢äºŒåˆ†ï¼š\n//è¿™æ˜¯ä¸€ä¸ªJavaæ•´æ•°äºŒåˆ†æ¨¡æ¿public static void binarySearch(){\t//lä¸ºäºŒåˆ†çš„å·¦å€¼ï¼Œrä¸ºäºŒåˆ†çš„å³å€¼ï¼Œmidä¸ºäºŒåˆ†çš„ä¸­é—´å€¼    int l=0,r=100,mid;    //è¿™é‡Œçš„l&lt;=rä¸ºäºŒåˆ†çš„ç»“æŸæ¡ä»¶    while(l&lt;=r){        //è®¡ç®—äºŒåˆ†çš„mid        mid = (l+r)&gt;&gt;1;        //è¿™é‡Œçš„checkå‡½æ•°ä¸»è¦çš„ä½œç”¨å°±æ˜¯é€šè¿‡å·²çŸ¥çš„å¿…è¦æ¡ä»¶ä¼ å…¥checkè¿›è¡Œç»¼åˆåˆ†æç„¶ååˆ¤æ–­åº”è¯¥ä¹‹åçš„äºŒåˆ†æ˜¯å³ç§»è¿˜æ˜¯å·¦ç§»        if(check(Object c))            l = mid+1; //è¿™é‡Œæ˜¯å³ç§»        else            r = mid-1; //è¿™é‡Œæ˜¯å·¦ç§»    }}//è¿™ä¸ªæ˜¯checkå‡½æ•°ï¼Œcheckå‡½æ•°çš„ä¹¦å†™éœ€è¦ç»“åˆå®é™…æ¥public static void check(Object c){    //......}\né«˜ç²¾åº¦äºŒåˆ†ï¼š\n//è¿™ä¸ªæ˜¯Javaçš„é«˜ç²¾åº¦äºŒåˆ†public static void BianrySearch(){    //lä¸ºè¿™é‡Œçš„å·¦å€¼ï¼Œrä¸ºè¿™é‡Œçš„å³å€¼ï¼Œmidä¸ºä¸­å€¼    double l = 0,r=1e11,mid;    //è¿™é‡Œä¸åœ¨æ˜¯å’Œä¹‹å‰æ•´å½¢äºŒåˆ†ä¸€æ ·çš„l&lt;räº†ï¼Œè¿™é‡Œå› ä¸ºé«˜ç²¾åº¦çš„ç‰¹æ€§æ‰€ä»¥å¿…é¡»è¦å†™æˆå³å€¼-å·¦å€¼&gt;0.000001ï¼Œè¿™é‡Œçš„0.000001å¯ä»¥å¤šæ·»ä¸€äº›0åˆ«å¤ªå°‘å°±è¡Œ\twhile(r-l&gt;1e-5) {\t\tmid = (l+r)/2.0;\t\t//è¿™é‡Œæ˜¯checkå‡½æ•°ï¼Œè´Ÿè´£æ ¹æ®å¿…è¦æ¡ä»¶é•œè¿›è¡Œåˆ¤æ–­æ˜¯å³ç§»è¿˜æ˜¯å·¦ç§»        if(check(Object o))\t\t\tl = mid;//å³ç§»\t\telse\t\t\tr =mid;//å·¦ç§»\t}}//checkå‡½æ•°public static void check(){    }\nC++ä»£ç æ¨¡æ¿æ•´å½¢äºŒåˆ†\n#include&lt;iostream&gt;using namespace std;int main(){    //lä¸ºäºŒåˆ†çš„å·¦å€¼ï¼Œrä¸ºäºŒåˆ†çš„å³å€¼ï¼Œmidä¸ºäºŒåˆ†çš„ä¸­é—´å€¼    int l = 0,r = 10000,mid=0;    while(l&lt;r){        mid = (r+l+1)&gt;&gt;1;     //è®¡ç®—äºŒåˆ†çš„mid        //è¿™é‡Œçš„checkå‡½æ•°ä¸»è¦çš„ä½œç”¨å°±æ˜¯é€šè¿‡å·²çŸ¥çš„å¿…è¦æ¡ä»¶ä¼ å…¥checkè¿›è¡Œç»¼åˆåˆ†æç„¶ååˆ¤æ–­åº”è¯¥ä¹‹åçš„äºŒåˆ†æ˜¯å³ç§»è¿˜æ˜¯å·¦ç§»        if(check(mid))            l = mid;//å³ç§»        else            r = mid-1; //å·¦ç§»    }        return 0;}//checkå‡½æ•°bool check(int mid){    ...    return false;}\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["ç®—æ³•","BinarySearch"]},{"title":"DFSç®—æ³•æ¨¡æ¿","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/dfs/","content":"DFS\nä»‹ç»ï¼š\nDFSä¸­æ–‡å«åšæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ŒDFSç®—æ˜¯æš´åŠ›æœç´¢çš„å…¶ä¸­ä¸€ç§ç®—æ³•ï¼Œè¿™ä¸ªç®—æ³•ä¸»è¦è¿˜æ˜¯å¯ä»¥è§£å†³ä¸€äº›æœ€å°è·¯å¾„çš„é—®é¢˜ï¼Œä»¥åŠæœç´¢é—®é¢˜ï¼Œæ¯”å¦‚è¿·å®«é—®é¢˜ç­‰ç­‰ï¼Œå…¶ä¸»è¦æ€æƒ³å°±æ˜¯é€šè¿‡ç©·ä¸¾æ‰€æœ‰å¯èƒ½èµ°çš„è·¯å¹¶æ‰¾åˆ°ç­”æ¡ˆæˆ–è€…è¯•å‡ºæœ€ä¼˜ç­”æ¡ˆã€‚\n\nJavaä»£ç æ¨¡æ¿ï¼š\n/** * @description: TODO * @author é•¿ç™½å´ * @date 2023/3/25 16:34 * @version 1.0 *//** * DFSç®—æ³•æ¨¡æ¿ï¼ŒDFSç®—æ³•çš„æ¨¡æ¿å†™æ³•ä¸»è¦åˆ†ä¸ºè¿™å‡ æ­¥éª¤ï¼š * 1ã€åˆ¤æ–­æ˜¯å¦åˆ°è¾¾è¦æ±‚æ¡ä»¶ * 2ã€ç©·ä¸¾æ‰€æœ‰å¯èƒ½èµ°çš„æ–¹å‘ * 3ã€é€šè¿‡ç¬¬2æ­¥ç©·ä¸¾çš„æ–¹å‘ç„¶åå»èµ°ï¼Œå½“ç„¶èµ°ä¹‹å‰è¿˜è¦è¿‡æ»¤é‚£äº›ä¸åˆæ ¼çš„æ–¹å‘ï¼Œæ¯”å¦‚è¿™è¿™ä¸ªæ–¹å‘çš„ä¸‹ä¸€æ­¥èµ°è¿‡äº†ï¼Œä¸èƒ½å†èµ°äº†ï¼Œæˆ–è€…è¿™ä¸ªæ–¹å‘çš„ä¸‹ä¸€æ­¥æœ‰å¢™ä¹Ÿä¸èƒ½èµ°ç­‰ï¼Œ *    å®é™…çš„æ‹¦æˆªæ¡ä»¶æ ¹æ®é¢˜ç›®è¦æ±‚æ·»åŠ ã€‚ */public class Main {    static int minStep =Integer.MIN_VALUE; /*è¿™ä¸ªå˜é‡ç”¨äºå­˜å‚¨èµ°åˆ°ç»ˆç‚¹æœ€å°‘éœ€è¦å¤šå°‘æ­¥*/    public static void main(String[] args) {        int map[][] = new int[20][20]; //è¿™ä¸ªæ•°ç»„å°±æ˜¯åœ°å›¾        int state[][] = new int[map.length][map[0].length]; //è¿™ä¸ªæ•°ç»„å……å½“æ ‡è®°èµ°è¿‡çš„è·¯çš„æ•°ç»„    }    public static void dfs(int map[][]/*ä¼ å…¥åœ°å›¾,0ä¸ºå¯ä»¥èµ°ï¼Œ1ä¸ºå¢™*/,int state[][]/*ä¼ å…¥æ ‡è®°èµ°è¿‡çš„çŠ¶æ€æ•°ç»„ï¼Œ0ä¸ºæœªèµ°è¿‡ï¼Œ1ä¸ºèµ°è¿‡*/,int nx/*ä¸‹ä¸€æ­¥è¦èµ°çš„xåæ ‡*/,int ny/*ä¸‹ä¸€æ­¥è¦èµ°çš„yåæ ‡*/,int ex/*ç»ˆç‚¹çš„xåæ ‡*/,int ey/*ç»ˆç‚¹çš„yåæ ‡*/,int step/*å½“å‰æ­¥æ•°*/){        if(nx==ex &amp;&amp; ny==ey){            minStep = Math.min(minStep,step);            return;        }        int next[][]={                {nx,ny-1},/*ä¸Š*/                {nx,ny+1},/*ä¸‹*/                {nx-1,ny},/*å·¦*/                {nx+1,ny}/*å³*/        };        for(int i= 0; i &lt; next.length ; ++i){            //è¿‡æ»¤è¶Šç•Œ            if(next[i][0]&lt;0 || next[i][1]&lt;0 || next[i][1]&gt;=map.length || next[i][0] &gt;=map[0].length)                continue;            //è¿‡æ»¤å¢™            if(map[next[i][1]][next[i][0]]==1)                continue;            //è¿‡æ»¤èµ°è¿‡çš„æƒ…å†µ            if (state[next[i][1]][next[i][0]]==1)                continue;            //å…¶ä»–è¿‡æ»¤æ¡ä»¶æ ¹æ®é¢˜ç›®è¦æ±‚å¯ä»¥æŒç»­æ·»åŠ æˆ–åˆ å‡            //......            state[next[i][1]][next[i][0]] =1; //æ ‡è®°ä¸ºèµ°è¿‡            dfs(map,state,next[i][0],next[i][1],ex,ey,step+1);            state[next[i][1]][next[i][0]] =0;//å–æ¶ˆæ ‡è®°        }    }}\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["ç®—æ³•","DFS"]},{"title":"Dijkstraç®—æ³•æ¨¡æ¿","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/dijkstra/","content":"Dijkstra\nè¯´æ˜ï¼š\nDijkstraç®—æ³•æ˜¯ä¸€ç§æ±‚å›¾çš„å•å…ƒæœ€çŸ­è·¯å¾„çš„ç®—æ³•\nå‚è€ƒè§†å±ï¼šhttps://www.bilibili.com/video/BV1zz4y1m7Nq\n\nJavaä»£ç æ¨¡æ¿ï¼ˆåŸºäºé“¾å¼å‘å‰æ˜Ÿï¼ŒDijkstraç®—æ³•æ—¶é—´å¤æ‚åº¦O(nlogn)ï¼‰ï¼š\nimport java.util.Arrays;import java.util.PriorityQueue;import java.util.Scanner;/** * Dijkstraæ¨¡æ¿ * @author é•¿ç™½å´ * *//*6 91 5 41 6 12 4 62 5 52 6 43 4 23 5 34 5 24 6 71 */public class Dijkstra {\tstatic int cnt = 0;\tfinal static int inf = 0x3f3f3f3f;\tpublic static void main(String[] args) {\t\t// TODO Auto-generated method stub\t\tScanner sc = new Scanner(System.in);\t\tint n = sc.nextInt(); //nä¸ªç‚¹\t\tint m = sc.nextInt(); //mæ¡è¾¹\t\t\t\tint head[] = new int[n+1]; //é“¾å¼å‘å‰æ˜Ÿå¤´ç»“ç‚¹\t\tinit(head); //åˆå§‹åŒ–å¤´ç»“ç‚¹\t\tEdge e[] = new Edge[m*2+1];\t\twhile(m--&gt;0) {\t\t\tint u = sc.nextInt();\t\t\tint v = sc.nextInt();\t\t\tint w = sc.nextInt();\t\t\taddEdge(head, e, u, v, w);//æ·»åŠ è¾¹ï¼Œå¢åŠ ä¸€æ¬¡ä»£è¡¨æœ‰å‘å›¾u-&gt;v;\t\t\taddEdge(head, e, v, u, w); //ç‚¹å¯¹æ¢å†å¢åŠ ä¸€æ¬¡ç›¸å½“äºæ— å‘å›¾äº†\t\t}\t\t\t\tint start = sc.nextInt();\t\tint dis[] = dijkstra(head, e,start);\t\tfor(int i=1 ;i&lt;dis.length;++i) {\t\t\tSystem.out.printf(\"%d -&gt; %d æœ€çŸ­è·ç¦»ä¸ºï¼š %d\\n\",start,i,dis[i]);\t\t}\t\t\t}\t\t/**\t * Dijkstraæ ¸å¿ƒç®—æ³•\t * @param head é“¾å¼å‘å‰çš„å¤´ç»“ç‚¹æ•°ç»„\t * @param e é“¾å¼å‘å‰æ˜Ÿçš„è¾¹å¯„å­˜æ•°ç»„\t * @param start èµ·ç‚¹\t * @return è¿”å›startèµ·ç‚¹åˆ°æ‰€æœ‰å…¶ä»–ç‚¹çš„æœ€å°è·ç¦»æ•°ç»„\t */\tpublic static int[] dijkstra(int head[],Edge e[],int start) {\t\tint dis[]=new int[head.length]; Arrays.fill(dis, inf); //åˆ›å»ºå­˜å‚¨è·ç¦»çš„æ•°ç»„å¹¶ä¸”å…¨éƒ½åˆå§‹åŒ–ä¸ºæ— ç©·è·ç¦»\t\tboolean st[] = new boolean[head.length]; //æ ‡è®°æ˜¯å¦èµ°è¿‡è¯¥ç‚¹\t\t\t\t//ä¼˜å…ˆé˜Ÿåˆ—å¹¶ä¸”æŒ‰ç…§æƒå€¼ä»å°åˆ°å¤§æ’åˆ—\t\tPriorityQueue&lt;Node&gt; qu = new PriorityQueue&lt;Node&gt;((a,b)-&gt; a.w-b.w);\t\t\t\t//æ·»åŠ èµ·ç‚¹åˆ°ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå› ä¸ºæ˜¯èµ·ç‚¹ï¼Œæ‰€ä»¥èµ·ç‚¹çš„æ€»è·ç¦»ä¸º0\t\tqu.offer(new Node(start,0));dis[start]=0;\t\twhile(!qu.isEmpty()) {\t\t\tNode u = qu.poll(); //å‡ºé˜Ÿï¼Œu.uä»£è¡¨æ˜¯ä»¥uä¸ºèµ·ç‚¹ï¼Œu.wä»£è¡¨ä»¥u.uä¸ºèµ·ç‚¹æ—¶ä»startèµ·ç‚¹åˆ°u.uç‚¹çš„æœ€çŸ­è·ç¦»ï¼ˆä¼˜å…ˆé˜Ÿåˆ—æ€§è´¨ï¼‰\t\t\t\t\t\tif(st[u.u]) continue; //å¦‚æœè¯¥ç‚¹èµ°è¿‡äº†é‚£ä¹ˆå°±ç›´æ¥è·³è¿‡\t\t\tst[u.u] = true; //è¡¨ç¤ºæ²¡èµ°è¿‡ç°åœ¨å¼€å§‹èµ°ï¼Œå¹¶ä¸”å…ˆæ ‡è®°ä¸ºèµ°è¿‡\t\t\t\t\t\t//å¾ªç¯éå†ä»¥u.uä¸ºèµ·ç‚¹çš„æ‰€æœ‰è¾¹\t\t\tfor(int i =head[u.u];i!=-1; i=e[i].next) {\t\t\t\tEdge v = e[i]; //ä¸‹ä¸€æ­¥è¦èµ°çš„ç»ˆç‚¹\t\t\t\tif(u.w+v.w&gt;dis[v.to] || st[v.to])continue; //å¦‚æœå¤§äºå¯„å­˜åœ¨disæ•°ç»„é‡Œé¢çš„æœ€å°è·ç¦»æˆ–è€…é€‰æ‹©çš„ç‚¹å·²ç»èµ°è¿‡äº†é‚£ä¹ˆç›´æ¥continueå³å¯\t\t\t\tdis[v.to] = u.w+v.w;  //æ›´æ–°disä¸­çš„startèµ·ç‚¹åˆ°v.toç‚¹çš„æœ€çŸ­è·ç¦»\t\t\t\tqu.offer(new Node(v.to,dis[v.to])); //æ·»åŠ åˆ°ä¼˜å…ˆé˜Ÿåˆ—é‡Œé¢\t\t\t}\t\t\t\t\t}\t\treturn dis;\t}\t/**\t * åˆå§‹åŒ–é“¾å¼å‘å‰æ˜Ÿçš„å¤´ç»“ç‚¹,-1ä»£è¡¨ç»“å°¾\t * @param head é“¾å¼å‘å‰æ˜Ÿå¤´ç»“ç‚¹æ•°ç»„\t */\tstatic void init(int head[]) {Arrays.fill(head, -1);}\t/**\t * é“¾å¼å‘å‰æ˜Ÿæ·»åŠ è¾¹\t * @param u å¼§å°¾\t * @param v å¼§å¤´\t * @param w æƒå€¼\t */\tstatic void addEdge(int head[],Edge e[],int u,int v,int w) { e[cnt]=new Edge(v,head[u],w);head[u]=cnt++;}\t\tstatic class Edge{\t\tint to,next,w;\t\tpublic Edge(int to,int next,int w ) {\t\t\tthis.to = to; this.next = next;this.w = w;\t\t}\t}\t\tstatic class Node{\t\tint u,w;\t\tpublic Node(int u,int w) {this.u =u;this.w = w;}\t}}\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["Dijkstra"]},{"title":"Javaå¤§æ•°å­—è¿ç®—ä½¿ç”¨æŠ€å·§","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/java-da-shu-zi-yun-suan-shi-yong-ji-qiao/","content":"Javaå¤§æ•°å­—è¿ç®—ä½¿ç”¨æŠ€å·§\nè¯´æ˜ï¼š\nJavaå¤§æ•°å­—ä½¿ç”¨æŠ€å·§,è¿™é‡Œåªæ¼”ç¤ºBigIntegeräº†ï¼ŒBigDecimalé«˜ç²¾åº¦å¤§æ•°å­—å°±ä¸æ¼”ç¤ºäº†(ç”¨æ³•åŸºæœ¬ä¸€æ ·)ã€‚\n\nJavaä»£ç æ¨¡æ¿\nimport java.math.BigInteger;public class BigNumber {    public static void main(String[] args) {            }    /**     * è¿›åˆ¶è½¬æ¢     */    public void testScale() {                //åœ¨æ„é€ å°†å‡½æ•°æ—¶ï¼ŒæŠŠradixè¿›åˆ¶çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸ºBigInteger        String str = \"1011100111\";        int radix = 2;        BigInteger interNum1 = new BigInteger(str,radix);\t//743        //æˆ‘ä»¬é€šå¸¸ä¸å†™ï¼Œåˆ™æ˜¯é»˜è®¤æˆ10è¿›åˆ¶è½¬æ¢ï¼Œå¦‚ä¸‹ï¼š        BigInteger interNum2 = new BigInteger(str);\t\t\t//1011100111    }    /**     * å¤§æ•°å­—çš„åŸºæœ¬è¿ç®—     * åŸºæœ¬è¿ç®—:add(),subtract(),multiply(),divide(),mod(),remainder(),pow(),abs(),negate()     */    public void testBasic() {        BigInteger a = new BigInteger(\"13\");        BigInteger b = new BigInteger(\"4\");        int n = 3;        //1.åŠ         BigInteger bigNum1 = a.add(b);\t\t\t//17        //2.å‡        BigInteger bigNum2 = a.subtract(b);\t\t//9        //3.ä¹˜        BigInteger bigNum3 = a.multiply(b);\t\t//52        //4.é™¤        BigInteger bigNum4 = a.divide(b);\t\t//3        //5.å–æ¨¡(éœ€ b &gt; 0ï¼Œå¦åˆ™å‡ºç°å¼‚å¸¸ï¼šArithmeticException(\"BigInteger: modulus not positive\"))        BigInteger bigNum5 = a.mod(b);\t\t\t//1        //6.æ±‚ä½™        BigInteger bigNum6 = a.remainder(b);\t//1        //7.å¹³æ–¹(éœ€ n &gt;= 0ï¼Œå¦åˆ™å‡ºç°å¼‚å¸¸ï¼šArithmeticException(\"Negative exponent\"))        BigInteger bigNum7 = a.pow(n);\t\t\t//2197        //8.å–ç»å¯¹å€¼        BigInteger bigNum8 = a.abs();\t\t\t//13        //9.å–ç›¸åæ•°        BigInteger bigNum9 = a.negate();\t\t//-13    }    /**     * äºŒè¿›åˆ¶è¿ç®—(è¿”å›ç±»å‹éƒ½ä¸ºBigIntegerï¼Œä¸å¸¸ç”¨ï¼Œä½†æœ‰å¤‡æ— æ‚£)     */    public void testBinaryOperation() {        BigInteger a = new BigInteger(\"13\");        BigInteger b = new BigInteger(\"2\");        int n = 1;        //1.ä¸ï¼ša&amp;b        BigInteger bigNum1 = a.and(b);\t\t\t//0        //2.æˆ–ï¼ša|b        BigInteger bigNum2 = a.or(b);\t\t\t//15        //3.å¼‚æˆ–ï¼ša^b        BigInteger bigNum3 = a.xor(b);\t\t\t//15        //4.å–åï¼š~a        BigInteger bigNum4 = a.not();\t\t\t//-14        //5.å·¦ç§»nä½ï¼š (a &lt;&lt; n)        BigInteger bigNum5 = a.shiftLeft(n);\t//26        //6.å³ç§»nä½ï¼š (a &gt;&gt; n)        BigInteger bigNum6 = a.shiftRight(n);\t//6    }    /**     * æ¯•ç«Ÿå¤§æ•°å­—ä¹‹é—´çš„å¤§å°     */    public void testCompare() {        BigInteger bigNum1 = new BigInteger(\"52\");        BigInteger bigNum2 = new BigInteger(\"27\");        //1.compareTo()ï¼šè¿”å›ä¸€ä¸ªintå‹æ•°æ®ï¼ˆ1 å¤§äºï¼› 0 ç­‰äºï¼› -1 å°äºï¼‰        int num = bigNum1.compareTo(bigNum2);\t\t\t//1        //2.max()ï¼šç›´æ¥è¿”å›å¤§çš„é‚£ä¸ªæ•°ï¼Œç±»å‹ä¸ºBigInteger        //\tåŸç†ï¼šreturn (compareTo(val) &gt; 0 ? this : val);        BigInteger compareMax = bigNum1.max(bigNum2);\t//52        //3.min()ï¼šç›´æ¥è¿”å›å°çš„é‚£ä¸ªæ•°ï¼Œç±»å‹ä¸ºBigInteger        //\tåŸç†ï¼šreturn (compareTo(val) &lt; 0 ? this : val);        BigInteger compareMin = bigNum1.min(bigNum2);\t//27    }}\n\n\n","categories":["Java","æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["Java","ç®—æ³•","å¤§æ•°å­—è¿ç®—"]},{"title":"Javaæ—¥æœŸç±»ä½¿ç”¨æŠ€å·§","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/java-ri-qi-lei-shi-yong-ji-qiao/","content":"Javaæ—¥æœŸç±»ä½¿ç”¨æŠ€å·§\nè¯´æ˜ï¼š\nJavaç‰¹æœ‰çš„æ—¥æœŸç±»çš„ä½¿ç”¨\n\nJavaä»£ç æ¨¡æ¿ï¼š\nimport java.time.Duration;import java.time.LocalDate;import java.time.LocalDateTime;import java.time.temporal.ChronoUnit;public class DateJudge {    public static void main(String[] args) {        LocalDateTime nowDateTime = LocalDateTime.of(2022, 12, 6, 12, 36,25);        // 2.1 int getYear()ï¼šè·å–å¹´ä»½å­—æ®µã€‚        System.out.println(nowDateTime.getYear()); //2022        // 2.2 Month getMonth()/ int getMonthValue()ï¼šè·å–æ—¶é—´çš„æœˆä»½ã€‚        System.out.println(nowDateTime.getMonth()); // DECEMBER        System.out.println(nowDateTime.getMonthValue()); //12        // 2.3 int getDayOfMonth()ï¼šè·å–æ—¥æœŸåœ¨å½“æœˆä¸­çš„å¤©æ•°ã€‚        System.out.println(nowDateTime.getDayOfMonth()); //6        // 2.4 DayOfWeek getDayOfWeek()ï¼šè·å–æ—¥æœŸå±äºå½“å‰å‘¨çš„ç¬¬å‡ å¤©        System.out.println(nowDateTime.getDayOfWeek()); //TUESDAY        System.out.println(nowDateTime.getDayOfWeek().getValue()); //2        // 2.5  int getDayOfYear()ï¼šè·å–æ—¥æœŸæ—¶é—´åœ¨å½“å‰å¹´çš„å¤©æ•°ã€‚        System.out.println(nowDateTime.getDayOfYear()); //340        //å­—ç¬¦ä¸²è½¬LocalDateTime        LocalDateTime localDateTime = LocalDateTime.parse(\"2021-01-28 13:12:11\", DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\"));        // 3.1 int getHour()ï¼šè·å–å½“å‰æ—¶é—´çš„å°æ—¶æ•°ã€‚        System.out.println(nowDateTime.getHour()); //12        // 3.2 int getMinute()ï¼šè·å–å½“å‰æ—¶é—´çš„åˆ†é’Ÿã€‚        System.out.println(nowDateTime.getMinute()); //36        // 3.3  int getSecond()ï¼šè·å–å½“å‰æ—¶é—´ç§’æ•°ã€‚        System.out.println(nowDateTime.getSecond()); //25        LocalDateTime tempTime = LocalDateTime.of(2021, 7, 6, 11, 36,25);        System.out.println(tempTime); //2021-07-06T11:36:25        System.out.println(\"x = 1å¹´åçš„æ—¥æœŸæ—¶é—´\"+tempTime.plusYears(1)); //x = 1å¹´åçš„æ—¥æœŸæ—¶é—´2022-07-06T11:36:25        System.out.println(\"x = 1æœˆåçš„æ—¥æœŸæ—¶é—´\"+tempTime.plusMonths(1)); //x = 1æœˆåçš„æ—¥æœŸæ—¶é—´2021-08-06T11:36:25        System.out.println(\"x = 1å‘¨åçš„æ—¥æœŸæ—¶é—´\"+tempTime.plusWeeks(1)); //x = 1å‘¨åçš„æ—¥æœŸæ—¶é—´2021-07-13T11:36:25        System.out.println(\"x = 1å¤©åçš„æ—¥æœŸæ—¶é—´\"+tempTime.plusDays(1)); //x = 1å¤©åçš„æ—¥æœŸæ—¶é—´2021-07-07T11:36:25        System.out.println(\"x = 1å°æ—¶åçš„æ—¥æœŸæ—¶é—´\"+tempTime.plusHours(1)); //x = 1å°æ—¶åçš„æ—¥æœŸæ—¶é—´2021-07-06T12:36:25        System.out.println(\"x = 1åˆ†é’Ÿåçš„æ—¥æœŸæ—¶é—´\"+tempTime.plusMinutes(1)); //x = 1åˆ†é’Ÿåçš„æ—¥æœŸæ—¶é—´2021-07-06T11:37:25        System.out.println(\"x = 1å¹´å‰çš„æ—¥æœŸæ—¶é—´\"+tempTime.minusYears(1)); //x = 1å¹´å‰çš„æ—¥æœŸæ—¶é—´2020-07-06T11:36:25        System.out.println(\"x = 1æœˆå‰çš„æ—¥æœŸæ—¶é—´\"+tempTime.minusMonths(1)); //x = 1æœˆå‰çš„æ—¥æœŸæ—¶é—´2021-06-06T11:36:25        System.out.println(\"x = 1å‘¨å‰çš„æ—¥æœŸæ—¶é—´\"+tempTime.minusWeeks(1)); //x = 1å‘¨å‰çš„æ—¥æœŸæ—¶é—´2021-06-29T11:36:25        System.out.println(\"x = 1å¤©å‰çš„æ—¥æœŸæ—¶é—´\"+tempTime.minusDays(1)); //x = 1å¤©å‰çš„æ—¥æœŸæ—¶é—´2021-07-05T11:36:25        System.out.println(\"x = 1å°æ—¶å‰çš„æ—¥æœŸæ—¶é—´\"+tempTime.minusHours(1)); //x = 1å°æ—¶å‰çš„æ—¥æœŸæ—¶é—´2021-07-06T10:36:25        System.out.println(\"x = 1åˆ†é’Ÿå‰çš„æ—¥æœŸæ—¶é—´\"+tempTime.minusMinutes(1)); //x = 1åˆ†é’Ÿå‰çš„æ—¥æœŸæ—¶é—´2021-07-06T11:35:25        LocalDateTime tempTime1 = LocalDateTime.of(2021, 7, 6, 11, 36,25);        LocalDateTime tempTime2 = LocalDateTime.of(2021, 8, 6, 12, 36,25);        // 5.1 åˆ¤æ–­tempTime1æ˜¯å¦åœ¨tempTime2ä¹‹åï¼Œæ˜¯å¦æ¯”å…¶æ›´æ™š        boolean after = tempTime1.isAfter(tempTime2); // false        // 5.2 åˆ¤æ–­tempTime1æ˜¯å¦åœ¨tempTime2ä¹‹å‰ï¼Œæ˜¯å¦æ¯”å…¶æ›´æ—©        boolean before = tempTime1.isBefore(tempTime2); //true        // 5.3 åˆ¤æ–­tempTime1æ˜¯å¦ä¸tempTime2ç›¸ç­‰        boolean equal = tempTime1.isEqual(tempTime2); // false        LocalDateTime changeBeforeTime = LocalDateTime.of(2021, 7, 6, 11, 36,25);        System.out.println(\"ä¿®æ”¹å¹´ä»½åçš„æ—¥æœŸ\" + changeBeforeTime.withYear(2022)); // ä¿®æ”¹å¹´ä»½åçš„æ—¥æœŸ2022-07-06T11:36:25        System.out.println(\"ä¿®æ”¹æœˆä»½åçš„æ—¥æœŸ\" + changeBeforeTime.withMonth(11)); // ä¿®æ”¹æœˆä»½åçš„æ—¥æœŸ2021-11-06T11:36:25        System.out.println(\"ä¿®æ”¹å½“æœˆå¤©æ•°åçš„æ—¥æœŸ\" + changeBeforeTime.withDayOfMonth(11)); // ä¿®æ”¹å½“æœˆå¤©æ•°åçš„æ—¥æœŸ2021-07-11T11:36:25        System.out.println(\"ä¿®æ”¹å½“å¹´å¤©æ•°åçš„æ—¥æœŸ\" + changeBeforeTime.withDayOfYear(11)); // ä¿®æ”¹å½“å¹´å¤©æ•°åçš„æ—¥æœŸ2021-01-11T11:36:25        System.out.println(\"ä¿®æ”¹å°æ—¶åçš„æ—¥æœŸ\" + changeBeforeTime.withHour(10)); // ä¿®æ”¹å°æ—¶åçš„æ—¥æœŸ2021-07-06T10:36:25        System.out.println(\"ä¿®æ”¹åˆ†é’Ÿ.ç§’åçš„æ—¥æœŸ\" + changeBeforeTime.withMinute(10).withSecond(10)); //ä¿®æ”¹åˆ†é’Ÿ.ç§’åçš„æ—¥æœŸ2021-07-06T11:10:10        LocalDateTime beginTime = LocalDateTime.of(2021, 7, 6, 11, 36,25);        LocalDateTime endTime = LocalDateTime.of(2021, 9, 8, 01, 56,25);        // ç›¸å·®çš„å¹´ä»½æ•°        long betweenYears = ChronoUnit.YEARS.between(beginTime, endTime);        System.out.println(betweenYears);  // 0        // ç›¸å·®çš„æœˆä»½æ•°        long betweenMonths = ChronoUnit.MONTHS.between(beginTime, endTime);        System.out.println(betweenMonths);  // 2        // ç›¸å·®çš„å¤©æ•°        long betweenDays = ChronoUnit.DAYS.between(beginTime, endTime);        System.out.println(betweenDays);  // 63        // ç›¸å·®çš„å°æ—¶æ•°        long betweenHours = ChronoUnit.HOURS.between(beginTime, endTime);        System.out.println(betweenHours); //1526        // ç›¸å·®çš„åˆ†é’Ÿæ•°        long betweenMinutes = ChronoUnit.MINUTES.between(beginTime, endTime);        System.out.println(betweenMinutes);//91580        // ç›¸å·®çš„ç§’é’Ÿæ•°        long betweenMillis = ChronoUnit.MILLIS.between(beginTime, endTime);        System.out.println(betweenMillis);//91580        Duration between1 = Duration.between(beginTime, endTime);        System.out.println(between1.toDays()); // 63        System.out.println(between1.toHours()); //1526 (63å¤©*24å°æ—¶+(24+1-11)ä¸æ˜¯æ•´å¤©çš„å°æ—¶æ•°)        System.out.println(between1.toMinutes()); // 91580 (1526å°æ—¶*60åˆ†é’Ÿ+ï¼ˆ56-25ï¼‰åˆ†é’Ÿå¤–ç›¸å·®çš„ç§’æ•°)        System.out.println(between1.toMillis()); // 5494800000    }}\n","categories":["Java","æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["Java","ç®—æ³•","æ—¥æœŸä½¿ç”¨æŠ€å·§"]},{"title":"Javaæ­£åˆ™ä½¿ç”¨æŠ€å·§","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/java-zheng-ze-shi-yong-ji-qiao/","content":"Javaæ­£åˆ™ä½¿ç”¨æŠ€å·§\nè¯´æ˜ï¼š\nJavaæ­£åˆ™ä½¿ç”¨\n\nJavaä»£ç æ¨¡æ¿ï¼š\nimport java.util.regex.Matcher;import java.util.regex.Pattern; public class RegexMatches{    public static void main( String[] args ){       // æŒ‰æŒ‡å®šæ¨¡å¼åœ¨å­—ç¬¦ä¸²æŸ¥æ‰¾      String line = \"This order was placed for QT3000! OK?\";      String pattern = \"(\\\\D*)(\\\\d+)(.*)\";       // åˆ›å»º Pattern å¯¹è±¡      Pattern r = Pattern.compile(pattern);       // ç°åœ¨åˆ›å»º matcher å¯¹è±¡      Matcher m = r.matcher(line);      if (m.find( )) {         System.out.println(\"Found value: \" + m.group(0) );         System.out.println(\"Found value: \" + m.group(1) );         System.out.println(\"Found value: \" + m.group(2) );         System.out.println(\"Found value: \" + m.group(3) );       } else {         System.out.println(\"NO MATCH\");      }   }}\n\n\n\nå­—ç¬¦\nè¯´æ˜\n\n\n\n\\\nå°†ä¸‹ä¸€å­—ç¬¦æ ‡è®°ä¸ºç‰¹æ®Šå­—ç¬¦ã€æ–‡æœ¬ã€åå‘å¼•ç”¨æˆ–å…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œ nåŒ¹é…å­—ç¬¦ nã€‚\\n åŒ¹é…æ¢è¡Œç¬¦ã€‚åºåˆ— \\\\ åŒ¹é… \\ ï¼Œ\\( åŒ¹é… (ã€‚\n\n\n^\nåŒ¹é…è¾“å…¥å­—ç¬¦ä¸²å¼€å§‹çš„ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ^ è¿˜ä¼šä¸â€\\nâ€æˆ–â€\\râ€ä¹‹åçš„ä½ç½®åŒ¹é…ã€‚\n\n\n$\nåŒ¹é…è¾“å…¥å­—ç¬¦ä¸²ç»“å°¾çš„ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ$ è¿˜ä¼šä¸â€\\nâ€æˆ–â€\\râ€ä¹‹å‰çš„ä½ç½®åŒ¹é…ã€‚\n\n\n*\né›¶æ¬¡æˆ–å¤šæ¬¡åŒ¹é…å‰é¢çš„å­—ç¬¦æˆ–å­è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œzo* åŒ¹é…â€zâ€å’Œâ€zooâ€ã€‚* ç­‰æ•ˆäº {0,}ã€‚\n\n\n+\nä¸€æ¬¡æˆ–å¤šæ¬¡åŒ¹é…å‰é¢çš„å­—ç¬¦æˆ–å­è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œâ€zo+â€ä¸â€zoâ€å’Œâ€zooâ€åŒ¹é…ï¼Œä½†ä¸â€zâ€ä¸åŒ¹é…ã€‚+ ç­‰æ•ˆäº {1,}ã€‚\n\n\n?\né›¶æ¬¡æˆ–ä¸€æ¬¡åŒ¹é…å‰é¢çš„å­—ç¬¦æˆ–å­è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œâ€do(es)?â€åŒ¹é…â€doâ€æˆ–â€doesâ€ä¸­çš„â€doâ€ã€‚? ç­‰æ•ˆäº {0,1}ã€‚\n\n\n{n}\nn æ˜¯éè´Ÿæ•´æ•°ã€‚æ­£å¥½åŒ¹é… n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€o{2}â€ä¸â€Bobâ€ä¸­çš„â€oâ€ä¸åŒ¹é…ï¼Œä½†ä¸â€foodâ€ä¸­çš„ä¸¤ä¸ªâ€oâ€åŒ¹é…ã€‚\n\n\n{n,}\nn æ˜¯éè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é… n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€o{2,}â€ä¸åŒ¹é…â€Bobâ€ä¸­çš„â€oâ€ï¼Œè€ŒåŒ¹é…â€fooooodâ€ä¸­çš„æ‰€æœ‰ oã€‚â€o{1,}â€ç­‰æ•ˆäºâ€o+â€ã€‚â€o{0,}â€ç­‰æ•ˆäºâ€o*â€ã€‚\n\n\n{n,m}\nm å’Œ n æ˜¯éè´Ÿæ•´æ•°ï¼Œå…¶ä¸­ n &lt;= mã€‚åŒ¹é…è‡³å°‘ n æ¬¡ï¼Œè‡³å¤š m æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€o{1,3}â€åŒ¹é…â€foooooodâ€ä¸­çš„å¤´ä¸‰ä¸ª oã€‚â€™o{0,1}â€™ ç­‰æ•ˆäº â€˜o?â€™ã€‚æ³¨æ„ï¼šæ‚¨ä¸èƒ½å°†ç©ºæ ¼æ’å…¥é€—å·å’Œæ•°å­—ä¹‹é—´ã€‚\n\n\n?\nå½“æ­¤å­—ç¬¦ç´§éšä»»ä½•å…¶ä»–é™å®šç¬¦ï¼ˆ*ã€+ã€?ã€{n}ã€{n,}ã€{n,m}ï¼‰ä¹‹åæ—¶ï¼ŒåŒ¹é…æ¨¡å¼æ˜¯â€éè´ªå¿ƒçš„â€ã€‚â€éè´ªå¿ƒçš„â€æ¨¡å¼åŒ¹é…æœç´¢åˆ°çš„ã€å°½å¯èƒ½çŸ­çš„å­—ç¬¦ä¸²ï¼Œè€Œé»˜è®¤çš„â€è´ªå¿ƒçš„â€æ¨¡å¼åŒ¹é…æœç´¢åˆ°çš„ã€å°½å¯èƒ½é•¿çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œåœ¨å­—ç¬¦ä¸²â€ooooâ€ä¸­ï¼Œâ€o+?â€åªåŒ¹é…å•ä¸ªâ€oâ€ï¼Œè€Œâ€o+â€åŒ¹é…æ‰€æœ‰â€oâ€ã€‚\n\n\n.\nåŒ¹é…é™¤â€\\r\\nâ€ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚è‹¥è¦åŒ¹é…åŒ…æ‹¬â€\\r\\nâ€åœ¨å†…çš„ä»»æ„å­—ç¬¦ï¼Œè¯·ä½¿ç”¨è¯¸å¦‚â€[\\s\\S]â€ä¹‹ç±»çš„æ¨¡å¼ã€‚\n\n\n(pattern)\nåŒ¹é… pattern å¹¶æ•è·è¯¥åŒ¹é…çš„å­è¡¨è¾¾å¼ã€‚å¯ä»¥ä½¿ç”¨ $0â€¦$9 å±æ€§ä»ç»“æœâ€åŒ¹é…â€é›†åˆä¸­æ£€ç´¢æ•è·çš„åŒ¹é…ã€‚è‹¥è¦åŒ¹é…æ‹¬å·å­—ç¬¦ ( )ï¼Œè¯·ä½¿ç”¨â€(â€œæˆ–è€…â€)â€œã€‚\n\n\n(?:pattern)\nåŒ¹é… pattern ä½†ä¸æ•è·è¯¥åŒ¹é…çš„å­è¡¨è¾¾å¼ï¼Œå³å®ƒæ˜¯ä¸€ä¸ªéæ•è·åŒ¹é…ï¼Œä¸å­˜å‚¨ä¾›ä»¥åä½¿ç”¨çš„åŒ¹é…ã€‚è¿™å¯¹äºç”¨â€orâ€å­—ç¬¦ (|) ç»„åˆæ¨¡å¼éƒ¨ä»¶çš„æƒ…å†µå¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€™industr(?:y|ies) æ˜¯æ¯” â€˜industry|industriesâ€™ æ›´ç»æµçš„è¡¨è¾¾å¼ã€‚\n\n\n(?=pattern)\næ‰§è¡Œæ­£å‘é¢„æµ‹å…ˆè¡Œæœç´¢çš„å­è¡¨è¾¾å¼ï¼Œè¯¥è¡¨è¾¾å¼åŒ¹é…å¤„äºåŒ¹é… pattern çš„å­—ç¬¦ä¸²çš„èµ·å§‹ç‚¹çš„å­—ç¬¦ä¸²ã€‚å®ƒæ˜¯ä¸€ä¸ªéæ•è·åŒ¹é…ï¼Œå³ä¸èƒ½æ•è·ä¾›ä»¥åä½¿ç”¨çš„åŒ¹é…ã€‚ä¾‹å¦‚ï¼Œâ€™Windows (?=95|98|NT|2000)â€™ åŒ¹é…â€Windows 2000â€ä¸­çš„â€Windowsâ€ï¼Œä½†ä¸åŒ¹é…â€Windows 3.1â€ä¸­çš„â€Windowsâ€ã€‚é¢„æµ‹å…ˆè¡Œä¸å ç”¨å­—ç¬¦ï¼Œå³å‘ç”ŸåŒ¹é…åï¼Œä¸‹ä¸€åŒ¹é…çš„æœç´¢ç´§éšä¸Šä¸€åŒ¹é…ä¹‹åï¼Œè€Œä¸æ˜¯åœ¨ç»„æˆé¢„æµ‹å…ˆè¡Œçš„å­—ç¬¦åã€‚\n\n\n(?!pattern)\næ‰§è¡Œåå‘é¢„æµ‹å…ˆè¡Œæœç´¢çš„å­è¡¨è¾¾å¼ï¼Œè¯¥è¡¨è¾¾å¼åŒ¹é…ä¸å¤„äºåŒ¹é… pattern çš„å­—ç¬¦ä¸²çš„èµ·å§‹ç‚¹çš„æœç´¢å­—ç¬¦ä¸²ã€‚å®ƒæ˜¯ä¸€ä¸ªéæ•è·åŒ¹é…ï¼Œå³ä¸èƒ½æ•è·ä¾›ä»¥åä½¿ç”¨çš„åŒ¹é…ã€‚ä¾‹å¦‚ï¼Œâ€™Windows (?!95|98|NT|2000)â€™ åŒ¹é…â€Windows 3.1â€ä¸­çš„ â€œWindowsâ€ï¼Œä½†ä¸åŒ¹é…â€Windows 2000â€ä¸­çš„â€Windowsâ€ã€‚é¢„æµ‹å…ˆè¡Œä¸å ç”¨å­—ç¬¦ï¼Œå³å‘ç”ŸåŒ¹é…åï¼Œä¸‹ä¸€åŒ¹é…çš„æœç´¢ç´§éšä¸Šä¸€åŒ¹é…ä¹‹åï¼Œè€Œä¸æ˜¯åœ¨ç»„æˆé¢„æµ‹å…ˆè¡Œçš„å­—ç¬¦åã€‚\n\n\nx|y\nåŒ¹é… x æˆ– yã€‚ä¾‹å¦‚ï¼Œâ€™z|foodâ€™ åŒ¹é…â€zâ€æˆ–â€foodâ€ã€‚â€™(z|f)oodâ€™ åŒ¹é…â€zoodâ€æˆ–â€foodâ€ã€‚\n\n\n[xyz]\nå­—ç¬¦é›†ã€‚åŒ¹é…åŒ…å«çš„ä»»ä¸€å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€[abc]â€åŒ¹é…â€plainâ€ä¸­çš„â€aâ€ã€‚\n\n\n[^xyz]\nåå‘å­—ç¬¦é›†ã€‚åŒ¹é…æœªåŒ…å«çš„ä»»ä½•å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€[^abc]â€åŒ¹é…â€plainâ€ä¸­â€pâ€ï¼Œâ€lâ€ï¼Œâ€iâ€ï¼Œâ€nâ€ã€‚\n\n\n[a-z]\nå­—ç¬¦èŒƒå›´ã€‚åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„ä»»ä½•å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€[a-z]â€åŒ¹é…â€aâ€åˆ°â€zâ€èŒƒå›´å†…çš„ä»»ä½•å°å†™å­—æ¯ã€‚\n\n\n[^a-z]\nåå‘èŒƒå›´å­—ç¬¦ã€‚åŒ¹é…ä¸åœ¨æŒ‡å®šçš„èŒƒå›´å†…çš„ä»»ä½•å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€[^a-z]â€åŒ¹é…ä»»ä½•ä¸åœ¨â€aâ€åˆ°â€zâ€èŒƒå›´å†…çš„ä»»ä½•å­—ç¬¦ã€‚\n\n\n\\b\nåŒ¹é…ä¸€ä¸ªå­—è¾¹ç•Œï¼Œå³å­—ä¸ç©ºæ ¼é—´çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œâ€er\\bâ€åŒ¹é…â€neverâ€ä¸­çš„â€erâ€ï¼Œä½†ä¸åŒ¹é…â€verbâ€ä¸­çš„â€erâ€ã€‚\n\n\n\\B\néå­—è¾¹ç•ŒåŒ¹é…ã€‚â€er\\Bâ€åŒ¹é…â€verbâ€ä¸­çš„â€erâ€ï¼Œä½†ä¸åŒ¹é…â€neverâ€ä¸­çš„â€erâ€ã€‚\n\n\n\\cx\nåŒ¹é… x æŒ‡ç¤ºçš„æ§åˆ¶å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ\\cM åŒ¹é… Control-M æˆ–å›è½¦ç¬¦ã€‚x çš„å€¼å¿…é¡»åœ¨ A-Z æˆ– a-z ä¹‹é—´ã€‚å¦‚æœä¸æ˜¯è¿™æ ·ï¼Œåˆ™å‡å®š c å°±æ˜¯â€câ€å­—ç¬¦æœ¬èº«ã€‚\n\n\n\\d\næ•°å­—å­—ç¬¦åŒ¹é…ã€‚ç­‰æ•ˆäº [0-9]ã€‚\n\n\n\\D\néæ•°å­—å­—ç¬¦åŒ¹é…ã€‚ç­‰æ•ˆäº [^0-9]ã€‚\n\n\n\\f\næ¢é¡µç¬¦åŒ¹é…ã€‚ç­‰æ•ˆäº \\x0c å’Œ \\cLã€‚\n\n\n\\n\næ¢è¡Œç¬¦åŒ¹é…ã€‚ç­‰æ•ˆäº \\x0a å’Œ \\cJã€‚\n\n\n\\r\nåŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦ã€‚ç­‰æ•ˆäº \\x0d å’Œ \\cMã€‚\n\n\n\\s\nåŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ã€‚ä¸ [ \\f\\n\\r\\t\\v] ç­‰æ•ˆã€‚\n\n\n\\S\nåŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚ä¸ [^ \\f\\n\\r\\t\\v] ç­‰æ•ˆã€‚\n\n\n\\t\nåˆ¶è¡¨ç¬¦åŒ¹é…ã€‚ä¸ \\x09 å’Œ \\cI ç­‰æ•ˆã€‚\n\n\n\\v\nå‚ç›´åˆ¶è¡¨ç¬¦åŒ¹é…ã€‚ä¸ \\x0b å’Œ \\cK ç­‰æ•ˆã€‚\n\n\n\\w\nåŒ¹é…ä»»ä½•å­—ç±»å­—ç¬¦ï¼ŒåŒ…æ‹¬ä¸‹åˆ’çº¿ã€‚ä¸â€[A-Za-z0-9_]â€ç­‰æ•ˆã€‚\n\n\n\\W\nä¸ä»»ä½•éå•è¯å­—ç¬¦åŒ¹é…ã€‚ä¸â€[^A-Za-z0-9_]â€ç­‰æ•ˆã€‚\n\n\n\\xn\nåŒ¹é… nï¼Œæ­¤å¤„çš„ n æ˜¯ä¸€ä¸ªåå…­è¿›åˆ¶è½¬ä¹‰ç ã€‚åå…­è¿›åˆ¶è½¬ä¹‰ç å¿…é¡»æ­£å¥½æ˜¯ä¸¤ä½æ•°é•¿ã€‚ä¾‹å¦‚ï¼Œâ€\\x41â€åŒ¹é…â€Aâ€ã€‚â€\\x041â€ä¸â€\\x04â€&amp;â€1â€ç­‰æ•ˆã€‚å…è®¸åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨ ASCII ä»£ç ã€‚\n\n\n*num*\nåŒ¹é… numï¼Œæ­¤å¤„çš„ num æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚åˆ°æ•è·åŒ¹é…çš„åå‘å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€(.)\\1â€åŒ¹é…ä¸¤ä¸ªè¿ç»­çš„ç›¸åŒå­—ç¬¦ã€‚\n\n\n*n*\næ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç æˆ–åå‘å¼•ç”¨ã€‚å¦‚æœ *n* å‰é¢è‡³å°‘æœ‰ n ä¸ªæ•è·å­è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆ n æ˜¯åå‘å¼•ç”¨ã€‚å¦åˆ™ï¼Œå¦‚æœ n æ˜¯å…«è¿›åˆ¶æ•° (0-7)ï¼Œé‚£ä¹ˆ n æ˜¯å…«è¿›åˆ¶è½¬ä¹‰ç ã€‚\n\n\n*nm*\næ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç æˆ–åå‘å¼•ç”¨ã€‚å¦‚æœ *nm* å‰é¢è‡³å°‘æœ‰ nm ä¸ªæ•è·å­è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆ nm æ˜¯åå‘å¼•ç”¨ã€‚å¦‚æœ *nm* å‰é¢è‡³å°‘æœ‰ n ä¸ªæ•è·ï¼Œåˆ™ n æ˜¯åå‘å¼•ç”¨ï¼Œåé¢è·Ÿæœ‰å­—ç¬¦ mã€‚å¦‚æœä¸¤ç§å‰é¢çš„æƒ…å†µéƒ½ä¸å­˜åœ¨ï¼Œåˆ™ *nm* åŒ¹é…å…«è¿›åˆ¶å€¼ nmï¼Œå…¶ä¸­ n å’Œ m æ˜¯å…«è¿›åˆ¶æ•°å­— (0-7)ã€‚\n\n\n\\nml\nå½“ n æ˜¯å…«è¿›åˆ¶æ•° (0-3)ï¼Œm å’Œ l æ˜¯å…«è¿›åˆ¶æ•° (0-7) æ—¶ï¼ŒåŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰ç  nmlã€‚\n\n\n\\un\nåŒ¹é… nï¼Œå…¶ä¸­ n æ˜¯ä»¥å››ä½åå…­è¿›åˆ¶æ•°è¡¨ç¤ºçš„ Unicode å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ\\u00A9 åŒ¹é…ç‰ˆæƒç¬¦å· (Â©)ã€‚\n\n\n(?!)n\nåŒ¹é… nå¹¶ä¸”ä¸åŒºåˆ†å¤§å°å†™ã€‚\n\n\n\næ ¹æ® Java Language Specification çš„è¦æ±‚ï¼ŒJava æºä»£ç çš„å­—ç¬¦ä¸²ä¸­çš„åæ–œçº¿è¢«è§£é‡Šä¸º Unicode è½¬ä¹‰æˆ–å…¶ä»–å­—ç¬¦è½¬ä¹‰ã€‚å› æ­¤å¿…é¡»åœ¨å­—ç¬¦ä¸²å­—é¢å€¼ä¸­ä½¿ç”¨ä¸¤ä¸ªåæ–œçº¿ï¼Œè¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼å—åˆ°ä¿æŠ¤ï¼Œä¸è¢« Java å­—èŠ‚ç ç¼–è¯‘å™¨è§£é‡Šã€‚ä¾‹å¦‚ï¼Œå½“è§£é‡Šä¸ºæ­£åˆ™è¡¨è¾¾å¼æ—¶ï¼Œå­—ç¬¦ä¸²å­—é¢å€¼ â€œ\\bâ€ ä¸å•ä¸ªé€€æ ¼å­—ç¬¦åŒ¹é…ï¼Œè€Œ â€œ\\bâ€ ä¸å•è¯è¾¹ç•ŒåŒ¹é…ã€‚å­—ç¬¦ä¸²å­—é¢å€¼ â€œ(hello)â€œ æ˜¯éæ³•çš„ï¼Œå°†å¯¼è‡´ç¼–è¯‘æ—¶é”™è¯¯ï¼›è¦ä¸å­—ç¬¦ä¸² (hello) åŒ¹é…ï¼Œå¿…é¡»ä½¿ç”¨å­—ç¬¦ä¸²å­—é¢å€¼ â€œ\\(hello\\)â€ã€‚\n\nMatcher ç±»çš„æ–¹æ³•ç´¢å¼•æ–¹æ³•ç´¢å¼•æ–¹æ³•æä¾›äº†æœ‰ç”¨çš„ç´¢å¼•å€¼ï¼Œç²¾ç¡®è¡¨æ˜è¾“å…¥å­—ç¬¦ä¸²ä¸­åœ¨å“ªèƒ½æ‰¾åˆ°åŒ¹é…ï¼š\n\n\n\nåºå·\næ–¹æ³•åŠè¯´æ˜\n\n\n\n1\npublic int start() è¿”å›ä»¥å‰åŒ¹é…çš„åˆå§‹ç´¢å¼•ã€‚\n\n\n2\npublic int start(int group)  è¿”å›åœ¨ä»¥å‰çš„åŒ¹é…æ“ä½œæœŸé—´ï¼Œç”±ç»™å®šç»„æ‰€æ•è·çš„å­åºåˆ—çš„åˆå§‹ç´¢å¼•\n\n\n3\npublic int end() è¿”å›æœ€ååŒ¹é…å­—ç¬¦ä¹‹åçš„åç§»é‡ã€‚\n\n\n4\npublic int end(int group) è¿”å›åœ¨ä»¥å‰çš„åŒ¹é…æ“ä½œæœŸé—´ï¼Œç”±ç»™å®šç»„æ‰€æ•è·å­åºåˆ—çš„æœ€åå­—ç¬¦ä¹‹åçš„åç§»é‡ã€‚\n\n\næŸ¥æ‰¾æ–¹æ³•æŸ¥æ‰¾æ–¹æ³•ç”¨æ¥æ£€æŸ¥è¾“å…¥å­—ç¬¦ä¸²å¹¶è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°è¯¥æ¨¡å¼ï¼š\n\n\n\nåºå·\næ–¹æ³•åŠè¯´æ˜\n\n\n\n1\npublic boolean lookingAt()  å°è¯•å°†ä»åŒºåŸŸå¼€å¤´å¼€å§‹çš„è¾“å…¥åºåˆ—ä¸è¯¥æ¨¡å¼åŒ¹é…ã€‚\n\n\n2\npublic boolean find() å°è¯•æŸ¥æ‰¾ä¸è¯¥æ¨¡å¼åŒ¹é…çš„è¾“å…¥åºåˆ—çš„ä¸‹ä¸€ä¸ªå­åºåˆ—ã€‚\n\n\n3\npublic boolean find(int startï¼‰ é‡ç½®æ­¤åŒ¹é…å™¨ï¼Œç„¶åå°è¯•æŸ¥æ‰¾åŒ¹é…è¯¥æ¨¡å¼ã€ä»æŒ‡å®šç´¢å¼•å¼€å§‹çš„è¾“å…¥åºåˆ—çš„ä¸‹ä¸€ä¸ªå­åºåˆ—ã€‚\n\n\n4\npublic boolean matches() å°è¯•å°†æ•´ä¸ªåŒºåŸŸä¸æ¨¡å¼åŒ¹é…ã€‚\n\n\næ›¿æ¢æ–¹æ³•æ›¿æ¢æ–¹æ³•æ˜¯æ›¿æ¢è¾“å…¥å­—ç¬¦ä¸²é‡Œæ–‡æœ¬çš„æ–¹æ³•ï¼š\n\n\n\nåºå·\næ–¹æ³•åŠè¯´æ˜\n\n\n\n1\npublic Matcher appendReplacement(StringBuffer sb, String replacement) å®ç°éç»ˆç«¯æ·»åŠ å’Œæ›¿æ¢æ­¥éª¤ã€‚\n\n\n2\npublic StringBuffer appendTail(StringBuffer sb) å®ç°ç»ˆç«¯æ·»åŠ å’Œæ›¿æ¢æ­¥éª¤ã€‚\n\n\n3\npublic String replaceAll(String replacement)  æ›¿æ¢æ¨¡å¼ä¸ç»™å®šæ›¿æ¢å­—ç¬¦ä¸²ç›¸åŒ¹é…çš„è¾“å…¥åºåˆ—çš„æ¯ä¸ªå­åºåˆ—ã€‚\n\n\n4\npublic String replaceFirst(String replacement)  æ›¿æ¢æ¨¡å¼ä¸ç»™å®šæ›¿æ¢å­—ç¬¦ä¸²åŒ¹é…çš„è¾“å…¥åºåˆ—çš„ç¬¬ä¸€ä¸ªå­åºåˆ—ã€‚\n\n\n5\npublic static String quoteReplacement(String s) è¿”å›æŒ‡å®šå­—ç¬¦ä¸²çš„å­—é¢æ›¿æ¢å­—ç¬¦ä¸²ã€‚è¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå°±åƒä¼ é€’ç»™Matcherç±»çš„appendReplacement æ–¹æ³•ä¸€ä¸ªå­—é¢å­—ç¬¦ä¸²ä¸€æ ·å·¥ä½œã€‚\n\n\nstart å’Œ end æ–¹æ³•ä¸‹é¢æ˜¯ä¸€ä¸ªå¯¹å•è¯ â€œcatâ€ å‡ºç°åœ¨è¾“å…¥å­—ç¬¦ä¸²ä¸­å‡ºç°æ¬¡æ•°è¿›è¡Œè®¡æ•°çš„ä¾‹å­ï¼š\nRegexMatches.java æ–‡ä»¶ä»£ç ï¼šimport java.util.regex.Matcher; import java.util.regex.Pattern;  public class RegexMatches {        private static final String REGEX = \"\\\\bcat\\\\b\";        private static final String INPUT = \"cat cat cat cattie cat\";         public static void main( String[] args ){               Pattern p = Pattern.compile(REGEX);               Matcher m = p.matcher(INPUT); // è·å– matcher å¯¹è±¡               int count = 0;                while(m.find()) {                     count++;                     System.out.println(\"Match number \"+count);                     System.out.println(\"start(): \"+m.start());                     System.out.println(\"end(): \"+m.end());              }       } }\n\n\n\nä»¥ä¸Šå®ä¾‹ç¼–è¯‘è¿è¡Œç»“æœå¦‚ä¸‹ï¼š\nMatch number 1start(): 0end(): 3Match number 2start(): 4end(): 7Match number 3start(): 8end(): 11Match number 4start(): 19end(): 22\n\nå¯ä»¥çœ‹åˆ°è¿™ä¸ªä¾‹å­æ˜¯ä½¿ç”¨å•è¯è¾¹ç•Œï¼Œä»¥ç¡®ä¿å­—æ¯ â€œcâ€ â€œaâ€ â€œtâ€ å¹¶éä»…æ˜¯ä¸€ä¸ªè¾ƒé•¿çš„è¯çš„å­ä¸²ã€‚å®ƒä¹Ÿæä¾›äº†ä¸€äº›å…³äºè¾“å…¥å­—ç¬¦ä¸²ä¸­åŒ¹é…å‘ç”Ÿä½ç½®çš„æœ‰ç”¨ä¿¡æ¯ã€‚\nStart æ–¹æ³•è¿”å›åœ¨ä»¥å‰çš„åŒ¹é…æ“ä½œæœŸé—´ï¼Œç”±ç»™å®šç»„æ‰€æ•è·çš„å­åºåˆ—çš„åˆå§‹ç´¢å¼•ï¼Œend æ–¹æ³•æœ€åä¸€ä¸ªåŒ¹é…å­—ç¬¦çš„ç´¢å¼•åŠ  1ã€‚\nmatches å’Œ lookingAt æ–¹æ³•matches å’Œ lookingAt æ–¹æ³•éƒ½ç”¨æ¥å°è¯•åŒ¹é…ä¸€ä¸ªè¾“å…¥åºåˆ—æ¨¡å¼ã€‚å®ƒä»¬çš„ä¸åŒæ˜¯ matches è¦æ±‚æ•´ä¸ªåºåˆ—éƒ½åŒ¹é…ï¼Œè€ŒlookingAt ä¸è¦æ±‚ã€‚\nlookingAt æ–¹æ³•è™½ç„¶ä¸éœ€è¦æ•´å¥éƒ½åŒ¹é…ï¼Œä½†æ˜¯éœ€è¦ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹åŒ¹é…ã€‚\nè¿™ä¸¤ä¸ªæ–¹æ³•ç»å¸¸åœ¨è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½¿ç”¨ã€‚\næˆ‘ä»¬é€šè¿‡ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œæ¥è§£é‡Šè¿™ä¸ªåŠŸèƒ½ï¼š\nRegexMatches.java æ–‡ä»¶ä»£ç ï¼šimport java.util.regex.Matcher; import java.util.regex.Pattern;  public class RegexMatches {        private static final String REGEX = \"foo\";        private static final String INPUT = \"fooooooooooooooooo\";        private static final String INPUT2 = \"ooooofoooooooooooo\";        private static Pattern pattern;        private static Matcher matcher;        private static Matcher matcher2;             public static void main( String[] args ){               pattern = Pattern.compile(REGEX);               matcher = pattern.matcher(INPUT);               matcher2 = pattern.matcher(INPUT2);                System.out.println(\"Current REGEX is: \"+REGEX);               System.out.println(\"Current INPUT is: \"+INPUT);               System.out.println(\"Current INPUT2 is: \"+INPUT2);                 System.out.println(\"lookingAt(): \"+matcher.lookingAt());               System.out.println(\"matches(): \"+matcher.matches());               System.out.println(\"lookingAt(): \"+matcher2.lookingAt());       } }\n\n\n\nä»¥ä¸Šå®ä¾‹ç¼–è¯‘è¿è¡Œç»“æœå¦‚ä¸‹ï¼š\nCurrent REGEX is: fooCurrent INPUT is: foooooooooooooooooCurrent INPUT2 is: ooooofoooooooooooolookingAt(): truematches(): falselookingAt(): false\n\nreplaceFirst å’Œ replaceAll æ–¹æ³•replaceFirst å’Œ replaceAll æ–¹æ³•ç”¨æ¥æ›¿æ¢åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„æ–‡æœ¬ã€‚ä¸åŒçš„æ˜¯ï¼ŒreplaceFirst æ›¿æ¢é¦–æ¬¡åŒ¹é…ï¼ŒreplaceAll æ›¿æ¢æ‰€æœ‰åŒ¹é…ã€‚\nä¸‹é¢çš„ä¾‹å­æ¥è§£é‡Šè¿™ä¸ªåŠŸèƒ½ï¼š\nRegexMatches.java æ–‡ä»¶ä»£ç ï¼šimport java.util.regex.Matcher; import java.util.regex.Pattern;  public class RegexMatches {        private static String REGEX = \"dog\";        private static String INPUT = \"The dog says meow. \" +\"All dogs say meow.\";        private static String REPLACE = \"cat\";            public static void main(String[] args) {               Pattern p = Pattern.compile(REGEX);               // get a matcher object               Matcher m = p.matcher(INPUT);                INPUT = m.replaceAll(REPLACE);               System.out.println(INPUT);       } }\n\n\n\nä»¥ä¸Šå®ä¾‹ç¼–è¯‘è¿è¡Œç»“æœå¦‚ä¸‹ï¼š\nThe cat says meow. All cats say meow.\n\nappendReplacement å’Œ appendTail æ–¹æ³•Matcher ç±»ä¹Ÿæä¾›äº†appendReplacement å’Œ appendTail æ–¹æ³•ç”¨äºæ–‡æœ¬æ›¿æ¢ï¼š\nçœ‹ä¸‹é¢çš„ä¾‹å­æ¥è§£é‡Šè¿™ä¸ªåŠŸèƒ½ï¼š\nRegexMatches.java æ–‡ä»¶ä»£ç ï¼šimport java.util.regex.Matcher; import java.util.regex.Pattern;  public class RegexMatches {       private static String REGEX = \"a*b\";       private static String INPUT = \"aabfooaabfooabfoobkkk\";       private static String REPLACE = \"-\";       public static void main(String[] args) {              Pattern p = Pattern.compile(REGEX);              // è·å– matcher å¯¹è±¡              Matcher m = p.matcher(INPUT);              StringBuffer sb = new StringBuffer();              while(m.find()){                     m.appendReplacement(sb,REPLACE);              }              m.appendTail(sb);              System.out.println(sb.toString());       } }\n\n\n\nä»¥ä¸Šå®ä¾‹ç¼–è¯‘è¿è¡Œç»“æœå¦‚ä¸‹ï¼š\n-foo-foo-foo-kkk\n\nPatternSyntaxException ç±»çš„æ–¹æ³•PatternSyntaxException æ˜¯ä¸€ä¸ªéå¼ºåˆ¶å¼‚å¸¸ç±»ï¼Œå®ƒæŒ‡ç¤ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ä¸­çš„è¯­æ³•é”™è¯¯ã€‚\nPatternSyntaxException ç±»æä¾›äº†ä¸‹é¢çš„æ–¹æ³•æ¥å¸®åŠ©æˆ‘ä»¬æŸ¥çœ‹å‘ç”Ÿäº†ä»€ä¹ˆé”™è¯¯ã€‚\n\n\n\nåºå·\næ–¹æ³•åŠè¯´æ˜\n\n\n\n1\npublic String getDescription() è·å–é”™è¯¯çš„æè¿°ã€‚\n\n\n2\npublic int getIndex()  è·å–é”™è¯¯çš„ç´¢å¼•ã€‚\n\n\n3\npublic String getPattern() è·å–é”™è¯¯çš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ã€‚\n\n\n4\npublic String getMessage() è¿”å›å¤šè¡Œå­—ç¬¦ä¸²ï¼ŒåŒ…å«è¯­æ³•é”™è¯¯åŠå…¶ç´¢å¼•çš„æè¿°ã€é”™è¯¯çš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼å’Œæ¨¡å¼ä¸­é”™è¯¯ç´¢å¼•çš„å¯è§†åŒ–æŒ‡ç¤ºã€‚\n\n\n","categories":["Java","æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["Java","ç®—æ³•"]},{"title":"KMPç®—æ³•æ¨¡æ¿","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/kmp/","content":"KMP\nè¯´æ˜ï¼š\nKMPç®—æ³•å…¶å®ä¸»è¦çš„ä½œç”¨å°±æ˜¯åŒ¹é…å­å­—ç¬¦ä¸²ï¼Œå°±æ¯”å¦‚ï¼š\nçˆ¶ä¸²ï¼šaabacdca\nå­ä¸²ï¼šacd\nè¿™é‡Œæˆ‘ä»¬è¦æŸ¥æ‰¾çˆ¶ä¸²ä¸­æ˜¯å¦æœ‰å­ä¸²ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”¨KMPç®—æ³•ã€‚\nè€ŒKMPç®—æ³•å…¶å®æœ‰ç‚¹åƒä¸€ä¸ªçŠ¶æ€æœºï¼Œæˆ–è€…è¯´ä¸€ä¸ªdpï¼Ÿ\nå…¶ä¸»è¦ç‰¹ç‚¹è¿˜æ˜¯è®°å½•è½¬æ€å›æº¯ã€‚\nKMPä¸»è¦éš¾ç‚¹åœ¨äºå…¶ä¸­nextæ•°ç»„çš„è®¡ç®—ã€‚nextæ•°ç»„çš„è®¡ç®—æ–¹å¼æ˜¯â€œå‰ç¼€å’Œåç¼€å…¬å…±éƒ¨åˆ†çš„æœ€å¤§é•¿åº¦â€ã€‚æ¯”å¦‚ä¸€ä¸ªå­—ç¬¦ä¸²ababaï¼Œä»–çš„å‰ç¼€æ˜¯å¯ä»¥æ˜¯aï¼Œabï¼Œabaï¼Œababï¼ˆä¸åŒ…å«æœ€åä¸€ä½ï¼‰ï¼Œåç¼€æ˜¯aï¼Œbaï¼Œabaï¼Œbabaï¼ˆä¸åŒ…å«ç¬¬ä¸€ä½ï¼‰ã€‚\n\nJavaä»£ç æ¨¡æ¿ï¼š\n/** * @description: KMPç®—æ³• * KMPæ˜¯ä¸€ç§å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼Œä»–æ˜¯ä¸€ç§æ—¶é—´å¤æ‚åº¦ä½ï¼Œæ¯”è¾ƒä¼˜ç§€çš„ä¸€ç§å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼Œä¸€èˆ¬å¯ä»¥æ‹¿æ¥åšä¸€ä¸‹å­—ç¬¦ä¸²åŒ¹é…ç±»çš„é¢˜ç›®ã€‚ä»–ä¸ä¸€èˆ¬çš„æš´åŠ›åŒ¹é…æ¯”è¾ƒå…¶æœ‰ç‚¹å°±æ˜¯ * æœ‰è®°å½•å’Œå›æº¯å­ä¸²çš„åŠŸèƒ½ï¼Œç›¸æ¯”æ™®é€šçš„æš´åŠ›åŒ¹é…å‡å°‘äº†å¾ˆå¤šæ²¡å¿…è¦çš„åŒ¹é…æ¬¡æ•°ï¼Œå…¶æ€æƒ³æ¦‚å¿µæœ‰ç‚¹ç±»ä¼¼äºdpï¼Œå’Œç®€å•çŠ¶æ€æœºã€‚ * @author é•¿ç™½å´ * @date 2023/3/28 0:28 * @version 1.0 */import java.util.Arrays;import java.util.Scanner;public class KMP {\tpublic static void main(String[] args) {\t\t// TODO Auto-generated method stub\t\tScanner sc = new Scanner(System.in);\t\t\t\t//String s = sc.next();\t\tString pat = sc.next();\t\t\t\tint next[] = new int[pat.length()];\t\t\t\tbuildNext(pat.toCharArray(), next);\t\tSystem.out.println(Arrays.toString(next));\t\t//System.out.println(kmp(s.toCharArray(),pat.toCharArray(),next));\t\t\t}\t\t\t\tpublic static int kmp(char s[],char pat[],int next[]) {\t\t\t\t\t\tint j=0;\t\tfor(int i=0 ; i&lt;s.length ; ++i) {\t\t\twhile(j&gt;0 &amp;&amp; s[i]!=pat[j]) j =  next[j-1];\t\t\tif(s[i]==pat[j]) ++j;\t\t\tif(j==pat.length) return i-pat.length+1;\t\t}\t\treturn -1;\t}\t\tpublic static void buildNext(char pat[],int next[]) {\t\t\t\tint i = 0;\t\tfor(int j=1; j &lt; pat.length ; ++j) {\t\t\twhile(i&gt;0 &amp;&amp; pat[i]!=pat[j]) i = next[i-1];\t\t\tif(pat[i]==pat[j]) ++i;\t\t\tnext[j] = i;\t\t}\t\t\t}}\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["ç®—æ³•","KMP"]},{"title":"Kruskalç®—æ³•æ¨¡æ¿","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/kruskal/","content":"Kruskal\nä»‹ç»ï¼š\nKruskalç®—æ³•æ˜¯ä¸€ç§åŸºäºå›¾çš„ç®—æ³•ï¼Œä»–çš„ä¸»è¦ä½œç”¨å°±æ˜¯æ‰¾å‡ºå›¾ä¸­çš„æœ€å°ç”Ÿæˆæ ‘ï¼Œè¿™ä¸ªç®—æ³•ä¼šåœ¨ä¸€äº›æ¯”å¦‚é“ºè®¾ç”µç½‘æœ€å°å¼€é”€ç­‰é—®é¢˜ä¸Šæœ‰ç›¸åº”çš„åº”ç”¨ã€‚\n\nJavaä»£ç æ¨¡æ¿ï¼š\n/** * @description: TODO * @author é•¿ç™½å´ * @date 2023/3/25 18:00 * @version 1.0 */import java.util.ArrayList;import java.util.Arrays;import java.util.Random;/** * Kruskalç®—æ³•çš„æ€æƒ³å…¶å®å¾ˆç®€å•ï¼Œä½†æ˜¯äº†å…¶æ ¸å¿ƒéš¾ç‚¹åœ¨äºå¦‚ä½•æŸ¥å‡ºé—­ç¯ï¼Œè€ŒæŸ¥é—­ç¯è¿™ä¸€æ­¥éª¤éœ€è¦ç”¨åˆ°ä¸€ä¸ªç®—æ³•ï¼Œé‚£å°±æ˜¯å¹¶æŸ¥é›†ç®—æ³•ï¼Œå¦‚æœè¿˜æ²¡æœ‰äº†è§£è¿‡å¹¶æŸ¥é›†ç®—æ³•çš„åŒå­¦å¯ä»¥å…ˆå»äº†è§£ä¸€ä¸‹ * ä»¥ä¸‹æ˜¯Kruskalç®—æ³•çš„ä¸»è¦æ­¥éª¤ï¼š * 1ã€é¦–å…ˆå°±æ˜¯å…ˆæ•´ç†å¥½æ‰€æœ‰çš„ç»“ç‚¹ï¼Œè¿™é‡Œçš„è¯æ¯”å¦‚æŠŠæ‰€æœ‰ç»“ç‚¹éƒ½åŠ å…¥åˆ°ä¸€ä¸ªæ•°ç»„æˆ–è€…ä¸€ä¸ªé›†åˆé‡Œé¢,ä½†æ˜¯è¿™é‡Œä¸€å®šè¦æ³¨æ„ï¼Œé‚£å°±æ˜¯æ•°ç»„æˆ–é›†åˆå¯¹åº”çš„ä¸‹æ ‡ä¸€å®šè¦å¯¹åº”ç›¸åº”çš„Pointç±»é‡Œé¢çš„tableæ ‡ç­¾å€¼ï¼Œä¸ç„¶ä¼šå‡ºé—®é¢˜ã€‚ * 2ã€ç”¨ä¸€ä¸ªé›†åˆå­˜æ‰€æœ‰è¾¹ï¼Œä¹Ÿå°±æ˜¯é¢˜ç›®é‡Œé¢è¾“å…¥çš„æ‰€æœ‰ç‚¹åˆ°ç‚¹çš„è¾¹ * (è¿™é‡Œä¸€å®šè¦ç‰¹åˆ«æ³¨æ„ï¼ï¼ï¼ï¼ï¼è¾¹çš„èµ·ç‚¹å’Œç»“æŸç‚¹æ ‡ç­¾ä¸€å®šè¦æœ‰è§„å¾‹ï¼Œæ¯”å¦‚ä½ è¦ä¹ˆèµ·å§‹ç»“ç‚¹çš„æ ‡ç­¾æ¯”ç»“æŸæ ‡ç­¾çš„ç»“ç‚¹å¤§ï¼Œè¦ä¹ˆå°ï¼Œåƒä¸‡åˆ«ææ··äº†) * 3ã€å¯¹æ‰€æœ‰çš„è¾¹åŸºäºä»–çš„é•¿åº¦æˆ–è€…è¯´æˆæœ¬è¿›è¡Œä»å°åˆ°è¾¾æ’åº * 4ã€åŸºäºç¬¬ä¸‰æ­¥æ‹¿åˆ°æ’åºåçš„è¾¹çš„é›†åˆåé€ä¸€éå†é€‰å–è¾¹è¿›è¡Œè¿æ¥ã€‚å½“ç„¶ï¼Œè¿™é‡Œè¦ä¸»è¦åœ¨è¿›è¡Œè¿æ¥çš„åŒæ—¶è¦å…ˆæ£€éªŒæ‰€é€‰è¾¹æ˜¯å¦ä¼šå½¢æˆå›è·¯ï¼Œè¿™é‡Œå°±è¦ç”¨åˆ°å¹¶æŸ¥é›†ç®—æ³•äº† */public class Main {    public static void main(String[] args) {        //ä»¥ä¸‹ä¸ºæµ‹è¯•é›†ï¼Œä¸ç”¨ç†ç¬ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚        Point point[] = new Point[10];        point[0] = new Point(1,3,0);        point[1] = new Point(4,7,1);        point[2] = new Point(3,10,2);        point[3] = new Point(9,4,3);        point[4] = new Point(12,2,4);        point[5] = new Point(11,2,5);        point[6] = new Point(12,5,6);        point[7] = new Point(23,7,7);        point[8] = new Point(1,2,8);        point[9] = new Point(6,8,9);        E e[] = new E[9+8+7+6+5+4+3+2+1];        for(int y= 0,i=0; y &lt; point.length ; ++y){            for(int x = y+1; x &lt; point.length ; ++x,++i){                e[i] = new E(point[y],point[x], (int) (Math.random()*100+1));            }        }        kruskal(point,e);    }    public static void kruskal(Point point[]/*æ‰€æœ‰çš„ç‚¹*/,E e[]/*æ‰€æœ‰çš„è¾¹*/){        //å®šåˆ¶åŒ–æ’åºå¯¹å­˜è¾¹çš„æ•°ç»„åŸºäºä»–çš„é•¿åº¦è¿›è¡Œä»å°åˆ°å¤§æ’åºã€‚        Arrays.sort(e,(a,b)-&gt; a.getLen()-b.getLen());        //å¹¶æŸ¥é›†ç”¨çš„æ•°ç»„ï¼Œä¸‹æ ‡ä»£è¡¨å­ç»“ç‚¹ï¼Œå¯¹åº”ä¸‹æ ‡å­˜çš„å†…å®¹ä»£è¡¨çˆ¶ç»“ç‚¹        int parent[] = new int[point.length];        for(int i = 0 ; i&lt; parent.length ; ++i) parent[i] =i; //åˆå§‹åŒ–å¹¶æŸ¥é›†çš„æ•°ç»„        ArrayList&lt;E&gt; selectE = new ArrayList&lt;&gt;(); //è¿™ä¸ªç”¨æ¥å­˜é€‰çš„è¾¹        for(int i= 0 ; i&lt; e.length ; ++i){            E ne = e[i];            int startRoot = find(parent,ne.getStartPoint().getTable()); //æŸ¥è¯¢èµ·å§‹ç»“ç‚¹çš„æ ¹ç»“ç‚¹            int endRoot = find(parent,ne.getEndPoint().getTable()); //æŸ¥è¯¢ç»“æŸç»“ç‚¹çš„æ ¹ç»“ç‚¹            //å¦‚æœå…¶å®ç»“ç‚¹å’Œç»“æŸçš„ç»“ç‚¹çš„æ ¹ç»“ç‚¹æ˜¯åŒä¸€ä¸ªï¼Œé‚£ä¹ˆè¯´æ˜ä¼šå½¢æˆé—­ç¯ï¼Œé‚£å°±ä¸é€‰è¿™æ¡è¾¹            if(startRoot == endRoot)                continue;            //é€‰æ‹©è¯¥è¾¹            parent[startRoot] = endRoot; // æ›´æ–°å¹¶æŸ¥é›†çˆ¶å­ç»“ç‚¹å…³ç³»            selectE.add(ne); //å°†è¾¹åŠ å…¥åˆ°é€‰æ‹©çš„é›†åˆå½“ä¸­        }        int ans = 0;        for(int i =0 ; i &lt; selectE.size(); ++i){            System.out.println(selectE.get(i).getStartPoint().getTable()+\"â€”â€”\"+selectE.get(i).getEndPoint().getTable());            ans+= selectE.get(i).getLen();        }        System.out.println(\"æœ€å°ç”Ÿæˆæ ‘çš„è¾¹æ€»é•¿åº¦å¤§å°ï¼š\"+ans);    }    /**     * å¹¶æŸ¥é›†æ ¸å¿ƒç®—æ³•     * @param parent ä»£è¡¨çš„æ˜¯å¹¶æŸ¥é›†ç”¨çš„æ•°ç»„     * @param point ä»£è¡¨çš„æ˜¯éœ€è¦æŸ¥çš„ç»“ç‚¹çš„æ ¹ç»“ç‚¹     * @return     */    public static int find(int parent[],int point){        while(parent[point]!=point)            point = parent[point];        return point;    }}/** * è¿™ä¸ªç±»ä»£è¡¨çš„æ˜¯ä¸€ä¸ªç»“ç‚¹ï¼Œä¸€ä¸ªèŠ‚ç‚¹é‡Œé¢æ‰€åŒ…å«çš„ä¿¡æ¯æœ‰è¿™ä¸ªç‚¹çš„xåæ ‡å’Œyåæ ‡ */class Point{    private int x; //ä»£è¡¨ç‚¹çš„xåæ ‡    private int y; //ä»£è¡¨ç‚¹çš„yåæ ‡    private int table; //ä»£è¡¨ç»“ç‚¹çš„æ ‡ç­¾ï¼Œæ¯”å¦‚ç»“ç‚¹ç¬¬ä¸€ä¸ªé‚£è¿™é‡Œå°±æ˜¯1ï¼Œç¬¬äºŒä¸ªç»“ç‚¹é‚£ä¹ˆå°±æ˜¯2    public Point(int x, int y,int table) {        this.x = x;        this.y = y;        this.table = table;    }    public int getX() {        return x;    }    public void setX(int x) {        this.x = x;    }    public int getY() {        return y;    }    public void setY(int y) {        this.y = y;    }    public int getTable() {        return table;    }    public void setTable(int table) {        this.table = table;    }}/** * è¿™ä¸ªç±»ä»£è¡¨çš„æ˜¯è¾¹ï¼Œä¹Ÿå°±æ˜¯ä¸¤èŠ‚ç‚¹ä¹‹é—´çš„ä¸€æ¡è¿æ¥çš„è¾¹ */class E{    Point startPoint; //è¾¹çš„èµ·å§‹ç»“ç‚¹    Point endPoint; //è¾¹çš„ç»“æŸç»“ç‚¹    int len; //è¾¹çš„é•¿åº¦    public E(Point startPoint, Point endPoint, int len) {        this.startPoint = startPoint;        this.endPoint = endPoint;        this.len = len;    }    public Point getStartPoint() {        return startPoint;    }    public void setStartPoint(Point startPoint) {        this.startPoint = startPoint;    }    public Point getEndPoint() {        return endPoint;    }    public void setEndPoint(Point endPoint) {        this.endPoint = endPoint;    }    public int getLen() {        return len;    }    public void setLen(int len) {        this.len = len;    }}\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["ç®—æ³•","Kruskal"]},{"title":"Manacherç®—æ³•æ¨¡æ¿","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/manacher/","content":"Manacher\nè¯´æ˜ï¼š\nManacherç®—æ³•ä¸»è¦æ˜¯ç”¨äºå­—ç¬¦ä¸²æŸ¥æ‰¾æœ€é•¿å›æ–‡å­ä¸²ï¼Œå…¶åŸç†å°±æ˜¯åœ¨åŸæœ¬çš„å­—ç¬¦ä¸²æ’å…¥å…¶ä»–ç‰¹æ®Šç¬¦å·è¾¾åˆ°æŠŠæˆ‘ä»¬æ‰€æœ‰éœ€è¦æ‰€æœ‰éœ€è¦åŒ¹é…çš„å›æ–‡éƒ½å˜æˆäº†å¥‡å›æ–‡ï¼Œå¹¶ä¸”ä»¥å…¶å¥‡å›æ–‡çš„ä¸­ç‚¹å‘å·¦å³æ‰©æ•£è®¡ç®—å…¶å›æ–‡é•¿åº¦ã€‚\n\nJavaä»£ç æ¨¡æ¿ï¼ˆæ—¶é—´å¤æ‚åº¦O(n)ï¼‰ï¼š\nimport java.io.BufferedReader;import java.io.IOException;import java.io.InputStreamReader;import java.io.PrintWriter;import java.util.StringTokenizer;/** *  * @author é•¿ç™½å´ * */public class ManacherStudy {\tfinal static PrintWriter out = new PrintWriter(System.out);\t\tpublic static void main(String[] args) throws IOException {\t\t// TODO Auto-generated method stub\t\tchar str[] = R.next().toCharArray();\t\t\t\tout.println(manacher(str));\t\tout.flush();\t\tout.close();\t}\t\t/**\t * Manacheræ ¸å¿ƒç®—æ³•\t * @param str éœ€è¦è¿›è¡Œåˆ¤æ–­çš„å­—ç¬¦ä¸²\t * @return è¿”å›æœ€é•¿å›æ–‡å­ä¸²çš„é•¿åº¦\t */\tpublic static long manacher(char str[]) {\t\tchar s[] = new char[str.length*2+2];//Manacherå¤„ç†è¿‡åçš„å­—ç¬¦ä¸²\t\tint m = 0; s[++m]='#';\t\t\t\tfor(int i=0;i&lt;str.length;++i) {s[++m]=str[i]; s[++m]='#';};\t\t\t\tint p[] = new int[s.length]; //ç”¨äºå¯„å­˜p[i]ç‚¹çš„å›æ–‡ä¸²é•¿åº¦\t\t\t\t//Mä¸ºæœ€å³å›æ–‡ä¸­é—´å€¼\t\t//Mæœ€é•¿å›æ–‡ä¸­é—´å€¼,Rä¸ºå³è¾¹ç•Œï¼Œmaxé•¿å›æ–‡å­ä¸²\t\tint M = 0,R=0,max=0;\t\tfor(int i =1;i&lt;=m;++i) {\t\t\t\t\t\tif(i&gt;R) p[i]=1; else p[i]=Math.min(p[2*M-i], R-i+1);\t\t\t\t\t\t//(i-p[i])å’Œ(i+p[i])æ˜¯ä¸ºäº†é˜²æ­¢è¶Šç•Œ\t\t\twhile(i-p[i]&gt;=1 &amp;&amp; i+p[i]&lt;=m &amp;&amp; s[i+p[i]]==s[i-p[i]])++p[i];\t\t\tif(p[i]+i-1&gt;R) {M=i;R=i+p[i]-1;} //å¦‚æœå½“å‰å›æ–‡ä¸²çš„é•¿åº¦è¶…è¿‡ä¹‹å‰çš„æœ€å¤§è¦†ç›–å›æ–‡ä¸²çš„é•¿åº¦é‚£ä¹ˆä¹…æ›¿æ¢Må’ŒR\t\t\tmax= Math.max(max, p[i]);\t\t}\t\t\t\t\t\treturn max-1;\t}\t\tstatic class R{\t\tstatic BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\t\tstatic StringTokenizer tk = new StringTokenizer(\"\");\t\tpublic static String next() throws IOException {\t\t\twhile(!tk.hasMoreTokens()) {\t\t\t\ttk = new StringTokenizer(br.readLine());\t\t\t}\t\t\treturn tk.nextToken();\t\t}\t}}\nC++æ¨¡æ¿(æ—¶é—´å¤æ‚åº¦O(n)):#include&lt;iostream&gt;#include&lt;cstring&gt;#include&lt;cmath&gt;using namespace std;const int N = 2.2e7+5;string n;char s[N];int p[N];int manacher(){    int m =0;s[++m]='#';    for(int i=0;i&lt;n.length();++i){s[++m]=n[i];s[++m]='#';}    int M=0,R=0,mx=0;    for(int i =1;i&lt;=m;++i){        if(i&gt;R)p[i]=1;else p[i]= min(p[2*M-i],R-i+1);        while(i-p[i]&gt;=1 &amp;&amp; i+p[i]&lt;=m &amp;&amp; s[i-p[i]]==s[i+p[i]]) ++p[i];        if(i+p[i]-1&gt;R) M=i,R=i+p[i]-1;        mx=max(mx,p[i]);    }    return mx-1;}int main(){    cin &gt;&gt; n;    cout &lt;&lt; manacher()&lt;&lt;endl;    return 0;}\n\n\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["ç®—æ³•","Manacher"]},{"title":"Primç®—æ³•æ¨¡æ¿","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/prim/","content":"","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["ç®—æ³•","Prim"]},{"title":"çº¿æ®µæ ‘ç®—æ³•æ¨¡æ¿","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/segmenttree-xian-duan-shu/","content":"çº¿æ®µæ ‘\nè¯´æ˜ï¼š\nçº¿æ®µæ ‘æ¨¡æ¿\næ¨èè§†å±ï¼š\nã€å–µçš„ç®—æ³•è¯¾ã€‘çº¿æ®µæ ‘ æ•°æ®ç»“æ„ã€6æœŸã€‘_å“”å“©å“”å“©_bilibili\næ¨èæ–‡ç« ï¼š\nã€Šç®—æ³•ç«èµ›ã€‹ä¸Šå†Œ ç½—å‹‡å†› ç¬¬175é¡µ\n\nJavaä»£ç æ¨¡æ¿ï¼šimport java.util.Scanner;/** * @author é•¿ç™½å´ * @version 1.0 * @description: çº¿æ®µæ ‘ * è¿™ä¸ªæ¨¡æ¿ä¸»è¦å±•ç¤ºäº†åŸºæœ¬çš„æ„å»ºï¼Œä»¥åŠä¸€äº›åŸºæœ¬çš„ä½¿ç”¨ï¼Œè¯¦ç»†çš„ä½¿ç”¨éœ€è¦é€šè¿‡é¢˜ç›®è¦æ±‚åŠ¨æ€ä¿®æ”¹ã€‚ * @date 2023/5/2 1:54 */public class SegmentTree {    public static void main(String[] args) {        //æµ‹è¯•æ•°æ®        Scanner sc = new Scanner(System.in);        System.out.println(\"è¯·è¾“å…¥æ•°ç»„é•¿åº¦ï¼š\");        int n = sc.nextInt();        int data[] = new int[n + 1]; //ç”¨äºå¯„å­˜å€¼çš„æ•°ç»„        int tree[] = new int[(n + 1) * 4]; //çº¿æ®µæ ‘çš„æ•°ç»„        int lazyTag[] = new int[(n + 1) * 4]; //æ‡’æ ‡è®°æ•°ç»„        //å¯„å­˜æ•°ç»„çš„å€¼è¾“å…¥        System.out.println(\"è¯·è¾“å…¥æ•°ç»„å†…çš„å€¼ï¼š\");        for (int i = 1; i &lt;= n; ++i) {            data[i] = sc.nextInt();        }        //æ„å»ºçº¿æ®µæ ‘        build(tree, data, 1, 1, n);        //é€šè¿‡çº¿æ®µæ ‘æŸ¥è¯¢åŒºé—´æ€»å’Œ        System.out.println(\"è¯·è¾“å…¥éœ€è¦æŸ¥è¯¢çš„åŒºé—´ï¼š\");        int start = sc.nextInt();        int end = sc.nextInt();        System.out.println(query(tree, lazyTag, start, end, 1, 1, n));        //æ›´æ–°çº¿æ®µæ ‘        System.out.println(\"è¯·è¾“å…¥éœ€è¦æ›´æ–°çš„åŒºé—´ä»¥åŠæ›´æ–°çš„å€¼ä¸ºå¤šå°‘ï¼š\");        start = sc.nextInt();        end = sc.nextInt();        int v = sc.nextInt();        update(tree,lazyTag,start,end,1,n,1,v);        //é€šè¿‡çº¿æ®µæ ‘æŸ¥è¯¢åŒºé—´æ€»å’Œ        System.out.println(\"è¯·è¾“å…¥éœ€è¦æŸ¥è¯¢çš„åŒºé—´ï¼š\");        start = sc.nextInt();        end = sc.nextInt();        System.out.println(query(tree, lazyTag, start, end, 1, 1, n));    }    /**     * è·å–å½“å‰èŠ‚ç‚¹ç¼–å·çš„å·¦å„¿å­ç»“ç‚¹ç¼–å·     *     * @param p ä»£è¡¨å½“å‰ç»“ç‚¹çš„æ ‡ç­¾åºå·     * @return è¿”å›å…¶å·¦å­èŠ‚ç‚¹çš„æ ‡ç­¾å·     */    public static int ls(int p) {        return p &lt;&lt; 1;    }    /**     * è·å–å½“å‰ç»“ç‚¹ç¼–å·çš„å³å„¿å­ç»“ç‚¹ç¼–å·     *     * @param p ä»£è¡¨å½“å‰ç»“ç‚¹çš„æ ‡ç­¾åºå·     * @return ä»£è¡¨å…¶å³å­ç»“ç‚¹çš„æ ‡ç­¾å·     */    public static int rs(int p) {        return p &lt;&lt; 1 | 1;    }    /**     * ç”¨äºè®¡ç®—å½“å‰ç»“ç‚¹æ‰€å¯¹åº”çš„å·¦å³å­ç»“ç‚¹çš„æ€»å’Œ     *     * @param tree æ‰€æ„å»ºçš„çº¿æ®µæ ‘     * @param p    è¡¨ç¤ºæˆ‘ä»¬éœ€è¦è®¡ç®—çš„ç»“ç‚¹çš„æ ‡ç­¾     */    public static void pushUp(int tree[], int p) {        tree[p] = tree[ls(p)] + tree[rs(p)]; //åŒºé—´å’Œ    }    /**     * æ„å»ºçº¿æ®µæ ‘     *     * @param tree     * @param left     * @param right     */    public static void build(int tree[], int data[], int p, int left, int right) {        if (left == right) {            tree[p] = data[left];            return;        }        int mid = (left + right) &gt;&gt; 1;        build(tree, data, ls(p), left, mid);        build(tree, data, rs(p), mid + 1, right);        pushUp(tree, p);    }    /**     * åŒºé—´å’ŒæŸ¥è¯¢     *     * @param tree æ„å»ºçš„çº¿æ®µæ ‘     * @param L    ä»£è¡¨æˆ‘ä»¬éœ€è¦æŸ¥è¯¢çš„æ•°ç»„å¯¹åº”çš„åŒºé—´å·¦æ ‡     * @param R    ä»£è¡¨æˆ‘ä»¬éœ€è¦æŸ¥è¯¢çš„æ•°ç»„å¯¹åº”çš„åŒºé—´å³æ ‡     * @param p    ä»£è¡¨çš„æ˜¯æˆ‘ä»¬å½“å‰çš„æ‰€æŸ¥è¯¢åŸºäºçš„çˆ¶èŠ‚ç‚¹çš„ç»“ç‚¹æ ‡ç­¾     * @param ls   ä»£è¡¨å½“å‰çˆ¶ç»“ç‚¹çš„èŒƒå›´å·¦æ ‡     * @param rs   ä»£è¡¨å½“å‰çˆ¶ç»“ç‚¹çš„èŒƒå›´å³æ ‡     * @return è¿”å›æœ€ç»ˆçš„åŒºé—´æ€»å’Œå€¼     */    public static int query(int tree[], int lazyTag[], int L, int R, int p, int ls, int rs) {        //å®Œå…¨è¦†ç›–        if (L &lt;= ls &amp;&amp; R &gt;= rs) return tree[p];        pushDown(tree, lazyTag, ls, rs, p);        int res = 0;        int mid = (ls + rs) &gt;&gt; 1;        if (L &lt;= mid) res += query(tree, lazyTag, L, R, ls(p), ls, mid);        if (R &gt; mid) res += query(tree, lazyTag, L, R, rs(p), mid + 1, rs);        return res;    }    /**     * æ‡’æ ‡è®°æ›´æ–°å‡½æ•°     *     * @param tree    çº¿æ®µæ ‘çš„æ•°ç»„     * @param lazyTag æ‡’æ ‡è®°æ•°ç»„     * @param ls      éœ€è¦ä¿®æ”¹çš„åŒºåŸŸçš„å·¦è¾¹ç•Œ     * @param rs      éœ€è¦ä¿®æ”¹åŒºåŸŸçš„å³è¾¹ç•Œ     * @param p       å½“å‰ä¿®æ”¹åŒºåŸŸç»“ç‚¹çš„æ ‡ç­¾åºå·     * @param v       éœ€è¦ä¿®æ”¹çš„å€¼     */    public static void addTag(int tree[], int lazyTag[], int ls, int rs, int p, int v) {        lazyTag[p] += v;        tree[p] += v * (rs - ls + 1);    }    /**     * æ‡’æ ‡è®°å‘ä¸‹ä¼ é€’     *     * @param tree    çº¿æ®µæ ‘çš„æ•°ç»„     * @param lazyTag æ‡’æ ‡è®°æ•°ç»„     * @param ls      åŒºé—´çš„å·¦è¾¹ç•Œ     * @param rs      åŒºé—´çš„å³è¾¹ç•Œ     * @param p       å¯¹åº”åŒºé—´çš„æ ‡ç­¾     */    public static void pushDown(int tree[], int lazyTag[], int ls, int rs, int p) {        //æ‹¦æˆªä¸éœ€è¦å‘ä¸‹ä¼ é€’çš„æ‡’æ ‡è®°        if (lazyTag[p] == 0)            return;        //å¼€å§‹æ‡’æ ‡è®°ä¼ é€’        int mid = (ls + rs) &gt;&gt; 1;        addTag(tree, lazyTag, ls, mid, ls(p), lazyTag[p]);        addTag(tree, lazyTag, mid + 1, rs, rs(p), lazyTag[p]);        lazyTag[p] = 0;    }    public static void update(int tree[], int lazyTag[], int L, int R, int ls, int rs, int p, int v) {        if (L &lt;= ls &amp;&amp; R &gt;= rs) {            addTag(tree, lazyTag, ls, rs, p, v);            return;        }        //å‘ä¸‹ä¼ é€’        pushDown(tree,lazyTag,ls,rs,p);        int mid = (ls+rs)&gt;&gt;1;        //å¦‚æœå·¦å­ç»“ç‚¹ç¬¦åˆè¦æ±‚é‚£ä¹ˆé€’å½’è¿›å·¦å­ç»“ç‚¹ç»§ç»­        if (L&lt;=mid) update(tree,lazyTag,L,R,ls,mid,ls(p),v);        //å¦‚æœå³å­ç»“ç‚¹ç¬¦åˆè¦æ±‚é‚£ä¹ˆé€’å½’è¿›å³å­ç»“ç‚¹ç»§ç»­        if(R &gt; mid) update(tree,lazyTag,L,R,mid+1,rs,rs(p),v);        //æ›´æ–°å½“å‰ç»“ç‚¹çš„å€¼        pushUp(tree,p);    }}\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["ç®—æ³•","SegmentTree","çº¿æ®µæ ‘"]},{"title":"äºŒå‰æ ‘","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/er-cha-shu/","content":"äºŒå‰æ ‘æ€è·¯æ¨¡æ¿C++æ¨¡æ¿/*æ•°ç»„æ¨¡æ‹ŸäºŒå‰æ ‘å¦‚æœä»¥å­˜å‚¨èµ·ç‚¹ä¸º1é‚£ä¹ˆï¼šå¦‚æœ2^i&lt;né‚£ä¹ˆè¯´æ˜æœ‰å·¦èŠ‚ç‚¹,å¦‚æœ2^i+1&lt;né‚£ä¹ˆè¯´æ˜æœ‰å³èŠ‚ç‚¹,iä»£è¡¨çš„æ˜¯åº¦ï¼Œnä»£è¡¨æ€»ä½“çš„é•¿åº¦,è¯¥åº¦çš„æœ€åä¸€ä½è®¡ç®—å°±æ˜¯2^(i+1)-1;æ¯”å¦‚è¯´ä½ ç°åœ¨çš„åº¦æ˜¯1é‚£ä¹ˆåº¦ä¸º2çš„æœ€åä¸€ä½å°±æ˜¯åœ¨æ•°ç»„2^(1+1)-1=3å½“ä¸­å¦‚æœä»¥å­˜å‚¨èµ·ç‚¹ä¸º0é‚£ä¹ˆï¼šå¦‚æœ2^i-1&lt;né‚£ä¹ˆè¯´æ˜æœ‰å·¦èŠ‚ç‚¹,å¦‚æœ2^i&lt;né‚£ä¹ˆè¯´æ˜æœ‰å³èŠ‚ç‚¹,iä»£è¡¨çš„æ˜¯åº¦,nä»£è¡¨æ€»ä½“çš„é•¿åº¦ï¼Œè¯¥åº¦çš„æœ€åä¸€ä½è®¡ç®—å°±æ˜¯2*(i+1)-2;æ¯”å¦‚è¯´ä½ ç°åœ¨çš„åº¦æ˜¯1ï¼Œé‚£ä¹ˆåº¦ä¸º2çš„æœ€åä¸€ä½å°±æ˜¯åœ¨æ•°ç»„2^(1+1)-2=2å½“ä¸­&lt;å’Œ&lt;=çš„é—®é¢˜è¦çœ‹ä½ æ˜¯æ€ä¹ˆå­˜å‚¨çš„å¦‚æœæ˜¯ä»1å¼€å§‹å­˜å‚¨é‚£ä¹ˆå°±è¦å–&lt;=nå¦‚æœæ˜¯ä»0å¼€å§‹å­˜å‚¨é‚£ä¹ˆå°±è¦å–&lt;åº¦å¿…é¡»ä»1å¼€å§‹å› ä¸ºå¦‚æœæ²¡æœ‰äºŒå‰æ ‘å¿…é¡»è¦æœ‰ä¸€ä¸ªä¸ºèµ·ç‚¹*/#include &lt;iostream&gt;#include &lt;cmath&gt;using namespace std;const int N = 1e5 + 10;int a[N];/// @brief å¯»æ‰¾å®Œå…¨äºŒå‰æ ‘çš„æ€»å…±çš„åº¦/// @param n æ€»ä½“çš„é•¿åº¦/// @param dept åº¦/// @return æ˜¯å®Œå…¨äºŒå‰æ ‘çš„æ€»å…±çš„åº¦int find(int n, int dept){    for (int i = 2; i &lt;= n; i++)    {        // æ‰¾åˆ°äº†æœ€åä¸€ä½é‚£ä¹ˆé€’å¢ä¸€ä½åº¦        if (pow(2, dept + 1) - 1 == i)            dept++;    }    return dept;}/// @brief è¾“å‡ºæ ‘é‡Œé¢çš„æ•°/// @param n æ€»ä½“çš„é•¿åº¦/// @param dept åº¦void findTree(int n, int dept){    if (a[dept])        cout &lt;&lt; a[dept] &lt;&lt; \" \";    if (a[dept * 2] &amp;&amp; 2 * dept &lt;= n)        findTree(n, 2 * dept);    if (a[dept * 2 + 1] &amp;&amp; 2 * dept + 1 &lt;= n)        findTree(n, 2 * dept + 1);}int main(){    //ä»¥ä¸‹æ˜¯æµ‹è¯•é›†    int n;    cin &gt;&gt; n;    a[1] = 1;    for (int i = 2; i &lt;= n; i++)        a[i] = i;    findTree(n, 1);    find(n, 1);}\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["ç®—æ³•"]},{"title":"äºŒé¡¹å¼","url":"/2024/05/27/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/er-xiang-shi/","content":"äºŒé¡¹å¼\nå…¬å¼ï¼š\n$(x+y)^n=\\sum^n_{k=0}C^{k}_nx^{n-k}y^k$\n","categories":["ç®—æ³•æ¨¡æ¿"],"tags":["äºŒé¡¹å¼"]},{"title":"äº’è´¨","url":"/2024/03/23/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/hu-zhi/","content":"äº’è´¨\nä»€ä¹ˆæ˜¯äº’è´¨ï¼š\näº’è´¨æ˜¯å…¬çº¦æ•°åªæœ‰1çš„ä¸¤ä¸ªæ•´æ•°ï¼Œå«åšäº’è´¨æ•´æ•°ã€‚å…¬çº¦æ•°åªæœ‰1çš„ä¸¤ä¸ªè‡ªç„¶æ•°ï¼Œå«åšäº’è´¨è‡ªç„¶æ•°ï¼Œåè€…æ˜¯å‰è€…çš„ç‰¹æ®Šæƒ…å½¢ã€‚\n\nåœ¨è€ƒè™‘ä¸¤ä¸ªåŒºé—´äº’è´¨çš„æƒ…å†µä¹‹å‰æˆ‘ä»¬å…ˆè€ƒè™‘å®ƒçš„ä¸€ä¸ªå­é—®é¢˜ï¼Œä¸€ä¸ªæ•°xä¸ä¸€ä¸ªåŒºé—´[l,r]çš„äº’è´¨é—®é¢˜ã€‚\nå¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œæœ€ç®€å•çš„æ–¹æ³•è‚¯å®šæ˜¯éå†åŒºé—´ï¼Œå¤æ‚åº¦ä¸ºO(n)ï¼Œnä¸ºåŒºé—´é•¿åº¦ï¼Œæ˜¾ç„¶å¤ªæ…¢ã€‚\nè¿™æ—¶æˆ‘ä»¬å¯ä»¥é€†å‘æ€ç»´ï¼Œè½¬æ¢é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘æ±‚ä¸äº’è´¨çš„ä¸ªæ•°ï¼Œç„¶åå†ç”¨å…¨éƒ¨ä¸ªæ•°å‡å»ä¸äº’è´¨çš„ä¸ªæ•°ã€‚\nä¸äº’è´¨ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ‰å…¬å…±çš„å› å­ï¼Œå¦‚æœæŠŠé—®é¢˜è½¬æ¢æˆæ±‚åŒæœ‰æŸä¸ªå› å­çš„æ•°é‡ï¼Œé‚£å°±å¥½å¤„ç†ï¼Œ æ¯”å¦‚å¦‚æœè®¡ç®—éƒ½æœ‰å› å­2ï¼Œè®¾åŒºé—´ä¸º[l,r]ï¼Œé‚£æˆ‘ä»¬åªè¦è®¡ç®—1rçš„ä¸ªæ•°å‡å»1l-1çš„ä¸ªæ•°ï¼Œä¹Ÿéå¸¸å¥½ç®—ï¼Œåªè¦r/2-(l-1)/2 å°±å¯ä»¥è®¡ç®—å‡ºåŒºé—´[l,r]ä¸­æœ‰å› å­2çš„æ•°å­—çš„æ•°é‡(è¿™é‡Œçš„é™¤æ³•è‹¥æ— ç‰¹æ®Šè¯´æ˜éƒ½ä¸ºæ•´æ•°é™¤æ³•ï¼Œå³å‘ä¸‹å–æ•´)ã€‚\nè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æŠŠæ•°xè¿›è¡Œå› æ•°åˆ†è§£ï¼Œç„¶åå¯¹æ¯ä¸€ä¸ªå› æ•°å»è®¡ç®—åŒºé—´ä¸­æœ‰å‡ ä¸ªæ•°åŒæ—¶æœ‰è¿™ä¸ªå› æ•°ï¼Œç´¯åŠ åˆ°sum[i](iä¸ºå½“å‰è¿™ä¸ªå› æ•°ä¸­æœ‰å‡ ä¸ªè´¨å› å­)ï¼Œè¿™æ ·æˆ‘ä»¬å°±æŠŠåŒºé—´ä¸­çš„æ•°åˆ†ç±»åˆ°äº†ï¼Œå‡ ä¸ªé›†åˆä¸­ï¼Œæ•°sun[i]ï¼Œå°±è¡¨ç¤ºåŒºé—´ä¸­ä¸xå…±æœ‰iä¸ªè´¨å› å­çš„æ•°çš„æ•°é‡ï¼Œå½“ç„¶è¿™äº›é›†åˆå¹¶ä¸æ˜¯åŒºé—´çš„ä¸€ä¸ªåˆ’åˆ†ï¼Œå› ä¸ºè¿™å‡ ä¸ªé›†åˆæ˜¯æœ‰å…±æœ‰éƒ¨åˆ†çš„ï¼Œè¿™æ—¶æˆ‘ä»¬å°±ç”¨åˆ°æˆ‘ä»¬ä¸Šé¢æ¨å‡ºçš„å…¬å¼äº†ã€‚\nå‡è®¾åŒºé—´ä¸­ä¸€ä¸ªæ•°yä¸xçš„å…±æœ‰è´¨å› å­æ•°é‡ä¸º1ï¼Œé‚£åœ¨sum[1]ä¸­ä¼šå¯¹ä»–ç®—ä¸€æ¬¡ï¼Œsum[2]ä¸­ä¼šå¯¹å®ƒç®—0æ¬¡.\nå¦‚æœå…±æœ‰è´¨å› å­çš„æ•°é‡ä¸º2ï¼Œé‚£sun[1]ä¸­ä¼šå¯¹å®ƒç®—2æ¬¡ï¼ˆæ¯”å¦‚yæœ‰è´¨å› å­(2,3),xæœ‰è´¨å› å­ï¼ˆ2ï¼Œ3ï¼Œ5ï¼‰,è¿™æ—¶å–2ï¼Œè®¡ç®—äº†ä¸€æ¬¡ï¼Œå–3åˆè®¡ç®—äº†ä¸€æ¬¡ï¼Œæ‰€ä»¥æ˜¯ä¸¤æ¬¡ï¼‰ï¼Œsum[2]å¯¹ä»–è®¡ç®—1æ¬¡ã€‚\nåŒæ ·ï¼Œå¦‚æœå…±æœ‰è´¨å› å­çš„æ•°é‡ä¸º2ï¼Œé‚£sun[1]ä¸­ä¼šå¯¹å®ƒç®—3æ¬¡ï¼Œsum[2]å¯¹ä»–è®¡ç®—3æ¬¡(3ä¸ªä¸­é€‰2ä¸ª)ï¼Œsum[3]æ˜¯ä¸€æ¬¡ï¼Œsum[4]é›¶æ¬¡ã€‚\næ¬§æ‹‰å‡½æ•°\nå…¶ä¸­p1,p2â€¦piâ€¦pnä¸ºxçš„æ‰€æœ‰è´¨å› æ•°ï¼Œxæ˜¯ä¸€ä¸ªæ­£æ•´æ•°\näº’è´¨å’Œè´¨å› æ•°çš„å…³ç³»\näº’è´¨ï¼ˆä¹Ÿç§°ä¸ºäº’ç´ ï¼‰å’Œè´¨å› æ•°æ˜¯æ•°è®ºä¸­ä¸¤ä¸ªç›¸å…³ä½†ä¸åŒçš„æ¦‚å¿µã€‚\n\näº’è´¨ï¼ˆäº’ç´ ï¼‰ï¼šä¸¤ä¸ªæˆ–å¤šä¸ªæ•´æ•°ä¸­ï¼Œå¦‚æœå®ƒä»¬çš„æœ€å¤§å…¬å› æ•°ï¼ˆæœ€å¤§å…¬çº¦æ•°ï¼‰ä¸º1ï¼Œåˆ™ç§°è¿™äº›æ•´æ•°æ˜¯äº’è´¨çš„ã€‚æ¢å¥è¯è¯´ï¼Œä¸¤ä¸ªæ•°äº’è´¨æ„å‘³ç€å®ƒä»¬ä¹‹é—´æ²¡æœ‰å…±åŒçš„å› æ•°ï¼ˆé™¤äº†1ä»¥å¤–ï¼‰ã€‚ä¾‹å¦‚ï¼Œ3å’Œ8æ˜¯äº’è´¨çš„ï¼Œå› ä¸ºå®ƒä»¬çš„æœ€å¤§å…¬å› æ•°æ˜¯1ï¼Œè€Œ6å’Œ9ä¸æ˜¯äº’è´¨çš„ï¼Œå› ä¸ºå®ƒä»¬æœ‰å…¬å› æ•°3ã€‚\n\nè´¨å› æ•°ï¼šä¸€ä¸ªæ•°çš„è´¨å› æ•°æ˜¯æŒ‡èƒ½æ•´é™¤è¯¥æ•°ä¸”æ˜¯è´¨æ•°çš„å› æ•°ã€‚è´¨æ•°æ˜¯åªèƒ½è¢«1å’Œè‡ªèº«æ•´é™¤çš„æ­£æ•´æ•°ã€‚ä¾‹å¦‚ï¼Œ12çš„è´¨å› æ•°åŒ…æ‹¬2å’Œ3ï¼Œå› ä¸º12èƒ½è¢«2å’Œ3æ•´é™¤ï¼Œå¹¶ä¸”2å’Œ3éƒ½æ˜¯è´¨æ•°ã€‚\n\n\nè¿™ä¸¤ä¸ªæ¦‚å¿µä¹‹é—´çš„å…³ç³»åœ¨äºï¼Œå¦‚æœä¸¤ä¸ªæ•´æ•°æ˜¯äº’è´¨çš„ï¼Œé‚£ä¹ˆå®ƒä»¬ä¹‹é—´æ²¡æœ‰å…±åŒçš„å› æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬çš„è´¨å› æ•°é›†åˆæ²¡æœ‰äº¤é›†ã€‚å› æ­¤ï¼Œä¸¤ä¸ªæ•°äº’è´¨çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯å®ƒä»¬çš„è´¨å› æ•°é›†åˆæ²¡æœ‰å…±åŒçš„å…ƒç´ ã€‚\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["äº’è´¨"]},{"title":"å…¨æ’åˆ—","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/quan-pai-lie/","content":"å…¨æ’åˆ—\nä»‹ç»ï¼š\næ­¤ç®—æ³•çš„ä¸»è¦ç›®çš„å°±æ˜¯ä¾‹ä¸¾å‡ºæˆ‘ä»¬çš„æ•°æ®ä¸é‡å¤æ’åˆ—çš„æ–¹å¼æœ‰å¤šå°‘ç§å¹¶ä¸”çŸ¥é“å…·ä½“çš„æ’åˆ—æ–¹å¼ï¼Œå…¶å®å¦‚æœåªæ˜¯æƒ³è¦çŸ¥é“æ’åˆ—æ–¹å¼æœ‰å¤šå°‘ç§ç›´æ¥ç”¨æ•°å­¦æ’åˆ—ç»„åˆå…¬å¼ç›´æ¥è¿ç®—å°±è¡Œ\nå°±æ¯”å¦‚æˆ‘ä»¬éœ€è¦çŸ¥é“5ä¸ªç‰©å“æœ‰å¤šå°‘ä¸ªä¸é‡å¤çš„æ’åˆ—æ–¹å¼ï¼š\n$$A^5_5=\\frac{5!}{(5-5)!}=\\frac{5\\times4\\times3\\times2\\times1}{1}=120$$\n$$A^n_m=\\frac{m!}{(m-n)!}$$\nå¦‚æœæˆ‘ä»¬éœ€è¦è®¡ç®—5ä¸ªç‰©å“å¦‚æœä¸¤ä¸¤ç»„åˆæœ‰å¤šå°‘ç§ä¸é‡å¤çš„ç»„åˆï¼Œé‚£ä¹ˆï¼š\n$$C^{2}_{5}=\\frac{5!}{2!(5-2)!}=10$$\n$$C^{n}_{m}=\\frac{A^n_m}{A^n_n}$$\n\nJavaä»£ç æ¨¡æ¿ï¼š\n\nimport java.util.Scanner;/** * @description: å…¨æ’åˆ—Javaé€šç”¨æ¨¡æ¿ * å…¨æ’åˆ—çš„ä¸»è¦ä½œç”¨å°±æ˜¯å°†æˆ‘ä»¬æ‰€æœ‰çš„ä¾‹ä¸¾çš„ä¸œè¥¿è¿›è¡Œæ’åˆ—ç»„åˆè¿ç®—ï¼ˆè¿™é‡Œé«˜ä¸­éƒ½å­¦è¿‡ï¼Œæˆ‘å°±ä¸ç»†è®²äº†ï¼‰ï¼Œå¹¶ä¸”ä¾‹ä¸¾å‡ºæ‰€æœ‰çš„ä¸é‡å¤æ’åˆ—ç»„åˆæ–¹å¼ã€‚ * @author é•¿ç™½å´ * @date 2023/3/27 1:38 * @version 1.0 */public class Main {    public static void main(String[] args) {        // TODO Auto-generated method stub        Scanner sc = new Scanner(System.in);        int num = sc.nextInt();        int data[] = new int[num]; //è¿™ä¸ªæ•°ç»„çš„ä½œç”¨æ˜¯ç”¨æ¥å­˜æˆ‘ä»¬éœ€è¦æ’åˆ—çš„æ•°å­—        int state[] = new int[num]; //è¿™é‡Œçš„æ•°ç»„æ˜¯æ ‡è®°æ•°ç»„ï¼Œæ˜¯ç”¨æ¥æ ‡è®°æˆ‘ä»¬æ˜¯å¦æœ‰é€‰è¿‡è¿™ä¸ªæ•°å­—ï¼ˆæ ‡è®°ä¸º1ä»£è¡¨é€‰è¿‡ï¼Œ0ä¸ºæœªé€‰è¿‡ï¼‰        int printArra[] = new int[num];//è¿™ä¸ªæ•°ç»„ç”¨æ¥å¯„å­˜æ¯ä¸€æ¬¡å…¨æ’åˆ—åçš„æ•°å­—ï¼Œç”¨ä½œæœ€åè¾“å‡º        //è¿™é‡Œæ˜¯æµ‹è¯•é›†çš„è¾“å…¥ï¼Œå¯ä»¥ä¸ç”¨ç®¡----------------        for(int i=0 ; i &lt; num; ++i) {            data[i] = sc.nextInt();        }        //å¼€å§‹å…¨æ’åˆ—        fullPer(data,state,printArra,0);    }    /**     *     * @param data è¿™ä¸ªæ•°ç»„çš„ä½œç”¨æ˜¯ç”¨æ¥å­˜æˆ‘ä»¬éœ€è¦æ’åˆ—çš„æ•°å­—     * @param state è¿™é‡Œçš„æ•°ç»„æ˜¯æ ‡è®°æ•°ç»„ï¼Œæ˜¯ç”¨æ¥æ ‡è®°æˆ‘ä»¬æ˜¯å¦æœ‰é€‰è¿‡è¿™ä¸ªæ•°å­—ï¼ˆæ ‡è®°ä¸º1ä»£è¡¨é€‰è¿‡ï¼Œ0ä¸ºæœªé€‰è¿‡ï¼‰     * @param printArra è¿™ä¸ªæ•°ç»„ç”¨æ¥å¯„å­˜æ¯ä¸€æ¬¡å…¨æ’åˆ—åçš„æ•°å­—ï¼Œç”¨ä½œæœ€åè¾“å‡º     * @param step è¿™ä¸ªintå˜é‡æ˜¯ç”¨æ¥å­˜å½“å‰é€‰äº†å‡ ä¸ªæ•°å­—ï¼Œå½“é€‰æ‹©çš„æ•°å­—è¾¾åˆ°æˆ‘ä»¬è¾“å‡ºæ’åˆ—çš„è¦æ±‚æ—¶å€™é‚£å°±è¾“å‡ºå¹¶ä¸”ä»£è¡¨æˆ‘ä»¬æˆåŠŸæ’åˆ—äº†ä¸€æ¬¡     */    public static void fullPer(int data[],int state[],int printArra[],int step) {        //åˆ¤æ–­æ˜¯å¦æ’åˆ—å¥½äº†ä¸€æ¬¡        if(step==state.length) {            //è¾“å‡º            for(int i= 0 ; i &lt; printArra.length ; ++i) {                System.out.print(\"\t\"+printArra[i]);            }            System.out.println();            return;        }        //å…¨æ’åˆ—é€‰æ‹©æ•°å­—        for(int i= 0 ; i &lt;data.length ; ++i) {            //å¦‚æœå½“å‰éå†çš„æ•°å­—å·²ç»é€‰æ‹©é‚£ä¹ˆå°±ç›´æ¥continueè·³è¿‡ï¼ˆ1ä»£è¡¨é€‰æ‹©äº†ï¼Œ0ä»£è¡¨æœªé€‰æ‹©ï¼‰            if(state[i]==1)                continue;            state[i] = 1; //æ ‡è®°æ•°å­—å·²ç»é€‰æ‹©            printArra[step] = data[i]; //å¹¶å°†æ•°å­—å¯„å­˜            fullPer(data,state,printArra,step+1); //å…¨æ’åˆ—çš„ä»¥å½“å‰æ•°å­—ä¸ºåŸºå‡†è¿›è¡Œä¸‹ä¸€ä¸ªé€’å½’é€‰æ‹©ã€‚            state[i] =0; //å–æ¶ˆæ ‡è®°        }    }}\n\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["ç®—æ³•","å…¨æ’åˆ—"]},{"title":"åˆ†è§£è´¨å› æ•°","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/fen-jie-zhi-yin-shu/","content":"åˆ†è§£è´¨å› æ•°\nå®šä¹‰ï¼š\nè‹¥ä¸€ä¸ªæ­£æ•´æ•°æ— æ³•è¢«é™¤äº† 1 å’Œå®ƒè‡ªèº«ä¹‹å¤–çš„ä»»ä½•è‡ªç„¶æ•°æ•´é™¤ï¼Œåˆ™ç§°è¯¥æ•°ä¸ºè´¨æ•°ï¼ˆæˆ–è€…ç´ æ•°ï¼‰ï¼Œå¦åˆ™ç§°è¯¥è‡ªç„¶æ•°ä¸ºåˆæ•°ã€‚\n\nè¯´æ˜ï¼š\nåˆ†è§£è´¨å› æ•°çš„ä¸»è¦ä½œç”¨å°±æ˜¯å°†æ•°å­—åˆ†è§£æˆå¤šä¸ªè´¨æ•°å› æ•°ï¼Œè¿™äº›å› æ•°ç›¸ä¹˜ç­‰äºè¿™ä¸ªæ•°ã€‚\næ¨èæ–‡ç« ï¼š\n(158æ¡æ¶ˆæ¯) åˆ†è§£è´¨å› æ•°_è´¨å› æ•°åˆ†è§£_æ™´ç©ºà¹“çš„åšå®¢-CSDNåšå®¢\nACMâ€”â€”å¸¸è§çš„å‡ ç§åˆ†è§£è´¨å› å­çš„æ–¹æ³• - çŸ¥ä¹ (zhihu.com)\n\né¢˜ç›®æ¨è\n4658. è´¨å› æ•°ä¸ªæ•° - AcWingé¢˜åº“\n\nJavaä»£ç æ¨¡æ¿ï¼š/** * @description: åˆ†è§£è´¨å› æ•° * @author é•¿ç™½å´ * @date 2023/5/6 10:33 * @version 1.0 */public class åˆ†è§£è´¨å› æ•° {    public static void main(String[] args) {        //æµ‹è¯•æ¡ä¾‹ï¼Œå¯ä»¥å¿½ç•¥        System.out.println(slove(10));    }\t /**     * åˆ†è§£è´¨å› æ•°æ ¸å¿ƒç®—æ³•     * @param n éœ€è¦åˆ†è§£çš„æ•°å­—     * @return è¿”å›å¯ä»¥åˆ†è§£å¤šå°‘ä¸ªè´¨å› æ•°,å…¶ä¸­è¾“å‡ºçš„iå°±æ˜¯å¯¹åº”çš„è´¨å› æ•°     */    public static long solve(long n){        long ans =0;        for(int i =2 ; i &lt;= Math.sqrt(n) ; ++i){        \tif(n%i==0) {        \t\t++ans;        \t\tSystem.out.println(i);        \t\twhile(n%i==0) n/=i;        \t}        }        if(n&gt;1) { ++ans; System.out.println(n);}        return ans;    }\t}\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["ç®—æ³•"]},{"title":"åˆ¤æ–­æ˜¯å¦ä¸ºç´ æ•°ï¼ˆè´¨æ•°ï¼‰","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/pan-duan-shi-fou-wei-su-shu-zhi-shu/","content":"åˆ¤æ–­æ˜¯å¦ä¸ºç´ æ•°ï¼ˆè´¨æ•°ï¼‰\nè¯´æ˜ï¼š\nè´¨æ•°æ˜¯æŒ‡åœ¨å¤§äº1çš„è‡ªç„¶æ•°ä¸­ï¼Œé™¤äº†1å’Œå®ƒæœ¬èº«ä»¥å¤–ä¸å†æœ‰å…¶ä»–å› æ•°çš„è‡ªç„¶æ•°ã€‚(0ï¼Œ1ä¸æ˜¯ç´ æ•°)\n\nJavaä»£ç æ¨¡æ¿(è¯•é™¤æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$O(\\sqrt{n})$)\n/** * @description: è´¨æ•°æ˜¯æŒ‡åœ¨å¤§äº1çš„è‡ªç„¶æ•°ä¸­ï¼Œé™¤äº†1å’Œå®ƒæœ¬èº«ä»¥å¤–ä¸å†æœ‰å…¶ä»–å› æ•°çš„è‡ªç„¶æ•°ã€‚ * @author é•¿ç™½å´ * @date 2023/3/30 12:29 * @version 1.0 */public class PrimeNumber {    public static void main(String[] args) {        //æµ‹è¯•é›†ï¼Œè¿™é‡Œæ˜¯åˆ¤æ–­100æ˜¯å¦ä¸ºç´ æ•°        System.out.println( primeNumber(100) );    }    /**     * åˆ¤æ–­ç´ æ•°æ¨¡æ¿     * @param num éœ€è¦åˆ¤æ–­çš„æ•°å­—     * @return å¦‚æœä¸ºç´ æ•°é‚£ä¹ˆå°±è¿”å›trueï¼Œå¦åˆ™å°±è¿”å›false     */    public static boolean primeNumber(int num){        for(int i =2; i &lt;= Math.sqrt(num); ++i){            if (num%i==0)                return false;        }        return true;    }}\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["ç®—æ³•","æ•°è®º"]},{"title":"å‰ç¼€å’Œ","url":"/2024/03/26/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/qian-zhui-he/","content":"å‰ç¼€å’Œ\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["ç®—æ³•","æ•°è®º"]},{"title":"å•è°ƒæ ˆ","url":"/2025/04/25/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/dan-diao-zhan/","content":"å•è°ƒæ ˆ\nè¯´æ˜ï¼š\né¢˜ç›®æ¨èï¼š131. ç›´æ–¹å›¾ä¸­æœ€å¤§çš„çŸ©å½¢ - AcWingé¢˜åº“\n\nJavaç®€å•å•è°ƒæ ˆå®ç°public class å•è°ƒæ ˆ {\tpublic static void main(String[] args) {\t\tScanner sc=new Scanner(System.in);\t\tint n=sc.nextInt();\t\t\t\t\tStack&lt;Integer&gt;s=new Stack&lt;Integer&gt;();\t\t\t\tfor(int i=0;i&lt;n;i++) {\t\t\tint x=sc.nextInt();\t\t\t\t\t\t\t\twhile(!s.isEmpty() &amp;&amp; s.peek() &gt;= x) \t\t\t\ts.pop();\t\t\t\t\t\tif(s.isEmpty())\t\t\t\tSystem.out.print(\"-1 \");\t\t\telse \t\t\t\tSystem.out.print(s.peek()+\" \");\t\t\t\t\t\ts.push(x);\t\t}//\t\t5//\t\t3 4 2 7 5//\t\tå¤§äºxçš„æ•°å‡ºæ ˆ å°äºxçš„æ•°è¾“å‡º//\t\tè¾“å‡º  -1 3 -1 2 2 \t}}\n\n"},{"title":"å‡å€¼ä¸ç­‰å¼","url":"/2024/03/24/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/jun-zhi-bu-deng-shi/","content":"å‡å€¼ä¸ç­‰å¼ï¼ˆ1ï¼‰å¯¹å®æ•°a,bæœ‰$a^2+b^2&gt;=2ab(å½“ä¸”ä»…å½“a=bæ—¶å–â€œ=â€å·)ï¼Œa^2+b^2&gt;=-2ab(å½“ä¸”ä»…å½“a=-bæ—¶å–â€œ=â€å·)$\nï¼ˆ2ï¼‰å¯¹äºéè´Ÿå®æ•°a,b,æœ‰$a+b&gt;=2\\sqrt{ab},å³{a+b \\over 2}&gt;=\\sqrt{ab} $\nï¼ˆ3ï¼‰å¯¹éè´Ÿå®æ•°a,bæœ‰$a(a-b)&gt;=2 \\sqrt{ab} &gt;= 0$\nï¼ˆ4ï¼‰å¯¹å®æ•°a,bæœ‰$a(a-b)&gt;=b(a-b)$\nï¼ˆ5ï¼‰å¯¹éè´Ÿå®æ•°a,b,æœ‰$a^2+b^2&gt;=2ab&gt;=0$\nï¼ˆ6ï¼‰å¯¹éè´Ÿå®æ•°a,b,æœ‰$a^2+b^2&gt;={(a+b)^2 \\over 2} &gt;= 2ab$\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["å‡å€¼ä¸ç­‰å¼"]},{"title":"å·®åˆ†","url":"/2023/10/22/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/chai-fen/","content":"å·®åˆ†\nä»€ä¹ˆæ˜¯å·®åˆ†ï¼š\nå·®åˆ†ä¸€ä¸€ç§å¤„ç†æ•°æ®çš„å·§å¦™è€Œç®€å•çš„æ–¹æ³•ï¼Œå®ƒåº”ç”¨äºåŒºé—´çš„ä¿®æ”¹å’Œè¯¢é—®é—®é¢˜ã€‚æŠŠç»™å®šçš„æ•°æ®é›†Aåˆ†æˆå¤šä¸ªåŒºé—´ï¼Œå¯¹è¿™äº›åŒºé—´åšå¤šæ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œæ˜¯å¯¹æŸä¸ªåŒºé—´å†…çš„æ‰€æœ‰å…ƒç´ åšç›¸åŒçš„åŠ å‡æ“ä½œï¼Œè‹¥ä¸€ä¸ªä¸ªåœ°ä¿®æ”¹åŒºé—´å†…çš„å…ƒç´ ï¼Œéå¸¸è€—æ—¶ã€‚å¼•å…¥å·®åˆ†æ•°ç»„Dï¼Œå½“ä¿®æ”¹æŸä¸ªåŒºé—´æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹è¿™ä¸ªåŒºé—´çš„æ–­ç‚¹ï¼Œå°±èƒ½è®°å½•æ•´ä¸ªåŒºé—´çš„ä¿®æ”¹ï¼Œè€Œå¯¹ç«¯ç‚¹çš„ä¿®æ”¹éå¸¸å®¹æ˜“ï¼Œå¤æ‚åº¦ä¸ºO(1)ã€‚å½“æ‰€æœ‰ä¿®æ”¹æ“ä½œç»“æŸåï¼Œå†åˆ©ç”¨å·®åˆ†æ•°ç»„è®¡ç®—å‡ºæ–°çš„Aã€‚\næ•°æ®Aå¯ä»¥æ˜¯ä¸€ç»´çº¿æ€§æ•°ç»„a[]ã€äºŒç»´çŸ©é˜µa[][]ã€ä¸‰ç»´ç«‹ä½“a[][][]ã€‚ç›¸åº”åœ°ï¼Œå®šä¹‰ä¸€ç»´å·®åˆ†æ•°ç»„D[]ã€äºŒç»´å·®åˆ†æ•°ç»„D[][]ã€ä¸‰ç»´å·®åˆ†æ•°ç»„D[][][]ã€‚ä¸€ç»´å·®åˆ†å®¹æ˜“ç†è§£ï¼ŒäºŒç»´å’Œä¸‰ç»´å·®åˆ†éœ€è¦ä¸€ç‚¹ç©ºé—´æƒ³è±¡åŠ›ã€‚\nç±»ä¼¼äºæ•°å­¦ä¸­çš„æ±‚å¯¼å’Œç§¯åˆ†ï¼Œå·®åˆ†å¯ä»¥çœ‹æˆå‰ç¼€å’Œçš„é€†è¿ç®—ã€‚å‰ç¼€å’Œå°±æ˜¯ç§¯åˆ†ã€å·®åˆ†å°±æ˜¯å¾®åˆ†ã€‚\n\nå·®åˆ†åœ¨å†™é¢˜æ—¶å€™ä½œç”¨ï¼š\nä¸€èˆ¬çš„ï¼Œå·®åˆ†ä¸»è¦ç”¨äºè®©ä¸€ä¸ªåºåˆ—æŸä¸€ç‰¹å®šèŒƒå›´å†…çš„æ‰€æœ‰å€¼éƒ½åŠ ä¸Šæˆ–å‡å»ä¸€ä¸ªå¸¸æ•°ã€‚\næ‰€ä»¥å·®åˆ†å¾€å¾€åº”ç”¨äºçº¿æ€§çš„åœºåˆï¼Œå³ä¸€ç»´æ•°ç»„çš„ç¯å¢ƒï¼Œä½†æ˜¯é™¤æ­¤ä¹‹å¤–ï¼Œå·®åˆ†è¿˜å¯ä»¥ç”¨äºäºŒç»´æ•°ç»„ï¼Œç”šè‡³ä¸‰ç»´ï¼ï¼ï¼\nä½†æ˜¯ç›¸æ¯”ä¸€ç»´æ•°ç»„ï¼Œåº”ç”¨çš„å°‘ã€‚\nå·®åˆ†å¯ä»¥ç®€å•çš„çœ‹æˆåºåˆ—ä¸­æ¯ä¸ªå…ƒç´ ä¸å…¶å‰ä¸€ä¸ªå…ƒç´ çš„å·®ã€‚\n\nä¸€ç»´å·®åˆ†\n\n\nJavaæ¨¡æ¿\n\n\n\nC++æ¨¡æ¿\n\n\n\näºŒç»´å·®åˆ†\nå‰ç¼€å’Œ\nåœ¨ä¸€ç»´å·®åˆ†ä¸­ï¼ŒåŸæ•°ç»„a[]æ˜¯ä»ç¬¬1ä¸ªD[1]å¼€å§‹çš„å·®åˆ†æ•°ç»„D[]çš„å‰ç¼€å’Œï¼Œa[k]=D[1]+D[2]+â€¦+D[k]ã€‚\nåœ¨äºŒç»´å·®åˆ†ä¸­ï¼Œa[][]æ˜¯å·®åˆ†æ•°ç»„D[][]çš„å‰ç¼€å’Œï¼Œå³ç”±åŸç‚¹åæ ‡(1,1)å’Œåæ ‡(i,j)å›´æˆçš„çŸ©é˜µä¸­ï¼Œæ‰€æœ‰D[][]ã€‚\n\næ¨èä¾‹é¢˜ï¼š\n\nP3397 åœ°æ¯¯ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["ç®—æ³•"]},{"title":"å¹¶æŸ¥é›†","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/bing-cha-ji/","content":"å¹¶æŸ¥é›†\nä»‹ç»ï¼š\næ­¤ç®—æ³•ä¸»è¦æ˜¯ç”¨äºæŸ¥æ‰¾æ ‘ä¸­çš„ä¸€ç»“ç‚¹çš„æ ¹ç»“ç‚¹ï¼Œé€šå¸¸ä¼šç”¨ä½œæŸ¥æ‰¾åŒ¹é…ä¸¤ä¸ªèŠ‚ç‚¹çš„æ ¹èŠ‚ç‚¹æ˜¯å¦æ˜¯åŒä¸€ä¸ªã€‚\n\nJavaä»£ç æ¨¡æ¿ï¼š\n/** * @description: TODO * @author é•¿ç™½å´ * @date 2023/3/25 16:34 * @version 1.0 *//** * å¹¶æŸ¥é›†ä¸»è¦ä½œç”¨å°±æ˜¯æœç´¢ä¸¤æ£µæ ‘çš„çˆ¶èŠ‚ç‚¹æ˜¯å¦æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ã€‚ */public class Main {    public static void main(String[] args) {        //å¹¶æŸ¥é›†ä¸­ç”¨äºè®°å½•æ¯ä¸ªç»“ç‚¹çš„çˆ¶èŠ‚ç‚¹çš„æ•°ç»„ï¼Œæ•°ç»„ä¸‹æ ‡ä»£è¡¨çš„å°±æ˜¯å¯¹åº”èŠ‚ç‚¹ï¼Œå¯¹åº”ä¸‹æ ‡æ•°ç»„å…ƒç´ çš„å†…å®¹ä»£è¡¨çš„æ˜¯å…¶çˆ¶ç»“ç‚¹ã€‚        int parent[] = new int[100];        //è¿™ä¸€æ­¥æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œè¿™ä¸€æ­¥æ˜¯ä¸ºäº†åˆå§‹åŒ–å¹¶æŸ¥é›†çš„æ•°ç»„ï¼Œåˆå§‹çŠ¶æ€ä¸‹æ¯ä¸ªç»“ç‚¹çš„çˆ¶ç»“ç‚¹å°±æ˜¯ä»–æœ¬èº«ã€‚        for(int i =0 ; i&lt; parent.length ; ++i) parent[i] =i;        int point = find(parent,1); //æ¯”å¦‚è¿™é‡Œæ˜¯æŸ¥æ‰¾1çš„æ ¹èŠ‚ç‚¹    }    //å¹¶æŸ¥é›†æ ¸å¿ƒæŸ¥æ‰¾ç®—æ³•    public static int find(int parent[],int point){        while(parent[point]!=point)            point = parent[point];        return point;    }        //å¸¦æœ‰è·¯å¾„å‹ç¼©    public static int find(int parent[],int point){        if(parent[point]!=point) parent[point] = find(parent[point]);        return parent[point];    }}\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["ç®—æ³•","å¹¶æŸ¥é›†"]},{"title":"å¿«è¯»å¿«è¾“æ¨¡æ¿","url":"/2023/11/16/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/kuai-du-kuai-shu/","content":"å¿«è¯»å¿«è¾“\nJavaå¿«è¾“æ¨¡æ¿ï¼šstatic class Reader{\tstatic BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\tstatic StringTokenizer tokenizer = new StringTokenizer(\"\");\t\tpublic static String next() throws IOException {\t\twhile(!tokenizer.hasMoreTokens()) {\t\t\ttokenizer = new StringTokenizer(reader.readLine());\t\t}\t\treturn tokenizer.nextToken();\t}\t\tpublic static int nextInt() throws NumberFormatException, IOException {\t\treturn Integer.parseInt(next());\t}}\n\n\n\nJavaå¿«è¯»æ¨¡æ¿ï¼šstatic PrintWriter out = new PrintWriter(new OutputStreamWriter(System.out));public static void main(String[] args){    out.println(\"å¿«é€Ÿè¾“å‡º\");    out.flush();}\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["å¿«è¯»å¿«è¾“"]},{"title":"å¿«é€Ÿå¹‚","url":"/2024/03/15/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/kuai-su-mi/","content":"å¿«é€Ÿå¹‚\nè¯´æ˜ï¼š\n\nå¿«é€Ÿå¹‚ï¼ˆExponentiation by squaringï¼Œå¹³æ–¹æ±‚å¹‚ï¼‰æ˜¯ä¸€ç§ç®€å•è€Œæœ‰æ•ˆçš„å°ç®—æ³•ï¼Œå®ƒå¯ä»¥ä»¥$$O(logn)$$çš„æ—¶é—´å¤æ‚åº¦è®¡ç®—ä¹˜æ–¹ã€‚å¿«é€Ÿå¹‚ä¸ä»…æœ¬èº«éå¸¸å¸¸è§ï¼Œè€Œä¸”åç»­å¾ˆå¤šç®—æ³•ä¹Ÿéƒ½ä¼šç”¨åˆ°å¿«é€Ÿå¹‚ã€‚\nè®©æˆ‘ä»¬å…ˆæ¥æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼š7çš„10æ¬¡æ–¹ï¼Œæ€æ ·ç®—æ¯”è¾ƒå¿«ï¼Ÿ\næ–¹æ³•1ï¼šæœ€æœ´ç´ çš„æƒ³æ³•ï¼Œ7*7=49ï¼Œ49*7=343ï¼Œâ€¦ ä¸€æ­¥ä¸€æ­¥ç®—ï¼Œå…±è¿›è¡Œäº†9æ¬¡ä¹˜æ³•ã€‚\nè¿™æ ·ç®—æ— ç–‘å¤ªæ…¢äº†ï¼Œå°¤å…¶å¯¹è®¡ç®—æœºçš„CPUè€Œè¨€ï¼Œæ¯æ¬¡è¿ç®—åªä¹˜ä¸Šä¸€ä¸ªä¸ªä½æ•°ï¼Œæ— ç–‘å¤ªå±ˆæ‰äº†ã€‚è¿™æ—¶æˆ‘ä»¬æƒ³åˆ°ï¼Œä¹Ÿè®¸å¯ä»¥æ‹†åˆ†é—®é¢˜ã€‚\næ–¹æ³•2ï¼šå…ˆç®—7çš„5æ¬¡æ–¹ï¼Œå³7*7*7*7*7ï¼Œå†ç®—å®ƒçš„å¹³æ–¹ï¼Œå…±è¿›è¡Œäº†5æ¬¡ä¹˜æ³•ã€‚\nä½†è¿™å¹¶ä¸æ˜¯æœ€ä¼˜è§£ï¼Œå› ä¸ºå¯¹äºâ€œ7çš„5æ¬¡æ–¹â€ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥æ‹†åˆ†é—®é¢˜ã€‚\næ–¹æ³•3ï¼šå…ˆç®—7*7å¾—49ï¼Œåˆ™7çš„5æ¬¡æ–¹ä¸º49*49*7ï¼Œå†ç®—å®ƒçš„å¹³æ–¹ï¼Œå…±è¿›è¡Œäº†4æ¬¡ä¹˜æ³•ã€‚\næ¨¡ä»¿è¿™æ ·çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªåœ¨$$O(logn)$$æ—¶é—´å†…è®¡ç®—å‡ºå¹‚çš„ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯å¿«é€Ÿå¹‚ã€‚\n\nJavaæ¨¡æ¿(è¿­ä»£æ³•)static long qpow(long a,int n){    long sum =1;    while(n!=0){        if((n&amp;1)!=0)            sum=sum*a;        a=a*a;        n&gt;&gt;=1;    }    return sum;}\n\n\n\nC++æ¨¡æ¿(è¿­ä»£æ³•)//éé€’å½’å¿«é€Ÿå¹‚int qpow(int a, int n){    int ans = 1;    while(n){        if(n&amp;1)        //å¦‚æœnçš„å½“å‰æœ«ä½ä¸º1            ans *= a;  //ansä¹˜ä¸Šå½“å‰çš„a        a *= a;        //aè‡ªä¹˜        n &gt;&gt;= 1;       //nå¾€å³ç§»ä¸€ä½    }    return ans;}\n\n\n\nC++æ¨¡æ¿(é€’å½’æ³•)int qpow(int a, int n){    if (n == 0)        return 1;    else if (n % 2 == 1)        return qpow(a, n - 1) * a;    else    {        int temp = qpow(a, n / 2);        return temp * temp;    }}\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["å¿«é€Ÿå¹‚"]},{"title":"æ’åˆ—ç»„åˆ","url":"/2024/03/15/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/pai-lie-zu-he/","content":"æ’åˆ—ç»„åˆ\nJavaæ¨¡æ¿```## C++æ¨¡æ¿```c++int arrange(int m,int n){    if(m==n) return n;    return m*arrange(m-1,n);}void dfs(int x){    if(x==n){        for(int i =1;i&lt;=n;++i)            printf(\"%d\",a[i]);        for(int i=1;i&lt;=n;++i){            if(!mark[i]){                a[x]=i;++mark[i];            }            dfs(x+1);            mark[i]=0; //å›æº¯        }    }}\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["æ’åˆ—ç»„åˆ"]},{"title":"æ’åˆ—ç»„åˆæ•°","url":"/2023/06/04/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/pai-lie-zu-he-shu/","content":"æ’åˆ—ç»„åˆæ•°\nè¯´æ˜ï¼š\n\n&gt; æ’åˆ—æ•°ï¼š\n&gt;\n&gt; ä»nä¸ªç‰©å“ä¸­ä¸æ”¾å›åœ°ä¾æ¬¡é€‰mä¸ªç‰©å“ï¼Œè€ƒè™‘é¡ºåºï¼Œæœ‰å¤šå°‘ç§æ–¹æ¡ˆï¼Œè®°ä½œ$A^m_n$\n&gt;\n&gt; $A^m_n={{n!}\\over{n-m}!}$\n&gt;\n&gt; ç»„åˆæ•°:\n&gt;\n&gt; ä»nä¸ªç‰©å“ä¸­ä¸æ”¾å›åœ°ä¾æ¬¡é€‰mä¸ªç‰©å“ï¼Œä¸è€ƒè™‘é¡ºåºï¼Œæœ‰å¤šå°‘ç§æ–¹æ¡ˆï¼Œè®°ä½œ$C^m_n$\n&gt;\n&gt; $C^m_n={{n!}\\over{m!\\times(n-m)!}}$\n&gt;\n&gt; æ±‚ç»„åˆæ•°å¸¸ç”¨å…¬å¼ï¼š\n&gt;\n&gt; å®šä¹‰å¼\n&gt;\n&gt; $C^m_n={{n!}\\over{m!\\times(n-m)!}}$\n&gt;\n&gt; å½“n,må¾ˆå¤§æ—¶ï¼Œé¢„å¤„ç†é˜¶ä¹˜å’Œé€†å…ƒï¼Œé¢„å¤„ç†O(n),æ±‚ç»„åˆæ•°O(1)\n&gt;\n&gt; \n&gt;\n&gt; é€’æ¨å¼ï¼š\n&gt;\n&gt; $C^m_n={{n!}\\over{m!\\times(n-m)!}}={{n!}\\over{(m-1)!\\times(n-m+1)!}}\\times{{n-m+1}\\over{m}}=C^{m-1}_n\\times{{n-m+1}\\over{m}}$\n&gt;\n&gt; \n&gt;\n&gt; æ¨è¾‰ä¸‰è§’ï¼š\n&gt;\n&gt; $C^m_n={{n!}\\over{m!\\times(n-m)!}}={{(n-1)!\\times(n-m+m)}\\over{m!\\times(n-m)!}}={{(n-1)!\\times(n-m)}\\over{m!\\times(n-m)!}}+{{(n-1)!\\times m}\\over{m!\\times(n-m)!}}={{(n-1)!}\\over{m! \\times(n-m-1)!}}+{{(n-1)!}\\over{(m-1)!\\times(n-m)!}}=C^m_{n-1}+C^{m-1}_{n-1}$\n&gt;\n&gt; å½“æ¨¡æ•°ä¸æ˜¯è´¨æ•°çš„æ—¶å€™ï¼Œé¢„å¤„ç†$O(n^2)$ï¼Œæ±‚ç»„åˆæ•°$O(1)$\n&gt;\n&gt; æ€§è´¨ä¸€\n&gt;\n&gt; $C^m_n=C^{n-m}_n$\n&gt;\n&gt; æ€§è´¨äºŒ\n&gt;\n&gt; $C^m_{n+m+1}=\\sum^m_{i=0}C^i_{n+i}$\n&gt;\n&gt; \n&gt;\n&gt; ç”¨C(n,m)è¡¨ç¤ºã€‚åœ¨Javaä¸­ï¼Œå¯ä»¥ä½¿ç”¨é€’å½’æˆ–åŠ¨æ€è§„åˆ’çš„æ–¹æ³•æ¥è®¡ç®—ç»„åˆæ•°ã€‚\n\n\n\nJavaä»£ç æ¨¡æ¿ï¼š/*é€’å½’å®ç°ç‰ˆ*/public static int C(int n, int m) {    if (n == m || m == 0) {        return 1;    } else {        return C(n-1, m-1) + C(n-1, m);    }}/*åŠ¨æ€è§„åˆ’å®ç°ç‰ˆ*/public static int C(int n, int m) {    int[][] dp = new int[n+1][m+1];    for (int i = 0; i &lt;= n; i++) {        dp[i][0] = 1;    }    for (int i = 1; i &lt;= n; i++) {        for (int j = 1; j &lt;= m &amp;&amp; j &lt;= i; j++) {            dp[i][j] = dp[i-1][j-1] + dp[i-1][j];        }    }    return dp[n][m];}\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["æ•°è®º"]},{"title":"æ•°ä½DPæ¨¡æ¿","url":"/2023/05/22/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/shu-wei-dp/","content":"æ•°ä½DP\nè¯´æ˜ï¼š\næ•°ä½DPæ˜¯ä¸ºäº†è§£å†³æŸäº›æ•°å­—åŒ¹é…ä¸Šé¢çš„é—®é¢˜ï¼Œå…¶ä¸­ç»å…¸çš„å†™æ³•æ˜¯å¥—ç”¨DFSç®—æ³•å®ç°æ•°ä½DPã€‚\nè§†å±æ•™å­¦ï¼š\næ•°ä½DPE37 æ•°ä½DP Windyæ•°_å“”å“©å“”å“©_bilibili\nè¿™é‡Œè¯´ä¸€ä¸‹ï¼Œå‰å¯¼é›¶çš„æ„æ€ï¼Œå°±æ˜¯è¿™ä¸ªæ•°å­—çš„å‰é¢éƒ½æ˜¯é›¶ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬è¦dpçš„æ•°å­—çš„æœ€æ•°å­—çš„ä½æ•°ä¸º123ã€‚ä½†æ˜¯æˆ‘ä»¬åœ¨è¿›è¡Œdfsçš„DPçš„æ—¶å€™ä¼šä»1å¼€å§‹ï¼Œé‚£ä¹ˆä¸€å¼€å§‹æˆ‘ä»¬ä»1å¼€å§‹dfsçš„æ—¶å€™é‚£ä¹ˆå°±æ˜¯001ã€‚ä¹Ÿå°±æ˜¯å‰é¢å ä½çš„éƒ½æ˜¯é›¶ï¼Œä¹Ÿå°±å«åšå‰å¯¼é›¶ã€‚\n\nimport java.util.Arrays;import java.util.Scanner;/** * @description: æ•°ä½DP * è¿™ä¸ªæ˜¯ä¸€ä¸ªæ•°ä½DPçš„æ¨¡æ¿ï¼Œè¿™é‡Œçš„æ•°ä½DPä¸»è¦æ˜¯åˆ©ç”¨DFSæ¥å®ç°çš„ã€‚ * @author é•¿ç™½å´ * @date 2023/6/4 1:05 * @version 1.0 */public class NumBitDP {    public static void main(String[] args) {        //æµ‹è¯•æ•°æ®        Scanner sc = new Scanner(System.in);        int a = sc.nextInt();        System.out.println(a);    }    public static long slove(int num){        int bit[] = new int[13];        int i =0;        while(num!=0){            bit[++i] = num%10;            num/=10;        }        long dp[][] = new long[i+1][10];        //åˆå§‹åŒ–dpæ•°ç»„é‡Œé¢çš„å€¼éƒ½ä¸º-1        for(int y = 0 ; y&lt;=i ; ++y)            Arrays.fill(dp[i],-1);        return dfs(dp,bit,i,0,true,true);    }    /**     * è¿™ä¸ªå‡½æ•°æ˜¯æ•°ä½DPçš„æ ¸å¿ƒç®—æ³•     * @param dp DPçš„æ•°ç»„     * @param bit è¿™ä¸ªæ•°ç»„ä¸»è¦ç”¨æ¥å­˜æ¯ä¸€ä½çš„æ•°å­—ï¼Œæ•°å­—å­˜å‚¨çš„ä½ç½®ä¸ºä»æœ€é«˜ä½å¼€å§‹ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬å­˜123è¿™ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆåœ¨æ•°ç»„é‡Œé¢åº”è¯¥æ˜¯[][3][2][1]     * @param index è¿™ä¸ªç”¨äºæ ‡è®°å½“å‰dfsçš„æ˜¯å¯¹åº”æ•°ç»„çš„å“ªä¸€ä¸ªä½ç½®ï¼Œdfsæ˜¯ä»æœ€é«˜ä½å…ˆé€’å½’åˆ°æœ€ä½ä½ï¼ˆä¸ªä½ï¼‰ç„¶åä»ä½ä½é€æ¸é€’å½’åˆ°æœ€é«˜ä½     * @param preNum è¿™ä¸ªå˜é‡ä¸»è¦çš„ä½œç”¨æ˜¯ç”¨äºè®°å½•å‰é¢dfsæ‰€é€‰çš„æ•°å­—     * @param limit è¿™ä¸ªå˜é‡ä¸»è¦ç”¨äºæ ‡è®°æ˜¯å¦å½“å‰é€’å½’åˆ°çš„dfsæ˜¯å¦æœ‰æœ€é«˜ä½é™åˆ¶ï¼Œè¿™ä¸ªæœ€é«˜ä½é™åˆ¶ä¸ä¹‹å‰é€’å½’çš„dfsæœ‰å…³     * @param zero è¿™ä¸ªå˜é‡ä¸»è¦æ˜¯ç”¨äºè®°å½•æ˜¯å¦å«æœ‰å‰å¯¼é›¶ï¼Œè¿™ä¸ªå‰å¯¼é›¶çš„æ„æ€æŒ‡çš„æ˜¯é™¤è¿™ä¸€ä½ä»¥å¤–æ‰€æœ‰æ¯”å½“å‰dfsçš„è¿™ä¸€ä½é«˜çš„ä½æ•°éƒ½æ˜¯é›¶ï¼Œæ¯”å¦‚ï¼š     *             123è¿™ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬åˆ©ç”¨æ•°ä½dpçš„æ—¶å€™ç›¸å½“äºè®°å½•1~123è¿™ä¸ªåŒºåŸŸçš„æ•°å­—æœ‰å¤šå°‘ç¬¦åˆè¦æ±‚çš„ï¼Œé‚£ä¹ˆä»æœ€ä½ä½å¼€å§‹001ã€002ã€...ã€024     *             è¿™é‡Œçš„0ä»£è¡¨çš„å°±æ˜¯å‰å¯¼é›¶     * @return è¿”å›å½“å‰ä½æ‰€èƒ½å–åˆ°çš„åˆæ³•æ•°å­—çš„å…¨éƒ¨æ•°é‡     */    public static long dfs(long dp[][],int bit[],int index,int preNum,boolean limit ,boolean zero){        //å¦‚æœæœåˆ°äº†æœ€åä¸€ä½é‚£ä¹ˆå°±ç›´æ¥é€€å‡ºå°±å¾—        if(index==0)            return 1;        //å¦‚æœä¸æ˜¯å‰å¯¼é›¶ï¼Œå¹¶ä¸”æ²¡æœ‰æœ€é«˜ä½é™åˆ¶ï¼Œè€Œä¸”æœ‰å½“å‰ä½æ•°indexä¸ºåŸºå‡†çš„å‰å¯¼æ•°ä¸ºpreNumçš„æœç´¢çŠ¶æ€å€¼é‚£ä¹ˆå°±ç›´æ¥è¿”å›        if(!zero &amp;&amp; !limit &amp;&amp; dp[index][preNum]!=-1)            return dp[index][preNum];        int maxNum = limit?bit[index]:9;        long ans = 0;        for(int i = 0 ; i &lt;=maxNum ; ++i){            //è¿™é‡Œå¼€å§‹æ·»åŠ è¿‡æ»¤æ¡ä»¶ã€‚ã€‚ã€‚ã€‚ã€‚            //è¿™é‡Œå¼€å§‹æ­£å¸¸çš„æœç´¢            if(zero &amp;&amp; i==0)                ans +=dfs(dp,bit,index-1,i,limit &amp;&amp; i==bit[index] ? true:false,true);            else                ans+=dfs(dp,bit,index-1,i,limit &amp;&amp; i==bit[index] ? true:false,false);        }        if(!zero &amp;&amp; !limit)            dp[index][preNum] = ans;        return ans;    }}\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["DP"]},{"title":"å°†æ•°å­—Næ‹†åˆ†ä¸ºKä¸ªä¸åŒçš„æ•°å­—","url":"/2023/06/06/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/shu-zi-n-chai-fen-wei-k-ge-bu-tong-shu-zi/","content":"å°†æ•°å­—Næ‹†åˆ†ä¸ºKä¸ªä¸åŒçš„æ•°å­—\nè¯´æ˜ï¼š\nå°†æ•°å­—Næ‹†åˆ†ä¸ºKä¸ªä¸åŒçš„æ•°å­—ä¸€å…±æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•ï¼Ÿ\n\nJavaä»£ç æ¨¡æ¿ï¼špublic class æ•°å­—æ‹†åˆ† {    public static void main(String[] args) {        System.out.println(slove(2022,10));    }    /**     * å°†æ•°å­—Næ‹†åˆ†ä¸ºKä¸ªä¸ç›¸åŒçš„æ­£æ•´æ•°ä¹‹å’Œï¼Œä¸€å…±æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•ï¼Ÿ     * @param num éœ€è¦æ‹†åˆ†çš„æ•°å­—     * @param k éœ€è¦æ‹†åˆ†ä¸ºå¤šå°‘ä¸ª     * @return     */    public static long slove(int num,int k){        long bp[][] = new long[num+1][k+1];        bp[0][0]=1;        for(int i =1 ; i &lt;= num ; ++i){            for(int j =1; j &lt;=k ; ++j){                if(i&gt;=j)                    bp[i][j] = bp[i-j][j] + bp[i-j][j-1];            }        }        return bp[num][k];    }}\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["ç®—æ³•","æ•°è®º"]},{"title":"æ—¥æœŸåˆæ ¼åŠå¹³å¹´é—°å¹´åˆ¤æ–­","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/ri-qi-he-ge-ji-ping-nian-run-nian-pan-duan/","content":"æ—¥æœŸåˆæ ¼åŠå¹³å¹´é—°å¹´åˆ¤æ–­\nè¯´æ˜ï¼š\nä¸»è¦ç”¨äºåˆ¤æ–­æ—¥æœŸæ˜¯å¦åˆæ ¼ä»¥åŠåˆ¤æ–­æ—¥æœŸæ˜¯å¦ä¸ºå¹³å¹´æˆ–é—°å¹´\n\nJavaä»£ç æ¨¡æ¿ï¼š\nimport java.time.LocalDate;import java.time.LocalDateTime;public class DateJudge { public static void main(String[] args) { } /**     * å¸¸è§„åˆ¤æ–­è¾“å…¥çš„æ—¥æœŸæ˜¯å¦åˆæ ¼     * @param year     * @param month     * @param day     * @param hour     * @param minute     * @param seconds     * @return å¦‚æœæ—¥æœŸè¾“å…¥åˆæ ¼é‚£ä¹ˆå°±è¿”å›trueï¼Œä¸åˆæ ¼é‚£ä¹ˆè¿”å›false     */    public static boolean dateQua(int year,int month,int day,int hour,int minute,int seconds) {        int days[] = {-1,31,28,31,30,31,30,31,31,30,31,30,31};        if(!(month==0) || month&gt;12)            return false;        if(!(day==0))return false;        if(month!=2){            if(day&gt; days[month])                return false;        }else {            boolean leap = (year%400==0) || (year%4==0 &amp;&amp; year%100!=0);            if(day &gt; 28 + (leap?1:0))                return false;        }        return true;    }    /**     * åˆ¤æ–­å¹´æœˆæ—¥çš„è¾“å…¥æ˜¯å¦åˆæ ¼ï¼Œè¿™ä¸ªæ˜¯Javaç‰¹æœ‰çš„ç®€ä¾¿æ–¹å¼     * @param year å¹´     * @param month æœˆ     * @param day æ—¥     * @param hour æ—¶     * @param minute åˆ†     * @param seconds ç§’     * @return å¦‚æœæ—¥æœŸè¾“å…¥åˆæ ¼é‚£ä¹ˆå°±è¿”å›trueï¼Œä¸åˆæ ¼é‚£ä¹ˆè¿”å›false     */    public static boolean dateQuaFun(int year,int month,int day,int hour,int minute,int seconds){        try{            LocalDateTime.of(year,month,day,hour,minute,seconds);        }catch (Exception e){            return false;        }        return true;    }    /**     * åˆ¤æ–­é—°å¹´è¿˜æ˜¯å¹³å¹´ï¼Œæ™®é€šæ–¹æ³•     * @param year     * @return æœè¿”å›trueåˆ™ä»£è¡¨é—°å¹´ï¼Œfalseä»£è¡¨å¹³å¹´     */    public static boolean dateRandP(int year){        if(year%4==0){            if(year%100 !=0)                return true;            else if(year%400 ==0)                return true;        }        return false;    }    /**     * Javaç‰¹æœ‰çš„åˆ¤æ–­æ˜¯å¦é—°å¹´è¿˜æ˜¯å¹³å¹´     * @param year     * @return å¦‚æœè¿”å›trueåˆ™ä»£è¡¨é—°å¹´ï¼Œfalseä»£è¡¨å¹³å¹´     */    public static boolean dateRandPFun(int year){        LocalDate date = LocalDate.of(year,1,1);        if(date.isLeapYear())            return true; //æ¶¦        else            return false; //å¹³    }}\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["ç®—æ³•"]},{"title":"æœ€å¤§å…¬çº¦æ•°","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/zui-da-gong-yue-shu/","content":"æœ€å¤§å…¬çº¦æ•°\nè¯´æ˜ï¼š\nè®¡ç®—æœ€å¤§å…¬çº¦æ•°,è¿™é‡Œåªå±•ç¤ºé€šè¿‡é€’å½’å®ç°ã€‚\nå…¶æ–¹æ³•ä½¿ç”¨çš„æ˜¯æ•°å­¦ä¸Šçš„==è¾—è½¬ç›¸é™¤æ³•==\ngcdç›¸å…³çš„æ¦‚å¿µè¿˜æœ‰è£´èœ€å®šç† ï¼Œå³ä»»æ„ä¸¤ä¸ªæ•°çš„ç»„åˆå¿…å®šæ˜¯ä»–ä»¬gcdçš„å€æ•°ã€‚åŒæ ·å¯ä»¥æ¨å¹¿åˆ°æ›´å¤šæ•°ï¼šå¦‚æœè¿™äº›æ•°çš„gcdæ˜¯dï¼Œé‚£ä¹ˆä»–ä»¬çš„ç»„åˆæ˜¯dçš„å€æ•°ï¼Œå¦‚æœdä¸æ˜¯1ï¼Œé‚£ä¹ˆå¿…ç„¶æœ‰æ— é™ä¸ªæ•°æ— æ³•è¢«ç»„åˆå‡ºæ¥ã€‚\n\nJavaä»£ç æ¨¡æ¿ï¼š\nimport java.math.BigInteger;/** * @description: æ±‚æœ€å¤§å…¬çº¦æ•° * @author é•¿ç™½å´ * @date 2023/3/30 12:33 * @version 1.0 */public class GCD {    public static void main(String[] args) {        //æµ‹è¯•é›†        System.out.println(gcd(24,60));        System.out.println(gcdFun(24,60));    }    /**     * è®¡ç®—æœ€å¤§å…¬çº¦æ•°æ–¹å¼1     * @param a æ•°å­—1     * @param b æ•°å­—2     * @return è¿”å›æœ€å¤§å…¬çº¦æ•°     */    public static  int gcd(int a, int b){ return (b==0) ? a : gcd(b, a%b); }    /**     * Javaç‰¹æœ‰çš„ä¸€ç§æœ€å¤§å…¬çº¦æ•°è®¡ç®—æ–¹å¼     * @param a æ•°å­—1     * @param b æ•°å­—2     * @return è¿”å›æœ€å¤§å…¬çº¦æ•°     */    public static  int gcdFun(int a,int b){        BigInteger a1 = BigInteger.valueOf(a);        BigInteger a2 = BigInteger.valueOf(b);        return  Integer.parseInt(a1.gcd(a2).toString());    }}\nC++ä»£ç æ¨¡æ¿ï¼šint gcd(int a,int b){    return b?a:gcd(b,a%b);}\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["æ•°è®º"]},{"title":"æœŸæœ›","url":"/2024/05/24/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/qi-wang/","content":"æœŸæœ›\nå‰è¨€ï¼š\næ•°å­¦æœŸæœ›å½“å‰åœ¨OIä¸­æ˜¯ä¸€ä¸ªç±»ä¼¼äºæ•°è®ºæ–¹é¢é—¨æ§›çš„çŸ¥è¯†ï¼Œåœ¨ç«èµ›ä¸­æœ‰è€ƒå¯Ÿã€‚æœ¬æ–‡å°†è¯¦ç»†çš„è®²è§£æ­¤å†…å®¹ï¼Œä½†ä¹Ÿä¸æ˜¯åªçº ç¼ äºç®€å•çš„æ¦‚å¿µï¼Œè€Œä¼šè§£å†³ä¸€äº›é¢˜ç›®.å¯èƒ½è¿™æ ·ä»‹ç»çš„çŸ¥è¯†å¯¹äºå¤§ä½¬æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒåŸºç¡€ï¼Œä½†å¯¹åƒæˆ‘è¿™æ ·çš„èŒæ–°æ¥è¯´é€šä¿—æ˜“æ‡‚ï¼Œæ‰€ä»¥è¯·å„ä½å£ä¸‹ç•™æƒ…ã€‚\nä»€ä¹ˆæ˜¯æœŸæœ›\næ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬æ¯åšä¸€ä»¶äº‹ï¼Œéƒ½æœ‰å¯¹å®ƒçš„æœŸæœ›ï¼Œè¿™é‡Œçš„æœŸæœ›ä¸ä»…ä»…åªç»“æœçš„èƒœè´Ÿä¹‹ç±»ï¼Œä¹Ÿå¯ä»¥ä¸çŠ¶æ€æœ‰å…³ã€‚ä½†åœ¨OIä¸­ï¼Œä¸€èˆ¬æŒ‡çš„å°±æ˜¯è¾¾åˆ°ç»“æœçš„æœŸæœ›ï¼Œæœ€æœ´ç´ çš„è®¡ç®—æ˜¯æ¯æ¬¡å¯èƒ½ç»“æœçš„æ¦‚ç‡ä¹˜ä»¥å…¶ç»“æœçš„æ€»å’Œ\nè¿™æ˜¯æœ€åŸºæœ¬çš„æ•°å­¦ç‰¹å¾ã€‚\nå¹¿ä¹‰ä¸‹çš„å®šä¹‰ï¼šä¸€æ¬¡éšæœºæŠ½æ ·ä¸­æ‰€æœŸæœ›çš„æŸéšæœºå˜é‡çš„å–å€¼ã€‚\næ•°å­¦å®šä¹‰ï¼š\n\n2ã€æœŸæœ›çš„å°æ€§è´¨ï¼š\nè®¾Xæ˜¯éšæœºå˜é‡ï¼ŒCæ˜¯å¸¸æ•°ï¼Œåˆ™ ğ¸(ğ¶ğ‘‹)=ğ¶Ã—ğ¸(ğ‘‹)\n\nç®€å•è¯æ˜ä¸€ä¸‹ï¼š\nè®¾x çš„å¤šä¸ªéšæœºå˜é‡ä¸º\n$ğ¶ğ‘_1,ğ¶ğ‘_2,ğ¶ğ‘_3â€¦ğ¶ğ‘_ğ‘›$\nå¯¹åº”çš„å‡ºç°æ¦‚ç‡ä¸º\n$ğ‘_1,ğ‘_2,ğ‘_3â€¦ğ‘_ğ‘›$\né‚£ä¹ˆå¯¹åº”çš„æ±‚æœŸæœ›çš„å¼å­\n$ğ¸(ğ¶ğ‘‹)=ğ¶\\sum^n_{i=1}=(a_iÃ—p_i)$\n(Cæå‡ºæ¥)\nç”±äºï¼š\n$ğ¸(ğ‘‹)=\\sum^n_{i=1}=(a_iÃ—p_i)$\næ‰€ä»¥\n$E(CX)=C\\times E(X)$\nå¦ä¸€äº›ç®€å•çš„æ€§è´¨ï¼š\nè®¾Xï¼ŒYæ˜¯ä»»æ„ä¸¤ä¸ªéšæœºå˜é‡ï¼Œåˆ™æœ‰ $ğ¸(ğ‘‹+ğ‘Œ)=ğ¸(ğ‘‹)+ğ¸(ğ‘Œ) $ã€‚\nè®¾Xï¼ŒYæ˜¯ç›¸äº’ç‹¬ç«‹çš„éšæœºå˜é‡ï¼Œåˆ™æœ‰$ ğ¸(ğ‘‹ğ‘Œ)=ğ¸(ğ‘‹)Ã—ğ¸(ğ‘Œ)$ ã€‚\nè®¾Cä¸ºå¸¸æ•°ï¼Œåˆ™$ ğ¸(ğ¶)=ğ¶ $ã€‚\n\n3.æœŸæœ›ä¸å‡å€¼ï¼ŸæœŸæœ›ä¸å‡å€¼æ˜¯ä¸¤ä¸ªååˆ†ç›¸è¿‘çš„æ¦‚å¿µï¼Œä½†åˆå¯ä»¥è¯´æ˜¯æˆªç„¶ä¸åŒã€‚\n\nå‡å€¼å¾€å¾€æ˜¯åœ¨å®éªŒä¸­ç®€å•çš„å¯¹æ•°æ®è¿›è¡Œå¹³å‡ã€‚\nè€ŒæœŸæœ›å°±å¥½åƒåœ¨ä¸Šå¸è§†è§’çš„äººã€‚\n\nä¸¾ä¸ªæ·éª°å­çš„ä¾‹å­ï¼š\næˆ‘ä»¬çš„å‡å€¼æ€ä¹ˆç®—å‘¢ï¼Ÿ\næ˜¾ç„¶è¦æ·ä¸Šä¸€å®šå¤šçš„æ¬¡æ•°æ¥æ±‚å¹³å‡æ•°ã€‚\næ¯”å¦‚ï¼Œæ·äº†6æ¬¡ï¼Œåˆ†åˆ«ä¸º$ 1,5,5,6,3,3 $ï¼Œé‚£ä¹ˆå‡å€¼ä¸º ${1+5+5+6+3+3 \\over 6} =3.8333333â€¦$\nå¯æ˜¯æœŸæœ›å‘¢ï¼Ÿ\næˆ‘ä»¬ä¸ç”¨æ·éª°å­å°±èƒ½è®¡ç®—å‡ºæ¥ï¼š\n\nå¯ä»¥çœ‹å‡ºï¼Œä¸¤ä¸ªå€¼æ˜¯æœ‰æ˜æ˜¾å·®åˆ«çš„ï¼Œè€Œä¸”è¿˜æ—¶åˆ»ä¸åŒã€‚\nä½†æ˜¯ä¸ºä»€ä¹ˆå®¹æ˜“å¼„æ··å‘¢ï¼Ÿ\nå› ä¸ºåœ¨å°†å¤šä¸ªå‡å€¼æ±‚å‡å€¼åï¼Œä¸¤è€…å°±æ— é™æ¥è¿‘äº†ã€‚\nå®šä¹‰\nè®¾$P(x)$æ˜¯ä¸€ä¸ªç¦»æ•£æ¦‚ç‡åˆ†å¸ƒå‡½æ•°ï¼Œè‡ªå˜é‡çš„å–å€¼èŒƒå›´ä¸º${x_1,x_2,â€¦,x_n}$ã€‚å…¶æœŸæœ›å‘—å®šä¹‰ä¸ºï¼š\n$E(x)=\\sum_{k=1}^nx_kP(x_k)$\nè®¾p(x)æ˜¯ä¸€ä¸ªè¿ç»­æ¦‚ç‡å¯†åº¦å‡½æ•°ã€‚å…¶æœŸæœ›ä¸ºï¼š\n$E(x)=\\int^{+\\infty}_{-\\infty}xp(x)dx$\næ€§è´¨1ã€çº¿æ€§è¿ç®—è§„åˆ™\næœŸæœ›æœä»çº¿æ€§æ€§è´¨ï¼ˆå¯ä»¥å¾ˆå®¹æ˜“ä»æœŸæœ›çš„å®šä¹‰å…¬å¼ä¸­å¯¼å‡ºï¼‰ã€‚å› æ­¤çº¿æ€§è¿ç®—çš„æœŸæœ›ç­‰äºæœŸæœ›çš„çº¿æ€§è¿ç®—\n$E(ax+by+c)=aE(x)+bE(y)=c$\nè¿™ä¸ªæ€§è´¨å¯ä»¥æ¨å¹¿åˆ°ä»»æ„ä¸€èˆ¬æƒ…å†µï¼š\n$E(\\sum^n_{k=1}a_ix_i+c)=\\sum^n_{k=1}a_iE(x_i)+c$\n2ã€å‡½æ•°çš„æœŸæœ›\nè®¾$f(x)$ä¸ºxçš„å‡½æ•°ï¼Œåˆ™$f( x )$çš„æœŸæœ›ä¸ºï¼š\nç¦»æ•£ï¼š\n$E(f(x))=\\sum^n_{k=1}f(x_k)P(x_k)$\nè¿ç»­ï¼š\n$E(f(x))=\\int^{+\\infty}_{-\\infty}f(x)p(x)dx$\nä¸€å®šè¦æ³¨æ„ï¼Œå‡½æ•°çš„æœŸæœ›ä¸ç­‰äºæœŸæœ›çš„å‡½æ•°ï¼Œå³$E(f(x))/=f(E(x))!$ã€‚\n3ã€ä¹˜ç§¯çš„æœŸæœ›\nä¸€èˆ¬æ¥è¯´ï¼Œä¹˜ç§¯çš„æœŸæœ›ä¸ç­‰äºæœŸæœ›çš„ä¹˜ç§¯ï¼Œé™¤éå˜é‡ç›¸äº’ç‹¬ç«‹ã€‚å› æ­¤ï¼Œå¦‚æœxå’Œyç›¸äº’ç‹¬ç«‹ï¼Œåˆ™$E(xy)=E(x)E(y)$ã€‚\næœŸæœ›çš„è¿ç®—æ„æˆäº†ç»Ÿè®¡é‡çš„è¿ç®—åŸºç¡€ï¼Œå› ä¸ºæ–¹å·®ã€åæ–¹å·®ç­‰ç»Ÿè®¡é‡æœ¬è´¨ä¸Šæ˜¯ä¸€ç§ç‰¹æ®Šçš„æœŸæœ›ã€‚\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["ç®—æ³•","æœŸæœ›"]},{"title":"æ ‘çŠ¶æ•°ç»„æ¨¡æ¿","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/shu-zhuang-shu-zu/","content":"æ ‘çŠ¶æ•°ç»„\nè¯´æ˜ï¼š\næ ¸å¿ƒç‚¹ï¼šlowbit()å‡½æ•°\n\nè¯¥å‡½æ•°æ˜¯ç”¨æ¥æ±‚äºŒè¿›åˆ¶æ•°ï¼ˆä»å³å¾€å·¦æ•°ï¼‰ç¬¬ä¸€ä¸ª1ä»¥åŠåé¢çš„0ç»„æˆçš„å€¼ã€‚\nä¾‹å¦‚ï¼šlowbit(10100)=100ã€‚ï¼ˆéƒ½æ˜¯äºŒè¿›åˆ¶æ•°ï¼‰\nlowbit(x)=x&amp;(-x),xä¸ºäºŒè¿›åˆ¶æ•°ã€‚\nï¼ˆå¯¹äºä¸€ä¸ªäºŒè¿›åˆ¶æ•°xï¼Œ-xç›¸å½“äºæŒ‰ä½å–åå†åŠ 1ï¼Œå³æ±‚å…¶è¡¥ç ã€‚&amp;å°±æ˜¯å°†å…¶è¡¥ç çš„xæŒ‰ä½åšä¸è¿ç®—ã€‚ï¼‰\n\n\nè®²è§£è§†å±ï¼š\näº”åˆ†é’Ÿä¸æ»‘åŠ¨ç”»è®²è§£ | æ ‘çŠ¶æ•°ç»„_å“”å“©å“”å“©_bilibili\nç›¸åº”æ–‡ç« ï¼š\næ ‘çŠ¶æ•°ç»„è¯¦è§£ - Xenny - åšå®¢å›­ (cnblogs.com)\nã€Šç®—æ³•ç«èµ›ã€‹ä¸Šå†Œ ç½—å‹‡å†› ç¬¬160é¡µ\n\né¢˜ç›®æ¨èï¼š\næ•Œå…µå¸ƒé˜µ - HDU 1166 - Virtual Judge (vjudge.net)\n\nJavaä»£ç æ¨¡æ¿ï¼šimport java.util.Scanner;/** * @description: æ ‘çŠ¶æ•°ç»„ * @author é•¿ç™½å´ * @date 2023/5/2 1:27 * @version 1.0 */public class BinaryIndexedTrees {    public static void main(String[] args) {        //æµ‹è¯•æ¡ä¾‹        Scanner sc = new Scanner(System.in);        //æ•°ç»„é•¿åº¦        System.out.println(\"è¾“å…¥æ•°ç»„é•¿åº¦ï¼š\");        int num = sc.nextInt();        int data[] = new int[num+1];        int tree[] = new int[(num+1)*4];        System.out.println(\"è¾“å…¥æ•°ç»„æ¯ä¸ªå…ƒç´ çš„å€¼\");        for(int i=1 ; i &lt;= num ; ++i){            data[i] = sc.nextInt();            update(tree,i,data[i]);        }        //è¾“å‡ºæ•°ç»„å‰iä¸ªä¹‹å’Œ        System.out.println(\"è¾“å‡ºnä¸ªçš„å’Œï¼š\");        int n = sc.nextInt();        System.out.println(countSum(tree,n));        //è¾“å‡ºstart -&gt; end çš„å’Œ        System.out.println(\"è¾“å‡ºstart -&gt; end çš„å’Œ\");        int start = sc.nextInt();        int end = sc.nextInt();        System.out.println(countSum(tree,end)-countSum(tree,start-1));    }    /**     * lowBitå‡½æ•°,ç”¨äºé€šè¿‡åŸdataå­˜å‚¨æ•°ç»„ä¸­å¯¹åº”çš„ä¸‹æ ‡è®¡ç®—å‡ºæ ‘çŠ¶æ•°ç»„ä¸­å¯¹åº”çš„ä½ç½®ä¸‹æ ‡ã€‚     * @param i     * @return     */    public static int lowBit(int i){        return i&amp;(-i);    }    /**     * updateå‡½æ•°ï¼Œç”¨äºæ›´æ–°æ ‘çŠ¶æ•°ç»„çš„å€¼     * @param tree æ ‘çŠ¶æ•°ç»„     * @param i è¡¨ç¤ºæ›´æ–°ç¬¬iä¸ªæ•°ç»„çš„ä¸‹æ ‡çš„å€¼     * @param v æ›´æ–°çš„å€¼ï¼ˆå³åœ¨åŸå€¼çš„åŸºç¡€ä¸ŠåšåŠ æ³•æˆ–å…¶ä»–ï¼‰     */    public static void update(int tree[],int i,int v){        while(i&lt;tree.length){            tree[i] += v;            i += lowBit(i);        }    }    /**     * countSumï¼Œç”¨äºè®¡ç®—æ•°ç»„ä¸­å‰iä¸ªä¹‹å’Œ     * @param tree æ ‘çŠ¶æ•°ç»„     * @param i è¿™è¡¨ç¤ºå‰iä¸ªä¹‹å’Œ     * @return è¿”å›å’Œå€¼     */    public static long countSum(int tree[],int i){        long ans = 0;        while(i&gt;0){            ans+= tree[i];            i -= lowBit(i);        }        return ans;    }}\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["ç®—æ³•","æ ‘çŠ¶æ•°ç»„"]},{"title":"æ¬§æ‹‰å‡½æ•°","url":"/2024/04/08/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/ou-la-han-shu/","content":"æ¬§æ‹‰å‡½æ•°\n1 æ¬§æ‹‰å‡½æ•°çš„å®šä¹‰\næ¬§æ‹‰å‡½æ•°ï¼ˆEulerâ€™s totient functionï¼‰ï¼Œé€šå¸¸è®°ä¸ºÏ†(n)ï¼Œæ˜¯ä¸€ä¸ªä¸æ­£æ•´æ•°nç›¸å…³çš„æ•°è®ºå‡½æ•°ã€‚å®ƒè¡¨ç¤ºå°äºæˆ–ç­‰äºnçš„æ­£æ•´æ•°ä¸­ä¸näº’è´¨çš„æ•°çš„ä¸ªæ•°ã€‚äº’è´¨çš„æ„æ€æ˜¯è¿™äº›æ•°çš„æœ€å¤§å…¬çº¦æ•°ï¼ˆæœ€å¤§å…¬å› æ•°ï¼‰ä¸º1ã€‚\næ¬§æ‹‰å‡½æ•°çš„è®¡ç®—å…¬å¼æ˜¯$Ï†(n) = n \\times \\left(1 - \\frac{1}{p_1}\\right) \\times \\left(1 - \\frac{1}{p_2}\\right) \\times \\ldots \\times \\left(1 - \\frac{1}{p_k}\\right)$å…¶ä¸­ï¼Œnå¯ä»¥åˆ†è§£ä¸ºç´ æ•°å› å­çš„ä¹˜ç§¯ï¼š$n = p_1^{a_1} \\times p_2^{a_2} \\times \\ldots \\times p_k^{a_k}$å…¶ä¸­ï¼Œp1ã€p2ã€â€¦ã€pkæ˜¯ä¸åŒçš„ç´ æ•°ï¼Œ$a1ã€a2ã€â€¦ã€ak$æ˜¯å®ƒä»¬çš„å¹‚æ¬¡ã€‚\nä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœn = 12ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥åˆ†è§£ä¸º2^2 * 3^1ã€‚å› æ­¤ï¼ŒÏ†(12) = 12 * (1 - 1/2) * (1 - 1/3) = 4ã€‚\næ¬§æ‹‰å‡½æ•°åœ¨æ•°è®ºå’Œå¯†ç å­¦ä¸­æœ‰å¹¿æ³›çš„åº”ç”¨ï¼Œä¾‹å¦‚åœ¨RSAç®—æ³•ä¸­ï¼Œæ¬§æ‹‰å‡½æ•°çš„è®¡ç®—ç”¨äºç”ŸæˆåŠ å¯†å¯†é’¥å’Œè§£å¯†å¯†é’¥ã€‚\n\nJavaä»£ç æ¨¡æ¿import java.util.Scanner;public class æ¬§æ‹‰å‡½æ•° {\tpublic static void main(String[] args) {\t\t// TODO Auto-generated method stub\t\tScanner sc= new Scanner(System.in);\t\tint n = sc.nextInt();\t\tSystem.out.println(phi(n));\t\tSystem.out.println(phii(n));\t}\t\tpublic static int phi(int x) {\t\tint res=x;\t\tfor(int i = 2;i&lt;=x/i;++i) {\t\t\tif(x%i==0) {\t\t\t\tres = res/i*(i-1); //æ¬§æ‹‰å…¬å¼ï¼Œæ¨å¯¼è§ä¸‹æ–‡è¯´æ˜\t\t\t\twhile(x%i==0) x/=i;\t\t\t}\t\t}\t\tif(x&gt;1) res = res/x*(x-1);\t\treturn res;\t}\t\t\tpublic static long phii(long x) {\t\tlong res =x;\t\tfor(long i = 2;i&lt;=Math.sqrt(x);++i) {\t\t\tif(x%i==0) {\t\t\t\tres=res/i*(i-1);\t\t\t\twhile(x%i==0)x/=i;\t\t\t}\t\t\t\t\t}\t\tif(x&gt;1)res=res/x*(x-1);\t\treturn res;\t}}\n\n\n\næ¬§æ‹‰ä»£ç å…¬å¼æ¨å¯¼å·²çŸ¥æ¬§æ‹‰å‡½æ•°çš„è®¡ç®—å…¬å¼æ˜¯$Ï†(n) = n \\times \\left(1 - \\frac{1}{p_1}\\right) \\times \\left(1 - \\frac{1}{p_2}\\right) \\times \\ldots \\times \\left(1 - \\frac{1}{p_k}\\right)$\nå› ä¸ºä»£ç ä½¿ç”¨çš„è¿­ä»£æ³•ä¸€ç›´å¾ªç¯è¿›è¡Œç›¸ä¹˜ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨å…¬å¼ä¸­$n\\times (1-\\frac{1}{p_1})$éƒ¨åˆ†ä»£è¯´æ˜ã€‚\nä»£ç ä¸­resç›¸å½“äºn,iç›¸å½“äº$p_1$ï¼Œæ‰€ä»¥å¯å¾—$res \\times (1- \\frac{1}{i})$\nå³:\n$res \\times(1-\\frac{1}{i})$\n$=res\\times \\frac{1}{i}(i-1)$\n$=\\frac{res}{i}\\times(i-1)$\nå³ä»£ç éƒ¨åˆ†res=res/i*(i-1)\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["æ¬§æ‹‰å‡½æ•°"]},{"title":"æ±‚æœ€å°å…¬å€æ•°","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/qiu-zui-xiao-gong-bei-shu/","content":"æ±‚æœ€å°å…¬å€æ•°\nè¯´æ˜ï¼š\næ±‚æœ€å°å…¬å€æ•°å¯ä»¥åœ¨æ±‚æœ€å¤§å…¬å› æ•°çš„åŸºç¡€ä¸Šè¿›è¡Œï¼Œè¿™æ ·å°±å¯ä»¥æå¤§æé«˜æ•ˆç‡,è¿™é‡Œéœ€è¦æ˜ç™½ä¸€ä¸ªç‚¹ï¼š\n$$\\frac{a\\times b}{gcd(a,b)}$$\nä¸Šé¢å…¬å¼ä¸­gcdæŒ‡çš„æ˜¯æ±‚æœ€å¤§å…¬å› æ•°ï¼Œæ„æ€å°±æ˜¯è¯´aä¸bçš„æœ€å°å…¬å€æ•°å°±æ˜¯aå’Œbç›¸ä¹˜å†é™¤ä»¥ä»–ä»¬ä¸¤çš„æœ€å¤§å…¬å› æ•°ã€‚\n\nJavaæ¨¡æ¿ï¼š\n/** * @description: æ±‚æœ€å°å…¬å€æ•° * è¿™é‡Œçš„æœ€å°å…¬å€æ•°åšäº†æ¯”è¾ƒå¤§ä¼˜åŒ–(æ—¶é—´å¤æ‚åº¦å¤§å¤§é™ä½)ï¼Œæ˜¯é€šè¿‡æœ€å°å…¬å› æ•°æ¥æ±‚æœ€å°å…¬å€æ•° * @author é•¿ç™½å´ * @date 2023/4/5 21:00 * @version 1.0 */public class LCD {    public static void main(String[] args) {        //æµ‹è¯•å®ä¾‹        System.out.println(lcd(3,4));    }    /**     * æ±‚æœ€å°å…¬å€æ•°     * @param a æ•°å­—1     * @param b æ•°å­—2     * @return è¿”å›æœ€å°å…¬å€æ•°     */    public static int lcm(int a, int b){        return a/gcd(a,b)*b; //è¿™é‡Œå…ˆé™¤æ³•å†ä¹˜æ³•ï¼Œé¿å…æº¢å‡º    }    /**     * è®¡ç®—æœ€å¤§å…¬å› æ•°     * @param a æ•°å­—1     * @param b æ•°å­—2     * @return è¿”å›æœ€å¤§å…¬å› æ•°     */    public static int gcd(int a,int b){        return b==0?a:gcd(b,a%b);    }}\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["æ•°è®º"]},{"title":"æ±‚é˜¶ä¹˜çš„çº¦æ•°","url":"/2023/05/26/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/qiu-jie-cheng-de-yue-shu/","content":"æ±‚é˜¶ä¹˜çš„çº¦æ•°\nè¯´æ˜ï¼š\nç”¨äºæ±‚é˜¶ä¹˜æœ‰å¤šå°‘ä¸ªçº¦æ•°~\n\nJavaä»£ç ï¼šimport java.util.Scanner;/** * @description: æ±‚é˜¶ä¹˜çº¦æ•° * è¿™ä¸ªç®—æ³•çš„æ¨¡æ¿çš„ä¸»è¦ä½œç”¨æ˜¯ç”¨äºæ±‚æŒ‡å®šé˜¶ä¹˜æœ‰å¤šå°‘ä¸ªçº¦æ•°ï¼Œå…¶å®è¿™é‡Œæ˜¯å¥—ç”¨äº†èƒ½åˆ†è§£æˆå¤šå°‘ä¸ªè´¨æ•°çš„æ¨¡æ¿ã€‚ã€‚ã€‚ * @author é•¿ç™½å´ * @date 2023/5/26 16:39 * @version 1.0 */public class é˜¶ä¹˜çº¦æ•° {    public static void main(String[] args) {        //ä¸€ä¸‹ä¸ºæµ‹è¯•æ¡ä¾‹        Scanner sc  = new Scanner(System.in);        //è¾“å…¥éœ€è¦æµ‹è¯•çš„çš„é˜¶ä¹˜æ•°å­—        int num = sc.nextInt();        System.out.println(slove(num));    }    //è¿™ä¸ªä¹Ÿæ˜¯ç®—æ³•çš„ä¸€éƒ¨åˆ†    public  static  long slove(int num){        //è¿™é‡Œç”¨æˆ‘ä»¬å°†ä¼ è¿‡æ¥çš„æ•°å­—ä½œä¸ºæˆ‘ä»¬éœ€è¦å¼€çš„æ•°ç»„å¤§å°ï¼Œå…¶å®è¿™é‡Œçš„æ•°ç»„å¼€çš„å¤§å°å°±æ˜¯æˆ‘ä»¬éœ€è¦é˜¶ä¹˜çš„å¯¹åº”çš„æ•°å­—çš„        int data[] = new int[num+1];        //è¿™ä¸€æ­¥çš„ä½œç”¨ç”¨äºå°†1~numæ‰€æœ‰éœ€è¦é˜¶ä¹˜çš„æ•°å­—çš„æ•°å­—è¿›è¡Œ        for(int i = 1 ; i &lt;=num ; ++i){            slove2(i,data);        }        long ans =1;        for(int i =1 ; i &lt;=num ; ++i){            if(data[i]==0) //è¿™é‡Œè¿‡æ»¤æ‰ç›¸åº”ä¹˜æ•°ä¸èƒ½çº¦çš„æ•°ï¼ˆä¹Ÿå°±æ˜¯èƒ½ çº¦çš„æ•°å­—çš„æ•°é‡ä¸º0çš„æ•°ï¼‰                continue;            ans*=(data[i]+1); //è¿™é‡Œä¸€å®šè¦æ³¨æ„+1        }        return ans;    }    //è¿™ä¸ªæ˜¯ä¸»è¦çš„æ±‚å½“å‰é˜¶ä¹˜çš„æ•°å­—èƒ½åˆ†è§£å‡ºå¤šå°‘ä¸ªæ•°å­—    public static void slove2(int num,int data[]){        //è¿™é‡Œçš„å¾ªç¯ç”¨äºæ±‚æ˜¯å¦æ˜¯è´¨æ•°çš„é‚£ä¸ªæ¨¡æ¿ï¼Œè¯¦ç»†å¯ä»¥çœ‹çœ‹åˆ¤æ–­æ˜¯å¦æ˜¯è´¨æ•°çš„æ¨¡æ¿        for(int i= 2 ; i &lt;=Math.sqrt(num) ; ++i){            //è¿™é‡Œæ˜¯åˆ¤æ–­æ˜¯å¦ä¸ä¸ºè´¨æ•°ï¼Œå¦‚æœä¸æ˜¯è´¨æ•°é‚£ä¹ˆå°±è¿›è¡Œåˆ†è§£            if(num%i==0){                while(num%i==0){                    num/=i;                    ++data[i]; //è¿™ä¸€æ­¥çš„ä½œç”¨å°±æ˜¯ç”¨äºç»Ÿè®¡èƒ½åˆ†è§£æˆå¤šå°‘ä¸ªæ•°                }            }        }        //è¿™é‡Œåˆ¤æ–­æœ€ååˆ†è§£å®Œä¹‹åæœ€å¥½åˆ†è§£å‰©ä¸‹çš„æ˜¯å¦è¿˜èƒ½å‡‘æˆä¸€ä¸ªè´¨æ•°ï¼Œå¦‚æœèƒ½é‚£ä¹ˆä¹Ÿèƒ½ç®—ä½œå¯çº¦æ•°å­—        if(num&gt;1){            ++data[num];        }    }}\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["æ•°è®º"]},{"title":"ç›´çº¿ç›¸å…³","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/zhi-xian/","content":"ç›´çº¿ç›¸å…³\nè¯´æ˜ï¼š\nç›´çº¿çš„ä¸€èˆ¬å¼æ˜¯ï¼š\n$$Ax+By+C=0$$(Aã€Bä¸åŒæ—¶ä¸º0ã€é€‚ç”¨äºæ‰€æœ‰ç›´çº¿ã€‘)\nå¦‚æœä¸¤ç›´çº¿å¹³è¡Œï¼š\n$$\\frac{A_1}{A_2}=\\frac{B_1}{B_2}\\not=\\frac{C_1}{C_2}\\leftrightarrowä¸¤ç›´çº¿å¹³è¡Œ$$\n$$\\frac{A_1}{A_2}=\\frac{B_1}{B_2}=\\frac{C_1}{C_2}\\leftrightarrowä¸¤ç›´çº¿é‡åˆ$$\næ¨ªæˆªè·$$a=-\\frac{C}{A}$$\nçºµæˆªè·$$b=-\\frac{C}{B}$$\n2ï¼šç‚¹æ–œå¼:$$y-y_0=k(x-x_0) $$ã€é€‚ç”¨äºä¸å‚ç›´äºxè½´çš„ç›´çº¿ã€‘\nè¡¨ç¤ºæ–œç‡ä¸ºkï¼Œä¸”è¿‡$$ï¼ˆx_0,y_0ï¼‰$$çš„ç›´çº¿\n3ï¼šæˆªè·å¼:$$\\frac{x}{a}+\\frac{y}{b}=1$$ã€é€‚ç”¨äºä¸è¿‡åŸç‚¹æˆ–ä¸å‚ç›´äºxè½´ã€yè½´çš„ç›´çº¿ã€‘\nè¡¨ç¤ºä¸xè½´ã€yè½´ç›¸äº¤ï¼Œä¸”xè½´æˆªè·ä¸ºaï¼Œyè½´æˆªè·ä¸ºbçš„ç›´çº¿\n4ï¼šæ–œæˆªå¼:$$y=kx+b$$ã€é€‚ç”¨äºä¸å‚ç›´äºxè½´çš„ç›´çº¿ã€‘\nè¡¨ç¤ºæ–œç‡ä¸ºkä¸”yè½´æˆªè·ä¸ºbçš„ç›´çº¿\n5ï¼šä¸¤ç‚¹å¼:ã€é€‚ç”¨äºä¸å‚ç›´äºxè½´ã€yè½´çš„ç›´çº¿ã€‘\nè¡¨ç¤ºè¿‡$$ï¼ˆx_1,y_1ï¼‰$$å’Œ$$(x_2,y_2)$$çš„ç›´çº¿ã€€\n$$\\frac{(y-y_1)}{(y_2-y_1)}=\\frac{(x-x_1)}{(x_2-x_1)} (x_1\\not=x_2ï¼Œy_1\\not=y_2)$$\n6ï¼šäº¤ç‚¹å¼:$$f_1(x,y)\\times m+f_2(x,y)=0$$ ã€é€‚ç”¨äºä»»ä½•ç›´çº¿ã€‘\nè¡¨ç¤ºè¿‡ç›´çº¿$$f_1(x,y)=0$$ä¸ç›´çº¿$$f_2(x,y)=0$$çš„äº¤ç‚¹çš„ç›´çº¿\n7ï¼šç‚¹å¹³å¼:$$f(x,y) -f(x_0,y_0)=0$$ã€é€‚ç”¨äºä»»ä½•ç›´çº¿ã€‘\nè¡¨ç¤ºè¿‡ç‚¹$$ï¼ˆx_0,y_0ï¼‰$$ä¸”ä¸ç›´çº¿$$fï¼ˆx,yï¼‰=0$$å¹³è¡Œçš„ç›´çº¿\n8ï¼šæ³•çº¿å¼ï¼š$$xÂ·cosÎ±+ysinÎ±-p=0$$ã€é€‚ç”¨äºä¸å¹³è¡Œäºåæ ‡è½´çš„ç›´çº¿ã€‘\nè¿‡åŸç‚¹å‘ç›´çº¿åšä¸€æ¡çš„å‚çº¿æ®µï¼Œè¯¥å‚çº¿æ®µæ‰€åœ¨ç›´çº¿çš„å€¾æ–œè§’ä¸ºÎ±ï¼Œpæ˜¯è¯¥çº¿æ®µçš„é•¿åº¦\n9ï¼šç‚¹å‘å¼ï¼š$$\\frac{(x-x0)}{u}=\\frac{(y-y0)}{v} (uâ‰ 0,vâ‰ 0)$$ã€é€‚ç”¨äºä»»ä½•ç›´çº¿ã€‘\nè¡¨ç¤ºè¿‡ç‚¹$$(x_0,y_0)$$ä¸”æ–¹å‘å‘é‡ä¸º$$ï¼ˆu,v ï¼‰$$çš„ç›´çº¿\n10ï¼šæ³•å‘å¼ï¼š$$aï¼ˆx-x_0ï¼‰+bï¼ˆy-y_0ï¼‰=0$$ã€é€‚ç”¨äºä»»ä½•ç›´çº¿ã€‘\nè¡¨ç¤ºè¿‡ç‚¹$$ï¼ˆx_0ï¼Œy_0ï¼‰$$ä¸”ä¸å‘é‡$$ï¼ˆaï¼Œbï¼‰$$å‚ç›´çš„ç›´çº¿ã€‚\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["æ•°è®º"]},{"title":"çº¦æ•°","url":"/2024/04/08/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/yue-shu/","content":"çº¦æ•°è¯•é™¤æ³•æ‰¾çº¦æ•°\nè¯´æ˜ï¼š\n\nJavaä»£ç æ¨¡æ¿ï¼ˆç»Ÿè®¡æœ‰å¤šå°‘ä¸ªçº¦æ•°ï¼‰ï¼šstatic long solve(int a) {\t\tlong ans = 0;\t\tfor(int i = 1;i&lt;=Math.sqrt(a);++i) {\t\t\tif(a%i==0) {\t\t\t\t++ans;\t\t\t\tif(a/i!=i) ++ans;\t\t\t}\t\t}\t\treturn ans;}\n\nJavaä»£ç æ¨¡æ¿ï¼ˆç»Ÿè®¡è´¨çº¦æ•°çš„ä¸ªæ•°ï¼‰ï¼šimport java.util.Scanner;/** * https://www.acwing.com/problem/content/4661/ * @author é•¿ç™½å´ * @class[\"è´¨å› æ•°\", \"æ•°è®º\"] * */public class Main {    public static void main(String[] args) {        // TODO Auto-generated method stub        Scanner sc = new Scanner(System.in);        long n = sc.nextLong();        System.out.println(solve(n));    }    static long solve(long n) {        long ans = 0;        for(long i=2;i&lt;=Math.sqrt(n);++i) {            if(n%i==0) {                ++ans;                while(n%i==0) {                    n/=i;                }            }        }        if(n&gt;1) ++ans;        return ans;    }}\n\n\n\n\n\næœ€å¤§å…¬çº¦æ•°\nè¯´æ˜ï¼š\nè®¡ç®—æœ€å¤§å…¬çº¦æ•°,è¿™é‡Œåªå±•ç¤ºé€šè¿‡é€’å½’å®ç°ã€‚\nå…¶æ–¹æ³•ä½¿ç”¨çš„æ˜¯æ•°å­¦ä¸Šçš„==è¾—è½¬ç›¸é™¤æ³•==\ngcdç›¸å…³çš„æ¦‚å¿µè¿˜æœ‰è£´èœ€å®šç† ï¼Œå³ä»»æ„ä¸¤ä¸ªæ•°çš„ç»„åˆå¿…å®šæ˜¯ä»–ä»¬gcdçš„å€æ•°ã€‚åŒæ ·å¯ä»¥æ¨å¹¿åˆ°æ›´å¤šæ•°ï¼šå¦‚æœè¿™äº›æ•°çš„gcdæ˜¯dï¼Œé‚£ä¹ˆä»–ä»¬çš„ç»„åˆæ˜¯dçš„å€æ•°ï¼Œå¦‚æœdä¸æ˜¯1ï¼Œé‚£ä¹ˆå¿…ç„¶æœ‰æ— é™ä¸ªæ•°æ— æ³•è¢«ç»„åˆå‡ºæ¥ã€‚\n\nJavaä»£ç æ¨¡æ¿ï¼š\nimport java.math.BigInteger;/** * @description: æ±‚æœ€å¤§å…¬çº¦æ•° * @author é•¿ç™½å´ * @date 2023/3/30 12:33 * @version 1.0 */public class GCD {    public static void main(String[] args) {        //æµ‹è¯•é›†        System.out.println(gcd(24,60));        System.out.println(gcdFun(24,60));    }    /**     * è®¡ç®—æœ€å¤§å…¬çº¦æ•°æ–¹å¼1     * @param a æ•°å­—1     * @param b æ•°å­—2     * @return è¿”å›æœ€å¤§å…¬çº¦æ•°     */    public static  int gcd(int a, int b){ return (b==0) ? a : gcd(b, a%b); }    /**     * Javaç‰¹æœ‰çš„ä¸€ç§æœ€å¤§å…¬çº¦æ•°è®¡ç®—æ–¹å¼     * @param a æ•°å­—1     * @param b æ•°å­—2     * @return è¿”å›æœ€å¤§å…¬çº¦æ•°     */    public static  int gcdFun(int a,int b){        BigInteger a1 = BigInteger.valueOf(a);        BigInteger a2 = BigInteger.valueOf(b);        return  Integer.parseInt(a1.gcd(a2).toString());    }}\nC++ä»£ç æ¨¡æ¿ï¼šint gcd(int a,int b){    return b?a:gcd(b,a%b);}\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["æ•°è®º"]},{"title":"è´¨æ•°ç­›é€‰","url":"/2024/03/24/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/zhi-shu-shai-xuan/","content":"å¸¸è§æ–¹æ³•æœ‰ï¼š\nè¯•é™¤æ³•ï¼š\næœ´ç´ ç­›æ³•$O(nlogn)$ï¼š\nåŸƒæ°ç­›æ³•$O(nloglogn)$ï¼š\nçº¿æ€§ç­›æ³•$O(n)$ï¼š\n\nJavaä»£ç æ¨¡æ¿(æœ´ç´ ç­›æ—¶é—´å¤æ‚åº¦$O(nlogn)$import java.util.Scanner;public class Main {\t\t\t\tpublic static void main(String[] args) {\t\t// TODO Auto-generated method stub\t\tScanner sc = new Scanner(System.in);\t\tint n = sc.nextInt();\t\t\t\tSystem.out.println(primes(n));\t}\t    /**     * æœ´ç´ ç­›æ³•     */\tstatic int primes(int n) {\t\tboolean st[] =  new boolean[n+1]; //ç”¨äºæ ‡è®°æ˜¯å¦ä¸ä¸ºè´¨æ•°çš„æ•°å­—\t\tint prime[] = new int[n+1]; //ç”¨äºè®°å½•å½“è´¨æ•°ä¸€å…±æœ‰prime[i]ä¸ªçš„æ—¶å€™æ•°å­—ä¸ºå¤šå°‘\t\tint ans =0; //è®°å½•ä¸€å…±æœ‰å¤šå°‘è´¨æ•°\t\tfor(int i=2;i&lt;=n;++i) {\t\t\tif(!st[i]) prime[ans++] = i;\t\t\tfor(int j  = i*2;j&lt;=n;j+=i) {\t\t\t\tst[j] = true;\t\t\t}\t\t}\t\treturn ans;\t}\t\t}\n\n\n\n\n\nJavadä»£ç æ¨¡æ¿(åŸƒæ°ç­›æ³•æ—¶é—´å¤æ‚åº¦$O(nloglogn)$ï¼Œå‡ ä¹ä¸$O(n)æŒå¹³$)import java.util.Scanner;public class Main {\t\t\t\tpublic static void main(String[] args) {\t\t// TODO Auto-generated method stub\t\tScanner sc = new Scanner(System.in);\t\tint n = sc.nextInt();\t\t\t\tSystem.out.println(primes(n));\t}\t\t/**\t * åŸƒæ°ç­›\t * @param n\t * @return\t */\tstatic int primes(int n) {\t\tboolean st[] = new boolean[n+1];\t\tint prime[] = new int[n+1];\t\tint ans =0;\t\tfor(int i=2;i&lt;=n;++i) {\t\t\tif(!st[i]) {\t\t\t\tprime[ans++] = i;\t\t\t\tfor(int j = 2*i;j &lt;=n;j+=i) {\t\t\t\t\tst[j] = true;\t\t\t\t}\t\t\t}\t\t}\t\treturn ans;\t}}\n\n\n\nJavaä»£ç æ¨¡æ¿(çº¿æ€§ç­›æ³•æ—¶é—´å¤æ‚åº¦$O(n)$)import java.util.Scanner;public class Main {\t\t\tpublic static void main(String[] args) {\t\t// TODO Auto-generated method stub\t\tScanner sc = new Scanner(System.in);\t\tint n = sc.nextInt();\t\t\t\tSystem.out.println(primes(n));\t}\t\t\t/**\t * çº¿æ€§ç­›\t * @param n\t * @return\t */\tstatic int primes(int n) {\t\tboolean st[] = new boolean[n+1]; //æ ‡è®°æ•°å­—æ˜¯å¦ä¸ºè´¨æ•°çš„å€æ•°\t\tint prime[] = new int[n+1]; //ç”¨äºå­˜å‚¨ä¸€å…±prime[i]ä¸ªè´¨æ•°æ—¶å€™æ˜¯æ•°å­—å‡ \t\t\t\tint ans =0;\t\tfor(int i= 2;i&lt;=n;++i) {\t\t\tif(!st[i]) prime[ans++] = i;\t\t\tfor(int j =0;prime[j]&lt;=n/i;++j) {\t\t\t\tst[prime[j]*i] = true;\t\t\t\tif(i%prime[j]==0) break;\t\t\t}\t\t}\t\treturn ans;\t}}\n\næ³¨æ„ç‚¹ï¼š\nprime[cnt++]=i;è¿™è¡Œä»£ç çš„æ„æ€æ˜¯ï¼šå¦‚æœå‘ç°iæ˜¯ç´ æ•°ï¼Œé‚£ä¹ˆå°±æŠŠå®ƒæ”¾è¿›primeæ•°ç»„é‡Œï¼ŒåŒæ—¶æŠŠè®¡æ•°å™¨åŠ ä¸€ã€‚prime[j]&lt;=n/i;å’Œä¹‹å‰çš„ç”¨æ³•ä¸€æ ·ï¼Œå¦‚æœpjä¹˜ä»¥içš„å€¼å¤§äºnä¹Ÿæ²¡æœ‰æ„ä¹‰äº†ã€‚å†…å±‚forå¾ªç¯è¦åšä¸¤ä»¶äº‹æƒ…ï¼Œåˆ†ä¸ºä¸¤ä¸ªæ¡ä»¶åˆ¤æ–­ï¼š1.å¦‚æœié™¤ä»¥prime[j]ï¼ˆç®€ç§°pjï¼‰ä¸ç­‰äº0ï¼Œè¯´æ˜pjä¸æ˜¯içš„æœ€å°è´¨å› å­ï¼Œå¹¶ä¸”å¯ä»¥è¯´æ˜pjæ¯”içš„æœ€å°è´¨å› å­å°ã€‚è¿™æ ·ï¼Œpjiçš„æœ€å°å€¼å› å­å°±ä¸€å®šæ˜¯pjï¼Œæˆ‘ä»¬ä¸ç®¡ä¸‰ä¸ƒäºŒåä¸€ï¼Œå…ˆæŠŠpjiè¿™ä¸ªæ•°ç­›æ‰ã€‚2.å¦‚æœié™¤ä»¥pjç­‰äº0ï¼Œè¯´æ˜pjæ˜¯içš„æœ€å°è´¨å› å­ï¼Œè€Œæˆ‘ä»¬å¦‚æœç»§ç»­æŠŠj++çš„è¯ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªpjå°±ä¸€å®šä¸æ˜¯å½“å‰içš„æœ€å°è´¨å› å­äº†ï¼Œä¸ºäº†é¿å…åé¢é‡å¤è®¡ç®—é€ æˆé”™è¯¯ï¼Œæ‰€ä»¥è¿™é‡Œè¦breakã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œæ— è®ºpjèƒ½å¦æ•´é™¤iï¼Œpj*iä¸€å®šæ˜¯åˆæ•°ï¼Œä¸€å®šè¦ç­›æ‰ã€‚\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["è´¨æ•°ç­›é€‰"]},{"title":"é€†å…ƒ","url":"/2024/03/23/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/ni-yuan/","content":"é€†å…ƒ\nâ‰¡ç¬¦å·çš„æ„æ€\nåœ¨æ•°å­¦ä¸­ï¼Œç¬¦å·â‰¡è¡¨ç¤ºæ¨¡åŒä½™çš„å…³ç³»ã€‚å½“æˆ‘ä»¬å†™$a \\equiv b \\pmod{m}$æ—¶ï¼Œæ„æ€æ˜¯aä¸båœ¨æ¨¡mä¸‹åŒä½™ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬é™¤ä»¥måå¾—åˆ°ç›¸åŒçš„ä½™æ•°ã€‚æ¢å¥è¯è¯´ï¼Œaå’Œbçš„å·®æ˜¯mçš„å€æ•°ã€‚ä¾‹å¦‚ï¼Œ$17 \\equiv 3 \\pmod{7}$è¡¨ç¤º17å’Œ3åœ¨æ¨¡7ä¸‹åŒä½™ï¼Œå› ä¸ºå®ƒä»¬ç›¸å‡å¾—åˆ°çš„ç»“æœæ˜¯7çš„å€æ•°ï¼Œå³$17 - 3 = 14 = 2 \\times 7$ã€‚\n\né€†å…ƒçš„æœ¬è´¨ï¼š\né€†å…ƒçš„å®šä¹‰ï¼š å‡è®¾ a é™¤bï¼Œä¸”aå’Œbéƒ½æ˜¯æ•´æ•°ï¼Œéæµ®ç‚¹æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¸Œæœ›ä¸åšé™¤æ³•ï¼Œå› ä¸ºå–ä½™æ•°çš„è¯é™¤æ³•å¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘ä»¬å¸Œæœ›æŠŠé™¤æ³•å˜æˆä¹˜æ³•ï¼Œå¸Œæœ›æ‰¾åˆ°ä¸€ä¸ªæ•°ï¼Œä½¿å¾—a/bçš„ä½™æ•° == ax%mã€‚ å³å¯¹äºæŸä¸€ä¸ªbï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ‰¾åˆ°ä¸€ä¸ªæ•°xï¼Œä½¿å¾—a/bå’Œaxæ¨¡mçš„ä½™æ•°ç›¸åŒçš„è¯ï¼Œ åˆ™æŠŠxè®°ä½œbçš„æ¨¡mçš„é€†å…ƒï¼Œè®°ä½œbçš„-1æ¬¡æ–¹ï¼› å³bçš„é€†å…ƒï¼Œ bçš„-1æ¬¡æ–¹ï¼Œæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œæ˜¯ä¸€ä¸ªæ ‡è®°ã€‚å³æˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰a/bçš„æƒ…å†µè½¬åŒ–ä¸ºa*bçš„é€†å…ƒçš„æƒ…å†µä¸‹ % Mï¼›å³æŠŠé™¤æ³•å˜æˆäº†æ•´æ•°ã€‚\n\n\nC++æ¨¡æ¿ï¼š#include &lt;iostream&gt;#include &lt;cstring&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;int quick_power(int a, int b, int p){    int res = 1;    while (b)    {        if (b&amp;1) res = (LL)res * a % p;        a = (LL)a*a % p;        b &gt;&gt;= 1;    }    return res % p;}int main(){    int n;    cin &gt;&gt; n;        while (n -- )    {        int a, p;        cin &gt;&gt; a &gt;&gt; p;                int x = quick_power(a, p-2, p); //ç›´æ¥æ±‚å‡ºé€†å…ƒçš„å€¼ï¼        if (a%p) cout &lt;&lt; x &lt;&lt; endl;        else puts(\"impossible\");    }    return 0;}\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["é€†å…ƒ"]},{"title":"é“¾å¼å‘å‰æ˜Ÿ","url":"/2023/11/05/learnnote/shu-ju-jie-gou-yu-suan-fa/suan-fa-mo-ban/lian-shi-xiang-qian-xing/","content":"é“¾å¼å‘å‰æ˜Ÿ\nè¯´æ˜ï¼š\nå¦‚æœè¯´é‚»æ¥è¡¨æ˜¯ä¸å¥½å†™ä½†æ•ˆç‡å¥½ï¼Œé‚»æ¥çŸ©é˜µæ˜¯å¥½å†™ä½†æ•ˆç‡ä½çš„è¯ï¼Œå‰å‘æ˜Ÿå°±æ˜¯ä¸€ä¸ªç›¸å¯¹ä¸­åº¸çš„æ•°æ®ç»“æ„ã€‚å‰å‘æ˜Ÿå›ºç„¶å¥½å†™ï¼Œä½†æ•ˆç‡å¹¶ä¸é«˜ã€‚è€Œåœ¨ä¼˜åŒ–ä¸ºé“¾å¼å‰å‘æ˜Ÿåï¼Œæ•ˆç‡ä¹Ÿå¾—åˆ°äº†è¾ƒå¤§çš„æå‡ã€‚è™½ç„¶è¯´ï¼Œä¸–ç•Œä¸Šå¯¹é“¾å¼å‰å‘æ˜Ÿçš„ä½¿ç”¨å¹¶ä¸æ˜¯å¾ˆå¹¿æ³›ï¼Œä½†åœ¨ä¸æ„¿æ„å†™å¤æ‚çš„é‚»æ¥è¡¨çš„æƒ…å†µä¸‹ï¼Œé“¾å¼å‰å‘æ˜Ÿä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆä¼˜ç§€çš„æ•°æ®ç»“æ„ã€‚ \næˆ‘ä»¬å…ˆå±•ç¤ºä»£ç å†åšå…·ä½“è®²è§£ï¼Œé“¾å¼å‘å‰æ˜Ÿçš„ç»“æ„æ¨¡æ¿ä»£ç å¦‚ä¸‹ï¼š\nstruct Edge{    //è¡¨ç¤ºè¾¹    int w;int to;    int next;}edge[10005];  int cnt=0;      //ç”¨ä»¥æ§åˆ¶å¹¶ç»Ÿè®¡è¾¹çš„æ•°é‡  int head[10005];    //è¡¨ç¤ºæ¥æºçš„è¾¹åºå·\n\nå…·ä½“çš„è§£é‡Šä¸ºï¼š\n\nEdgeè¡¨ç¤ºè¾¹ï¼Œè¿™ä¸ªç»“æ„ä½“æ•°ç»„å°†é€æ­¥è®°å½•è¾¹ä¿¡æ¯ï¼Œå…¶ä¸­åŒ…å«æœ‰ä¸‰ä¸ªå…ƒç´ \n\nwä¸ºæƒé‡å³è¾¹ä¹‹é—´çš„æƒå€¼ï¼Œä¸‹å›¾ä¸­ä¸ºé»˜è®¤çš„1ï¼Œä¸æ¼”ç¤º\n\ntoè¡¨ç¤ºä¸ºç¬¬iæ¡è¾¹æŒ‡å‘å“ªä¸€ä¸ªç»“ç‚¹\n\nedge[i].nextè¡¨ç¤ºç¬¬iæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„åºå·\n\ncntè¡¨ç¤ºè¾¹çš„æ•°é‡ï¼Œåœ¨è¾“å…¥æ—¶åˆ©ç”¨ä»–é€ä¸ª+1\n\nheadè¡¨ç¤ºç¬¬xä¸ªç»“ç‚¹æ‰€éœ€è¦è®¿é—®çš„è¾¹\n\n\nåŒæ ·çš„æˆ‘ä»¬ä»¥è¿™ä¸ªç»“æ„çš„å›¾ä¸ºä¾‹ï¼Œé“¾å¼å‘å‰æ˜Ÿä¸­éœ€è¦å­˜å‚¨å¦‚ä¸‹å†…å®¹ï¼š\n\nä¸Šå›¾å¯ä»¥å¾—åˆ°ä¸€ä¸ªè¿™æ ·çš„è¿ç®—è¡¨æ ¼ï¼ˆä¸å”¯ä¸€ï¼‰\n\n\n\nEdge[0].to\n2\nEdge[0].next\n-1\nHead[1]\n0\n\n\n\nEdge[1].to\n3\nEdge[1].next\n0\nHead[1]\n1\n\n\nEdge[2].to\n4\nEdge[2].next\n-1\nHead[2]\n2\n\n\nEdge[3].to\n5\nEdge[3].next\n2\nHead[2]\n3\n\n\nEdge[4].to\n4\nEdge[4].next\n-1\nHead[3]\n4\n\n\nEdge[5].to\n5\nEdge[5].next\n-1\nHead[4]\n5\n\n\nå¯ä»¥è§çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬è®¿é—®ä¸1ç›¸äº’è”é€šçš„æ‰€æœ‰ç»“ç‚¹ï¼Œæˆ‘ä»¬é¦–å…ˆè®¿é—®head[1]çš„å†…å®¹ï¼Œheadçš„ä¸‹æ ‡è¡¨ç¤º1ç»“ç‚¹ï¼Œå…¶å†…å®¹è¡¨ç¤ºæˆ‘ä»¬åº”è¯¥è®¿é—®è¾¹çš„æ ‡å·ï¼Œæ­¤æ—¶æˆ‘ä»¬å¾—åˆ°äº†æ•°æ®1ï¼Œè¡¨æ˜æˆ‘ä»¬éœ€è¦è®¿é—®è¾¹1ï¼Œæ­¤æ—¶æˆ‘ä»¬æ‰¾åˆ°edge[1]å¹¶è·å–ç¬¬ä¸€ä¸ªtoçš„å†…å®¹ï¼Œè¡¨ç¤º1ç»“ç‚¹ä¸3ç»“ç‚¹ç›¸è¿é€šï¼Œæ¥ä¸‹æ¥è®¿é—®nextçš„å†…å®¹ï¼Œåœ¨edge[1].nextä¸­è·å¾—äº†ä¸‹ä¸€æ¡è¾¹çš„æ ‡å·0ï¼Œå› æ­¤æ¥ä¸‹æ¥è®¿é—®edge[0]çš„å†…å®¹ï¼Œå¾—åˆ°äº†æ–°å¾—ä¿¡æ¯ï¼Œedge[0].to=2ï¼Œè¡¨ç¤º1ç»“ç‚¹ä¸2ç»“ç‚¹ç›¸äº’è”é€šï¼Œåœ¨è®¿é—®nextçš„å†…å®¹ä¸º-1æ—¶è¡¨ç¤ºæ²¡æœ‰ä¸‹ä¸€æ¡äº†ï¼Œç»“æŸå‘ä¸‹è®¿é—®ï¼Œè‡ªæ­¤ï¼Œæˆ‘ä»¬è·å¾—äº†ä¸1ç›¸äº’è”é€šçš„æ‰€æœ‰ç»“ç‚¹çš„ä¿¡æ¯ã€‚\nå› æ­¤å¯ä»¥å¾—åˆ°å¦‚ä¸‹çš„ä¿¡æ¯è¡¨ï¼š\n\n\n\nç»“ç‚¹1\n-1\n2\n3\n\n\n\nç»“ç‚¹2\n1\n4\n5\n\n\nç»“ç‚¹3\n-1\n4\n\n\n\nç»“ç‚¹4\n-1\n5\n\n\n\nç»“ç‚¹5\n-1\n\n\n\n\næ·»åŠ è¾¹ä¿¡æ¯æ—¶ä½¿ç”¨ä»¥ä¸‹ä»£ç :\nvoid add_edge(int from, int to, int w) {    edge[cnt].to = to;    edge[cnt].w = w;    edge[cnt].next = head[from];    head[from] = cnt++;}\n\næ³¨æ„ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å…¨ä½“æ•°ç»„è¿›è¡Œèµ‹-1çš„åˆå€¼ï¼Œè¿™å¯¹äºå‡ºé”™å’Œæ£€éªŒé”™è¯¯éƒ½æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ï¼Œå› ä¸º-1æ­£æ˜¯æœ¬ç®—æ³•çš„åˆ¤å®šè¾¹ç•Œç‚¹ï¼Œå½“ç„¶ï¼Œè¿™ä¸ªè¾¹ç•Œç‚¹ä¹Ÿå¯ä»¥ç”±è‡ªå·±å®šä½ä»»æ„ä¸€ä¸ªè´Ÿæ•°ã€‚\n\n\nC++æ¨¡æ¿ï¼š#include&lt;iostream&gt;#define MAX 5using namespace std;int n,m,cnt;//ç‚¹æ•°é‡ï¼Œè¾¹æ•°é‡ï¼Œcntstruct Edge{    int to;    int w;    int next;} edge[MAX];int head[MAX];/** * åˆå§‹åŒ– */void init(){    for(int i =0;i&lt;=n;++i) head[i]=-1;    cnt=0;}/** * æ·»åŠ è¾¹ * @param u è¾¹èµ·ç‚¹ * @param v è¾¹ç»ˆç‚¹ * @param w è¾¹æƒå€¼ */void add_Edge(int u,int v,int w){    edge[cnt].to=v; //è®¾ç½®ç»ˆç‚¹å€¼    edge[cnt].w=w; //è®¾ç½®æƒå€¼    edge[cnt].next=head[u]; //è®¾ç½®ä»¥uä¸ºèµ·ç‚¹çš„ä¸Šä¸€æ¡è¾¹çš„ç¼–å·    head[u]=cnt++; //æ›´æ–°ä»¥uä¸ºèµ·ç‚¹çš„ä¸Šä¸€æ¡è¾¹çš„ç¼–å·}int main(){    setbuf(stdout,0);    cin &gt;&gt;n&gt;&gt;m;//nä¸ªç‚¹ï¼Œmæ¡è¾¹    init(); //åˆå§‹åŒ–    int u,v,w;    for(int i =0 ;i &lt;m;++i){//è¾“å…¥mæ¡è¾¹        cin &gt;&gt; u&gt;&gt;v&gt;&gt;w;        add_Edge(u,v,w);    }    for(int i=1;i&lt;=n;++i){//nä¸ªèµ·ç‚¹        cout&lt;&lt;\"ä»¥\"&lt;&lt;i&lt;&lt;\"ä¸ºèµ·ç‚¹çš„è¾¹:\"&lt;&lt;endl;        for(int j = head[i]; j!=-1;j=edge[j].next){            cout&lt;&lt;i&lt;&lt;\"--&gt;\"&lt;&lt;edge[j].to&lt;&lt;endl;        }        cout &lt;&lt;endl;    }    return 0;}\n\n\n\nJavaæ¨¡æ¿ï¼šimport java.util.Arrays;import java.util.Scanner;public class é“¾å¼å‘å‰æ˜Ÿ {\tpublic static void main(String[] args) {\t\tScanner sc = new Scanner(System.in);\t\tint n = sc.nextInt(); //æœ‰å¤šå°‘ä¸ªç‚¹\t\tint m = sc.nextInt(); //æœ‰å¤šå°‘æ¡è¾¹\t\t\t\tEdge[] edge = new Edge[m]; //å­˜å‚¨è¾¹\t\tint head[] = new int[n+1]; //ä»¥iä¸ºå¼€å¤´çš„æœ€è¿‘å¡«åŠ çš„è¾¹çš„ç¼–å·\t\tArrays.fill(head, -1);//åˆå§‹åŒ–ï¼Œ-1ä»£è¡¨æ²¡æœ‰\t\t\t\tfor(int i=0 ;i&lt; m;++i) {\t\t\tint u = sc.nextInt();\t\t\tint v = sc.nextInt();\t\t\tint w = sc.nextInt();\t\t\taddEdge(edge, head, i, u, v, w);\t\t}\t\t\t\tfor(int i= 1; i&lt;= n;++i) {\t\t\tSystem.out.println(\"ä»¥\"+i+\"ä¸ºå¼€å¤´çš„è¾¹ï¼š\");\t\t\tfor(int j = head[i];j!=-1;j=edge[j].next) {\t\t\t\tSystem.out.println(i+\"--&gt;\"+edge[j].to);\t\t\t}\t\t}\t\t\t}\t\t/**\t * æ·»åŠ è¾¹\t * @param edge å­˜å‚¨è¾¹çš„æ•°ç»„\t * @param head å­˜å‚¨ä»¥iä¸ºèµ·ç‚¹ï¼Œå…¶å†…å®¹ä¸ºç»“æŸç‚¹çš„æœ€è¿‘ä¸€ä¸ªå½•å…¥è¾¹\t * @param ei è¾¹çš„ç¼–å·\t * @param u èµ·ç‚¹\t * @param v ç»ˆç‚¹\t * @param w æƒå€¼\t */\tstatic void addEdge(Edge[] edge,int head[],int ei,int u,int v,int w) {\t\tEdge e = new Edge();\t\te.to=v;e.w=w;e.next=head[u];head[u]=ei;\t\tedge[ei]=e;\t}\t\tstatic class Edge{\t\tint to;\t\tint w;\t\tint next;\t}}\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"tags":["é“¾å¼å‘å‰æ˜Ÿ"]},{"title":"è“æ¡¥ç›´é€šé¢˜å•","url":"/2023/05/19/learnnote/shu-ju-jie-gou-yu-suan-fa/lan-qiao-zhi-tong-ti-dan/lan-qiao-zhi-tong-ti-dan/","content":"è“æ¡¥ç›´é€šé¢˜å•\nè´ªå¿ƒ\n4168. ç§æ ‘ - AcWingé¢˜åº“\n[P1031 NOIP2002 æé«˜ç»„] å‡åˆ†çº¸ç‰Œ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n[P2512 HAOI2008] ç³–æœä¼ é€’ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n\nå‰ç¼€å’Œï¼š\n562. å£ç”» - AcWingé¢˜åº“\n1230. Kå€åŒºé—´ - AcWingé¢˜åº“\n1236. é€’å¢ä¸‰å…ƒç»„ - AcWingé¢˜åº“\n4405. ç»Ÿè®¡å­çŸ©é˜µ - AcWingé¢˜åº“\n\nå·®åˆ†\n4262. ç©ºè°ƒ - AcWingé¢˜åº“\n5396. æ£‹ç›˜ - AcWingé¢˜åº“\n4655. é‡æ–°æ’åº - AcWingé¢˜åº“\n\nåŒæŒ‡é’ˆ\n3745. ç‰›çš„å­¦æœ¯åœˆ I - AcWingé¢˜åº“\n1238. æ—¥å¿—ç»Ÿè®¡ - AcWingé¢˜åº“\n4405. ç»Ÿè®¡å­çŸ©é˜µ - AcWingé¢˜åº“\n\né€’å½’\n1225. æ­£åˆ™é—®é¢˜ - AcWingé¢˜åº“\n\nå¿«é€Ÿå¹‚\n504. è½¬åœˆæ¸¸æˆ - AcWingé¢˜åº“\n4968. äº’è´¨æ•°çš„ä¸ªæ•° - AcWingé¢˜åº“\n\näºŒåˆ†\n1227. åˆ†å·§å…‹åŠ› - AcWingé¢˜åº“\n4199. å…¬çº¦æ•° - AcWingé¢˜åº“\n5407. ç®¡é“ - AcWingé¢˜åº“\n102. æœ€ä½³ç‰›å›´æ  - AcWingé¢˜åº“\n\næ ‘çŠ¶æ•°ç»„\næ•Œå…µå¸ƒé˜µ - HDU 1166 - Virtual Judge (vjudge.net)\n1265. æ•°æ˜Ÿæ˜Ÿ - AcWingé¢˜åº“\n1264. åŠ¨æ€æ±‚è¿ç»­åŒºé—´å’Œ - AcWingé¢˜åº“\n1215. å°æœ‹å‹æ’é˜Ÿ - AcWingé¢˜åº“\n\nDFS\n16.æœºå™¨äººå¡” - è“æ¡¥äº‘è¯¾ (lanqiao.cn)\n1.BlueAIã€ç®—æ³•èµ›ã€‘ - è“æ¡¥äº‘è¯¾\n\nBFS\nP1364 åŒ»é™¢è®¾ç½® - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n1355. æ¯äº²çš„ç‰›å¥¶ - AcWingé¢˜åº“\n1233. å…¨çƒå˜æš– - AcWingé¢˜åº“\n\nåŒºé—´åˆå¹¶\n[P1204 USACO1.2] æŒ¤ç‰›å¥¶Milking Cows - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n\nå•è°ƒæ ˆ\n131. ç›´æ–¹å›¾ä¸­æœ€å¤§çš„çŸ©å½¢ - AcWingé¢˜åº“\n1413. çŸ©å½¢ç‰›æ£š - AcWingé¢˜åº“\n\nå›æ–‡ä¸²\nP3805 ã€æ¨¡æ¿ã€‘manacher - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n\nå“ˆå¸Œ\n1402. æ˜Ÿç©ºä¹‹å¤œ - AcWingé¢˜åº“\n4407. æ‰«é›· - AcWingé¢˜åº“\n1221. å››å¹³æ–¹å’Œ - AcWingé¢˜åº“\n\nèƒŒåŒ…DP\n2. 01èƒŒåŒ…é—®é¢˜ - AcWingé¢˜åº“(01èƒŒåŒ…)\n1371. è´§å¸ç³»ç»Ÿ - AcWingé¢˜åº“ï¼ˆå®Œå…¨èƒŒåŒ…ï¼‰\n3417. ç ç ç§°é‡ - AcWingé¢˜åº“\n0è°ƒæ‰‹è¡¨ - è“æ¡¥äº‘è¯¾ (lanqiao.cn)\n\nçº¿æ€§DP\n312. ä¹Œé¾Ÿæ£‹ - AcWingé¢˜åº“\n198. æ‰“å®¶åŠ«èˆ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\n5406. æ¾æ•£å­åºåˆ— - AcWingé¢˜åº“\n[P1095 NOIP2007 æ™®åŠç»„] å®ˆæœ›è€…çš„é€ƒç¦» - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n[P1077 NOIP2012 æ™®åŠç»„] æ‘†èŠ± - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n\nSTè¡¨\nP3865 ã€æ¨¡æ¿ã€‘ST è¡¨ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n[P2880 USACO07JAN] Balanced Lineup G - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n[P3295 SCOI2016] èŒèŒå“’ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n\nåŒºé—´DP\nP1775 çŸ³å­åˆå¹¶ï¼ˆå¼±åŒ–ç‰ˆï¼‰ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\nString painter - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n\næ•°ä½DP\n[P2657 SCOI2009] windy æ•° - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n338. è®¡æ•°é—®é¢˜ - AcWingé¢˜åº“\nP4999 çƒ¦äººçš„æ•°å­¦ä½œä¸š - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n[P4124 CQOI2016] æ‰‹æœºå·ç  - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n[P4798 CEOI2015 Day1] å¡å°”æ–‡çƒé”¦æ ‡èµ› - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n[P3281 SCOI2013] æ•°æ•° - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n[P2518 HAOI2010] è®¡æ•° - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n[P3286 SCOI2014] æ–¹ä¼¯ä¼¯çš„å•†åœºä¹‹æ—… - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n\næ ‘å½¢DP\nP2015 äºŒå‰è‹¹æœæ ‘ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n[P2014 CTSC1997] é€‰è¯¾ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)ï¼ˆæ ‘ä¸ŠèƒŒåŒ…ï¼‰\nP1352 æ²¡æœ‰ä¸Šå¸çš„èˆä¼š - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n3465. ç—…æ¯’æº¯æº - AcWingé¢˜åº“\n1220. ç”Ÿå‘½ä¹‹æ ‘ - AcWingé¢˜åº“\n\nçŠ¶æ€å‹ç¼©DP\n91. æœ€çŸ­Hamiltonè·¯å¾„ - AcWingé¢˜åº“\n731. æ¯•ä¸šæ—…è¡Œé—®é¢˜ - AcWingé¢˜åº“\n\nçº¿æ®µæ ‘\nP3372 ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘ 1 - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n[P3870 TJOI2009] å¼€å…³ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\nP3373 ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘ 2 - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\nP6242 ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘ 3ï¼ˆåŒºé—´æœ€å€¼æ“ä½œã€åŒºé—´å†å²æœ€å€¼ï¼‰ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n\nKruskal\n1.ä¿®å»ºå…¬è·¯1 - è“æ¡¥äº‘è¯¾ (lanqiao.cn)\n4.åŸå¸‚è§„åˆ’å¤§å¸ˆ - è“æ¡¥äº‘è¯¾ (lanqiao.cn)\n\nDijkstra\n1.è“æ¡¥ç‹å›½ - è“æ¡¥äº‘è¯¾ (lanqiao.cn)\n528. å¥¶é…ª - AcWingé¢˜åº“\n1375. å¥¶ç‰›å›å®¶ - AcWingé¢˜åº“\n3305. ä½œç‰©æ‚äº¤ - AcWingé¢˜åº“\n14.æ˜Ÿé™…æ—…è¡Œ - è“æ¡¥äº‘è¯¾\n\nå¹¶æŸ¥é›†\n528. å¥¶é…ª - AcWingé¢˜åº“ï¼ˆå…¶å®å¯ä»¥ä½¿ç”¨Dijkstraæ¥åšï¼‰\n\næ•°è®º\n4658. è´¨å› æ•°ä¸ªæ•° - AcWingé¢˜åº“ï¼ˆåˆ†è§£è´¨å› æ•°ï¼‰\n0é˜¶ä¹˜çš„å’Œ - è“æ¡¥äº‘è¯¾ (lanqiao.cn)\nP1592 äº’è´¨ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n4199. å…¬çº¦æ•° - AcWingé¢˜åº“\n3377. çº¦æ•°çš„ä¸ªæ•° - AcWingé¢˜åº“ï¼ˆåˆ†è§£è´¨å› æ•°ï¼‰\n1246. ç­‰å·®æ•°åˆ— - AcWingé¢˜åº“\n3418. æ¨è¾‰ä¸‰è§’å½¢ - AcWingé¢˜åº“ï¼ˆç»„åˆè®¡æ•°ï¼‰\n\næ¬§æ‹‰å‡½æ•°ï¼ˆæ•°è®ºï¼‰\n3999. æœ€å¤§å…¬çº¦æ•° - AcWingé¢˜åº“\n4968. äº’è´¨æ•°çš„ä¸ªæ•° - AcWingé¢˜åº“\n\næœ€å¤§å…¬çº¦æ•°\n1246. ç­‰å·®æ•°åˆ— - AcWingé¢˜åº“\n\næ•°å­¦æœŸæœ›\n4009. æ”¶é›†å¡ç‰Œ - AcWingé¢˜åº“\n4646. çˆ¬æ ‘çš„ç”²å£³è™« - AcWingé¢˜åº“\n217. ç»¿è±†è›™çš„å½’å®¿ - AcWingé¢˜åº“\n14.æ˜Ÿé™…æ—…è¡Œ - è“æ¡¥äº‘è¯¾\n1.æœ€ä¼˜åˆ†ç»„ - è“æ¡¥äº‘è¯¾\n\næ—¥æœŸç±»é—®é¢˜\n3498. æ—¥æœŸå·®å€¼ - AcWingé¢˜åº“\n1229. æ—¥æœŸé—®é¢˜ - AcWingé¢˜åº“\n466. å›æ–‡æ—¥æœŸ - AcWingé¢˜åº“\n2867. å›æ–‡æ—¥æœŸ - AcWingé¢˜åº“\n3218. æ—¥æœŸè®¡ç®— - AcWingé¢˜åº“\n\nè´¡çŒ®æ³•\n4261. å­¤ç‹¬çš„ç…§ç‰‡ - AcWingé¢˜åº“\n2868. å­ä¸²åˆ†å€¼ - AcWingé¢˜åº“\n5154. ç‰›çš„åŸºå› å­¦ - AcWingé¢˜åº“\n2104. å­æ•°ç»„èŒƒå›´å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\n\nManacher\nP3805 ã€æ¨¡æ¿ã€‘manacher - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n\nç»„åˆè®¡æ•°\n211. è®¡ç®—ç³»æ•° - AcWingé¢˜åº“\n\n","categories":["ç®—æ³•","è“æ¡¥"],"tags":["ç®—æ³•"]}]